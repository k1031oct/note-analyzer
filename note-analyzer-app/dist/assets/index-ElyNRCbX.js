(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var r0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _J(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var BA={exports:{}},Em={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y3;function xJ(){if(Y3)return Em;Y3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:o,ref:i!==void 0?i:null,props:a}}return Em.Fragment=e,Em.jsx=r,Em.jsxs=r,Em}var Q3;function AJ(){return Q3||(Q3=1,BA.exports=xJ()),BA.exports}var se=AJ(),FA={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3;function EJ(){if(Z3)return Vt;Z3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;function p(j){return j===null||typeof j!="object"?null:(j=d&&j[d]||j["@@iterator"],typeof j=="function"?j:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function b(j,Z,$){this.props=j,this.context=Z,this.refs=g,this.updater=$||m}b.prototype.isReactComponent={},b.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},b.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function E(){}E.prototype=b.prototype;function N(j,Z,$){this.props=j,this.context=Z,this.refs=g,this.updater=$||m}var _=N.prototype=new E;_.constructor=N,y(_,b.prototype),_.isPureReactComponent=!0;var S=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function T(j,Z,$,W,K,ge){return $=ge.ref,{$$typeof:t,type:j,key:Z,ref:$!==void 0?$:null,props:ge}}function O(j,Z){return T(j.type,Z,void 0,void 0,void 0,j.props)}function C(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function R(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function($){return Z[$]})}var I=/\/+/g;function P(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?R(""+j.key):Z.toString(36)}function F(){}function z(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(F,F):(j.status="pending",j.then(function(Z){j.status==="pending"&&(j.status="fulfilled",j.value=Z)},function(Z){j.status==="pending"&&(j.status="rejected",j.reason=Z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function U(j,Z,$,W,K){var ge=typeof j;(ge==="undefined"||ge==="boolean")&&(j=null);var me=!1;if(j===null)me=!0;else switch(ge){case"bigint":case"string":case"number":me=!0;break;case"object":switch(j.$$typeof){case t:case e:me=!0;break;case f:return me=j._init,U(me(j._payload),Z,$,W,K)}}if(me)return K=K(j),me=W===""?"."+P(j,0):W,S(K)?($="",me!=null&&($=me.replace(I,"$&/")+"/"),U(K,Z,$,"",function(ee){return ee})):K!=null&&(C(K)&&(K=O(K,$+(K.key==null||j&&j.key===K.key?"":(""+K.key).replace(I,"$&/")+"/")+me)),Z.push(K)),1;me=0;var Ee=W===""?".":W+":";if(S(j))for(var J=0;J<j.length;J++)W=j[J],ge=Ee+P(W,J),me+=U(W,Z,$,ge,K);else if(J=p(j),typeof J=="function")for(j=J.call(j),J=0;!(W=j.next()).done;)W=W.value,ge=Ee+P(W,J++),me+=U(W,Z,$,ge,K);else if(ge==="object"){if(typeof j.then=="function")return U(z(j),Z,$,W,K);throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return me}function k(j,Z,$){if(j==null)return j;var W=[],K=0;return U(j,W,"","",function(ge){return Z.call($,ge,K++)}),W}function V(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function($){(j._status===0||j._status===-1)&&(j._status=1,j._result=$)},function($){(j._status===0||j._status===-1)&&(j._status=2,j._result=$)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var Y=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function H(){}return Vt.Children={map:k,forEach:function(j,Z,$){k(j,function(){Z.apply(this,arguments)},$)},count:function(j){var Z=0;return k(j,function(){Z++}),Z},toArray:function(j){return k(j,function(Z){return Z})||[]},only:function(j){if(!C(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Vt.Component=b,Vt.Fragment=r,Vt.Profiler=i,Vt.PureComponent=N,Vt.StrictMode=n,Vt.Suspense=l,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return x.H.useMemoCache(j)}},Vt.cache=function(j){return function(){return j.apply(null,arguments)}},Vt.cloneElement=function(j,Z,$){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var W=y({},j.props),K=j.key,ge=void 0;if(Z!=null)for(me in Z.ref!==void 0&&(ge=void 0),Z.key!==void 0&&(K=""+Z.key),Z)!A.call(Z,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&Z.ref===void 0||(W[me]=Z[me]);var me=arguments.length-2;if(me===1)W.children=$;else if(1<me){for(var Ee=Array(me),J=0;J<me;J++)Ee[J]=arguments[J+2];W.children=Ee}return T(j.type,K,void 0,void 0,ge,W)},Vt.createContext=function(j){return j={$$typeof:o,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},Vt.createElement=function(j,Z,$){var W,K={},ge=null;if(Z!=null)for(W in Z.key!==void 0&&(ge=""+Z.key),Z)A.call(Z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(K[W]=Z[W]);var me=arguments.length-2;if(me===1)K.children=$;else if(1<me){for(var Ee=Array(me),J=0;J<me;J++)Ee[J]=arguments[J+2];K.children=Ee}if(j&&j.defaultProps)for(W in me=j.defaultProps,me)K[W]===void 0&&(K[W]=me[W]);return T(j,ge,void 0,void 0,null,K)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(j){return{$$typeof:s,render:j}},Vt.isValidElement=C,Vt.lazy=function(j){return{$$typeof:f,_payload:{_status:-1,_result:j},_init:V}},Vt.memo=function(j,Z){return{$$typeof:u,type:j,compare:Z===void 0?null:Z}},Vt.startTransition=function(j){var Z=x.T,$={};x.T=$;try{var W=j(),K=x.S;K!==null&&K($,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(H,Y)}catch(ge){Y(ge)}finally{x.T=Z}},Vt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Vt.use=function(j){return x.H.use(j)},Vt.useActionState=function(j,Z,$){return x.H.useActionState(j,Z,$)},Vt.useCallback=function(j,Z){return x.H.useCallback(j,Z)},Vt.useContext=function(j){return x.H.useContext(j)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(j,Z){return x.H.useDeferredValue(j,Z)},Vt.useEffect=function(j,Z,$){var W=x.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(j,Z)},Vt.useId=function(){return x.H.useId()},Vt.useImperativeHandle=function(j,Z,$){return x.H.useImperativeHandle(j,Z,$)},Vt.useInsertionEffect=function(j,Z){return x.H.useInsertionEffect(j,Z)},Vt.useLayoutEffect=function(j,Z){return x.H.useLayoutEffect(j,Z)},Vt.useMemo=function(j,Z){return x.H.useMemo(j,Z)},Vt.useOptimistic=function(j,Z){return x.H.useOptimistic(j,Z)},Vt.useReducer=function(j,Z,$){return x.H.useReducer(j,Z,$)},Vt.useRef=function(j){return x.H.useRef(j)},Vt.useState=function(j){return x.H.useState(j)},Vt.useSyncExternalStore=function(j,Z,$){return x.H.useSyncExternalStore(j,Z,$)},Vt.useTransition=function(){return x.H.useTransition()},Vt.version="19.1.1",Vt}var J3;function jC(){return J3||(J3=1,FA.exports=EJ()),FA.exports}var Ne=jC();const we=pr(Ne);var kA={exports:{}},Sm={},$A={exports:{}},LA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e4;function SJ(){return e4||(e4=1,(function(t){function e(k,V){var Y=k.length;k.push(V);e:for(;0<Y;){var H=Y-1>>>1,j=k[H];if(0<i(j,V))k[H]=V,k[Y]=j,Y=H;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var V=k[0],Y=k.pop();if(Y!==V){k[0]=Y;e:for(var H=0,j=k.length,Z=j>>>1;H<Z;){var $=2*(H+1)-1,W=k[$],K=$+1,ge=k[K];if(0>i(W,Y))K<j&&0>i(ge,W)?(k[H]=ge,k[K]=Y,H=K):(k[H]=W,k[$]=Y,H=$);else if(K<j&&0>i(ge,Y))k[H]=ge,k[K]=Y,H=K;else break e}}return V}function i(k,V){var Y=k.sortIndex-V.sortIndex;return Y!==0?Y:k.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,d=null,p=3,m=!1,y=!1,g=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function S(k){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=k)n(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(u)}}function x(k){if(g=!1,S(k),!y)if(r(l)!==null)y=!0,A||(A=!0,P());else{var V=r(u);V!==null&&U(x,V.startTime-k)}}var A=!1,T=-1,O=5,C=-1;function R(){return b?!0:!(t.unstable_now()-C<O)}function I(){if(b=!1,A){var k=t.unstable_now();C=k;var V=!0;try{e:{y=!1,g&&(g=!1,N(T),T=-1),m=!0;var Y=p;try{t:{for(S(k),d=r(l);d!==null&&!(d.expirationTime>k&&R());){var H=d.callback;if(typeof H=="function"){d.callback=null,p=d.priorityLevel;var j=H(d.expirationTime<=k);if(k=t.unstable_now(),typeof j=="function"){d.callback=j,S(k),V=!0;break t}d===r(l)&&n(l),S(k)}else n(l);d=r(l)}if(d!==null)V=!0;else{var Z=r(u);Z!==null&&U(x,Z.startTime-k),V=!1}}break e}finally{d=null,p=Y,m=!1}V=void 0}}finally{V?P():A=!1}}}var P;if(typeof _=="function")P=function(){_(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=I,P=function(){z.postMessage(null)}}else P=function(){E(I,0)};function U(k,V){T=E(function(){k(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var Y=p;p=V;try{return k()}finally{p=Y}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(k,V){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Y=p;p=k;try{return V()}finally{p=Y}},t.unstable_scheduleCallback=function(k,V,Y){var H=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?H+Y:H):Y=H,k){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Y+j,k={id:f++,callback:V,priorityLevel:k,startTime:Y,expirationTime:j,sortIndex:-1},Y>H?(k.sortIndex=Y,e(u,k),r(l)===null&&k===r(u)&&(g?(N(T),T=-1):g=!0,U(x,Y-H))):(k.sortIndex=j,e(l,k),y||m||(y=!0,A||(A=!0,P()))),k},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(k){var V=p;return function(){var Y=p;p=V;try{return k.apply(this,arguments)}finally{p=Y}}}})(LA)),LA}var t4;function TJ(){return t4||(t4=1,$A.exports=SJ()),$A.exports}var qA={exports:{}},wi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r4;function DJ(){if(r4)return wi;r4=1;var t=jC();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,f){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:l,containerInfo:u,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,wi.createPortal=function(l,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,f)},wi.flushSync=function(l){var u=o.T,f=n.p;try{if(o.T=null,n.p=2,l)return l()}finally{o.T=u,n.p=f,n.d.f()}},wi.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},wi.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},wi.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var f=u.as,d=s(f,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:m}):f==="script"&&n.d.X(l,{crossOrigin:d,integrity:p,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},wi.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=s(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},wi.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,d=s(f,u.crossOrigin);n.d.L(l,f,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},wi.preloadModule=function(l,u){if(typeof l=="string")if(u){var f=s(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},wi.requestFormReset=function(l){n.d.r(l)},wi.unstable_batchedUpdates=function(l,u){return l(u)},wi.useFormState=function(l,u,f){return o.H.useFormState(l,u,f)},wi.useFormStatus=function(){return o.H.useHostTransitionStatus()},wi.version="19.1.1",wi}var n4;function NJ(){if(n4)return qA.exports;n4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qA.exports=DJ(),qA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4;function CJ(){if(i4)return Sm;i4=1;var t=TJ(),e=jC(),r=NJ();function n(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var h=c,v=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(v=h.return),c=h.return;while(c)}return h.tag===3?v:null}function o(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function s(c){if(a(c)!==c)throw Error(n(188))}function l(c){var h=c.alternate;if(!h){if(h=a(c),h===null)throw Error(n(188));return h!==c?null:c}for(var v=c,w=h;;){var M=v.return;if(M===null)break;var B=M.alternate;if(B===null){if(w=M.return,w!==null){v=w;continue}break}if(M.child===B.child){for(B=M.child;B;){if(B===v)return s(M),c;if(B===w)return s(M),h;B=B.sibling}throw Error(n(188))}if(v.return!==w.return)v=M,w=B;else{for(var X=!1,re=M.child;re;){if(re===v){X=!0,v=M,w=B;break}if(re===w){X=!0,w=M,v=B;break}re=re.sibling}if(!X){for(re=B.child;re;){if(re===v){X=!0,v=B,w=M;break}if(re===w){X=!0,w=B,v=M;break}re=re.sibling}if(!X)throw Error(n(189))}}if(v.alternate!==w)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?c:h}function u(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=u(c),h!==null)return h;c=c.sibling}return null}var f=Object.assign,d=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=I&&c[I]||c["@@iterator"],typeof c=="function"?c:null)}var F=Symbol.for("react.client.reference");function z(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===F?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case y:return"Fragment";case b:return"Profiler";case g:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList";case C:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case m:return"Portal";case _:return(c.displayName||"Context")+".Provider";case N:return(c._context.displayName||"Context")+".Consumer";case S:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case T:return h=c.displayName||null,h!==null?h:z(c.type)||"Memo";case O:h=c._payload,c=c._init;try{return z(c(h))}catch{}}return null}var U=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},H=[],j=-1;function Z(c){return{current:c}}function $(c){0>j||(c.current=H[j],H[j]=null,j--)}function W(c,h){j++,H[j]=c.current,c.current=h}var K=Z(null),ge=Z(null),me=Z(null),Ee=Z(null);function J(c,h){switch(W(me,h),W(ge,c),W(K,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?E3(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=E3(h),c=S3(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}$(K),W(K,c)}function ee(){$(K),$(ge),$(me)}function ue(c){c.memoizedState!==null&&W(Ee,c);var h=K.current,v=S3(h,c.type);h!==v&&(W(ge,c),W(K,v))}function le(c){ge.current===c&&($(K),$(ge)),Ee.current===c&&($(Ee),bm._currentValue=Y)}var ie=Object.prototype.hasOwnProperty,Te=t.unstable_scheduleCallback,he=t.unstable_cancelCallback,Ce=t.unstable_shouldYield,je=t.unstable_requestPaint,We=t.unstable_now,xe=t.unstable_getCurrentPriorityLevel,ze=t.unstable_ImmediatePriority,te=t.unstable_UserBlockingPriority,ce=t.unstable_NormalPriority,be=t.unstable_LowPriority,Q=t.unstable_IdlePriority,oe=t.log,de=t.unstable_setDisableYieldValue,ye=null,_e=null;function Re(c){if(typeof oe=="function"&&de(c),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(ye,c)}catch{}}var qe=Math.clz32?Math.clz32:Ye,Qe=Math.log,Je=Math.LN2;function Ye(c){return c>>>=0,c===0?32:31-(Qe(c)/Je|0)|0}var Rt=256,st=4194304;function Gt(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function q(c,h,v){var w=c.pendingLanes;if(w===0)return 0;var M=0,B=c.suspendedLanes,X=c.pingedLanes;c=c.warmLanes;var re=w&134217727;return re!==0?(w=re&~B,w!==0?M=Gt(w):(X&=re,X!==0?M=Gt(X):v||(v=re&~c,v!==0&&(M=Gt(v))))):(re=w&~B,re!==0?M=Gt(re):X!==0?M=Gt(X):v||(v=w&~c,v!==0&&(M=Gt(v)))),M===0?0:h!==0&&h!==M&&(h&B)===0&&(B=M&-M,v=h&-h,B>=v||B===32&&(v&4194048)!==0)?h:M}function pe(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function Ie(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function He(){var c=Rt;return Rt<<=1,(Rt&4194048)===0&&(Rt=256),c}function ht(){var c=st;return st<<=1,(st&62914560)===0&&(st=4194304),c}function dt(c){for(var h=[],v=0;31>v;v++)h.push(c);return h}function xr(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Bs(c,h,v,w,M,B){var X=c.pendingLanes;c.pendingLanes=v,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=v,c.entangledLanes&=v,c.errorRecoveryDisabledLanes&=v,c.shellSuspendCounter=0;var re=c.entanglements,ve=c.expirationTimes,Me=c.hiddenUpdates;for(v=X&~v;0<v;){var Ue=31-qe(v),Ke=1<<Ue;re[Ue]=0,ve[Ue]=-1;var Pe=Me[Ue];if(Pe!==null)for(Me[Ue]=null,Ue=0;Ue<Pe.length;Ue++){var Be=Pe[Ue];Be!==null&&(Be.lane&=-536870913)}v&=~Ke}w!==0&&Ia(c,w,0),B!==0&&M===0&&c.tag!==0&&(c.suspendedLanes|=B&~(X&~h))}function Ia(c,h,v){c.pendingLanes|=h,c.suspendedLanes&=~h;var w=31-qe(h);c.entangledLanes|=h,c.entanglements[w]=c.entanglements[w]|1073741824|v&4194090}function oc(c,h){var v=c.entangledLanes|=h;for(c=c.entanglements;v;){var w=31-qe(v),M=1<<w;M&h|c[w]&h&&(c[w]|=h),v&=~M}}function Vo(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Fu(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Ho(){var c=V.p;return c!==0?c:(c=window.event,c===void 0?32:V3(c.type))}function Uf(c,h){var v=V.p;try{return V.p=c,h()}finally{V.p=v}}var Lr=Math.random().toString(36).slice(2),un="__reactFiber$"+Lr,rn="__reactProps$"+Lr,Xi="__reactContainer$"+Lr,sc="__reactEvents$"+Lr,Sp="__reactListeners$"+Lr,Go="__reactHandles$"+Lr,jf="__reactResources$"+Lr,Fs="__reactMarker$"+Lr;function Ko(c){delete c[un],delete c[rn],delete c[sc],delete c[Sp],delete c[Go]}function mo(c){var h=c[un];if(h)return h;for(var v=c.parentNode;v;){if(h=v[Xi]||v[un]){if(v=h.alternate,h.child!==null||v!==null&&v.child!==null)for(c=C3(c);c!==null;){if(v=c[un])return v;c=C3(c)}return h}c=v,v=c.parentNode}return null}function Ra(c){if(c=c[un]||c[Xi]){var h=c.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return c}return null}function Pa(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(n(33))}function ii(c){var h=c[jf];return h||(h=c[jf]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Zr(c){c[Fs]=!0}var uc=new Set,ku={};function la(c,h){vo(c,h),vo(c+"Capture",h)}function vo(c,h){for(ku[c]=h,c=0;c<h.length;c++)uc.add(h[c])}var zf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},Qt={};function Dn(c){return ie.call(Qt,c)?!0:ie.call(Xo,c)?!1:zf.test(c)?Qt[c]=!0:(Xo[c]=!0,!1)}function Wo(c,h,v){if(Dn(h))if(v===null)c.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var w=h.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+v)}}function Ri(c,h,v){if(v===null)c.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+v)}}function Jr(c,h,v,w){if(w===null)c.removeAttribute(v);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(v);return}c.setAttributeNS(h,v,""+w)}}var ks,qg;function $s(c){if(ks===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);ks=h&&h[1]||"",qg=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+c+qg}var Vf=!1;function Hf(c,h){if(!c||Vf)return"";Vf=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(h){var Ke=function(){throw Error()};if(Object.defineProperty(Ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ke,[])}catch(Be){var Pe=Be}Reflect.construct(c,[],Ke)}else{try{Ke.call()}catch(Be){Pe=Be}c.call(Ke.prototype)}}else{try{throw Error()}catch(Be){Pe=Be}(Ke=c())&&typeof Ke.catch=="function"&&Ke.catch(function(){})}}catch(Be){if(Be&&Pe&&typeof Be.stack=="string")return[Be.stack,Pe.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=w.DetermineComponentFrameRoot(),X=B[0],re=B[1];if(X&&re){var ve=X.split(`
`),Me=re.split(`
`);for(M=w=0;w<ve.length&&!ve[w].includes("DetermineComponentFrameRoot");)w++;for(;M<Me.length&&!Me[M].includes("DetermineComponentFrameRoot");)M++;if(w===ve.length||M===Me.length)for(w=ve.length-1,M=Me.length-1;1<=w&&0<=M&&ve[w]!==Me[M];)M--;for(;1<=w&&0<=M;w--,M--)if(ve[w]!==Me[M]){if(w!==1||M!==1)do if(w--,M--,0>M||ve[w]!==Me[M]){var Ue=`
`+ve[w].replace(" at new "," at ");return c.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",c.displayName)),Ue}while(1<=w&&0<=M);break}}}finally{Vf=!1,Error.prepareStackTrace=v}return(v=c?c.displayName||c.name:"")?$s(v):""}function Tp(c){switch(c.tag){case 26:case 27:case 5:return $s(c.type);case 16:return $s("Lazy");case 13:return $s("Suspense");case 19:return $s("SuspenseList");case 0:case 15:return Hf(c.type,!1);case 11:return Hf(c.type.render,!1);case 1:return Hf(c.type,!0);case 31:return $s("Activity");default:return""}}function Gf(c){try{var h="";do h+=Tp(c),c=c.return;while(c);return h}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function Pi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Dp(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function L_(c){var h=Dp(c)?"checked":"value",v=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),w=""+c[h];if(!c.hasOwnProperty(h)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var M=v.get,B=v.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return M.call(this)},set:function(X){w=""+X,B.call(this,X)}}),Object.defineProperty(c,h,{enumerable:v.enumerable}),{getValue:function(){return w},setValue:function(X){w=""+X},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Kf(c){c._valueTracker||(c._valueTracker=L_(c))}function Np(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var v=h.getValue(),w="";return c&&(w=Dp(c)?c.checked?"true":"false":c.value),c=w,c!==v?(h.setValue(c),!0):!1}function lc(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var q_=/[\n"\\]/g;function mn(c){return c.replace(q_,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function ca(c,h,v,w,M,B,X,re){c.name="",X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?c.type=X:c.removeAttribute("type"),h!=null?X==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+Pi(h)):c.value!==""+Pi(h)&&(c.value=""+Pi(h)):X!=="submit"&&X!=="reset"||c.removeAttribute("value"),h!=null?$u(c,X,Pi(h)):v!=null?$u(c,X,Pi(v)):w!=null&&c.removeAttribute("value"),M==null&&B!=null&&(c.defaultChecked=!!B),M!=null&&(c.checked=M&&typeof M!="function"&&typeof M!="symbol"),re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?c.name=""+Pi(re):c.removeAttribute("name")}function cc(c,h,v,w,M,B,X,re){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(c.type=B),h!=null||v!=null){if(!(B!=="submit"&&B!=="reset"||h!=null))return;v=v!=null?""+Pi(v):"",h=h!=null?""+Pi(h):v,re||h===c.value||(c.value=h),c.defaultValue=h}w=w??M,w=typeof w!="function"&&typeof w!="symbol"&&!!w,c.checked=re?c.checked:!!w,c.defaultChecked=!!w,X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"&&(c.name=X)}function $u(c,h,v){h==="number"&&lc(c.ownerDocument)===c||c.defaultValue===""+v||(c.defaultValue=""+v)}function Ls(c,h,v,w){if(c=c.options,h){h={};for(var M=0;M<v.length;M++)h["$"+v[M]]=!0;for(v=0;v<c.length;v++)M=h.hasOwnProperty("$"+c[v].value),c[v].selected!==M&&(c[v].selected=M),M&&w&&(c[v].defaultSelected=!0)}else{for(v=""+Pi(v),h=null,M=0;M<c.length;M++){if(c[M].value===v){c[M].selected=!0,w&&(c[M].defaultSelected=!0);return}h!==null||c[M].disabled||(h=c[M])}h!==null&&(h.selected=!0)}}function Cr(c,h,v){if(h!=null&&(h=""+Pi(h),h!==c.value&&(c.value=h),v==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=v!=null?""+Pi(v):""}function fc(c,h,v,w){if(h==null){if(w!=null){if(v!=null)throw Error(n(92));if(U(w)){if(1<w.length)throw Error(n(93));w=w[0]}v=w}v==null&&(v=""),h=v}v=Pi(h),c.defaultValue=v,w=c.textContent,w===v&&w!==""&&w!==null&&(c.value=w)}function Ba(c,h){if(h){var v=c.firstChild;if(v&&v===c.lastChild&&v.nodeType===3){v.nodeValue=h;return}}c.textContent=h}var hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ug(c,h,v){var w=h.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?w?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":w?c.setProperty(h,v):typeof v!="number"||v===0||hc.has(h)?h==="float"?c.cssFloat=v:c[h]=(""+v).trim():c[h]=v+"px"}function Cp(c,h,v){if(h!=null&&typeof h!="object")throw Error(n(62));if(c=c.style,v!=null){for(var w in v)!v.hasOwnProperty(w)||h!=null&&h.hasOwnProperty(w)||(w.indexOf("--")===0?c.setProperty(w,""):w==="float"?c.cssFloat="":c[w]="");for(var M in h)w=h[M],h.hasOwnProperty(M)&&v[M]!==w&&Ug(c,M,w)}else for(var B in h)h.hasOwnProperty(B)&&Ug(c,B,h[B])}function Op(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xf(c){return j_.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var qs=null;function Fa(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Us=null,js=null;function Mp(c){var h=Ra(c);if(h&&(c=h.stateNode)){var v=c[rn]||null;e:switch(c=h.stateNode,h.type){case"input":if(ca(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),h=v.name,v.type==="radio"&&h!=null){for(v=c;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+mn(""+h)+'"][type="radio"]'),h=0;h<v.length;h++){var w=v[h];if(w!==c&&w.form===c.form){var M=w[rn]||null;if(!M)throw Error(n(90));ca(w,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(h=0;h<v.length;h++)w=v[h],w.form===c.form&&Np(w)}break e;case"textarea":Cr(c,v.value,v.defaultValue);break e;case"select":h=v.value,h!=null&&Ls(c,!!v.multiple,h,!1)}}}var Yo=!1;function jg(c,h,v){if(Yo)return c(h,v);Yo=!0;try{var w=c(h);return w}finally{if(Yo=!1,(Us!==null||js!==null)&&(By(),Us&&(h=Us,c=js,js=Us=null,Mp(h),c)))for(h=0;h<c.length;h++)Mp(c[h])}}function dc(c,h){var v=c.stateNode;if(v===null)return null;var w=v[rn]||null;if(w===null)return null;v=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(v&&typeof v!="function")throw Error(n(231,h,typeof v));return v}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=!1;if(go)try{var pc={};Object.defineProperty(pc,"passive",{get:function(){ka=!0}}),window.addEventListener("test",pc,pc),window.removeEventListener("test",pc,pc)}catch{ka=!1}var Qo=null,Lu=null,zs=null;function Ip(){if(zs)return zs;var c,h=Lu,v=h.length,w,M="value"in Qo?Qo.value:Qo.textContent,B=M.length;for(c=0;c<v&&h[c]===M[c];c++);var X=v-c;for(w=1;w<=X&&h[v-w]===M[B-w];w++);return zs=M.slice(c,1<w?1-w:void 0)}function Zo(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function Jo(){return!0}function Rp(){return!1}function Hn(c){function h(v,w,M,B,X){this._reactName=v,this._targetInst=M,this.type=w,this.nativeEvent=B,this.target=X,this.currentTarget=null;for(var re in c)c.hasOwnProperty(re)&&(v=c[re],this[re]=v?v(B):B[re]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?Jo:Rp,this.isPropagationStopped=Rp,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),h}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wf=Hn(gr),mc=f({},gr,{view:0,detail:0}),zg=Hn(mc),Yf,Qf,es,vc=f({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==es&&(es&&c.type==="mousemove"?(Yf=c.screenX-es.screenX,Qf=c.screenY-es.screenY):Qf=Yf=0,es=c),Yf)},movementY:function(c){return"movementY"in c?c.movementY:Qf}}),$a=Hn(vc),Vg=f({},vc,{dataTransfer:0}),z_=Hn(Vg),gc=f({},mc,{relatedTarget:0}),Zf=Hn(gc),Pp=f({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jf=Hn(Pp),Hg=f({},gr,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),eh=Hn(Hg),V_=f({},gr,{data:0}),Bp=Hn(V_),yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fp(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=Kg[c])?!!h[c]:!1}function bc(){return Fp}var Xg=f({},mc,{key:function(c){if(c.key){var h=yc[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=Zo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Gg[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(c){return c.type==="keypress"?Zo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Zo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),th=Hn(Xg),Wg=f({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kp=Hn(Wg),Vs=f({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),Yg=Hn(Vs),Qg=f({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zg=Hn(Qg),Jg=f({},vc,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),rh=Hn(Jg),Bi=f({},gr,{newState:0,oldState:0}),ey=Hn(Bi),ty=[9,13,27,32],ts=go&&"CompositionEvent"in window,D=null;go&&"documentMode"in document&&(D=document.documentMode);var L=go&&"TextEvent"in window&&!D,G=go&&(!ts||D&&8<D&&11>=D),ae=" ",De=!1;function Fe(c,h){switch(c){case"keyup":return ty.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var sr=!1;function Nn(c,h){switch(c){case"compositionend":return nt(h);case"keypress":return h.which!==32?null:(De=!0,ae);case"textInput":return c=h.data,c===ae&&De?null:c;default:return null}}function ur(c,h){if(sr)return c==="compositionend"||!ts&&Fe(c,h)?(c=Ip(),zs=Lu=Qo=null,sr=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return G&&h.locale!=="ko"?null:h.data;default:return null}}var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cn(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!Gn[c.type]:h==="textarea"}function Hs(c,h,v,w){Us?js?js.push(w):js=[w]:Us=w,h=Uy(h,"onChange"),0<h.length&&(v=new Wf("onChange","change",null,v,w),c.push({event:v,listeners:h}))}var ai=null,rs=null;function $p(c){b3(c,0)}function ry(c){var h=Pa(c);if(Np(h))return c}function qI(c,h){if(c==="change")return h}var UI=!1;if(go){var H_;if(go){var G_="oninput"in document;if(!G_){var jI=document.createElement("div");jI.setAttribute("oninput","return;"),G_=typeof jI.oninput=="function"}H_=G_}else H_=!1;UI=H_&&(!document.documentMode||9<document.documentMode)}function zI(){ai&&(ai.detachEvent("onpropertychange",VI),rs=ai=null)}function VI(c){if(c.propertyName==="value"&&ry(rs)){var h=[];Hs(h,rs,c,Fa(c)),jg($p,h)}}function QQ(c,h,v){c==="focusin"?(zI(),ai=h,rs=v,ai.attachEvent("onpropertychange",VI)):c==="focusout"&&zI()}function ZQ(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return ry(rs)}function JQ(c,h){if(c==="click")return ry(h)}function eZ(c,h){if(c==="input"||c==="change")return ry(h)}function tZ(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var fa=typeof Object.is=="function"?Object.is:tZ;function Lp(c,h){if(fa(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var v=Object.keys(c),w=Object.keys(h);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var M=v[w];if(!ie.call(h,M)||!fa(c[M],h[M]))return!1}return!0}function HI(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function GI(c,h){var v=HI(c);c=0;for(var w;v;){if(v.nodeType===3){if(w=c+v.textContent.length,c<=h&&w>=h)return{node:v,offset:h-c};c=w}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=HI(v)}}function KI(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?KI(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function XI(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=lc(c.document);h instanceof c.HTMLIFrameElement;){try{var v=typeof h.contentWindow.location.href=="string"}catch{v=!1}if(v)c=h.contentWindow;else break;h=lc(c.document)}return h}function K_(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var rZ=go&&"documentMode"in document&&11>=document.documentMode,nh=null,X_=null,qp=null,W_=!1;function WI(c,h,v){var w=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;W_||nh==null||nh!==lc(w)||(w=nh,"selectionStart"in w&&K_(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),qp&&Lp(qp,w)||(qp=w,w=Uy(X_,"onSelect"),0<w.length&&(h=new Wf("onSelect","select",null,h,v),c.push({event:h,listeners:w}),h.target=nh)))}function wc(c,h){var v={};return v[c.toLowerCase()]=h.toLowerCase(),v["Webkit"+c]="webkit"+h,v["Moz"+c]="moz"+h,v}var ih={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionrun:wc("Transition","TransitionRun"),transitionstart:wc("Transition","TransitionStart"),transitioncancel:wc("Transition","TransitionCancel"),transitionend:wc("Transition","TransitionEnd")},Y_={},YI={};go&&(YI=document.createElement("div").style,"AnimationEvent"in window||(delete ih.animationend.animation,delete ih.animationiteration.animation,delete ih.animationstart.animation),"TransitionEvent"in window||delete ih.transitionend.transition);function _c(c){if(Y_[c])return Y_[c];if(!ih[c])return c;var h=ih[c],v;for(v in h)if(h.hasOwnProperty(v)&&v in YI)return Y_[c]=h[v];return c}var QI=_c("animationend"),ZI=_c("animationiteration"),JI=_c("animationstart"),nZ=_c("transitionrun"),iZ=_c("transitionstart"),aZ=_c("transitioncancel"),eR=_c("transitionend"),tR=new Map,Q_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Q_.push("scrollEnd");function yo(c,h){tR.set(c,h),la(h,[c])}var rR=new WeakMap;function La(c,h){if(typeof c=="object"&&c!==null){var v=rR.get(c);return v!==void 0?v:(h={value:c,source:h,stack:Gf(h)},rR.set(c,h),h)}return{value:c,source:h,stack:Gf(h)}}var qa=[],ah=0,Z_=0;function ny(){for(var c=ah,h=Z_=ah=0;h<c;){var v=qa[h];qa[h++]=null;var w=qa[h];qa[h++]=null;var M=qa[h];qa[h++]=null;var B=qa[h];if(qa[h++]=null,w!==null&&M!==null){var X=w.pending;X===null?M.next=M:(M.next=X.next,X.next=M),w.pending=M}B!==0&&nR(v,M,B)}}function iy(c,h,v,w){qa[ah++]=c,qa[ah++]=h,qa[ah++]=v,qa[ah++]=w,Z_|=w,c.lanes|=w,c=c.alternate,c!==null&&(c.lanes|=w)}function J_(c,h,v,w){return iy(c,h,v,w),ay(c)}function oh(c,h){return iy(c,null,null,h),ay(c)}function nR(c,h,v){c.lanes|=v;var w=c.alternate;w!==null&&(w.lanes|=v);for(var M=!1,B=c.return;B!==null;)B.childLanes|=v,w=B.alternate,w!==null&&(w.childLanes|=v),B.tag===22&&(c=B.stateNode,c===null||c._visibility&1||(M=!0)),c=B,B=B.return;return c.tag===3?(B=c.stateNode,M&&h!==null&&(M=31-qe(v),c=B.hiddenUpdates,w=c[M],w===null?c[M]=[h]:w.push(h),h.lane=v|536870912),B):null}function ay(c){if(50<fm)throw fm=0,aA=null,Error(n(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var sh={};function oZ(c,h,v,w){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ha(c,h,v,w){return new oZ(c,h,v,w)}function ex(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Gs(c,h){var v=c.alternate;return v===null?(v=ha(c.tag,h,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=h,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&65011712,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,h=c.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v.refCleanup=c.refCleanup,v}function iR(c,h){c.flags&=65011714;var v=c.alternate;return v===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=v.childLanes,c.lanes=v.lanes,c.child=v.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=v.memoizedProps,c.memoizedState=v.memoizedState,c.updateQueue=v.updateQueue,c.type=v.type,h=v.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function oy(c,h,v,w,M,B){var X=0;if(w=c,typeof c=="function")ex(c)&&(X=1);else if(typeof c=="string")X=uJ(c,v,K.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case C:return c=ha(31,v,h,M),c.elementType=C,c.lanes=B,c;case y:return xc(v.children,M,B,h);case g:X=8,M|=24;break;case b:return c=ha(12,v,h,M|2),c.elementType=b,c.lanes=B,c;case x:return c=ha(13,v,h,M),c.elementType=x,c.lanes=B,c;case A:return c=ha(19,v,h,M),c.elementType=A,c.lanes=B,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case E:case _:X=10;break e;case N:X=9;break e;case S:X=11;break e;case T:X=14;break e;case O:X=16,w=null;break e}X=29,v=Error(n(130,c===null?"null":typeof c,"")),w=null}return h=ha(X,v,h,M),h.elementType=c,h.type=w,h.lanes=B,h}function xc(c,h,v,w){return c=ha(7,c,w,h),c.lanes=v,c}function tx(c,h,v){return c=ha(6,c,null,h),c.lanes=v,c}function rx(c,h,v){return h=ha(4,c.children!==null?c.children:[],c.key,h),h.lanes=v,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var uh=[],lh=0,sy=null,uy=0,Ua=[],ja=0,Ac=null,Ks=1,Xs="";function Ec(c,h){uh[lh++]=uy,uh[lh++]=sy,sy=c,uy=h}function aR(c,h,v){Ua[ja++]=Ks,Ua[ja++]=Xs,Ua[ja++]=Ac,Ac=c;var w=Ks;c=Xs;var M=32-qe(w)-1;w&=~(1<<M),v+=1;var B=32-qe(h)+M;if(30<B){var X=M-M%5;B=(w&(1<<X)-1).toString(32),w>>=X,M-=X,Ks=1<<32-qe(h)+M|v<<M|w,Xs=B+c}else Ks=1<<B|v<<M|w,Xs=c}function nx(c){c.return!==null&&(Ec(c,1),aR(c,1,0))}function ix(c){for(;c===sy;)sy=uh[--lh],uh[lh]=null,uy=uh[--lh],uh[lh]=null;for(;c===Ac;)Ac=Ua[--ja],Ua[ja]=null,Xs=Ua[--ja],Ua[ja]=null,Ks=Ua[--ja],Ua[ja]=null}var Fi=null,nn=null,mr=!1,Sc=null,ns=!1,ax=Error(n(519));function Tc(c){var h=Error(n(418,""));throw zp(La(h,c)),ax}function oR(c){var h=c.stateNode,v=c.type,w=c.memoizedProps;switch(h[un]=c,h[rn]=w,v){case"dialog":Jt("cancel",h),Jt("close",h);break;case"iframe":case"object":case"embed":Jt("load",h);break;case"video":case"audio":for(v=0;v<dm.length;v++)Jt(dm[v],h);break;case"source":Jt("error",h);break;case"img":case"image":case"link":Jt("error",h),Jt("load",h);break;case"details":Jt("toggle",h);break;case"input":Jt("invalid",h),cc(h,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),Kf(h);break;case"select":Jt("invalid",h);break;case"textarea":Jt("invalid",h),fc(h,w.value,w.defaultValue,w.children),Kf(h)}v=w.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||h.textContent===""+v||w.suppressHydrationWarning===!0||A3(h.textContent,v)?(w.popover!=null&&(Jt("beforetoggle",h),Jt("toggle",h)),w.onScroll!=null&&Jt("scroll",h),w.onScrollEnd!=null&&Jt("scrollend",h),w.onClick!=null&&(h.onclick=jy),h=!0):h=!1,h||Tc(c)}function sR(c){for(Fi=c.return;Fi;)switch(Fi.tag){case 5:case 13:ns=!1;return;case 27:case 3:ns=!0;return;default:Fi=Fi.return}}function Up(c){if(c!==Fi)return!1;if(!mr)return sR(c),mr=!0,!1;var h=c.tag,v;if((v=h!==3&&h!==27)&&((v=h===5)&&(v=c.type,v=!(v!=="form"&&v!=="button")||_A(c.type,c.memoizedProps)),v=!v),v&&nn&&Tc(c),sR(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8)if(v=c.data,v==="/$"){if(h===0){nn=wo(c.nextSibling);break e}h--}else v!=="$"&&v!=="$!"&&v!=="$?"||h++;c=c.nextSibling}nn=null}}else h===27?(h=nn,tl(c.type)?(c=SA,SA=null,nn=c):nn=h):nn=Fi?wo(c.stateNode.nextSibling):null;return!0}function jp(){nn=Fi=null,mr=!1}function uR(){var c=Sc;return c!==null&&(Qi===null?Qi=c:Qi.push.apply(Qi,c),Sc=null),c}function zp(c){Sc===null?Sc=[c]:Sc.push(c)}var ox=Z(null),Dc=null,Ws=null;function qu(c,h,v){W(ox,h._currentValue),h._currentValue=v}function Ys(c){c._currentValue=ox.current,$(ox)}function sx(c,h,v){for(;c!==null;){var w=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),c===v)break;c=c.return}}function ux(c,h,v,w){var M=c.child;for(M!==null&&(M.return=c);M!==null;){var B=M.dependencies;if(B!==null){var X=M.child;B=B.firstContext;e:for(;B!==null;){var re=B;B=M;for(var ve=0;ve<h.length;ve++)if(re.context===h[ve]){B.lanes|=v,re=B.alternate,re!==null&&(re.lanes|=v),sx(B.return,v,c),w||(X=null);break e}B=re.next}}else if(M.tag===18){if(X=M.return,X===null)throw Error(n(341));X.lanes|=v,B=X.alternate,B!==null&&(B.lanes|=v),sx(X,v,c),X=null}else X=M.child;if(X!==null)X.return=M;else for(X=M;X!==null;){if(X===c){X=null;break}if(M=X.sibling,M!==null){M.return=X.return,X=M;break}X=X.return}M=X}}function Vp(c,h,v,w){c=null;for(var M=h,B=!1;M!==null;){if(!B){if((M.flags&524288)!==0)B=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var X=M.alternate;if(X===null)throw Error(n(387));if(X=X.memoizedProps,X!==null){var re=M.type;fa(M.pendingProps.value,X.value)||(c!==null?c.push(re):c=[re])}}else if(M===Ee.current){if(X=M.alternate,X===null)throw Error(n(387));X.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(c!==null?c.push(bm):c=[bm])}M=M.return}c!==null&&ux(h,c,v,w),h.flags|=262144}function ly(c){for(c=c.firstContext;c!==null;){if(!fa(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Nc(c){Dc=c,Ws=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function bi(c){return lR(Dc,c)}function cy(c,h){return Dc===null&&Nc(c),lR(c,h)}function lR(c,h){var v=h._currentValue;if(h={context:h,memoizedValue:v,next:null},Ws===null){if(c===null)throw Error(n(308));Ws=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else Ws=Ws.next=h;return v}var sZ=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(v,w){c.push(w)}};this.abort=function(){h.aborted=!0,c.forEach(function(v){return v()})}},uZ=t.unstable_scheduleCallback,lZ=t.unstable_NormalPriority,On={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lx(){return{controller:new sZ,data:new Map,refCount:0}}function Hp(c){c.refCount--,c.refCount===0&&uZ(lZ,function(){c.controller.abort()})}var Gp=null,cx=0,ch=0,fh=null;function cZ(c,h){if(Gp===null){var v=Gp=[];cx=0,ch=hA(),fh={status:"pending",value:void 0,then:function(w){v.push(w)}}}return cx++,h.then(cR,cR),h}function cR(){if(--cx===0&&Gp!==null){fh!==null&&(fh.status="fulfilled");var c=Gp;Gp=null,ch=0,fh=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function fZ(c,h){var v=[],w={status:"pending",value:null,reason:null,then:function(M){v.push(M)}};return c.then(function(){w.status="fulfilled",w.value=h;for(var M=0;M<v.length;M++)(0,v[M])(h)},function(M){for(w.status="rejected",w.reason=M,M=0;M<v.length;M++)(0,v[M])(void 0)}),w}var fR=k.S;k.S=function(c,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&cZ(c,h),fR!==null&&fR(c,h)};var Cc=Z(null);function fx(){var c=Cc.current;return c!==null?c:qr.pooledCache}function fy(c,h){h===null?W(Cc,Cc.current):W(Cc,h.pool)}function hR(){var c=fx();return c===null?null:{parent:On._currentValue,pool:c}}var Kp=Error(n(460)),dR=Error(n(474)),hy=Error(n(542)),hx={then:function(){}};function pR(c){return c=c.status,c==="fulfilled"||c==="rejected"}function dy(){}function mR(c,h,v){switch(v=c[v],v===void 0?c.push(h):v!==h&&(h.then(dy,dy),h=v),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,gR(c),c;default:if(typeof h.status=="string")h.then(dy,dy);else{if(c=qr,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=h,c.status="pending",c.then(function(w){if(h.status==="pending"){var M=h;M.status="fulfilled",M.value=w}},function(w){if(h.status==="pending"){var M=h;M.status="rejected",M.reason=w}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,gR(c),c}throw Xp=h,Kp}}var Xp=null;function vR(){if(Xp===null)throw Error(n(459));var c=Xp;return Xp=null,c}function gR(c){if(c===Kp||c===hy)throw Error(n(483))}var Uu=!1;function dx(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function px(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function ju(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function zu(c,h,v){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(Ar&2)!==0){var M=w.pending;return M===null?h.next=h:(h.next=M.next,M.next=h),w.pending=h,h=ay(c),nR(c,null,v),h}return iy(c,w,h,v),ay(c)}function Wp(c,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194048)!==0)){var w=h.lanes;w&=c.pendingLanes,v|=w,h.lanes=v,oc(c,v)}}function mx(c,h){var v=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var M=null,B=null;if(v=v.firstBaseUpdate,v!==null){do{var X={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};B===null?M=B=X:B=B.next=X,v=v.next}while(v!==null);B===null?M=B=h:B=B.next=h}else M=B=h;v={baseState:w.baseState,firstBaseUpdate:M,lastBaseUpdate:B,shared:w.shared,callbacks:w.callbacks},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=h:c.next=h,v.lastBaseUpdate=h}var vx=!1;function Yp(){if(vx){var c=fh;if(c!==null)throw c}}function Qp(c,h,v,w){vx=!1;var M=c.updateQueue;Uu=!1;var B=M.firstBaseUpdate,X=M.lastBaseUpdate,re=M.shared.pending;if(re!==null){M.shared.pending=null;var ve=re,Me=ve.next;ve.next=null,X===null?B=Me:X.next=Me,X=ve;var Ue=c.alternate;Ue!==null&&(Ue=Ue.updateQueue,re=Ue.lastBaseUpdate,re!==X&&(re===null?Ue.firstBaseUpdate=Me:re.next=Me,Ue.lastBaseUpdate=ve))}if(B!==null){var Ke=M.baseState;X=0,Ue=Me=ve=null,re=B;do{var Pe=re.lane&-536870913,Be=Pe!==re.lane;if(Be?(lr&Pe)===Pe:(w&Pe)===Pe){Pe!==0&&Pe===ch&&(vx=!0),Ue!==null&&(Ue=Ue.next={lane:0,tag:re.tag,payload:re.payload,callback:null,next:null});e:{var Tt=c,wt=re;Pe=h;var Ir=v;switch(wt.tag){case 1:if(Tt=wt.payload,typeof Tt=="function"){Ke=Tt.call(Ir,Ke,Pe);break e}Ke=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=wt.payload,Pe=typeof Tt=="function"?Tt.call(Ir,Ke,Pe):Tt,Pe==null)break e;Ke=f({},Ke,Pe);break e;case 2:Uu=!0}}Pe=re.callback,Pe!==null&&(c.flags|=64,Be&&(c.flags|=8192),Be=M.callbacks,Be===null?M.callbacks=[Pe]:Be.push(Pe))}else Be={lane:Pe,tag:re.tag,payload:re.payload,callback:re.callback,next:null},Ue===null?(Me=Ue=Be,ve=Ke):Ue=Ue.next=Be,X|=Pe;if(re=re.next,re===null){if(re=M.shared.pending,re===null)break;Be=re,re=Be.next,Be.next=null,M.lastBaseUpdate=Be,M.shared.pending=null}}while(!0);Ue===null&&(ve=Ke),M.baseState=ve,M.firstBaseUpdate=Me,M.lastBaseUpdate=Ue,B===null&&(M.shared.lanes=0),Qu|=X,c.lanes=X,c.memoizedState=Ke}}function yR(c,h){if(typeof c!="function")throw Error(n(191,c));c.call(h)}function bR(c,h){var v=c.callbacks;if(v!==null)for(c.callbacks=null,c=0;c<v.length;c++)yR(v[c],h)}var hh=Z(null),py=Z(0);function wR(c,h){c=nu,W(py,c),W(hh,h),nu=c|h.baseLanes}function gx(){W(py,nu),W(hh,hh.current)}function yx(){nu=py.current,$(hh),$(py)}var Vu=0,Xt=null,Or=null,vn=null,my=!1,dh=!1,Oc=!1,vy=0,Zp=0,ph=null,hZ=0;function ln(){throw Error(n(321))}function bx(c,h){if(h===null)return!1;for(var v=0;v<h.length&&v<c.length;v++)if(!fa(c[v],h[v]))return!1;return!0}function wx(c,h,v,w,M,B){return Vu=B,Xt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,k.H=c===null||c.memoizedState===null?nP:iP,Oc=!1,B=v(w,M),Oc=!1,dh&&(B=xR(h,v,w,M)),_R(c),B}function _R(c){k.H=xy;var h=Or!==null&&Or.next!==null;if(Vu=0,vn=Or=Xt=null,my=!1,Zp=0,ph=null,h)throw Error(n(300));c===null||Kn||(c=c.dependencies,c!==null&&ly(c)&&(Kn=!0))}function xR(c,h,v,w){Xt=c;var M=0;do{if(dh&&(ph=null),Zp=0,dh=!1,25<=M)throw Error(n(301));if(M+=1,vn=Or=null,c.updateQueue!=null){var B=c.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}k.H=bZ,B=h(v,w)}while(dh);return B}function dZ(){var c=k.H,h=c.useState()[0];return h=typeof h.then=="function"?Jp(h):h,c=c.useState()[0],(Or!==null?Or.memoizedState:null)!==c&&(Xt.flags|=1024),h}function _x(){var c=vy!==0;return vy=0,c}function xx(c,h,v){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~v}function Ax(c){if(my){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}my=!1}Vu=0,vn=Or=Xt=null,dh=!1,Zp=vy=0,ph=null}function Wi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Xt.memoizedState=vn=c:vn=vn.next=c,vn}function gn(){if(Or===null){var c=Xt.alternate;c=c!==null?c.memoizedState:null}else c=Or.next;var h=vn===null?Xt.memoizedState:vn.next;if(h!==null)vn=h,Or=c;else{if(c===null)throw Xt.alternate===null?Error(n(467)):Error(n(310));Or=c,c={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},vn===null?Xt.memoizedState=vn=c:vn=vn.next=c}return vn}function Ex(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jp(c){var h=Zp;return Zp+=1,ph===null&&(ph=[]),c=mR(ph,c,h),h=Xt,(vn===null?h.memoizedState:vn.next)===null&&(h=h.alternate,k.H=h===null||h.memoizedState===null?nP:iP),c}function gy(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Jp(c);if(c.$$typeof===_)return bi(c)}throw Error(n(438,String(c)))}function Sx(c){var h=null,v=Xt.updateQueue;if(v!==null&&(h=v.memoCache),h==null){var w=Xt.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(h={data:w.data.map(function(M){return M.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),v===null&&(v=Ex(),Xt.updateQueue=v),v.memoCache=h,v=h.data[h.index],v===void 0)for(v=h.data[h.index]=Array(c),w=0;w<c;w++)v[w]=R;return h.index++,v}function Qs(c,h){return typeof h=="function"?h(c):h}function yy(c){var h=gn();return Tx(h,Or,c)}function Tx(c,h,v){var w=c.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=v;var M=c.baseQueue,B=w.pending;if(B!==null){if(M!==null){var X=M.next;M.next=B.next,B.next=X}h.baseQueue=M=B,w.pending=null}if(B=c.baseState,M===null)c.memoizedState=B;else{h=M.next;var re=X=null,ve=null,Me=h,Ue=!1;do{var Ke=Me.lane&-536870913;if(Ke!==Me.lane?(lr&Ke)===Ke:(Vu&Ke)===Ke){var Pe=Me.revertLane;if(Pe===0)ve!==null&&(ve=ve.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),Ke===ch&&(Ue=!0);else if((Vu&Pe)===Pe){Me=Me.next,Pe===ch&&(Ue=!0);continue}else Ke={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},ve===null?(re=ve=Ke,X=B):ve=ve.next=Ke,Xt.lanes|=Pe,Qu|=Pe;Ke=Me.action,Oc&&v(B,Ke),B=Me.hasEagerState?Me.eagerState:v(B,Ke)}else Pe={lane:Ke,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},ve===null?(re=ve=Pe,X=B):ve=ve.next=Pe,Xt.lanes|=Ke,Qu|=Ke;Me=Me.next}while(Me!==null&&Me!==h);if(ve===null?X=B:ve.next=re,!fa(B,c.memoizedState)&&(Kn=!0,Ue&&(v=fh,v!==null)))throw v;c.memoizedState=B,c.baseState=X,c.baseQueue=ve,w.lastRenderedState=B}return M===null&&(w.lanes=0),[c.memoizedState,w.dispatch]}function Dx(c){var h=gn(),v=h.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=c;var w=v.dispatch,M=v.pending,B=h.memoizedState;if(M!==null){v.pending=null;var X=M=M.next;do B=c(B,X.action),X=X.next;while(X!==M);fa(B,h.memoizedState)||(Kn=!0),h.memoizedState=B,h.baseQueue===null&&(h.baseState=B),v.lastRenderedState=B}return[B,w]}function AR(c,h,v){var w=Xt,M=gn(),B=mr;if(B){if(v===void 0)throw Error(n(407));v=v()}else v=h();var X=!fa((Or||M).memoizedState,v);X&&(M.memoizedState=v,Kn=!0),M=M.queue;var re=TR.bind(null,w,M,c);if(em(2048,8,re,[c]),M.getSnapshot!==h||X||vn!==null&&vn.memoizedState.tag&1){if(w.flags|=2048,mh(9,by(),SR.bind(null,w,M,v,h),null),qr===null)throw Error(n(349));B||(Vu&124)!==0||ER(w,h,v)}return v}function ER(c,h,v){c.flags|=16384,c={getSnapshot:h,value:v},h=Xt.updateQueue,h===null?(h=Ex(),Xt.updateQueue=h,h.stores=[c]):(v=h.stores,v===null?h.stores=[c]:v.push(c))}function SR(c,h,v,w){h.value=v,h.getSnapshot=w,DR(h)&&NR(c)}function TR(c,h,v){return v(function(){DR(h)&&NR(c)})}function DR(c){var h=c.getSnapshot;c=c.value;try{var v=h();return!fa(c,v)}catch{return!0}}function NR(c){var h=oh(c,2);h!==null&&ga(h,c,2)}function Nx(c){var h=Wi();if(typeof c=="function"){var v=c;if(c=v(),Oc){Re(!0);try{v()}finally{Re(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:c},h}function CR(c,h,v,w){return c.baseState=v,Tx(c,Or,typeof w=="function"?w:Qs)}function pZ(c,h,v,w,M){if(_y(c))throw Error(n(485));if(c=h.action,c!==null){var B={payload:M,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(X){B.listeners.push(X)}};k.T!==null?v(!0):B.isTransition=!1,w(B),v=h.pending,v===null?(B.next=h.pending=B,OR(h,B)):(B.next=v.next,h.pending=v.next=B)}}function OR(c,h){var v=h.action,w=h.payload,M=c.state;if(h.isTransition){var B=k.T,X={};k.T=X;try{var re=v(M,w),ve=k.S;ve!==null&&ve(X,re),MR(c,h,re)}catch(Me){Cx(c,h,Me)}finally{k.T=B}}else try{B=v(M,w),MR(c,h,B)}catch(Me){Cx(c,h,Me)}}function MR(c,h,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(w){IR(c,h,w)},function(w){return Cx(c,h,w)}):IR(c,h,v)}function IR(c,h,v){h.status="fulfilled",h.value=v,RR(h),c.state=v,h=c.pending,h!==null&&(v=h.next,v===h?c.pending=null:(v=v.next,h.next=v,OR(c,v)))}function Cx(c,h,v){var w=c.pending;if(c.pending=null,w!==null){w=w.next;do h.status="rejected",h.reason=v,RR(h),h=h.next;while(h!==w)}c.action=null}function RR(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function PR(c,h){return h}function BR(c,h){if(mr){var v=qr.formState;if(v!==null){e:{var w=Xt;if(mr){if(nn){t:{for(var M=nn,B=ns;M.nodeType!==8;){if(!B){M=null;break t}if(M=wo(M.nextSibling),M===null){M=null;break t}}B=M.data,M=B==="F!"||B==="F"?M:null}if(M){nn=wo(M.nextSibling),w=M.data==="F!";break e}}Tc(w)}w=!1}w&&(h=v[0])}}return v=Wi(),v.memoizedState=v.baseState=h,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:PR,lastRenderedState:h},v.queue=w,v=eP.bind(null,Xt,w),w.dispatch=v,w=Nx(!1),B=Px.bind(null,Xt,!1,w.queue),w=Wi(),M={state:h,dispatch:null,action:c,pending:null},w.queue=M,v=pZ.bind(null,Xt,M,B,v),M.dispatch=v,w.memoizedState=c,[h,v,!1]}function FR(c){var h=gn();return kR(h,Or,c)}function kR(c,h,v){if(h=Tx(c,h,PR)[0],c=yy(Qs)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var w=Jp(h)}catch(X){throw X===Kp?hy:X}else w=h;h=gn();var M=h.queue,B=M.dispatch;return v!==h.memoizedState&&(Xt.flags|=2048,mh(9,by(),mZ.bind(null,M,v),null)),[w,B,c]}function mZ(c,h){c.action=h}function $R(c){var h=gn(),v=Or;if(v!==null)return kR(h,v,c);gn(),h=h.memoizedState,v=gn();var w=v.queue.dispatch;return v.memoizedState=c,[h,w,!1]}function mh(c,h,v,w){return c={tag:c,create:v,deps:w,inst:h,next:null},h=Xt.updateQueue,h===null&&(h=Ex(),Xt.updateQueue=h),v=h.lastEffect,v===null?h.lastEffect=c.next=c:(w=v.next,v.next=c,c.next=w,h.lastEffect=c),c}function by(){return{destroy:void 0,resource:void 0}}function LR(){return gn().memoizedState}function wy(c,h,v,w){var M=Wi();w=w===void 0?null:w,Xt.flags|=c,M.memoizedState=mh(1|h,by(),v,w)}function em(c,h,v,w){var M=gn();w=w===void 0?null:w;var B=M.memoizedState.inst;Or!==null&&w!==null&&bx(w,Or.memoizedState.deps)?M.memoizedState=mh(h,B,v,w):(Xt.flags|=c,M.memoizedState=mh(1|h,B,v,w))}function qR(c,h){wy(8390656,8,c,h)}function UR(c,h){em(2048,8,c,h)}function jR(c,h){return em(4,2,c,h)}function zR(c,h){return em(4,4,c,h)}function VR(c,h){if(typeof h=="function"){c=c();var v=h(c);return function(){typeof v=="function"?v():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function HR(c,h,v){v=v!=null?v.concat([c]):null,em(4,4,VR.bind(null,h,c),v)}function Ox(){}function GR(c,h){var v=gn();h=h===void 0?null:h;var w=v.memoizedState;return h!==null&&bx(h,w[1])?w[0]:(v.memoizedState=[c,h],c)}function KR(c,h){var v=gn();h=h===void 0?null:h;var w=v.memoizedState;if(h!==null&&bx(h,w[1]))return w[0];if(w=c(),Oc){Re(!0);try{c()}finally{Re(!1)}}return v.memoizedState=[w,h],w}function Mx(c,h,v){return v===void 0||(Vu&1073741824)!==0?c.memoizedState=h:(c.memoizedState=v,c=YP(),Xt.lanes|=c,Qu|=c,v)}function XR(c,h,v,w){return fa(v,h)?v:hh.current!==null?(c=Mx(c,v,w),fa(c,h)||(Kn=!0),c):(Vu&42)===0?(Kn=!0,c.memoizedState=v):(c=YP(),Xt.lanes|=c,Qu|=c,h)}function WR(c,h,v,w,M){var B=V.p;V.p=B!==0&&8>B?B:8;var X=k.T,re={};k.T=re,Px(c,!1,h,v);try{var ve=M(),Me=k.S;if(Me!==null&&Me(re,ve),ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ue=fZ(ve,w);tm(c,h,Ue,va(c))}else tm(c,h,w,va(c))}catch(Ke){tm(c,h,{then:function(){},status:"rejected",reason:Ke},va())}finally{V.p=B,k.T=X}}function vZ(){}function Ix(c,h,v,w){if(c.tag!==5)throw Error(n(476));var M=YR(c).queue;WR(c,M,h,Y,v===null?vZ:function(){return QR(c),v(w)})}function YR(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:Y},next:null};var v={};return h.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:v},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function QR(c){var h=YR(c).next.queue;tm(c,h,{},va())}function Rx(){return bi(bm)}function ZR(){return gn().memoizedState}function JR(){return gn().memoizedState}function gZ(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var v=va();c=ju(v);var w=zu(h,c,v);w!==null&&(ga(w,h,v),Wp(w,h,v)),h={cache:lx()},c.payload=h;return}h=h.return}}function yZ(c,h,v){var w=va();v={lane:w,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},_y(c)?tP(h,v):(v=J_(c,h,v,w),v!==null&&(ga(v,c,w),rP(v,h,w)))}function eP(c,h,v){var w=va();tm(c,h,v,w)}function tm(c,h,v,w){var M={lane:w,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(_y(c))tP(h,M);else{var B=c.alternate;if(c.lanes===0&&(B===null||B.lanes===0)&&(B=h.lastRenderedReducer,B!==null))try{var X=h.lastRenderedState,re=B(X,v);if(M.hasEagerState=!0,M.eagerState=re,fa(re,X))return iy(c,h,M,0),qr===null&&ny(),!1}catch{}finally{}if(v=J_(c,h,M,w),v!==null)return ga(v,c,w),rP(v,h,w),!0}return!1}function Px(c,h,v,w){if(w={lane:2,revertLane:hA(),action:w,hasEagerState:!1,eagerState:null,next:null},_y(c)){if(h)throw Error(n(479))}else h=J_(c,v,w,2),h!==null&&ga(h,c,2)}function _y(c){var h=c.alternate;return c===Xt||h!==null&&h===Xt}function tP(c,h){dh=my=!0;var v=c.pending;v===null?h.next=h:(h.next=v.next,v.next=h),c.pending=h}function rP(c,h,v){if((v&4194048)!==0){var w=h.lanes;w&=c.pendingLanes,v|=w,h.lanes=v,oc(c,v)}}var xy={readContext:bi,use:gy,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln},nP={readContext:bi,use:gy,useCallback:function(c,h){return Wi().memoizedState=[c,h===void 0?null:h],c},useContext:bi,useEffect:qR,useImperativeHandle:function(c,h,v){v=v!=null?v.concat([c]):null,wy(4194308,4,VR.bind(null,h,c),v)},useLayoutEffect:function(c,h){return wy(4194308,4,c,h)},useInsertionEffect:function(c,h){wy(4,2,c,h)},useMemo:function(c,h){var v=Wi();h=h===void 0?null:h;var w=c();if(Oc){Re(!0);try{c()}finally{Re(!1)}}return v.memoizedState=[w,h],w},useReducer:function(c,h,v){var w=Wi();if(v!==void 0){var M=v(h);if(Oc){Re(!0);try{v(h)}finally{Re(!1)}}}else M=h;return w.memoizedState=w.baseState=M,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:M},w.queue=c,c=c.dispatch=yZ.bind(null,Xt,c),[w.memoizedState,c]},useRef:function(c){var h=Wi();return c={current:c},h.memoizedState=c},useState:function(c){c=Nx(c);var h=c.queue,v=eP.bind(null,Xt,h);return h.dispatch=v,[c.memoizedState,v]},useDebugValue:Ox,useDeferredValue:function(c,h){var v=Wi();return Mx(v,c,h)},useTransition:function(){var c=Nx(!1);return c=WR.bind(null,Xt,c.queue,!0,!1),Wi().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,v){var w=Xt,M=Wi();if(mr){if(v===void 0)throw Error(n(407));v=v()}else{if(v=h(),qr===null)throw Error(n(349));(lr&124)!==0||ER(w,h,v)}M.memoizedState=v;var B={value:v,getSnapshot:h};return M.queue=B,qR(TR.bind(null,w,B,c),[c]),w.flags|=2048,mh(9,by(),SR.bind(null,w,B,v,h),null),v},useId:function(){var c=Wi(),h=qr.identifierPrefix;if(mr){var v=Xs,w=Ks;v=(w&~(1<<32-qe(w)-1)).toString(32)+v,h="«"+h+"R"+v,v=vy++,0<v&&(h+="H"+v.toString(32)),h+="»"}else v=hZ++,h="«"+h+"r"+v.toString(32)+"»";return c.memoizedState=h},useHostTransitionStatus:Rx,useFormState:BR,useActionState:BR,useOptimistic:function(c){var h=Wi();h.memoizedState=h.baseState=c;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=v,h=Px.bind(null,Xt,!0,v),v.dispatch=h,[c,h]},useMemoCache:Sx,useCacheRefresh:function(){return Wi().memoizedState=gZ.bind(null,Xt)}},iP={readContext:bi,use:gy,useCallback:GR,useContext:bi,useEffect:UR,useImperativeHandle:HR,useInsertionEffect:jR,useLayoutEffect:zR,useMemo:KR,useReducer:yy,useRef:LR,useState:function(){return yy(Qs)},useDebugValue:Ox,useDeferredValue:function(c,h){var v=gn();return XR(v,Or.memoizedState,c,h)},useTransition:function(){var c=yy(Qs)[0],h=gn().memoizedState;return[typeof c=="boolean"?c:Jp(c),h]},useSyncExternalStore:AR,useId:ZR,useHostTransitionStatus:Rx,useFormState:FR,useActionState:FR,useOptimistic:function(c,h){var v=gn();return CR(v,Or,c,h)},useMemoCache:Sx,useCacheRefresh:JR},bZ={readContext:bi,use:gy,useCallback:GR,useContext:bi,useEffect:UR,useImperativeHandle:HR,useInsertionEffect:jR,useLayoutEffect:zR,useMemo:KR,useReducer:Dx,useRef:LR,useState:function(){return Dx(Qs)},useDebugValue:Ox,useDeferredValue:function(c,h){var v=gn();return Or===null?Mx(v,c,h):XR(v,Or.memoizedState,c,h)},useTransition:function(){var c=Dx(Qs)[0],h=gn().memoizedState;return[typeof c=="boolean"?c:Jp(c),h]},useSyncExternalStore:AR,useId:ZR,useHostTransitionStatus:Rx,useFormState:$R,useActionState:$R,useOptimistic:function(c,h){var v=gn();return Or!==null?CR(v,Or,c,h):(v.baseState=c,[c,v.queue.dispatch])},useMemoCache:Sx,useCacheRefresh:JR},vh=null,rm=0;function Ay(c){var h=rm;return rm+=1,vh===null&&(vh=[]),mR(vh,c,h)}function nm(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function Ey(c,h){throw h.$$typeof===d?Error(n(525)):(c=Object.prototype.toString.call(h),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function aP(c){var h=c._init;return h(c._payload)}function oP(c){function h(Se,Ae){if(c){var Oe=Se.deletions;Oe===null?(Se.deletions=[Ae],Se.flags|=16):Oe.push(Ae)}}function v(Se,Ae){if(!c)return null;for(;Ae!==null;)h(Se,Ae),Ae=Ae.sibling;return null}function w(Se){for(var Ae=new Map;Se!==null;)Se.key!==null?Ae.set(Se.key,Se):Ae.set(Se.index,Se),Se=Se.sibling;return Ae}function M(Se,Ae){return Se=Gs(Se,Ae),Se.index=0,Se.sibling=null,Se}function B(Se,Ae,Oe){return Se.index=Oe,c?(Oe=Se.alternate,Oe!==null?(Oe=Oe.index,Oe<Ae?(Se.flags|=67108866,Ae):Oe):(Se.flags|=67108866,Ae)):(Se.flags|=1048576,Ae)}function X(Se){return c&&Se.alternate===null&&(Se.flags|=67108866),Se}function re(Se,Ae,Oe,Ve){return Ae===null||Ae.tag!==6?(Ae=tx(Oe,Se.mode,Ve),Ae.return=Se,Ae):(Ae=M(Ae,Oe),Ae.return=Se,Ae)}function ve(Se,Ae,Oe,Ve){var ct=Oe.type;return ct===y?Ue(Se,Ae,Oe.props.children,Ve,Oe.key):Ae!==null&&(Ae.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===O&&aP(ct)===Ae.type)?(Ae=M(Ae,Oe.props),nm(Ae,Oe),Ae.return=Se,Ae):(Ae=oy(Oe.type,Oe.key,Oe.props,null,Se.mode,Ve),nm(Ae,Oe),Ae.return=Se,Ae)}function Me(Se,Ae,Oe,Ve){return Ae===null||Ae.tag!==4||Ae.stateNode.containerInfo!==Oe.containerInfo||Ae.stateNode.implementation!==Oe.implementation?(Ae=rx(Oe,Se.mode,Ve),Ae.return=Se,Ae):(Ae=M(Ae,Oe.children||[]),Ae.return=Se,Ae)}function Ue(Se,Ae,Oe,Ve,ct){return Ae===null||Ae.tag!==7?(Ae=xc(Oe,Se.mode,Ve,ct),Ae.return=Se,Ae):(Ae=M(Ae,Oe),Ae.return=Se,Ae)}function Ke(Se,Ae,Oe){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Ae=tx(""+Ae,Se.mode,Oe),Ae.return=Se,Ae;if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case p:return Oe=oy(Ae.type,Ae.key,Ae.props,null,Se.mode,Oe),nm(Oe,Ae),Oe.return=Se,Oe;case m:return Ae=rx(Ae,Se.mode,Oe),Ae.return=Se,Ae;case O:var Ve=Ae._init;return Ae=Ve(Ae._payload),Ke(Se,Ae,Oe)}if(U(Ae)||P(Ae))return Ae=xc(Ae,Se.mode,Oe,null),Ae.return=Se,Ae;if(typeof Ae.then=="function")return Ke(Se,Ay(Ae),Oe);if(Ae.$$typeof===_)return Ke(Se,cy(Se,Ae),Oe);Ey(Se,Ae)}return null}function Pe(Se,Ae,Oe,Ve){var ct=Ae!==null?Ae.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ct!==null?null:re(Se,Ae,""+Oe,Ve);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:return Oe.key===ct?ve(Se,Ae,Oe,Ve):null;case m:return Oe.key===ct?Me(Se,Ae,Oe,Ve):null;case O:return ct=Oe._init,Oe=ct(Oe._payload),Pe(Se,Ae,Oe,Ve)}if(U(Oe)||P(Oe))return ct!==null?null:Ue(Se,Ae,Oe,Ve,null);if(typeof Oe.then=="function")return Pe(Se,Ae,Ay(Oe),Ve);if(Oe.$$typeof===_)return Pe(Se,Ae,cy(Se,Oe),Ve);Ey(Se,Oe)}return null}function Be(Se,Ae,Oe,Ve,ct){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Se=Se.get(Oe)||null,re(Ae,Se,""+Ve,ct);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case p:return Se=Se.get(Ve.key===null?Oe:Ve.key)||null,ve(Ae,Se,Ve,ct);case m:return Se=Se.get(Ve.key===null?Oe:Ve.key)||null,Me(Ae,Se,Ve,ct);case O:var Wt=Ve._init;return Ve=Wt(Ve._payload),Be(Se,Ae,Oe,Ve,ct)}if(U(Ve)||P(Ve))return Se=Se.get(Oe)||null,Ue(Ae,Se,Ve,ct,null);if(typeof Ve.then=="function")return Be(Se,Ae,Oe,Ay(Ve),ct);if(Ve.$$typeof===_)return Be(Se,Ae,Oe,cy(Ae,Ve),ct);Ey(Ae,Ve)}return null}function Tt(Se,Ae,Oe,Ve){for(var ct=null,Wt=null,mt=Ae,At=Ae=0,Wn=null;mt!==null&&At<Oe.length;At++){mt.index>At?(Wn=mt,mt=null):Wn=mt.sibling;var fr=Pe(Se,mt,Oe[At],Ve);if(fr===null){mt===null&&(mt=Wn);break}c&&mt&&fr.alternate===null&&h(Se,mt),Ae=B(fr,Ae,At),Wt===null?ct=fr:Wt.sibling=fr,Wt=fr,mt=Wn}if(At===Oe.length)return v(Se,mt),mr&&Ec(Se,At),ct;if(mt===null){for(;At<Oe.length;At++)mt=Ke(Se,Oe[At],Ve),mt!==null&&(Ae=B(mt,Ae,At),Wt===null?ct=mt:Wt.sibling=mt,Wt=mt);return mr&&Ec(Se,At),ct}for(mt=w(mt);At<Oe.length;At++)Wn=Be(mt,Se,At,Oe[At],Ve),Wn!==null&&(c&&Wn.alternate!==null&&mt.delete(Wn.key===null?At:Wn.key),Ae=B(Wn,Ae,At),Wt===null?ct=Wn:Wt.sibling=Wn,Wt=Wn);return c&&mt.forEach(function(ol){return h(Se,ol)}),mr&&Ec(Se,At),ct}function wt(Se,Ae,Oe,Ve){if(Oe==null)throw Error(n(151));for(var ct=null,Wt=null,mt=Ae,At=Ae=0,Wn=null,fr=Oe.next();mt!==null&&!fr.done;At++,fr=Oe.next()){mt.index>At?(Wn=mt,mt=null):Wn=mt.sibling;var ol=Pe(Se,mt,fr.value,Ve);if(ol===null){mt===null&&(mt=Wn);break}c&&mt&&ol.alternate===null&&h(Se,mt),Ae=B(ol,Ae,At),Wt===null?ct=ol:Wt.sibling=ol,Wt=ol,mt=Wn}if(fr.done)return v(Se,mt),mr&&Ec(Se,At),ct;if(mt===null){for(;!fr.done;At++,fr=Oe.next())fr=Ke(Se,fr.value,Ve),fr!==null&&(Ae=B(fr,Ae,At),Wt===null?ct=fr:Wt.sibling=fr,Wt=fr);return mr&&Ec(Se,At),ct}for(mt=w(mt);!fr.done;At++,fr=Oe.next())fr=Be(mt,Se,At,fr.value,Ve),fr!==null&&(c&&fr.alternate!==null&&mt.delete(fr.key===null?At:fr.key),Ae=B(fr,Ae,At),Wt===null?ct=fr:Wt.sibling=fr,Wt=fr);return c&&mt.forEach(function(wJ){return h(Se,wJ)}),mr&&Ec(Se,At),ct}function Ir(Se,Ae,Oe,Ve){if(typeof Oe=="object"&&Oe!==null&&Oe.type===y&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:e:{for(var ct=Oe.key;Ae!==null;){if(Ae.key===ct){if(ct=Oe.type,ct===y){if(Ae.tag===7){v(Se,Ae.sibling),Ve=M(Ae,Oe.props.children),Ve.return=Se,Se=Ve;break e}}else if(Ae.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===O&&aP(ct)===Ae.type){v(Se,Ae.sibling),Ve=M(Ae,Oe.props),nm(Ve,Oe),Ve.return=Se,Se=Ve;break e}v(Se,Ae);break}else h(Se,Ae);Ae=Ae.sibling}Oe.type===y?(Ve=xc(Oe.props.children,Se.mode,Ve,Oe.key),Ve.return=Se,Se=Ve):(Ve=oy(Oe.type,Oe.key,Oe.props,null,Se.mode,Ve),nm(Ve,Oe),Ve.return=Se,Se=Ve)}return X(Se);case m:e:{for(ct=Oe.key;Ae!==null;){if(Ae.key===ct)if(Ae.tag===4&&Ae.stateNode.containerInfo===Oe.containerInfo&&Ae.stateNode.implementation===Oe.implementation){v(Se,Ae.sibling),Ve=M(Ae,Oe.children||[]),Ve.return=Se,Se=Ve;break e}else{v(Se,Ae);break}else h(Se,Ae);Ae=Ae.sibling}Ve=rx(Oe,Se.mode,Ve),Ve.return=Se,Se=Ve}return X(Se);case O:return ct=Oe._init,Oe=ct(Oe._payload),Ir(Se,Ae,Oe,Ve)}if(U(Oe))return Tt(Se,Ae,Oe,Ve);if(P(Oe)){if(ct=P(Oe),typeof ct!="function")throw Error(n(150));return Oe=ct.call(Oe),wt(Se,Ae,Oe,Ve)}if(typeof Oe.then=="function")return Ir(Se,Ae,Ay(Oe),Ve);if(Oe.$$typeof===_)return Ir(Se,Ae,cy(Se,Oe),Ve);Ey(Se,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,Ae!==null&&Ae.tag===6?(v(Se,Ae.sibling),Ve=M(Ae,Oe),Ve.return=Se,Se=Ve):(v(Se,Ae),Ve=tx(Oe,Se.mode,Ve),Ve.return=Se,Se=Ve),X(Se)):v(Se,Ae)}return function(Se,Ae,Oe,Ve){try{rm=0;var ct=Ir(Se,Ae,Oe,Ve);return vh=null,ct}catch(mt){if(mt===Kp||mt===hy)throw mt;var Wt=ha(29,mt,null,Se.mode);return Wt.lanes=Ve,Wt.return=Se,Wt}finally{}}}var gh=oP(!0),sP=oP(!1),za=Z(null),is=null;function Hu(c){var h=c.alternate;W(Mn,Mn.current&1),W(za,c),is===null&&(h===null||hh.current!==null||h.memoizedState!==null)&&(is=c)}function uP(c){if(c.tag===22){if(W(Mn,Mn.current),W(za,c),is===null){var h=c.alternate;h!==null&&h.memoizedState!==null&&(is=c)}}else Gu()}function Gu(){W(Mn,Mn.current),W(za,za.current)}function Zs(c){$(za),is===c&&(is=null),$(Mn)}var Mn=Z(0);function Sy(c){for(var h=c;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||EA(v)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function Bx(c,h,v,w){h=c.memoizedState,v=v(w,h),v=v==null?h:f({},h,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var Fx={enqueueSetState:function(c,h,v){c=c._reactInternals;var w=va(),M=ju(w);M.payload=h,v!=null&&(M.callback=v),h=zu(c,M,w),h!==null&&(ga(h,c,w),Wp(h,c,w))},enqueueReplaceState:function(c,h,v){c=c._reactInternals;var w=va(),M=ju(w);M.tag=1,M.payload=h,v!=null&&(M.callback=v),h=zu(c,M,w),h!==null&&(ga(h,c,w),Wp(h,c,w))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var v=va(),w=ju(v);w.tag=2,h!=null&&(w.callback=h),h=zu(c,w,v),h!==null&&(ga(h,c,v),Wp(h,c,v))}};function lP(c,h,v,w,M,B,X){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,B,X):h.prototype&&h.prototype.isPureReactComponent?!Lp(v,w)||!Lp(M,B):!0}function cP(c,h,v,w){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,w),h.state!==c&&Fx.enqueueReplaceState(h,h.state,null)}function Mc(c,h){var v=h;if("ref"in h){v={};for(var w in h)w!=="ref"&&(v[w]=h[w])}if(c=c.defaultProps){v===h&&(v=f({},v));for(var M in c)v[M]===void 0&&(v[M]=c[M])}return v}var Ty=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function fP(c){Ty(c)}function hP(c){console.error(c)}function dP(c){Ty(c)}function Dy(c,h){try{var v=c.onUncaughtError;v(h.value,{componentStack:h.stack})}catch(w){setTimeout(function(){throw w})}}function pP(c,h,v){try{var w=c.onCaughtError;w(v.value,{componentStack:v.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function kx(c,h,v){return v=ju(v),v.tag=3,v.payload={element:null},v.callback=function(){Dy(c,h)},v}function mP(c){return c=ju(c),c.tag=3,c}function vP(c,h,v,w){var M=v.type.getDerivedStateFromError;if(typeof M=="function"){var B=w.value;c.payload=function(){return M(B)},c.callback=function(){pP(h,v,w)}}var X=v.stateNode;X!==null&&typeof X.componentDidCatch=="function"&&(c.callback=function(){pP(h,v,w),typeof M!="function"&&(Zu===null?Zu=new Set([this]):Zu.add(this));var re=w.stack;this.componentDidCatch(w.value,{componentStack:re!==null?re:""})})}function wZ(c,h,v,w,M){if(v.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(h=v.alternate,h!==null&&Vp(h,v,M,!0),v=za.current,v!==null){switch(v.tag){case 13:return is===null?sA():v.alternate===null&&an===0&&(an=3),v.flags&=-257,v.flags|=65536,v.lanes=M,w===hx?v.flags|=16384:(h=v.updateQueue,h===null?v.updateQueue=new Set([w]):h.add(w),lA(c,w,M)),!1;case 22:return v.flags|=65536,w===hx?v.flags|=16384:(h=v.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([w])},v.updateQueue=h):(v=h.retryQueue,v===null?h.retryQueue=new Set([w]):v.add(w)),lA(c,w,M)),!1}throw Error(n(435,v.tag))}return lA(c,w,M),sA(),!1}if(mr)return h=za.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=M,w!==ax&&(c=Error(n(422),{cause:w}),zp(La(c,v)))):(w!==ax&&(h=Error(n(423),{cause:w}),zp(La(h,v))),c=c.current.alternate,c.flags|=65536,M&=-M,c.lanes|=M,w=La(w,v),M=kx(c.stateNode,w,M),mx(c,M),an!==4&&(an=2)),!1;var B=Error(n(520),{cause:w});if(B=La(B,v),cm===null?cm=[B]:cm.push(B),an!==4&&(an=2),h===null)return!0;w=La(w,v),v=h;do{switch(v.tag){case 3:return v.flags|=65536,c=M&-M,v.lanes|=c,c=kx(v.stateNode,w,c),mx(v,c),!1;case 1:if(h=v.type,B=v.stateNode,(v.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Zu===null||!Zu.has(B))))return v.flags|=65536,M&=-M,v.lanes|=M,M=mP(M),vP(M,c,v,w),mx(v,M),!1}v=v.return}while(v!==null);return!1}var gP=Error(n(461)),Kn=!1;function oi(c,h,v,w){h.child=c===null?sP(h,null,v,w):gh(h,c.child,v,w)}function yP(c,h,v,w,M){v=v.render;var B=h.ref;if("ref"in w){var X={};for(var re in w)re!=="ref"&&(X[re]=w[re])}else X=w;return Nc(h),w=wx(c,h,v,X,B,M),re=_x(),c!==null&&!Kn?(xx(c,h,M),Js(c,h,M)):(mr&&re&&nx(h),h.flags|=1,oi(c,h,w,M),h.child)}function bP(c,h,v,w,M){if(c===null){var B=v.type;return typeof B=="function"&&!ex(B)&&B.defaultProps===void 0&&v.compare===null?(h.tag=15,h.type=B,wP(c,h,B,w,M)):(c=oy(v.type,null,w,h,h.mode,M),c.ref=h.ref,c.return=h,h.child=c)}if(B=c.child,!Hx(c,M)){var X=B.memoizedProps;if(v=v.compare,v=v!==null?v:Lp,v(X,w)&&c.ref===h.ref)return Js(c,h,M)}return h.flags|=1,c=Gs(B,w),c.ref=h.ref,c.return=h,h.child=c}function wP(c,h,v,w,M){if(c!==null){var B=c.memoizedProps;if(Lp(B,w)&&c.ref===h.ref)if(Kn=!1,h.pendingProps=w=B,Hx(c,M))(c.flags&131072)!==0&&(Kn=!0);else return h.lanes=c.lanes,Js(c,h,M)}return $x(c,h,v,w,M)}function _P(c,h,v){var w=h.pendingProps,M=w.children,B=c!==null?c.memoizedState:null;if(w.mode==="hidden"){if((h.flags&128)!==0){if(w=B!==null?B.baseLanes|v:v,c!==null){for(M=h.child=c.child,B=0;M!==null;)B=B|M.lanes|M.childLanes,M=M.sibling;h.childLanes=B&~w}else h.childLanes=0,h.child=null;return xP(c,h,w,v)}if((v&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&fy(h,B!==null?B.cachePool:null),B!==null?wR(h,B):gx(),uP(h);else return h.lanes=h.childLanes=536870912,xP(c,h,B!==null?B.baseLanes|v:v,v)}else B!==null?(fy(h,B.cachePool),wR(h,B),Gu(),h.memoizedState=null):(c!==null&&fy(h,null),gx(),Gu());return oi(c,h,M,v),h.child}function xP(c,h,v,w){var M=fx();return M=M===null?null:{parent:On._currentValue,pool:M},h.memoizedState={baseLanes:v,cachePool:M},c!==null&&fy(h,null),gx(),uP(h),c!==null&&Vp(c,h,w,!0),null}function Ny(c,h){var v=h.ref;if(v===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(n(284));(c===null||c.ref!==v)&&(h.flags|=4194816)}}function $x(c,h,v,w,M){return Nc(h),v=wx(c,h,v,w,void 0,M),w=_x(),c!==null&&!Kn?(xx(c,h,M),Js(c,h,M)):(mr&&w&&nx(h),h.flags|=1,oi(c,h,v,M),h.child)}function AP(c,h,v,w,M,B){return Nc(h),h.updateQueue=null,v=xR(h,w,v,M),_R(c),w=_x(),c!==null&&!Kn?(xx(c,h,B),Js(c,h,B)):(mr&&w&&nx(h),h.flags|=1,oi(c,h,v,B),h.child)}function EP(c,h,v,w,M){if(Nc(h),h.stateNode===null){var B=sh,X=v.contextType;typeof X=="object"&&X!==null&&(B=bi(X)),B=new v(w,B),h.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=Fx,h.stateNode=B,B._reactInternals=h,B=h.stateNode,B.props=w,B.state=h.memoizedState,B.refs={},dx(h),X=v.contextType,B.context=typeof X=="object"&&X!==null?bi(X):sh,B.state=h.memoizedState,X=v.getDerivedStateFromProps,typeof X=="function"&&(Bx(h,v,X,w),B.state=h.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(X=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),X!==B.state&&Fx.enqueueReplaceState(B,B.state,null),Qp(h,w,B,M),Yp(),B.state=h.memoizedState),typeof B.componentDidMount=="function"&&(h.flags|=4194308),w=!0}else if(c===null){B=h.stateNode;var re=h.memoizedProps,ve=Mc(v,re);B.props=ve;var Me=B.context,Ue=v.contextType;X=sh,typeof Ue=="object"&&Ue!==null&&(X=bi(Ue));var Ke=v.getDerivedStateFromProps;Ue=typeof Ke=="function"||typeof B.getSnapshotBeforeUpdate=="function",re=h.pendingProps!==re,Ue||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(re||Me!==X)&&cP(h,B,w,X),Uu=!1;var Pe=h.memoizedState;B.state=Pe,Qp(h,w,B,M),Yp(),Me=h.memoizedState,re||Pe!==Me||Uu?(typeof Ke=="function"&&(Bx(h,v,Ke,w),Me=h.memoizedState),(ve=Uu||lP(h,v,ve,w,Pe,Me,X))?(Ue||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(h.flags|=4194308)):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=Me),B.props=w,B.state=Me,B.context=X,w=ve):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{B=h.stateNode,px(c,h),X=h.memoizedProps,Ue=Mc(v,X),B.props=Ue,Ke=h.pendingProps,Pe=B.context,Me=v.contextType,ve=sh,typeof Me=="object"&&Me!==null&&(ve=bi(Me)),re=v.getDerivedStateFromProps,(Me=typeof re=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(X!==Ke||Pe!==ve)&&cP(h,B,w,ve),Uu=!1,Pe=h.memoizedState,B.state=Pe,Qp(h,w,B,M),Yp();var Be=h.memoizedState;X!==Ke||Pe!==Be||Uu||c!==null&&c.dependencies!==null&&ly(c.dependencies)?(typeof re=="function"&&(Bx(h,v,re,w),Be=h.memoizedState),(Ue=Uu||lP(h,v,Ue,w,Pe,Be,ve)||c!==null&&c.dependencies!==null&&ly(c.dependencies))?(Me||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(w,Be,ve),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(w,Be,ve)),typeof B.componentDidUpdate=="function"&&(h.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof B.componentDidUpdate!="function"||X===c.memoizedProps&&Pe===c.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&Pe===c.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Be),B.props=w,B.state=Be,B.context=ve,w=Ue):(typeof B.componentDidUpdate!="function"||X===c.memoizedProps&&Pe===c.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||X===c.memoizedProps&&Pe===c.memoizedState||(h.flags|=1024),w=!1)}return B=w,Ny(c,h),w=(h.flags&128)!==0,B||w?(B=h.stateNode,v=w&&typeof v.getDerivedStateFromError!="function"?null:B.render(),h.flags|=1,c!==null&&w?(h.child=gh(h,c.child,null,M),h.child=gh(h,null,v,M)):oi(c,h,v,M),h.memoizedState=B.state,c=h.child):c=Js(c,h,M),c}function SP(c,h,v,w){return jp(),h.flags|=256,oi(c,h,v,w),h.child}var Lx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qx(c){return{baseLanes:c,cachePool:hR()}}function Ux(c,h,v){return c=c!==null?c.childLanes&~v:0,h&&(c|=Va),c}function TP(c,h,v){var w=h.pendingProps,M=!1,B=(h.flags&128)!==0,X;if((X=B)||(X=c!==null&&c.memoizedState===null?!1:(Mn.current&2)!==0),X&&(M=!0,h.flags&=-129),X=(h.flags&32)!==0,h.flags&=-33,c===null){if(mr){if(M?Hu(h):Gu(),mr){var re=nn,ve;if(ve=re){e:{for(ve=re,re=ns;ve.nodeType!==8;){if(!re){re=null;break e}if(ve=wo(ve.nextSibling),ve===null){re=null;break e}}re=ve}re!==null?(h.memoizedState={dehydrated:re,treeContext:Ac!==null?{id:Ks,overflow:Xs}:null,retryLane:536870912,hydrationErrors:null},ve=ha(18,null,null,0),ve.stateNode=re,ve.return=h,h.child=ve,Fi=h,nn=null,ve=!0):ve=!1}ve||Tc(h)}if(re=h.memoizedState,re!==null&&(re=re.dehydrated,re!==null))return EA(re)?h.lanes=32:h.lanes=536870912,null;Zs(h)}return re=w.children,w=w.fallback,M?(Gu(),M=h.mode,re=Cy({mode:"hidden",children:re},M),w=xc(w,M,v,null),re.return=h,w.return=h,re.sibling=w,h.child=re,M=h.child,M.memoizedState=qx(v),M.childLanes=Ux(c,X,v),h.memoizedState=Lx,w):(Hu(h),jx(h,re))}if(ve=c.memoizedState,ve!==null&&(re=ve.dehydrated,re!==null)){if(B)h.flags&256?(Hu(h),h.flags&=-257,h=zx(c,h,v)):h.memoizedState!==null?(Gu(),h.child=c.child,h.flags|=128,h=null):(Gu(),M=w.fallback,re=h.mode,w=Cy({mode:"visible",children:w.children},re),M=xc(M,re,v,null),M.flags|=2,w.return=h,M.return=h,w.sibling=M,h.child=w,gh(h,c.child,null,v),w=h.child,w.memoizedState=qx(v),w.childLanes=Ux(c,X,v),h.memoizedState=Lx,h=M);else if(Hu(h),EA(re)){if(X=re.nextSibling&&re.nextSibling.dataset,X)var Me=X.dgst;X=Me,w=Error(n(419)),w.stack="",w.digest=X,zp({value:w,source:null,stack:null}),h=zx(c,h,v)}else if(Kn||Vp(c,h,v,!1),X=(v&c.childLanes)!==0,Kn||X){if(X=qr,X!==null&&(w=v&-v,w=(w&42)!==0?1:Vo(w),w=(w&(X.suspendedLanes|v))!==0?0:w,w!==0&&w!==ve.retryLane))throw ve.retryLane=w,oh(c,w),ga(X,c,w),gP;re.data==="$?"||sA(),h=zx(c,h,v)}else re.data==="$?"?(h.flags|=192,h.child=c.child,h=null):(c=ve.treeContext,nn=wo(re.nextSibling),Fi=h,mr=!0,Sc=null,ns=!1,c!==null&&(Ua[ja++]=Ks,Ua[ja++]=Xs,Ua[ja++]=Ac,Ks=c.id,Xs=c.overflow,Ac=h),h=jx(h,w.children),h.flags|=4096);return h}return M?(Gu(),M=w.fallback,re=h.mode,ve=c.child,Me=ve.sibling,w=Gs(ve,{mode:"hidden",children:w.children}),w.subtreeFlags=ve.subtreeFlags&65011712,Me!==null?M=Gs(Me,M):(M=xc(M,re,v,null),M.flags|=2),M.return=h,w.return=h,w.sibling=M,h.child=w,w=M,M=h.child,re=c.child.memoizedState,re===null?re=qx(v):(ve=re.cachePool,ve!==null?(Me=On._currentValue,ve=ve.parent!==Me?{parent:Me,pool:Me}:ve):ve=hR(),re={baseLanes:re.baseLanes|v,cachePool:ve}),M.memoizedState=re,M.childLanes=Ux(c,X,v),h.memoizedState=Lx,w):(Hu(h),v=c.child,c=v.sibling,v=Gs(v,{mode:"visible",children:w.children}),v.return=h,v.sibling=null,c!==null&&(X=h.deletions,X===null?(h.deletions=[c],h.flags|=16):X.push(c)),h.child=v,h.memoizedState=null,v)}function jx(c,h){return h=Cy({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function Cy(c,h){return c=ha(22,c,null,h),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function zx(c,h,v){return gh(h,c.child,null,v),c=jx(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function DP(c,h,v){c.lanes|=h;var w=c.alternate;w!==null&&(w.lanes|=h),sx(c.return,h,v)}function Vx(c,h,v,w,M){var B=c.memoizedState;B===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:M}:(B.isBackwards=h,B.rendering=null,B.renderingStartTime=0,B.last=w,B.tail=v,B.tailMode=M)}function NP(c,h,v){var w=h.pendingProps,M=w.revealOrder,B=w.tail;if(oi(c,h,w.children,v),w=Mn.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&DP(c,v,h);else if(c.tag===19)DP(c,v,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}switch(W(Mn,w),M){case"forwards":for(v=h.child,M=null;v!==null;)c=v.alternate,c!==null&&Sy(c)===null&&(M=v),v=v.sibling;v=M,v===null?(M=h.child,h.child=null):(M=v.sibling,v.sibling=null),Vx(h,!1,M,v,B);break;case"backwards":for(v=null,M=h.child,h.child=null;M!==null;){if(c=M.alternate,c!==null&&Sy(c)===null){h.child=M;break}c=M.sibling,M.sibling=v,v=M,M=c}Vx(h,!0,v,null,B);break;case"together":Vx(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Js(c,h,v){if(c!==null&&(h.dependencies=c.dependencies),Qu|=h.lanes,(v&h.childLanes)===0)if(c!==null){if(Vp(c,h,v,!1),(v&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(n(153));if(h.child!==null){for(c=h.child,v=Gs(c,c.pendingProps),h.child=v,v.return=h;c.sibling!==null;)c=c.sibling,v=v.sibling=Gs(c,c.pendingProps),v.return=h;v.sibling=null}return h.child}function Hx(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&ly(c)))}function _Z(c,h,v){switch(h.tag){case 3:J(h,h.stateNode.containerInfo),qu(h,On,c.memoizedState.cache),jp();break;case 27:case 5:ue(h);break;case 4:J(h,h.stateNode.containerInfo);break;case 10:qu(h,h.type,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(Hu(h),h.flags|=128,null):(v&h.child.childLanes)!==0?TP(c,h,v):(Hu(h),c=Js(c,h,v),c!==null?c.sibling:null);Hu(h);break;case 19:var M=(c.flags&128)!==0;if(w=(v&h.childLanes)!==0,w||(Vp(c,h,v,!1),w=(v&h.childLanes)!==0),M){if(w)return NP(c,h,v);h.flags|=128}if(M=h.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),W(Mn,Mn.current),w)break;return null;case 22:case 23:return h.lanes=0,_P(c,h,v);case 24:qu(h,On,c.memoizedState.cache)}return Js(c,h,v)}function CP(c,h,v){if(c!==null)if(c.memoizedProps!==h.pendingProps)Kn=!0;else{if(!Hx(c,v)&&(h.flags&128)===0)return Kn=!1,_Z(c,h,v);Kn=(c.flags&131072)!==0}else Kn=!1,mr&&(h.flags&1048576)!==0&&aR(h,uy,h.index);switch(h.lanes=0,h.tag){case 16:e:{c=h.pendingProps;var w=h.elementType,M=w._init;if(w=M(w._payload),h.type=w,typeof w=="function")ex(w)?(c=Mc(w,c),h.tag=1,h=EP(null,h,w,c,v)):(h.tag=0,h=$x(null,h,w,c,v));else{if(w!=null){if(M=w.$$typeof,M===S){h.tag=11,h=yP(null,h,w,c,v);break e}else if(M===T){h.tag=14,h=bP(null,h,w,c,v);break e}}throw h=z(w)||w,Error(n(306,h,""))}}return h;case 0:return $x(c,h,h.type,h.pendingProps,v);case 1:return w=h.type,M=Mc(w,h.pendingProps),EP(c,h,w,M,v);case 3:e:{if(J(h,h.stateNode.containerInfo),c===null)throw Error(n(387));w=h.pendingProps;var B=h.memoizedState;M=B.element,px(c,h),Qp(h,w,null,v);var X=h.memoizedState;if(w=X.cache,qu(h,On,w),w!==B.cache&&ux(h,[On],v,!0),Yp(),w=X.element,B.isDehydrated)if(B={element:w,isDehydrated:!1,cache:X.cache},h.updateQueue.baseState=B,h.memoizedState=B,h.flags&256){h=SP(c,h,w,v);break e}else if(w!==M){M=La(Error(n(424)),h),zp(M),h=SP(c,h,w,v);break e}else{switch(c=h.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(nn=wo(c.firstChild),Fi=h,mr=!0,Sc=null,ns=!0,v=sP(h,null,w,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(jp(),w===M){h=Js(c,h,v);break e}oi(c,h,w,v)}h=h.child}return h;case 26:return Ny(c,h),c===null?(v=R3(h.type,null,h.pendingProps,null))?h.memoizedState=v:mr||(v=h.type,c=h.pendingProps,w=zy(me.current).createElement(v),w[un]=h,w[rn]=c,ui(w,v,c),Zr(w),h.stateNode=w):h.memoizedState=R3(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return ue(h),c===null&&mr&&(w=h.stateNode=O3(h.type,h.pendingProps,me.current),Fi=h,ns=!0,M=nn,tl(h.type)?(SA=M,nn=wo(w.firstChild)):nn=M),oi(c,h,h.pendingProps.children,v),Ny(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&mr&&((M=w=nn)&&(w=WZ(w,h.type,h.pendingProps,ns),w!==null?(h.stateNode=w,Fi=h,nn=wo(w.firstChild),ns=!1,M=!0):M=!1),M||Tc(h)),ue(h),M=h.type,B=h.pendingProps,X=c!==null?c.memoizedProps:null,w=B.children,_A(M,B)?w=null:X!==null&&_A(M,X)&&(h.flags|=32),h.memoizedState!==null&&(M=wx(c,h,dZ,null,null,v),bm._currentValue=M),Ny(c,h),oi(c,h,w,v),h.child;case 6:return c===null&&mr&&((c=v=nn)&&(v=YZ(v,h.pendingProps,ns),v!==null?(h.stateNode=v,Fi=h,nn=null,c=!0):c=!1),c||Tc(h)),null;case 13:return TP(c,h,v);case 4:return J(h,h.stateNode.containerInfo),w=h.pendingProps,c===null?h.child=gh(h,null,w,v):oi(c,h,w,v),h.child;case 11:return yP(c,h,h.type,h.pendingProps,v);case 7:return oi(c,h,h.pendingProps,v),h.child;case 8:return oi(c,h,h.pendingProps.children,v),h.child;case 12:return oi(c,h,h.pendingProps.children,v),h.child;case 10:return w=h.pendingProps,qu(h,h.type,w.value),oi(c,h,w.children,v),h.child;case 9:return M=h.type._context,w=h.pendingProps.children,Nc(h),M=bi(M),w=w(M),h.flags|=1,oi(c,h,w,v),h.child;case 14:return bP(c,h,h.type,h.pendingProps,v);case 15:return wP(c,h,h.type,h.pendingProps,v);case 19:return NP(c,h,v);case 31:return w=h.pendingProps,v=h.mode,w={mode:w.mode,children:w.children},c===null?(v=Cy(w,v),v.ref=h.ref,h.child=v,v.return=h,h=v):(v=Gs(c.child,w),v.ref=h.ref,h.child=v,v.return=h,h=v),h;case 22:return _P(c,h,v);case 24:return Nc(h),w=bi(On),c===null?(M=fx(),M===null&&(M=qr,B=lx(),M.pooledCache=B,B.refCount++,B!==null&&(M.pooledCacheLanes|=v),M=B),h.memoizedState={parent:w,cache:M},dx(h),qu(h,On,M)):((c.lanes&v)!==0&&(px(c,h),Qp(h,null,null,v),Yp()),M=c.memoizedState,B=h.memoizedState,M.parent!==w?(M={parent:w,cache:w},h.memoizedState=M,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=M),qu(h,On,w)):(w=B.cache,qu(h,On,w),w!==M.cache&&ux(h,[On],v,!0))),oi(c,h,h.pendingProps.children,v),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function eu(c){c.flags|=4}function OP(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!$3(h)){if(h=za.current,h!==null&&((lr&4194048)===lr?is!==null:(lr&62914560)!==lr&&(lr&536870912)===0||h!==is))throw Xp=hx,dR;c.flags|=8192}}function Oy(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?ht():536870912,c.lanes|=h,_h|=h)}function im(c,h){if(!mr)switch(c.tailMode){case"hidden":h=c.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function en(c){var h=c.alternate!==null&&c.alternate.child===c.child,v=0,w=0;if(h)for(var M=c.child;M!==null;)v|=M.lanes|M.childLanes,w|=M.subtreeFlags&65011712,w|=M.flags&65011712,M.return=c,M=M.sibling;else for(M=c.child;M!==null;)v|=M.lanes|M.childLanes,w|=M.subtreeFlags,w|=M.flags,M.return=c,M=M.sibling;return c.subtreeFlags|=w,c.childLanes=v,h}function xZ(c,h,v){var w=h.pendingProps;switch(ix(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(h),null;case 1:return en(h),null;case 3:return v=h.stateNode,w=null,c!==null&&(w=c.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),Ys(On),ee(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(c===null||c.child===null)&&(Up(h)?eu(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,uR())),en(h),null;case 26:return v=h.memoizedState,c===null?(eu(h),v!==null?(en(h),OP(h,v)):(en(h),h.flags&=-16777217)):v?v!==c.memoizedState?(eu(h),en(h),OP(h,v)):(en(h),h.flags&=-16777217):(c.memoizedProps!==w&&eu(h),en(h),h.flags&=-16777217),null;case 27:le(h),v=me.current;var M=h.type;if(c!==null&&h.stateNode!=null)c.memoizedProps!==w&&eu(h);else{if(!w){if(h.stateNode===null)throw Error(n(166));return en(h),null}c=K.current,Up(h)?oR(h):(c=O3(M,w,v),h.stateNode=c,eu(h))}return en(h),null;case 5:if(le(h),v=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==w&&eu(h);else{if(!w){if(h.stateNode===null)throw Error(n(166));return en(h),null}if(c=K.current,Up(h))oR(h);else{switch(M=zy(me.current),c){case 1:c=M.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:c=M.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":c=M.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":c=M.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":c=M.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof w.is=="string"?M.createElement("select",{is:w.is}):M.createElement("select"),w.multiple?c.multiple=!0:w.size&&(c.size=w.size);break;default:c=typeof w.is=="string"?M.createElement(v,{is:w.is}):M.createElement(v)}}c[un]=h,c[rn]=w;e:for(M=h.child;M!==null;){if(M.tag===5||M.tag===6)c.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===h)break e;for(;M.sibling===null;){if(M.return===null||M.return===h)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}h.stateNode=c;e:switch(ui(c,v,w),v){case"button":case"input":case"select":case"textarea":c=!!w.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&eu(h)}}return en(h),h.flags&=-16777217,null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==w&&eu(h);else{if(typeof w!="string"&&h.stateNode===null)throw Error(n(166));if(c=me.current,Up(h)){if(c=h.stateNode,v=h.memoizedProps,w=null,M=Fi,M!==null)switch(M.tag){case 27:case 5:w=M.memoizedProps}c[un]=h,c=!!(c.nodeValue===v||w!==null&&w.suppressHydrationWarning===!0||A3(c.nodeValue,v)),c||Tc(h)}else c=zy(c).createTextNode(w),c[un]=h,h.stateNode=c}return en(h),null;case 13:if(w=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(M=Up(h),w!==null&&w.dehydrated!==null){if(c===null){if(!M)throw Error(n(318));if(M=h.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[un]=h}else jp(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;en(h),M=!1}else M=uR(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=M),M=!0;if(!M)return h.flags&256?(Zs(h),h):(Zs(h),null)}if(Zs(h),(h.flags&128)!==0)return h.lanes=v,h;if(v=w!==null,c=c!==null&&c.memoizedState!==null,v){w=h.child,M=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(M=w.alternate.memoizedState.cachePool.pool);var B=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(B=w.memoizedState.cachePool.pool),B!==M&&(w.flags|=2048)}return v!==c&&v&&(h.child.flags|=8192),Oy(h,h.updateQueue),en(h),null;case 4:return ee(),c===null&&vA(h.stateNode.containerInfo),en(h),null;case 10:return Ys(h.type),en(h),null;case 19:if($(Mn),M=h.memoizedState,M===null)return en(h),null;if(w=(h.flags&128)!==0,B=M.rendering,B===null)if(w)im(M,!1);else{if(an!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(B=Sy(c),B!==null){for(h.flags|=128,im(M,!1),c=B.updateQueue,h.updateQueue=c,Oy(h,c),h.subtreeFlags=0,c=v,v=h.child;v!==null;)iR(v,c),v=v.sibling;return W(Mn,Mn.current&1|2),h.child}c=c.sibling}M.tail!==null&&We()>Ry&&(h.flags|=128,w=!0,im(M,!1),h.lanes=4194304)}else{if(!w)if(c=Sy(B),c!==null){if(h.flags|=128,w=!0,c=c.updateQueue,h.updateQueue=c,Oy(h,c),im(M,!0),M.tail===null&&M.tailMode==="hidden"&&!B.alternate&&!mr)return en(h),null}else 2*We()-M.renderingStartTime>Ry&&v!==536870912&&(h.flags|=128,w=!0,im(M,!1),h.lanes=4194304);M.isBackwards?(B.sibling=h.child,h.child=B):(c=M.last,c!==null?c.sibling=B:h.child=B,M.last=B)}return M.tail!==null?(h=M.tail,M.rendering=h,M.tail=h.sibling,M.renderingStartTime=We(),h.sibling=null,c=Mn.current,W(Mn,w?c&1|2:c&1),h):(en(h),null);case 22:case 23:return Zs(h),yx(),w=h.memoizedState!==null,c!==null?c.memoizedState!==null!==w&&(h.flags|=8192):w&&(h.flags|=8192),w?(v&536870912)!==0&&(h.flags&128)===0&&(en(h),h.subtreeFlags&6&&(h.flags|=8192)):en(h),v=h.updateQueue,v!==null&&Oy(h,v.retryQueue),v=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048),c!==null&&$(Cc),null;case 24:return v=null,c!==null&&(v=c.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),Ys(On),en(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function AZ(c,h){switch(ix(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Ys(On),ee(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return le(h),null;case 13:if(Zs(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(n(340));jp()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return $(Mn),null;case 4:return ee(),null;case 10:return Ys(h.type),null;case 22:case 23:return Zs(h),yx(),c!==null&&$(Cc),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return Ys(On),null;case 25:return null;default:return null}}function MP(c,h){switch(ix(h),h.tag){case 3:Ys(On),ee();break;case 26:case 27:case 5:le(h);break;case 4:ee();break;case 13:Zs(h);break;case 19:$(Mn);break;case 10:Ys(h.type);break;case 22:case 23:Zs(h),yx(),c!==null&&$(Cc);break;case 24:Ys(On)}}function am(c,h){try{var v=h.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var M=w.next;v=M;do{if((v.tag&c)===c){w=void 0;var B=v.create,X=v.inst;w=B(),X.destroy=w}v=v.next}while(v!==M)}}catch(re){Fr(h,h.return,re)}}function Ku(c,h,v){try{var w=h.updateQueue,M=w!==null?w.lastEffect:null;if(M!==null){var B=M.next;w=B;do{if((w.tag&c)===c){var X=w.inst,re=X.destroy;if(re!==void 0){X.destroy=void 0,M=h;var ve=v,Me=re;try{Me()}catch(Ue){Fr(M,ve,Ue)}}}w=w.next}while(w!==B)}}catch(Ue){Fr(h,h.return,Ue)}}function IP(c){var h=c.updateQueue;if(h!==null){var v=c.stateNode;try{bR(h,v)}catch(w){Fr(c,c.return,w)}}}function RP(c,h,v){v.props=Mc(c.type,c.memoizedProps),v.state=c.memoizedState;try{v.componentWillUnmount()}catch(w){Fr(c,h,w)}}function om(c,h){try{var v=c.ref;if(v!==null){switch(c.tag){case 26:case 27:case 5:var w=c.stateNode;break;case 30:w=c.stateNode;break;default:w=c.stateNode}typeof v=="function"?c.refCleanup=v(w):v.current=w}}catch(M){Fr(c,h,M)}}function as(c,h){var v=c.ref,w=c.refCleanup;if(v!==null)if(typeof w=="function")try{w()}catch(M){Fr(c,h,M)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(M){Fr(c,h,M)}else v.current=null}function PP(c){var h=c.type,v=c.memoizedProps,w=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":v.autoFocus&&w.focus();break e;case"img":v.src?w.src=v.src:v.srcSet&&(w.srcset=v.srcSet)}}catch(M){Fr(c,c.return,M)}}function Gx(c,h,v){try{var w=c.stateNode;VZ(w,c.type,v,h),w[rn]=h}catch(M){Fr(c,c.return,M)}}function BP(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&tl(c.type)||c.tag===4}function Kx(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||BP(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&tl(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Xx(c,h,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(c,h):(h=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,h.appendChild(c),v=v._reactRootContainer,v!=null||h.onclick!==null||(h.onclick=jy));else if(w!==4&&(w===27&&tl(c.type)&&(v=c.stateNode,h=null),c=c.child,c!==null))for(Xx(c,h,v),c=c.sibling;c!==null;)Xx(c,h,v),c=c.sibling}function My(c,h,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?v.insertBefore(c,h):v.appendChild(c);else if(w!==4&&(w===27&&tl(c.type)&&(v=c.stateNode),c=c.child,c!==null))for(My(c,h,v),c=c.sibling;c!==null;)My(c,h,v),c=c.sibling}function FP(c){var h=c.stateNode,v=c.memoizedProps;try{for(var w=c.type,M=h.attributes;M.length;)h.removeAttributeNode(M[0]);ui(h,w,v),h[un]=c,h[rn]=v}catch(B){Fr(c,c.return,B)}}var tu=!1,cn=!1,Wx=!1,kP=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function EZ(c,h){if(c=c.containerInfo,bA=Wy,c=XI(c),K_(c)){if("selectionStart"in c)var v={start:c.selectionStart,end:c.selectionEnd};else e:{v=(v=c.ownerDocument)&&v.defaultView||window;var w=v.getSelection&&v.getSelection();if(w&&w.rangeCount!==0){v=w.anchorNode;var M=w.anchorOffset,B=w.focusNode;w=w.focusOffset;try{v.nodeType,B.nodeType}catch{v=null;break e}var X=0,re=-1,ve=-1,Me=0,Ue=0,Ke=c,Pe=null;t:for(;;){for(var Be;Ke!==v||M!==0&&Ke.nodeType!==3||(re=X+M),Ke!==B||w!==0&&Ke.nodeType!==3||(ve=X+w),Ke.nodeType===3&&(X+=Ke.nodeValue.length),(Be=Ke.firstChild)!==null;)Pe=Ke,Ke=Be;for(;;){if(Ke===c)break t;if(Pe===v&&++Me===M&&(re=X),Pe===B&&++Ue===w&&(ve=X),(Be=Ke.nextSibling)!==null)break;Ke=Pe,Pe=Ke.parentNode}Ke=Be}v=re===-1||ve===-1?null:{start:re,end:ve}}else v=null}v=v||{start:0,end:0}}else v=null;for(wA={focusedElem:c,selectionRange:v},Wy=!1,Xn=h;Xn!==null;)if(h=Xn,c=h.child,(h.subtreeFlags&1024)!==0&&c!==null)c.return=h,Xn=c;else for(;Xn!==null;){switch(h=Xn,B=h.alternate,c=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&B!==null){c=void 0,v=h,M=B.memoizedProps,B=B.memoizedState,w=v.stateNode;try{var Tt=Mc(v.type,M,v.elementType===v.type);c=w.getSnapshotBeforeUpdate(Tt,B),w.__reactInternalSnapshotBeforeUpdate=c}catch(wt){Fr(v,v.return,wt)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,v=c.nodeType,v===9)AA(c);else if(v===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":AA(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=h.sibling,c!==null){c.return=h.return,Xn=c;break}Xn=h.return}}function $P(c,h,v){var w=v.flags;switch(v.tag){case 0:case 11:case 15:Xu(c,v),w&4&&am(5,v);break;case 1:if(Xu(c,v),w&4)if(c=v.stateNode,h===null)try{c.componentDidMount()}catch(X){Fr(v,v.return,X)}else{var M=Mc(v.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(M,h,c.__reactInternalSnapshotBeforeUpdate)}catch(X){Fr(v,v.return,X)}}w&64&&IP(v),w&512&&om(v,v.return);break;case 3:if(Xu(c,v),w&64&&(c=v.updateQueue,c!==null)){if(h=null,v.child!==null)switch(v.child.tag){case 27:case 5:h=v.child.stateNode;break;case 1:h=v.child.stateNode}try{bR(c,h)}catch(X){Fr(v,v.return,X)}}break;case 27:h===null&&w&4&&FP(v);case 26:case 5:Xu(c,v),h===null&&w&4&&PP(v),w&512&&om(v,v.return);break;case 12:Xu(c,v);break;case 13:Xu(c,v),w&4&&UP(c,v),w&64&&(c=v.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(v=RZ.bind(null,v),QZ(c,v))));break;case 22:if(w=v.memoizedState!==null||tu,!w){h=h!==null&&h.memoizedState!==null||cn,M=tu;var B=cn;tu=w,(cn=h)&&!B?Wu(c,v,(v.subtreeFlags&8772)!==0):Xu(c,v),tu=M,cn=B}break;case 30:break;default:Xu(c,v)}}function LP(c){var h=c.alternate;h!==null&&(c.alternate=null,LP(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&Ko(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Xr=null,Yi=!1;function ru(c,h,v){for(v=v.child;v!==null;)qP(c,h,v),v=v.sibling}function qP(c,h,v){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(ye,v)}catch{}switch(v.tag){case 26:cn||as(v,h),ru(c,h,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:cn||as(v,h);var w=Xr,M=Yi;tl(v.type)&&(Xr=v.stateNode,Yi=!1),ru(c,h,v),mm(v.stateNode),Xr=w,Yi=M;break;case 5:cn||as(v,h);case 6:if(w=Xr,M=Yi,Xr=null,ru(c,h,v),Xr=w,Yi=M,Xr!==null)if(Yi)try{(Xr.nodeType===9?Xr.body:Xr.nodeName==="HTML"?Xr.ownerDocument.body:Xr).removeChild(v.stateNode)}catch(B){Fr(v,h,B)}else try{Xr.removeChild(v.stateNode)}catch(B){Fr(v,h,B)}break;case 18:Xr!==null&&(Yi?(c=Xr,N3(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,v.stateNode),Am(c)):N3(Xr,v.stateNode));break;case 4:w=Xr,M=Yi,Xr=v.stateNode.containerInfo,Yi=!0,ru(c,h,v),Xr=w,Yi=M;break;case 0:case 11:case 14:case 15:cn||Ku(2,v,h),cn||Ku(4,v,h),ru(c,h,v);break;case 1:cn||(as(v,h),w=v.stateNode,typeof w.componentWillUnmount=="function"&&RP(v,h,w)),ru(c,h,v);break;case 21:ru(c,h,v);break;case 22:cn=(w=cn)||v.memoizedState!==null,ru(c,h,v),cn=w;break;default:ru(c,h,v)}}function UP(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Am(c)}catch(v){Fr(h,h.return,v)}}function SZ(c){switch(c.tag){case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new kP),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new kP),h;default:throw Error(n(435,c.tag))}}function Yx(c,h){var v=SZ(c);h.forEach(function(w){var M=PZ.bind(null,c,w);v.has(w)||(v.add(w),w.then(M,M))})}function da(c,h){var v=h.deletions;if(v!==null)for(var w=0;w<v.length;w++){var M=v[w],B=c,X=h,re=X;e:for(;re!==null;){switch(re.tag){case 27:if(tl(re.type)){Xr=re.stateNode,Yi=!1;break e}break;case 5:Xr=re.stateNode,Yi=!1;break e;case 3:case 4:Xr=re.stateNode.containerInfo,Yi=!0;break e}re=re.return}if(Xr===null)throw Error(n(160));qP(B,X,M),Xr=null,Yi=!1,B=M.alternate,B!==null&&(B.return=null),M.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)jP(h,c),h=h.sibling}var bo=null;function jP(c,h){var v=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:da(h,c),pa(c),w&4&&(Ku(3,c,c.return),am(3,c),Ku(5,c,c.return));break;case 1:da(h,c),pa(c),w&512&&(cn||v===null||as(v,v.return)),w&64&&tu&&(c=c.updateQueue,c!==null&&(w=c.callbacks,w!==null&&(v=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=v===null?w:v.concat(w))));break;case 26:var M=bo;if(da(h,c),pa(c),w&512&&(cn||v===null||as(v,v.return)),w&4){var B=v!==null?v.memoizedState:null;if(w=c.memoizedState,v===null)if(w===null)if(c.stateNode===null){e:{w=c.type,v=c.memoizedProps,M=M.ownerDocument||M;t:switch(w){case"title":B=M.getElementsByTagName("title")[0],(!B||B[Fs]||B[un]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=M.createElement(w),M.head.insertBefore(B,M.querySelector("head > title"))),ui(B,w,v),B[un]=c,Zr(B),w=B;break e;case"link":var X=F3("link","href",M).get(w+(v.href||""));if(X){for(var re=0;re<X.length;re++)if(B=X[re],B.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&B.getAttribute("rel")===(v.rel==null?null:v.rel)&&B.getAttribute("title")===(v.title==null?null:v.title)&&B.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){X.splice(re,1);break t}}B=M.createElement(w),ui(B,w,v),M.head.appendChild(B);break;case"meta":if(X=F3("meta","content",M).get(w+(v.content||""))){for(re=0;re<X.length;re++)if(B=X[re],B.getAttribute("content")===(v.content==null?null:""+v.content)&&B.getAttribute("name")===(v.name==null?null:v.name)&&B.getAttribute("property")===(v.property==null?null:v.property)&&B.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&B.getAttribute("charset")===(v.charSet==null?null:v.charSet)){X.splice(re,1);break t}}B=M.createElement(w),ui(B,w,v),M.head.appendChild(B);break;default:throw Error(n(468,w))}B[un]=c,Zr(B),w=B}c.stateNode=w}else k3(M,c.type,c.stateNode);else c.stateNode=B3(M,w,c.memoizedProps);else B!==w?(B===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):B.count--,w===null?k3(M,c.type,c.stateNode):B3(M,w,c.memoizedProps)):w===null&&c.stateNode!==null&&Gx(c,c.memoizedProps,v.memoizedProps)}break;case 27:da(h,c),pa(c),w&512&&(cn||v===null||as(v,v.return)),v!==null&&w&4&&Gx(c,c.memoizedProps,v.memoizedProps);break;case 5:if(da(h,c),pa(c),w&512&&(cn||v===null||as(v,v.return)),c.flags&32){M=c.stateNode;try{Ba(M,"")}catch(Be){Fr(c,c.return,Be)}}w&4&&c.stateNode!=null&&(M=c.memoizedProps,Gx(c,M,v!==null?v.memoizedProps:M)),w&1024&&(Wx=!0);break;case 6:if(da(h,c),pa(c),w&4){if(c.stateNode===null)throw Error(n(162));w=c.memoizedProps,v=c.stateNode;try{v.nodeValue=w}catch(Be){Fr(c,c.return,Be)}}break;case 3:if(Gy=null,M=bo,bo=Vy(h.containerInfo),da(h,c),bo=M,pa(c),w&4&&v!==null&&v.memoizedState.isDehydrated)try{Am(h.containerInfo)}catch(Be){Fr(c,c.return,Be)}Wx&&(Wx=!1,zP(c));break;case 4:w=bo,bo=Vy(c.stateNode.containerInfo),da(h,c),pa(c),bo=w;break;case 12:da(h,c),pa(c);break;case 13:da(h,c),pa(c),c.child.flags&8192&&c.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(rA=We()),w&4&&(w=c.updateQueue,w!==null&&(c.updateQueue=null,Yx(c,w)));break;case 22:M=c.memoizedState!==null;var ve=v!==null&&v.memoizedState!==null,Me=tu,Ue=cn;if(tu=Me||M,cn=Ue||ve,da(h,c),cn=Ue,tu=Me,pa(c),w&8192)e:for(h=c.stateNode,h._visibility=M?h._visibility&-2:h._visibility|1,M&&(v===null||ve||tu||cn||Ic(c)),v=null,h=c;;){if(h.tag===5||h.tag===26){if(v===null){ve=v=h;try{if(B=ve.stateNode,M)X=B.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none";else{re=ve.stateNode;var Ke=ve.memoizedProps.style,Pe=Ke!=null&&Ke.hasOwnProperty("display")?Ke.display:null;re.style.display=Pe==null||typeof Pe=="boolean"?"":(""+Pe).trim()}}catch(Be){Fr(ve,ve.return,Be)}}}else if(h.tag===6){if(v===null){ve=h;try{ve.stateNode.nodeValue=M?"":ve.memoizedProps}catch(Be){Fr(ve,ve.return,Be)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;v===h&&(v=null),h=h.return}v===h&&(v=null),h.sibling.return=h.return,h=h.sibling}w&4&&(w=c.updateQueue,w!==null&&(v=w.retryQueue,v!==null&&(w.retryQueue=null,Yx(c,v))));break;case 19:da(h,c),pa(c),w&4&&(w=c.updateQueue,w!==null&&(c.updateQueue=null,Yx(c,w)));break;case 30:break;case 21:break;default:da(h,c),pa(c)}}function pa(c){var h=c.flags;if(h&2){try{for(var v,w=c.return;w!==null;){if(BP(w)){v=w;break}w=w.return}if(v==null)throw Error(n(160));switch(v.tag){case 27:var M=v.stateNode,B=Kx(c);My(c,B,M);break;case 5:var X=v.stateNode;v.flags&32&&(Ba(X,""),v.flags&=-33);var re=Kx(c);My(c,re,X);break;case 3:case 4:var ve=v.stateNode.containerInfo,Me=Kx(c);Xx(c,Me,ve);break;default:throw Error(n(161))}}catch(Ue){Fr(c,c.return,Ue)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function zP(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;zP(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function Xu(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)$P(c,h.alternate,h),h=h.sibling}function Ic(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:Ku(4,h,h.return),Ic(h);break;case 1:as(h,h.return);var v=h.stateNode;typeof v.componentWillUnmount=="function"&&RP(h,h.return,v),Ic(h);break;case 27:mm(h.stateNode);case 26:case 5:as(h,h.return),Ic(h);break;case 22:h.memoizedState===null&&Ic(h);break;case 30:Ic(h);break;default:Ic(h)}c=c.sibling}}function Wu(c,h,v){for(v=v&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var w=h.alternate,M=c,B=h,X=B.flags;switch(B.tag){case 0:case 11:case 15:Wu(M,B,v),am(4,B);break;case 1:if(Wu(M,B,v),w=B,M=w.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Me){Fr(w,w.return,Me)}if(w=B,M=w.updateQueue,M!==null){var re=w.stateNode;try{var ve=M.shared.hiddenCallbacks;if(ve!==null)for(M.shared.hiddenCallbacks=null,M=0;M<ve.length;M++)yR(ve[M],re)}catch(Me){Fr(w,w.return,Me)}}v&&X&64&&IP(B),om(B,B.return);break;case 27:FP(B);case 26:case 5:Wu(M,B,v),v&&w===null&&X&4&&PP(B),om(B,B.return);break;case 12:Wu(M,B,v);break;case 13:Wu(M,B,v),v&&X&4&&UP(M,B);break;case 22:B.memoizedState===null&&Wu(M,B,v),om(B,B.return);break;case 30:break;default:Wu(M,B,v)}h=h.sibling}}function Qx(c,h){var v=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==v&&(c!=null&&c.refCount++,v!=null&&Hp(v))}function Zx(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Hp(c))}function os(c,h,v,w){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)VP(c,h,v,w),h=h.sibling}function VP(c,h,v,w){var M=h.flags;switch(h.tag){case 0:case 11:case 15:os(c,h,v,w),M&2048&&am(9,h);break;case 1:os(c,h,v,w);break;case 3:os(c,h,v,w),M&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Hp(c)));break;case 12:if(M&2048){os(c,h,v,w),c=h.stateNode;try{var B=h.memoizedProps,X=B.id,re=B.onPostCommit;typeof re=="function"&&re(X,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ve){Fr(h,h.return,ve)}}else os(c,h,v,w);break;case 13:os(c,h,v,w);break;case 23:break;case 22:B=h.stateNode,X=h.alternate,h.memoizedState!==null?B._visibility&2?os(c,h,v,w):sm(c,h):B._visibility&2?os(c,h,v,w):(B._visibility|=2,yh(c,h,v,w,(h.subtreeFlags&10256)!==0)),M&2048&&Qx(X,h);break;case 24:os(c,h,v,w),M&2048&&Zx(h.alternate,h);break;default:os(c,h,v,w)}}function yh(c,h,v,w,M){for(M=M&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var B=c,X=h,re=v,ve=w,Me=X.flags;switch(X.tag){case 0:case 11:case 15:yh(B,X,re,ve,M),am(8,X);break;case 23:break;case 22:var Ue=X.stateNode;X.memoizedState!==null?Ue._visibility&2?yh(B,X,re,ve,M):sm(B,X):(Ue._visibility|=2,yh(B,X,re,ve,M)),M&&Me&2048&&Qx(X.alternate,X);break;case 24:yh(B,X,re,ve,M),M&&Me&2048&&Zx(X.alternate,X);break;default:yh(B,X,re,ve,M)}h=h.sibling}}function sm(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var v=c,w=h,M=w.flags;switch(w.tag){case 22:sm(v,w),M&2048&&Qx(w.alternate,w);break;case 24:sm(v,w),M&2048&&Zx(w.alternate,w);break;default:sm(v,w)}h=h.sibling}}var um=8192;function bh(c){if(c.subtreeFlags&um)for(c=c.child;c!==null;)HP(c),c=c.sibling}function HP(c){switch(c.tag){case 26:bh(c),c.flags&um&&c.memoizedState!==null&&cJ(bo,c.memoizedState,c.memoizedProps);break;case 5:bh(c);break;case 3:case 4:var h=bo;bo=Vy(c.stateNode.containerInfo),bh(c),bo=h;break;case 22:c.memoizedState===null&&(h=c.alternate,h!==null&&h.memoizedState!==null?(h=um,um=16777216,bh(c),um=h):bh(c));break;default:bh(c)}}function GP(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function lm(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];Xn=w,XP(w,c)}GP(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)KP(c),c=c.sibling}function KP(c){switch(c.tag){case 0:case 11:case 15:lm(c),c.flags&2048&&Ku(9,c,c.return);break;case 3:lm(c);break;case 12:lm(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,Iy(c)):lm(c);break;default:lm(c)}}function Iy(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];Xn=w,XP(w,c)}GP(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:Ku(8,h,h.return),Iy(h);break;case 22:v=h.stateNode,v._visibility&2&&(v._visibility&=-3,Iy(h));break;default:Iy(h)}c=c.sibling}}function XP(c,h){for(;Xn!==null;){var v=Xn;switch(v.tag){case 0:case 11:case 15:Ku(8,v,h);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var w=v.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Hp(v.memoizedState.cache)}if(w=v.child,w!==null)w.return=v,Xn=w;else e:for(v=c;Xn!==null;){w=Xn;var M=w.sibling,B=w.return;if(LP(w),w===v){Xn=null;break e}if(M!==null){M.return=B,Xn=M;break e}Xn=B}}}var TZ={getCacheForType:function(c){var h=bi(On),v=h.data.get(c);return v===void 0&&(v=c(),h.data.set(c,v)),v}},DZ=typeof WeakMap=="function"?WeakMap:Map,Ar=0,qr=null,Zt=null,lr=0,Er=0,ma=null,Yu=!1,wh=!1,Jx=!1,nu=0,an=0,Qu=0,Rc=0,eA=0,Va=0,_h=0,cm=null,Qi=null,tA=!1,rA=0,Ry=1/0,Py=null,Zu=null,si=0,Ju=null,xh=null,Ah=0,nA=0,iA=null,WP=null,fm=0,aA=null;function va(){if((Ar&2)!==0&&lr!==0)return lr&-lr;if(k.T!==null){var c=ch;return c!==0?c:hA()}return Ho()}function YP(){Va===0&&(Va=(lr&536870912)===0||mr?He():536870912);var c=za.current;return c!==null&&(c.flags|=32),Va}function ga(c,h,v){(c===qr&&(Er===2||Er===9)||c.cancelPendingCommit!==null)&&(Eh(c,0),el(c,lr,Va,!1)),xr(c,v),((Ar&2)===0||c!==qr)&&(c===qr&&((Ar&2)===0&&(Rc|=v),an===4&&el(c,lr,Va,!1)),ss(c))}function QP(c,h,v){if((Ar&6)!==0)throw Error(n(327));var w=!v&&(h&124)===0&&(h&c.expiredLanes)===0||pe(c,h),M=w?OZ(c,h):uA(c,h,!0),B=w;do{if(M===0){wh&&!w&&el(c,h,0,!1);break}else{if(v=c.current.alternate,B&&!NZ(v)){M=uA(c,h,!1),B=!1;continue}if(M===2){if(B=h,c.errorRecoveryDisabledLanes&B)var X=0;else X=c.pendingLanes&-536870913,X=X!==0?X:X&536870912?536870912:0;if(X!==0){h=X;e:{var re=c;M=cm;var ve=re.current.memoizedState.isDehydrated;if(ve&&(Eh(re,X).flags|=256),X=uA(re,X,!1),X!==2){if(Jx&&!ve){re.errorRecoveryDisabledLanes|=B,Rc|=B,M=4;break e}B=Qi,Qi=M,B!==null&&(Qi===null?Qi=B:Qi.push.apply(Qi,B))}M=X}if(B=!1,M!==2)continue}}if(M===1){Eh(c,0),el(c,h,0,!0);break}e:{switch(w=c,B=M,B){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:el(w,h,Va,!Yu);break e;case 2:Qi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(M=rA+300-We(),10<M)){if(el(w,h,Va,!Yu),q(w,0,!0)!==0)break e;w.timeoutHandle=T3(ZP.bind(null,w,v,Qi,Py,tA,h,Va,Rc,_h,Yu,B,2,-0,0),M);break e}ZP(w,v,Qi,Py,tA,h,Va,Rc,_h,Yu,B,0,-0,0)}}break}while(!0);ss(c)}function ZP(c,h,v,w,M,B,X,re,ve,Me,Ue,Ke,Pe,Be){if(c.timeoutHandle=-1,Ke=h.subtreeFlags,(Ke&8192||(Ke&16785408)===16785408)&&(ym={stylesheets:null,count:0,unsuspend:lJ},HP(h),Ke=fJ(),Ke!==null)){c.cancelPendingCommit=Ke(a3.bind(null,c,h,B,v,w,M,X,re,ve,Ue,1,Pe,Be)),el(c,B,X,!Me);return}a3(c,h,B,v,w,M,X,re,ve)}function NZ(c){for(var h=c;;){var v=h.tag;if((v===0||v===11||v===15)&&h.flags&16384&&(v=h.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var w=0;w<v.length;w++){var M=v[w],B=M.getSnapshot;M=M.value;try{if(!fa(B(),M))return!1}catch{return!1}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function el(c,h,v,w){h&=~eA,h&=~Rc,c.suspendedLanes|=h,c.pingedLanes&=~h,w&&(c.warmLanes|=h),w=c.expirationTimes;for(var M=h;0<M;){var B=31-qe(M),X=1<<B;w[B]=-1,M&=~X}v!==0&&Ia(c,v,h)}function By(){return(Ar&6)===0?(hm(0),!1):!0}function oA(){if(Zt!==null){if(Er===0)var c=Zt.return;else c=Zt,Ws=Dc=null,Ax(c),vh=null,rm=0,c=Zt;for(;c!==null;)MP(c.alternate,c),c=c.return;Zt=null}}function Eh(c,h){var v=c.timeoutHandle;v!==-1&&(c.timeoutHandle=-1,GZ(v)),v=c.cancelPendingCommit,v!==null&&(c.cancelPendingCommit=null,v()),oA(),qr=c,Zt=v=Gs(c.current,null),lr=h,Er=0,ma=null,Yu=!1,wh=pe(c,h),Jx=!1,_h=Va=eA=Rc=Qu=an=0,Qi=cm=null,tA=!1,(h&8)!==0&&(h|=h&32);var w=c.entangledLanes;if(w!==0)for(c=c.entanglements,w&=h;0<w;){var M=31-qe(w),B=1<<M;h|=c[M],w&=~B}return nu=h,ny(),v}function JP(c,h){Xt=null,k.H=xy,h===Kp||h===hy?(h=vR(),Er=3):h===dR?(h=vR(),Er=4):Er=h===gP?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,ma=h,Zt===null&&(an=1,Dy(c,La(h,c.current)))}function e3(){var c=k.H;return k.H=xy,c===null?xy:c}function t3(){var c=k.A;return k.A=TZ,c}function sA(){an=4,Yu||(lr&4194048)!==lr&&za.current!==null||(wh=!0),(Qu&134217727)===0&&(Rc&134217727)===0||qr===null||el(qr,lr,Va,!1)}function uA(c,h,v){var w=Ar;Ar|=2;var M=e3(),B=t3();(qr!==c||lr!==h)&&(Py=null,Eh(c,h)),h=!1;var X=an;e:do try{if(Er!==0&&Zt!==null){var re=Zt,ve=ma;switch(Er){case 8:oA(),X=6;break e;case 3:case 2:case 9:case 6:za.current===null&&(h=!0);var Me=Er;if(Er=0,ma=null,Sh(c,re,ve,Me),v&&wh){X=0;break e}break;default:Me=Er,Er=0,ma=null,Sh(c,re,ve,Me)}}CZ(),X=an;break}catch(Ue){JP(c,Ue)}while(!0);return h&&c.shellSuspendCounter++,Ws=Dc=null,Ar=w,k.H=M,k.A=B,Zt===null&&(qr=null,lr=0,ny()),X}function CZ(){for(;Zt!==null;)r3(Zt)}function OZ(c,h){var v=Ar;Ar|=2;var w=e3(),M=t3();qr!==c||lr!==h?(Py=null,Ry=We()+500,Eh(c,h)):wh=pe(c,h);e:do try{if(Er!==0&&Zt!==null){h=Zt;var B=ma;t:switch(Er){case 1:Er=0,ma=null,Sh(c,h,B,1);break;case 2:case 9:if(pR(B)){Er=0,ma=null,n3(h);break}h=function(){Er!==2&&Er!==9||qr!==c||(Er=7),ss(c)},B.then(h,h);break e;case 3:Er=7;break e;case 4:Er=5;break e;case 7:pR(B)?(Er=0,ma=null,n3(h)):(Er=0,ma=null,Sh(c,h,B,7));break;case 5:var X=null;switch(Zt.tag){case 26:X=Zt.memoizedState;case 5:case 27:var re=Zt;if(!X||$3(X)){Er=0,ma=null;var ve=re.sibling;if(ve!==null)Zt=ve;else{var Me=re.return;Me!==null?(Zt=Me,Fy(Me)):Zt=null}break t}}Er=0,ma=null,Sh(c,h,B,5);break;case 6:Er=0,ma=null,Sh(c,h,B,6);break;case 8:oA(),an=6;break e;default:throw Error(n(462))}}MZ();break}catch(Ue){JP(c,Ue)}while(!0);return Ws=Dc=null,k.H=w,k.A=M,Ar=v,Zt!==null?0:(qr=null,lr=0,ny(),an)}function MZ(){for(;Zt!==null&&!Ce();)r3(Zt)}function r3(c){var h=CP(c.alternate,c,nu);c.memoizedProps=c.pendingProps,h===null?Fy(c):Zt=h}function n3(c){var h=c,v=h.alternate;switch(h.tag){case 15:case 0:h=AP(v,h,h.pendingProps,h.type,void 0,lr);break;case 11:h=AP(v,h,h.pendingProps,h.type.render,h.ref,lr);break;case 5:Ax(h);default:MP(v,h),h=Zt=iR(h,nu),h=CP(v,h,nu)}c.memoizedProps=c.pendingProps,h===null?Fy(c):Zt=h}function Sh(c,h,v,w){Ws=Dc=null,Ax(h),vh=null,rm=0;var M=h.return;try{if(wZ(c,M,h,v,lr)){an=1,Dy(c,La(v,c.current)),Zt=null;return}}catch(B){if(M!==null)throw Zt=M,B;an=1,Dy(c,La(v,c.current)),Zt=null;return}h.flags&32768?(mr||w===1?c=!0:wh||(lr&536870912)!==0?c=!1:(Yu=c=!0,(w===2||w===9||w===3||w===6)&&(w=za.current,w!==null&&w.tag===13&&(w.flags|=16384))),i3(h,c)):Fy(h)}function Fy(c){var h=c;do{if((h.flags&32768)!==0){i3(h,Yu);return}c=h.return;var v=xZ(h.alternate,h,nu);if(v!==null){Zt=v;return}if(h=h.sibling,h!==null){Zt=h;return}Zt=h=c}while(h!==null);an===0&&(an=5)}function i3(c,h){do{var v=AZ(c.alternate,c);if(v!==null){v.flags&=32767,Zt=v;return}if(v=c.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!h&&(c=c.sibling,c!==null)){Zt=c;return}Zt=c=v}while(c!==null);an=6,Zt=null}function a3(c,h,v,w,M,B,X,re,ve){c.cancelPendingCommit=null;do ky();while(si!==0);if((Ar&6)!==0)throw Error(n(327));if(h!==null){if(h===c.current)throw Error(n(177));if(B=h.lanes|h.childLanes,B|=Z_,Bs(c,v,B,X,re,ve),c===qr&&(Zt=qr=null,lr=0),xh=h,Ju=c,Ah=v,nA=B,iA=M,WP=w,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,BZ(ce,function(){return c3(),null})):(c.callbackNode=null,c.callbackPriority=0),w=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||w){w=k.T,k.T=null,M=V.p,V.p=2,X=Ar,Ar|=4;try{EZ(c,h,v)}finally{Ar=X,V.p=M,k.T=w}}si=1,o3(),s3(),u3()}}function o3(){if(si===1){si=0;var c=Ju,h=xh,v=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||v){v=k.T,k.T=null;var w=V.p;V.p=2;var M=Ar;Ar|=4;try{jP(h,c);var B=wA,X=XI(c.containerInfo),re=B.focusedElem,ve=B.selectionRange;if(X!==re&&re&&re.ownerDocument&&KI(re.ownerDocument.documentElement,re)){if(ve!==null&&K_(re)){var Me=ve.start,Ue=ve.end;if(Ue===void 0&&(Ue=Me),"selectionStart"in re)re.selectionStart=Me,re.selectionEnd=Math.min(Ue,re.value.length);else{var Ke=re.ownerDocument||document,Pe=Ke&&Ke.defaultView||window;if(Pe.getSelection){var Be=Pe.getSelection(),Tt=re.textContent.length,wt=Math.min(ve.start,Tt),Ir=ve.end===void 0?wt:Math.min(ve.end,Tt);!Be.extend&&wt>Ir&&(X=Ir,Ir=wt,wt=X);var Se=GI(re,wt),Ae=GI(re,Ir);if(Se&&Ae&&(Be.rangeCount!==1||Be.anchorNode!==Se.node||Be.anchorOffset!==Se.offset||Be.focusNode!==Ae.node||Be.focusOffset!==Ae.offset)){var Oe=Ke.createRange();Oe.setStart(Se.node,Se.offset),Be.removeAllRanges(),wt>Ir?(Be.addRange(Oe),Be.extend(Ae.node,Ae.offset)):(Oe.setEnd(Ae.node,Ae.offset),Be.addRange(Oe))}}}}for(Ke=[],Be=re;Be=Be.parentNode;)Be.nodeType===1&&Ke.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof re.focus=="function"&&re.focus(),re=0;re<Ke.length;re++){var Ve=Ke[re];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Wy=!!bA,wA=bA=null}finally{Ar=M,V.p=w,k.T=v}}c.current=h,si=2}}function s3(){if(si===2){si=0;var c=Ju,h=xh,v=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||v){v=k.T,k.T=null;var w=V.p;V.p=2;var M=Ar;Ar|=4;try{$P(c,h.alternate,h)}finally{Ar=M,V.p=w,k.T=v}}si=3}}function u3(){if(si===4||si===3){si=0,je();var c=Ju,h=xh,v=Ah,w=WP;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?si=5:(si=0,xh=Ju=null,l3(c,c.pendingLanes));var M=c.pendingLanes;if(M===0&&(Zu=null),Fu(v),h=h.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(ye,h,void 0,(h.current.flags&128)===128)}catch{}if(w!==null){h=k.T,M=V.p,V.p=2,k.T=null;try{for(var B=c.onRecoverableError,X=0;X<w.length;X++){var re=w[X];B(re.value,{componentStack:re.stack})}}finally{k.T=h,V.p=M}}(Ah&3)!==0&&ky(),ss(c),M=c.pendingLanes,(v&4194090)!==0&&(M&42)!==0?c===aA?fm++:(fm=0,aA=c):fm=0,hm(0)}}function l3(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,Hp(h)))}function ky(c){return o3(),s3(),u3(),c3()}function c3(){if(si!==5)return!1;var c=Ju,h=nA;nA=0;var v=Fu(Ah),w=k.T,M=V.p;try{V.p=32>v?32:v,k.T=null,v=iA,iA=null;var B=Ju,X=Ah;if(si=0,xh=Ju=null,Ah=0,(Ar&6)!==0)throw Error(n(331));var re=Ar;if(Ar|=4,KP(B.current),VP(B,B.current,X,v),Ar=re,hm(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(ye,B)}catch{}return!0}finally{V.p=M,k.T=w,l3(c,h)}}function f3(c,h,v){h=La(v,h),h=kx(c.stateNode,h,2),c=zu(c,h,2),c!==null&&(xr(c,2),ss(c))}function Fr(c,h,v){if(c.tag===3)f3(c,c,v);else for(;h!==null;){if(h.tag===3){f3(h,c,v);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Zu===null||!Zu.has(w))){c=La(v,c),v=mP(2),w=zu(h,v,2),w!==null&&(vP(v,w,h,c),xr(w,2),ss(w));break}}h=h.return}}function lA(c,h,v){var w=c.pingCache;if(w===null){w=c.pingCache=new DZ;var M=new Set;w.set(h,M)}else M=w.get(h),M===void 0&&(M=new Set,w.set(h,M));M.has(v)||(Jx=!0,M.add(v),c=IZ.bind(null,c,h,v),h.then(c,c))}function IZ(c,h,v){var w=c.pingCache;w!==null&&w.delete(h),c.pingedLanes|=c.suspendedLanes&v,c.warmLanes&=~v,qr===c&&(lr&v)===v&&(an===4||an===3&&(lr&62914560)===lr&&300>We()-rA?(Ar&2)===0&&Eh(c,0):eA|=v,_h===lr&&(_h=0)),ss(c)}function h3(c,h){h===0&&(h=ht()),c=oh(c,h),c!==null&&(xr(c,h),ss(c))}function RZ(c){var h=c.memoizedState,v=0;h!==null&&(v=h.retryLane),h3(c,v)}function PZ(c,h){var v=0;switch(c.tag){case 13:var w=c.stateNode,M=c.memoizedState;M!==null&&(v=M.retryLane);break;case 19:w=c.stateNode;break;case 22:w=c.stateNode._retryCache;break;default:throw Error(n(314))}w!==null&&w.delete(h),h3(c,v)}function BZ(c,h){return Te(c,h)}var $y=null,Th=null,cA=!1,Ly=!1,fA=!1,Pc=0;function ss(c){c!==Th&&c.next===null&&(Th===null?$y=Th=c:Th=Th.next=c),Ly=!0,cA||(cA=!0,kZ())}function hm(c,h){if(!fA&&Ly){fA=!0;do for(var v=!1,w=$y;w!==null;){if(c!==0){var M=w.pendingLanes;if(M===0)var B=0;else{var X=w.suspendedLanes,re=w.pingedLanes;B=(1<<31-qe(42|c)+1)-1,B&=M&~(X&~re),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(v=!0,v3(w,B))}else B=lr,B=q(w,w===qr?B:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(B&3)===0||pe(w,B)||(v=!0,v3(w,B));w=w.next}while(v);fA=!1}}function FZ(){d3()}function d3(){Ly=cA=!1;var c=0;Pc!==0&&(HZ()&&(c=Pc),Pc=0);for(var h=We(),v=null,w=$y;w!==null;){var M=w.next,B=p3(w,h);B===0?(w.next=null,v===null?$y=M:v.next=M,M===null&&(Th=v)):(v=w,(c!==0||(B&3)!==0)&&(Ly=!0)),w=M}hm(c)}function p3(c,h){for(var v=c.suspendedLanes,w=c.pingedLanes,M=c.expirationTimes,B=c.pendingLanes&-62914561;0<B;){var X=31-qe(B),re=1<<X,ve=M[X];ve===-1?((re&v)===0||(re&w)!==0)&&(M[X]=Ie(re,h)):ve<=h&&(c.expiredLanes|=re),B&=~re}if(h=qr,v=lr,v=q(c,c===h?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),w=c.callbackNode,v===0||c===h&&(Er===2||Er===9)||c.cancelPendingCommit!==null)return w!==null&&w!==null&&he(w),c.callbackNode=null,c.callbackPriority=0;if((v&3)===0||pe(c,v)){if(h=v&-v,h===c.callbackPriority)return h;switch(w!==null&&he(w),Fu(v)){case 2:case 8:v=te;break;case 32:v=ce;break;case 268435456:v=Q;break;default:v=ce}return w=m3.bind(null,c),v=Te(v,w),c.callbackPriority=h,c.callbackNode=v,h}return w!==null&&w!==null&&he(w),c.callbackPriority=2,c.callbackNode=null,2}function m3(c,h){if(si!==0&&si!==5)return c.callbackNode=null,c.callbackPriority=0,null;var v=c.callbackNode;if(ky()&&c.callbackNode!==v)return null;var w=lr;return w=q(c,c===qr?w:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),w===0?null:(QP(c,w,h),p3(c,We()),c.callbackNode!=null&&c.callbackNode===v?m3.bind(null,c):null)}function v3(c,h){if(ky())return null;QP(c,h,!0)}function kZ(){KZ(function(){(Ar&6)!==0?Te(ze,FZ):d3()})}function hA(){return Pc===0&&(Pc=He()),Pc}function g3(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Xf(""+c)}function y3(c,h){var v=h.ownerDocument.createElement("input");return v.name=h.name,v.value=h.value,c.id&&v.setAttribute("form",c.id),h.parentNode.insertBefore(v,h),c=new FormData(c),v.parentNode.removeChild(v),c}function $Z(c,h,v,w,M){if(h==="submit"&&v&&v.stateNode===M){var B=g3((M[rn]||null).action),X=w.submitter;X&&(h=(h=X[rn]||null)?g3(h.formAction):X.getAttribute("formAction"),h!==null&&(B=h,X=null));var re=new Wf("action","action",null,w,M);c.push({event:re,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Pc!==0){var ve=X?y3(M,X):new FormData(M);Ix(v,{pending:!0,data:ve,method:M.method,action:B},null,ve)}}else typeof B=="function"&&(re.preventDefault(),ve=X?y3(M,X):new FormData(M),Ix(v,{pending:!0,data:ve,method:M.method,action:B},B,ve))},currentTarget:M}]})}}for(var dA=0;dA<Q_.length;dA++){var pA=Q_[dA],LZ=pA.toLowerCase(),qZ=pA[0].toUpperCase()+pA.slice(1);yo(LZ,"on"+qZ)}yo(QI,"onAnimationEnd"),yo(ZI,"onAnimationIteration"),yo(JI,"onAnimationStart"),yo("dblclick","onDoubleClick"),yo("focusin","onFocus"),yo("focusout","onBlur"),yo(nZ,"onTransitionRun"),yo(iZ,"onTransitionStart"),yo(aZ,"onTransitionCancel"),yo(eR,"onTransitionEnd"),vo("onMouseEnter",["mouseout","mouseover"]),vo("onMouseLeave",["mouseout","mouseover"]),vo("onPointerEnter",["pointerout","pointerover"]),vo("onPointerLeave",["pointerout","pointerover"]),la("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),la("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),la("onBeforeInput",["compositionend","keypress","textInput","paste"]),la("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),la("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dm));function b3(c,h){h=(h&4)!==0;for(var v=0;v<c.length;v++){var w=c[v],M=w.event;w=w.listeners;e:{var B=void 0;if(h)for(var X=w.length-1;0<=X;X--){var re=w[X],ve=re.instance,Me=re.currentTarget;if(re=re.listener,ve!==B&&M.isPropagationStopped())break e;B=re,M.currentTarget=Me;try{B(M)}catch(Ue){Ty(Ue)}M.currentTarget=null,B=ve}else for(X=0;X<w.length;X++){if(re=w[X],ve=re.instance,Me=re.currentTarget,re=re.listener,ve!==B&&M.isPropagationStopped())break e;B=re,M.currentTarget=Me;try{B(M)}catch(Ue){Ty(Ue)}M.currentTarget=null,B=ve}}}}function Jt(c,h){var v=h[sc];v===void 0&&(v=h[sc]=new Set);var w=c+"__bubble";v.has(w)||(w3(h,c,2,!1),v.add(w))}function mA(c,h,v){var w=0;h&&(w|=4),w3(v,c,w,h)}var qy="_reactListening"+Math.random().toString(36).slice(2);function vA(c){if(!c[qy]){c[qy]=!0,uc.forEach(function(v){v!=="selectionchange"&&(UZ.has(v)||mA(v,!1,c),mA(v,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[qy]||(h[qy]=!0,mA("selectionchange",!1,h))}}function w3(c,h,v,w){switch(V3(h)){case 2:var M=pJ;break;case 8:M=mJ;break;default:M=OA}v=M.bind(null,h,v,c),M=void 0,!ka||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(M=!0),w?M!==void 0?c.addEventListener(h,v,{capture:!0,passive:M}):c.addEventListener(h,v,!0):M!==void 0?c.addEventListener(h,v,{passive:M}):c.addEventListener(h,v,!1)}function gA(c,h,v,w,M){var B=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var X=w.tag;if(X===3||X===4){var re=w.stateNode.containerInfo;if(re===M)break;if(X===4)for(X=w.return;X!==null;){var ve=X.tag;if((ve===3||ve===4)&&X.stateNode.containerInfo===M)return;X=X.return}for(;re!==null;){if(X=mo(re),X===null)return;if(ve=X.tag,ve===5||ve===6||ve===26||ve===27){w=B=X;continue e}re=re.parentNode}}w=w.return}jg(function(){var Me=B,Ue=Fa(v),Ke=[];e:{var Pe=tR.get(c);if(Pe!==void 0){var Be=Wf,Tt=c;switch(c){case"keypress":if(Zo(v)===0)break e;case"keydown":case"keyup":Be=th;break;case"focusin":Tt="focus",Be=Zf;break;case"focusout":Tt="blur",Be=Zf;break;case"beforeblur":case"afterblur":Be=Zf;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=z_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=Yg;break;case QI:case ZI:case JI:Be=Jf;break;case eR:Be=Zg;break;case"scroll":case"scrollend":Be=zg;break;case"wheel":Be=rh;break;case"copy":case"cut":case"paste":Be=eh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=kp;break;case"toggle":case"beforetoggle":Be=ey}var wt=(h&4)!==0,Ir=!wt&&(c==="scroll"||c==="scrollend"),Se=wt?Pe!==null?Pe+"Capture":null:Pe;wt=[];for(var Ae=Me,Oe;Ae!==null;){var Ve=Ae;if(Oe=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Oe===null||Se===null||(Ve=dc(Ae,Se),Ve!=null&&wt.push(pm(Ae,Ve,Oe))),Ir)break;Ae=Ae.return}0<wt.length&&(Pe=new Be(Pe,Tt,null,v,Ue),Ke.push({event:Pe,listeners:wt}))}}if((h&7)===0){e:{if(Pe=c==="mouseover"||c==="pointerover",Be=c==="mouseout"||c==="pointerout",Pe&&v!==qs&&(Tt=v.relatedTarget||v.fromElement)&&(mo(Tt)||Tt[Xi]))break e;if((Be||Pe)&&(Pe=Ue.window===Ue?Ue:(Pe=Ue.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Be?(Tt=v.relatedTarget||v.toElement,Be=Me,Tt=Tt?mo(Tt):null,Tt!==null&&(Ir=a(Tt),wt=Tt.tag,Tt!==Ir||wt!==5&&wt!==27&&wt!==6)&&(Tt=null)):(Be=null,Tt=Me),Be!==Tt)){if(wt=$a,Ve="onMouseLeave",Se="onMouseEnter",Ae="mouse",(c==="pointerout"||c==="pointerover")&&(wt=kp,Ve="onPointerLeave",Se="onPointerEnter",Ae="pointer"),Ir=Be==null?Pe:Pa(Be),Oe=Tt==null?Pe:Pa(Tt),Pe=new wt(Ve,Ae+"leave",Be,v,Ue),Pe.target=Ir,Pe.relatedTarget=Oe,Ve=null,mo(Ue)===Me&&(wt=new wt(Se,Ae+"enter",Tt,v,Ue),wt.target=Oe,wt.relatedTarget=Ir,Ve=wt),Ir=Ve,Be&&Tt)t:{for(wt=Be,Se=Tt,Ae=0,Oe=wt;Oe;Oe=Dh(Oe))Ae++;for(Oe=0,Ve=Se;Ve;Ve=Dh(Ve))Oe++;for(;0<Ae-Oe;)wt=Dh(wt),Ae--;for(;0<Oe-Ae;)Se=Dh(Se),Oe--;for(;Ae--;){if(wt===Se||Se!==null&&wt===Se.alternate)break t;wt=Dh(wt),Se=Dh(Se)}wt=null}else wt=null;Be!==null&&_3(Ke,Pe,Be,wt,!1),Tt!==null&&Ir!==null&&_3(Ke,Ir,Tt,wt,!0)}}e:{if(Pe=Me?Pa(Me):window,Be=Pe.nodeName&&Pe.nodeName.toLowerCase(),Be==="select"||Be==="input"&&Pe.type==="file")var ct=qI;else if(Cn(Pe))if(UI)ct=eZ;else{ct=ZQ;var Wt=QQ}else Be=Pe.nodeName,!Be||Be.toLowerCase()!=="input"||Pe.type!=="checkbox"&&Pe.type!=="radio"?Me&&Op(Me.elementType)&&(ct=qI):ct=JQ;if(ct&&(ct=ct(c,Me))){Hs(Ke,ct,v,Ue);break e}Wt&&Wt(c,Pe,Me),c==="focusout"&&Me&&Pe.type==="number"&&Me.memoizedProps.value!=null&&$u(Pe,"number",Pe.value)}switch(Wt=Me?Pa(Me):window,c){case"focusin":(Cn(Wt)||Wt.contentEditable==="true")&&(nh=Wt,X_=Me,qp=null);break;case"focusout":qp=X_=nh=null;break;case"mousedown":W_=!0;break;case"contextmenu":case"mouseup":case"dragend":W_=!1,WI(Ke,v,Ue);break;case"selectionchange":if(rZ)break;case"keydown":case"keyup":WI(Ke,v,Ue)}var mt;if(ts)e:{switch(c){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else sr?Fe(c,v)&&(At="onCompositionEnd"):c==="keydown"&&v.keyCode===229&&(At="onCompositionStart");At&&(G&&v.locale!=="ko"&&(sr||At!=="onCompositionStart"?At==="onCompositionEnd"&&sr&&(mt=Ip()):(Qo=Ue,Lu="value"in Qo?Qo.value:Qo.textContent,sr=!0)),Wt=Uy(Me,At),0<Wt.length&&(At=new Bp(At,c,null,v,Ue),Ke.push({event:At,listeners:Wt}),mt?At.data=mt:(mt=nt(v),mt!==null&&(At.data=mt)))),(mt=L?Nn(c,v):ur(c,v))&&(At=Uy(Me,"onBeforeInput"),0<At.length&&(Wt=new Bp("onBeforeInput","beforeinput",null,v,Ue),Ke.push({event:Wt,listeners:At}),Wt.data=mt)),$Z(Ke,c,Me,v,Ue)}b3(Ke,h)})}function pm(c,h,v){return{instance:c,listener:h,currentTarget:v}}function Uy(c,h){for(var v=h+"Capture",w=[];c!==null;){var M=c,B=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||B===null||(M=dc(c,v),M!=null&&w.unshift(pm(c,M,B)),M=dc(c,h),M!=null&&w.push(pm(c,M,B))),c.tag===3)return w;c=c.return}return[]}function Dh(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function _3(c,h,v,w,M){for(var B=h._reactName,X=[];v!==null&&v!==w;){var re=v,ve=re.alternate,Me=re.stateNode;if(re=re.tag,ve!==null&&ve===w)break;re!==5&&re!==26&&re!==27||Me===null||(ve=Me,M?(Me=dc(v,B),Me!=null&&X.unshift(pm(v,Me,ve))):M||(Me=dc(v,B),Me!=null&&X.push(pm(v,Me,ve)))),v=v.return}X.length!==0&&c.push({event:h,listeners:X})}var jZ=/\r\n?/g,zZ=/\u0000|\uFFFD/g;function x3(c){return(typeof c=="string"?c:""+c).replace(jZ,`
`).replace(zZ,"")}function A3(c,h){return h=x3(h),x3(c)===h}function jy(){}function Mr(c,h,v,w,M,B){switch(v){case"children":typeof w=="string"?h==="body"||h==="textarea"&&w===""||Ba(c,w):(typeof w=="number"||typeof w=="bigint")&&h!=="body"&&Ba(c,""+w);break;case"className":Ri(c,"class",w);break;case"tabIndex":Ri(c,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(c,v,w);break;case"style":Cp(c,w,B);break;case"data":if(h!=="object"){Ri(c,"data",w);break}case"src":case"href":if(w===""&&(h!=="a"||v!=="href")){c.removeAttribute(v);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){c.removeAttribute(v);break}w=Xf(""+w),c.setAttribute(v,w);break;case"action":case"formAction":if(typeof w=="function"){c.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(v==="formAction"?(h!=="input"&&Mr(c,h,"name",M.name,M,null),Mr(c,h,"formEncType",M.formEncType,M,null),Mr(c,h,"formMethod",M.formMethod,M,null),Mr(c,h,"formTarget",M.formTarget,M,null)):(Mr(c,h,"encType",M.encType,M,null),Mr(c,h,"method",M.method,M,null),Mr(c,h,"target",M.target,M,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){c.removeAttribute(v);break}w=Xf(""+w),c.setAttribute(v,w);break;case"onClick":w!=null&&(c.onclick=jy);break;case"onScroll":w!=null&&Jt("scroll",c);break;case"onScrollEnd":w!=null&&Jt("scrollend",c);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(v=w.__html,v!=null){if(M.children!=null)throw Error(n(60));c.innerHTML=v}}break;case"multiple":c.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":c.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){c.removeAttribute("xlink:href");break}v=Xf(""+w),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?c.setAttribute(v,""+w):c.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?c.setAttribute(v,""):c.removeAttribute(v);break;case"capture":case"download":w===!0?c.setAttribute(v,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?c.setAttribute(v,w):c.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?c.setAttribute(v,w):c.removeAttribute(v);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?c.removeAttribute(v):c.setAttribute(v,w);break;case"popover":Jt("beforetoggle",c),Jt("toggle",c),Wo(c,"popover",w);break;case"xlinkActuate":Jr(c,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Jr(c,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Jr(c,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Jr(c,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Jr(c,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Jr(c,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Jr(c,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Jr(c,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Jr(c,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Wo(c,"is",w);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=U_.get(v)||v,Wo(c,v,w))}}function yA(c,h,v,w,M,B){switch(v){case"style":Cp(c,w,B);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(v=w.__html,v!=null){if(M.children!=null)throw Error(n(60));c.innerHTML=v}}break;case"children":typeof w=="string"?Ba(c,w):(typeof w=="number"||typeof w=="bigint")&&Ba(c,""+w);break;case"onScroll":w!=null&&Jt("scroll",c);break;case"onScrollEnd":w!=null&&Jt("scrollend",c);break;case"onClick":w!=null&&(c.onclick=jy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ku.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(M=v.endsWith("Capture"),h=v.slice(2,M?v.length-7:void 0),B=c[rn]||null,B=B!=null?B[v]:null,typeof B=="function"&&c.removeEventListener(h,B,M),typeof w=="function")){typeof B!="function"&&B!==null&&(v in c?c[v]=null:c.hasAttribute(v)&&c.removeAttribute(v)),c.addEventListener(h,w,M);break e}v in c?c[v]=w:w===!0?c.setAttribute(v,""):Wo(c,v,w)}}}function ui(c,h,v){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",c),Jt("load",c);var w=!1,M=!1,B;for(B in v)if(v.hasOwnProperty(B)){var X=v[B];if(X!=null)switch(B){case"src":w=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Mr(c,h,B,X,v,null)}}M&&Mr(c,h,"srcSet",v.srcSet,v,null),w&&Mr(c,h,"src",v.src,v,null);return;case"input":Jt("invalid",c);var re=B=X=M=null,ve=null,Me=null;for(w in v)if(v.hasOwnProperty(w)){var Ue=v[w];if(Ue!=null)switch(w){case"name":M=Ue;break;case"type":X=Ue;break;case"checked":ve=Ue;break;case"defaultChecked":Me=Ue;break;case"value":B=Ue;break;case"defaultValue":re=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(n(137,h));break;default:Mr(c,h,w,Ue,v,null)}}cc(c,B,re,ve,Me,X,M,!1),Kf(c);return;case"select":Jt("invalid",c),w=X=B=null;for(M in v)if(v.hasOwnProperty(M)&&(re=v[M],re!=null))switch(M){case"value":B=re;break;case"defaultValue":X=re;break;case"multiple":w=re;default:Mr(c,h,M,re,v,null)}h=B,v=X,c.multiple=!!w,h!=null?Ls(c,!!w,h,!1):v!=null&&Ls(c,!!w,v,!0);return;case"textarea":Jt("invalid",c),B=M=w=null;for(X in v)if(v.hasOwnProperty(X)&&(re=v[X],re!=null))switch(X){case"value":w=re;break;case"defaultValue":M=re;break;case"children":B=re;break;case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(91));break;default:Mr(c,h,X,re,v,null)}fc(c,w,M,B),Kf(c);return;case"option":for(ve in v)if(v.hasOwnProperty(ve)&&(w=v[ve],w!=null))switch(ve){case"selected":c.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Mr(c,h,ve,w,v,null)}return;case"dialog":Jt("beforetoggle",c),Jt("toggle",c),Jt("cancel",c),Jt("close",c);break;case"iframe":case"object":Jt("load",c);break;case"video":case"audio":for(w=0;w<dm.length;w++)Jt(dm[w],c);break;case"image":Jt("error",c),Jt("load",c);break;case"details":Jt("toggle",c);break;case"embed":case"source":case"link":Jt("error",c),Jt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in v)if(v.hasOwnProperty(Me)&&(w=v[Me],w!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Mr(c,h,Me,w,v,null)}return;default:if(Op(h)){for(Ue in v)v.hasOwnProperty(Ue)&&(w=v[Ue],w!==void 0&&yA(c,h,Ue,w,v,void 0));return}}for(re in v)v.hasOwnProperty(re)&&(w=v[re],w!=null&&Mr(c,h,re,w,v,null))}function VZ(c,h,v,w){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,B=null,X=null,re=null,ve=null,Me=null,Ue=null;for(Be in v){var Ke=v[Be];if(v.hasOwnProperty(Be)&&Ke!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":ve=Ke;default:w.hasOwnProperty(Be)||Mr(c,h,Be,null,w,Ke)}}for(var Pe in w){var Be=w[Pe];if(Ke=v[Pe],w.hasOwnProperty(Pe)&&(Be!=null||Ke!=null))switch(Pe){case"type":B=Be;break;case"name":M=Be;break;case"checked":Me=Be;break;case"defaultChecked":Ue=Be;break;case"value":X=Be;break;case"defaultValue":re=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(n(137,h));break;default:Be!==Ke&&Mr(c,h,Pe,Be,w,Ke)}}ca(c,X,re,ve,Me,Ue,B,M);return;case"select":Be=X=re=Pe=null;for(B in v)if(ve=v[B],v.hasOwnProperty(B)&&ve!=null)switch(B){case"value":break;case"multiple":Be=ve;default:w.hasOwnProperty(B)||Mr(c,h,B,null,w,ve)}for(M in w)if(B=w[M],ve=v[M],w.hasOwnProperty(M)&&(B!=null||ve!=null))switch(M){case"value":Pe=B;break;case"defaultValue":re=B;break;case"multiple":X=B;default:B!==ve&&Mr(c,h,M,B,w,ve)}h=re,v=X,w=Be,Pe!=null?Ls(c,!!v,Pe,!1):!!w!=!!v&&(h!=null?Ls(c,!!v,h,!0):Ls(c,!!v,v?[]:"",!1));return;case"textarea":Be=Pe=null;for(re in v)if(M=v[re],v.hasOwnProperty(re)&&M!=null&&!w.hasOwnProperty(re))switch(re){case"value":break;case"children":break;default:Mr(c,h,re,null,w,M)}for(X in w)if(M=w[X],B=v[X],w.hasOwnProperty(X)&&(M!=null||B!=null))switch(X){case"value":Pe=M;break;case"defaultValue":Be=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:M!==B&&Mr(c,h,X,M,w,B)}Cr(c,Pe,Be);return;case"option":for(var Tt in v)if(Pe=v[Tt],v.hasOwnProperty(Tt)&&Pe!=null&&!w.hasOwnProperty(Tt))switch(Tt){case"selected":c.selected=!1;break;default:Mr(c,h,Tt,null,w,Pe)}for(ve in w)if(Pe=w[ve],Be=v[ve],w.hasOwnProperty(ve)&&Pe!==Be&&(Pe!=null||Be!=null))switch(ve){case"selected":c.selected=Pe&&typeof Pe!="function"&&typeof Pe!="symbol";break;default:Mr(c,h,ve,Pe,w,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in v)Pe=v[wt],v.hasOwnProperty(wt)&&Pe!=null&&!w.hasOwnProperty(wt)&&Mr(c,h,wt,null,w,Pe);for(Me in w)if(Pe=w[Me],Be=v[Me],w.hasOwnProperty(Me)&&Pe!==Be&&(Pe!=null||Be!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(n(137,h));break;default:Mr(c,h,Me,Pe,w,Be)}return;default:if(Op(h)){for(var Ir in v)Pe=v[Ir],v.hasOwnProperty(Ir)&&Pe!==void 0&&!w.hasOwnProperty(Ir)&&yA(c,h,Ir,void 0,w,Pe);for(Ue in w)Pe=w[Ue],Be=v[Ue],!w.hasOwnProperty(Ue)||Pe===Be||Pe===void 0&&Be===void 0||yA(c,h,Ue,Pe,w,Be);return}}for(var Se in v)Pe=v[Se],v.hasOwnProperty(Se)&&Pe!=null&&!w.hasOwnProperty(Se)&&Mr(c,h,Se,null,w,Pe);for(Ke in w)Pe=w[Ke],Be=v[Ke],!w.hasOwnProperty(Ke)||Pe===Be||Pe==null&&Be==null||Mr(c,h,Ke,Pe,w,Be)}var bA=null,wA=null;function zy(c){return c.nodeType===9?c:c.ownerDocument}function E3(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S3(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function _A(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var xA=null;function HZ(){var c=window.event;return c&&c.type==="popstate"?c===xA?!1:(xA=c,!0):(xA=null,!1)}var T3=typeof setTimeout=="function"?setTimeout:void 0,GZ=typeof clearTimeout=="function"?clearTimeout:void 0,D3=typeof Promise=="function"?Promise:void 0,KZ=typeof queueMicrotask=="function"?queueMicrotask:typeof D3<"u"?function(c){return D3.resolve(null).then(c).catch(XZ)}:T3;function XZ(c){setTimeout(function(){throw c})}function tl(c){return c==="head"}function N3(c,h){var v=h,w=0,M=0;do{var B=v.nextSibling;if(c.removeChild(v),B&&B.nodeType===8)if(v=B.data,v==="/$"){if(0<w&&8>w){v=w;var X=c.ownerDocument;if(v&1&&mm(X.documentElement),v&2&&mm(X.body),v&4)for(v=X.head,mm(v),X=v.firstChild;X;){var re=X.nextSibling,ve=X.nodeName;X[Fs]||ve==="SCRIPT"||ve==="STYLE"||ve==="LINK"&&X.rel.toLowerCase()==="stylesheet"||v.removeChild(X),X=re}}if(M===0){c.removeChild(B),Am(h);return}M--}else v==="$"||v==="$?"||v==="$!"?M++:w=v.charCodeAt(0)-48;else w=0;v=B}while(v);Am(h)}function AA(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var v=h;switch(h=h.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":AA(v),Ko(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}c.removeChild(v)}}function WZ(c,h,v,w){for(;c.nodeType===1;){var M=v;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!w&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(w){if(!c[Fs])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(B=c.getAttribute("rel"),B==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(B!==M.rel||c.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||c.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||c.getAttribute("title")!==(M.title==null?null:M.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(B=c.getAttribute("src"),(B!==(M.src==null?null:M.src)||c.getAttribute("type")!==(M.type==null?null:M.type)||c.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&B&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var B=M.name==null?null:""+M.name;if(M.type==="hidden"&&c.getAttribute("name")===B)return c}else return c;if(c=wo(c.nextSibling),c===null)break}return null}function YZ(c,h,v){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!v||(c=wo(c.nextSibling),c===null))return null;return c}function EA(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function QZ(c,h){var v=c.ownerDocument;if(c.data!=="$?"||v.readyState==="complete")h();else{var w=function(){h(),v.removeEventListener("DOMContentLoaded",w)};v.addEventListener("DOMContentLoaded",w),c._reactRetry=w}}function wo(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return c}var SA=null;function C3(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var v=c.data;if(v==="$"||v==="$!"||v==="$?"){if(h===0)return c;h--}else v==="/$"&&h++}c=c.previousSibling}return null}function O3(c,h,v){switch(h=zy(v),c){case"html":if(c=h.documentElement,!c)throw Error(n(452));return c;case"head":if(c=h.head,!c)throw Error(n(453));return c;case"body":if(c=h.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function mm(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);Ko(c)}var Ha=new Map,M3=new Set;function Vy(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var iu=V.d;V.d={f:ZZ,r:JZ,D:eJ,C:tJ,L:rJ,m:nJ,X:aJ,S:iJ,M:oJ};function ZZ(){var c=iu.f(),h=By();return c||h}function JZ(c){var h=Ra(c);h!==null&&h.tag===5&&h.type==="form"?QR(h):iu.r(c)}var Nh=typeof document>"u"?null:document;function I3(c,h,v){var w=Nh;if(w&&typeof h=="string"&&h){var M=mn(h);M='link[rel="'+c+'"][href="'+M+'"]',typeof v=="string"&&(M+='[crossorigin="'+v+'"]'),M3.has(M)||(M3.add(M),c={rel:c,crossOrigin:v,href:h},w.querySelector(M)===null&&(h=w.createElement("link"),ui(h,"link",c),Zr(h),w.head.appendChild(h)))}}function eJ(c){iu.D(c),I3("dns-prefetch",c,null)}function tJ(c,h){iu.C(c,h),I3("preconnect",c,h)}function rJ(c,h,v){iu.L(c,h,v);var w=Nh;if(w&&c&&h){var M='link[rel="preload"][as="'+mn(h)+'"]';h==="image"&&v&&v.imageSrcSet?(M+='[imagesrcset="'+mn(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(M+='[imagesizes="'+mn(v.imageSizes)+'"]')):M+='[href="'+mn(c)+'"]';var B=M;switch(h){case"style":B=Ch(c);break;case"script":B=Oh(c)}Ha.has(B)||(c=f({rel:"preload",href:h==="image"&&v&&v.imageSrcSet?void 0:c,as:h},v),Ha.set(B,c),w.querySelector(M)!==null||h==="style"&&w.querySelector(vm(B))||h==="script"&&w.querySelector(gm(B))||(h=w.createElement("link"),ui(h,"link",c),Zr(h),w.head.appendChild(h)))}}function nJ(c,h){iu.m(c,h);var v=Nh;if(v&&c){var w=h&&typeof h.as=="string"?h.as:"script",M='link[rel="modulepreload"][as="'+mn(w)+'"][href="'+mn(c)+'"]',B=M;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=Oh(c)}if(!Ha.has(B)&&(c=f({rel:"modulepreload",href:c},h),Ha.set(B,c),v.querySelector(M)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(gm(B)))return}w=v.createElement("link"),ui(w,"link",c),Zr(w),v.head.appendChild(w)}}}function iJ(c,h,v){iu.S(c,h,v);var w=Nh;if(w&&c){var M=ii(w).hoistableStyles,B=Ch(c);h=h||"default";var X=M.get(B);if(!X){var re={loading:0,preload:null};if(X=w.querySelector(vm(B)))re.loading=5;else{c=f({rel:"stylesheet",href:c,"data-precedence":h},v),(v=Ha.get(B))&&TA(c,v);var ve=X=w.createElement("link");Zr(ve),ui(ve,"link",c),ve._p=new Promise(function(Me,Ue){ve.onload=Me,ve.onerror=Ue}),ve.addEventListener("load",function(){re.loading|=1}),ve.addEventListener("error",function(){re.loading|=2}),re.loading|=4,Hy(X,h,w)}X={type:"stylesheet",instance:X,count:1,state:re},M.set(B,X)}}}function aJ(c,h){iu.X(c,h);var v=Nh;if(v&&c){var w=ii(v).hoistableScripts,M=Oh(c),B=w.get(M);B||(B=v.querySelector(gm(M)),B||(c=f({src:c,async:!0},h),(h=Ha.get(M))&&DA(c,h),B=v.createElement("script"),Zr(B),ui(B,"link",c),v.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},w.set(M,B))}}function oJ(c,h){iu.M(c,h);var v=Nh;if(v&&c){var w=ii(v).hoistableScripts,M=Oh(c),B=w.get(M);B||(B=v.querySelector(gm(M)),B||(c=f({src:c,async:!0,type:"module"},h),(h=Ha.get(M))&&DA(c,h),B=v.createElement("script"),Zr(B),ui(B,"link",c),v.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},w.set(M,B))}}function R3(c,h,v,w){var M=(M=me.current)?Vy(M):null;if(!M)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(h=Ch(v.href),v=ii(M).hoistableStyles,w=v.get(h),w||(w={type:"style",instance:null,count:0,state:null},v.set(h,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){c=Ch(v.href);var B=ii(M).hoistableStyles,X=B.get(c);if(X||(M=M.ownerDocument||M,X={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(c,X),(B=M.querySelector(vm(c)))&&!B._p&&(X.instance=B,X.state.loading=5),Ha.has(c)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Ha.set(c,v),B||sJ(M,c,v,X.state))),h&&w===null)throw Error(n(528,""));return X}if(h&&w!==null)throw Error(n(529,""));return null;case"script":return h=v.async,v=v.src,typeof v=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Oh(v),v=ii(M).hoistableScripts,w=v.get(h),w||(w={type:"script",instance:null,count:0,state:null},v.set(h,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function Ch(c){return'href="'+mn(c)+'"'}function vm(c){return'link[rel="stylesheet"]['+c+"]"}function P3(c){return f({},c,{"data-precedence":c.precedence,precedence:null})}function sJ(c,h,v,w){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?w.loading=1:(h=c.createElement("link"),w.preload=h,h.addEventListener("load",function(){return w.loading|=1}),h.addEventListener("error",function(){return w.loading|=2}),ui(h,"link",v),Zr(h),c.head.appendChild(h))}function Oh(c){return'[src="'+mn(c)+'"]'}function gm(c){return"script[async]"+c}function B3(c,h,v){if(h.count++,h.instance===null)switch(h.type){case"style":var w=c.querySelector('style[data-href~="'+mn(v.href)+'"]');if(w)return h.instance=w,Zr(w),w;var M=f({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return w=(c.ownerDocument||c).createElement("style"),Zr(w),ui(w,"style",M),Hy(w,v.precedence,c),h.instance=w;case"stylesheet":M=Ch(v.href);var B=c.querySelector(vm(M));if(B)return h.state.loading|=4,h.instance=B,Zr(B),B;w=P3(v),(M=Ha.get(M))&&TA(w,M),B=(c.ownerDocument||c).createElement("link"),Zr(B);var X=B;return X._p=new Promise(function(re,ve){X.onload=re,X.onerror=ve}),ui(B,"link",w),h.state.loading|=4,Hy(B,v.precedence,c),h.instance=B;case"script":return B=Oh(v.src),(M=c.querySelector(gm(B)))?(h.instance=M,Zr(M),M):(w=v,(M=Ha.get(B))&&(w=f({},v),DA(w,M)),c=c.ownerDocument||c,M=c.createElement("script"),Zr(M),ui(M,"link",w),c.head.appendChild(M),h.instance=M);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(w=h.instance,h.state.loading|=4,Hy(w,v.precedence,c));return h.instance}function Hy(c,h,v){for(var w=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=w.length?w[w.length-1]:null,B=M,X=0;X<w.length;X++){var re=w[X];if(re.dataset.precedence===h)B=re;else if(B!==M)break}B?B.parentNode.insertBefore(c,B.nextSibling):(h=v.nodeType===9?v.head:v,h.insertBefore(c,h.firstChild))}function TA(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function DA(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var Gy=null;function F3(c,h,v){if(Gy===null){var w=new Map,M=Gy=new Map;M.set(v,w)}else M=Gy,w=M.get(v),w||(w=new Map,M.set(v,w));if(w.has(c))return w;for(w.set(c,null),v=v.getElementsByTagName(c),M=0;M<v.length;M++){var B=v[M];if(!(B[Fs]||B[un]||c==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var X=B.getAttribute(h)||"";X=c+X;var re=w.get(X);re?re.push(B):w.set(X,[B])}}return w}function k3(c,h,v){c=c.ownerDocument||c,c.head.insertBefore(v,h==="title"?c.querySelector("head > title"):null)}function uJ(c,h,v){if(v===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function $3(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var ym=null;function lJ(){}function cJ(c,h,v){if(ym===null)throw Error(n(475));var w=ym;if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var M=Ch(v.href),B=c.querySelector(vm(M));if(B){c=B._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(w.count++,w=Ky.bind(w),c.then(w,w)),h.state.loading|=4,h.instance=B,Zr(B);return}B=c.ownerDocument||c,v=P3(v),(M=Ha.get(M))&&TA(v,M),B=B.createElement("link"),Zr(B);var X=B;X._p=new Promise(function(re,ve){X.onload=re,X.onerror=ve}),ui(B,"link",v),h.instance=B}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(w.count++,h=Ky.bind(w),c.addEventListener("load",h),c.addEventListener("error",h))}}function fJ(){if(ym===null)throw Error(n(475));var c=ym;return c.stylesheets&&c.count===0&&NA(c,c.stylesheets),0<c.count?function(h){var v=setTimeout(function(){if(c.stylesheets&&NA(c,c.stylesheets),c.unsuspend){var w=c.unsuspend;c.unsuspend=null,w()}},6e4);return c.unsuspend=h,function(){c.unsuspend=null,clearTimeout(v)}}:null}function Ky(){if(this.count--,this.count===0){if(this.stylesheets)NA(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Xy=null;function NA(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Xy=new Map,h.forEach(hJ,c),Xy=null,Ky.call(c))}function hJ(c,h){if(!(h.state.loading&4)){var v=Xy.get(c);if(v)var w=v.get(null);else{v=new Map,Xy.set(c,v);for(var M=c.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<M.length;B++){var X=M[B];(X.nodeName==="LINK"||X.getAttribute("media")!=="not all")&&(v.set(X.dataset.precedence,X),w=X)}w&&v.set(null,w)}M=h.instance,X=M.getAttribute("data-precedence"),B=v.get(X)||w,B===w&&v.set(null,M),v.set(X,M),this.count++,w=Ky.bind(this),M.addEventListener("load",w),M.addEventListener("error",w),B?B.parentNode.insertBefore(M,B.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(M,c.firstChild)),h.state.loading|=4}}var bm={$$typeof:_,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function dJ(c,h,v,w,M,B,X,re){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=w,this.onUncaughtError=M,this.onCaughtError=B,this.onRecoverableError=X,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function L3(c,h,v,w,M,B,X,re,ve,Me,Ue,Ke){return c=new dJ(c,h,v,X,re,ve,Me,Ke),h=1,B===!0&&(h|=24),B=ha(3,null,null,h),c.current=B,B.stateNode=c,h=lx(),h.refCount++,c.pooledCache=h,h.refCount++,B.memoizedState={element:w,isDehydrated:v,cache:h},dx(B),c}function q3(c){return c?(c=sh,c):sh}function U3(c,h,v,w,M,B){M=q3(M),w.context===null?w.context=M:w.pendingContext=M,w=ju(h),w.payload={element:v},B=B===void 0?null:B,B!==null&&(w.callback=B),v=zu(c,w,h),v!==null&&(ga(v,c,h),Wp(v,c,h))}function j3(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<h?v:h}}function CA(c,h){j3(c,h),(c=c.alternate)&&j3(c,h)}function z3(c){if(c.tag===13){var h=oh(c,67108864);h!==null&&ga(h,c,67108864),CA(c,67108864)}}var Wy=!0;function pJ(c,h,v,w){var M=k.T;k.T=null;var B=V.p;try{V.p=2,OA(c,h,v,w)}finally{V.p=B,k.T=M}}function mJ(c,h,v,w){var M=k.T;k.T=null;var B=V.p;try{V.p=8,OA(c,h,v,w)}finally{V.p=B,k.T=M}}function OA(c,h,v,w){if(Wy){var M=MA(w);if(M===null)gA(c,h,w,Yy,v),H3(c,w);else if(gJ(M,c,h,v,w))w.stopPropagation();else if(H3(c,w),h&4&&-1<vJ.indexOf(c)){for(;M!==null;){var B=Ra(M);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var X=Gt(B.pendingLanes);if(X!==0){var re=B;for(re.pendingLanes|=2,re.entangledLanes|=2;X;){var ve=1<<31-qe(X);re.entanglements[1]|=ve,X&=~ve}ss(B),(Ar&6)===0&&(Ry=We()+500,hm(0))}}break;case 13:re=oh(B,2),re!==null&&ga(re,B,2),By(),CA(B,2)}if(B=MA(w),B===null&&gA(c,h,w,Yy,v),B===M)break;M=B}M!==null&&w.stopPropagation()}else gA(c,h,w,null,v)}}function MA(c){return c=Fa(c),IA(c)}var Yy=null;function IA(c){if(Yy=null,c=mo(c),c!==null){var h=a(c);if(h===null)c=null;else{var v=h.tag;if(v===13){if(c=o(h),c!==null)return c;c=null}else if(v===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return Yy=c,null}function V3(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case ze:return 2;case te:return 8;case ce:case be:return 32;case Q:return 268435456;default:return 32}default:return 32}}var RA=!1,rl=null,nl=null,il=null,wm=new Map,_m=new Map,al=[],vJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H3(c,h){switch(c){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":nl=null;break;case"mouseover":case"mouseout":il=null;break;case"pointerover":case"pointerout":wm.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":_m.delete(h.pointerId)}}function xm(c,h,v,w,M,B){return c===null||c.nativeEvent!==B?(c={blockedOn:h,domEventName:v,eventSystemFlags:w,nativeEvent:B,targetContainers:[M]},h!==null&&(h=Ra(h),h!==null&&z3(h)),c):(c.eventSystemFlags|=w,h=c.targetContainers,M!==null&&h.indexOf(M)===-1&&h.push(M),c)}function gJ(c,h,v,w,M){switch(h){case"focusin":return rl=xm(rl,c,h,v,w,M),!0;case"dragenter":return nl=xm(nl,c,h,v,w,M),!0;case"mouseover":return il=xm(il,c,h,v,w,M),!0;case"pointerover":var B=M.pointerId;return wm.set(B,xm(wm.get(B)||null,c,h,v,w,M)),!0;case"gotpointercapture":return B=M.pointerId,_m.set(B,xm(_m.get(B)||null,c,h,v,w,M)),!0}return!1}function G3(c){var h=mo(c.target);if(h!==null){var v=a(h);if(v!==null){if(h=v.tag,h===13){if(h=o(v),h!==null){c.blockedOn=h,Uf(c.priority,function(){if(v.tag===13){var w=va();w=Vo(w);var M=oh(v,w);M!==null&&ga(M,v,w),CA(v,w)}});return}}else if(h===3&&v.stateNode.current.memoizedState.isDehydrated){c.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Qy(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var v=MA(c.nativeEvent);if(v===null){v=c.nativeEvent;var w=new v.constructor(v.type,v);qs=w,v.target.dispatchEvent(w),qs=null}else return h=Ra(v),h!==null&&z3(h),c.blockedOn=v,!1;h.shift()}return!0}function K3(c,h,v){Qy(c)&&v.delete(h)}function yJ(){RA=!1,rl!==null&&Qy(rl)&&(rl=null),nl!==null&&Qy(nl)&&(nl=null),il!==null&&Qy(il)&&(il=null),wm.forEach(K3),_m.forEach(K3)}function Zy(c,h){c.blockedOn===h&&(c.blockedOn=null,RA||(RA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yJ)))}var Jy=null;function X3(c){Jy!==c&&(Jy=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jy===c&&(Jy=null);for(var h=0;h<c.length;h+=3){var v=c[h],w=c[h+1],M=c[h+2];if(typeof w!="function"){if(IA(w||v)===null)continue;break}var B=Ra(v);B!==null&&(c.splice(h,3),h-=3,Ix(B,{pending:!0,data:M,method:v.method,action:w},w,M))}}))}function Am(c){function h(ve){return Zy(ve,c)}rl!==null&&Zy(rl,c),nl!==null&&Zy(nl,c),il!==null&&Zy(il,c),wm.forEach(h),_m.forEach(h);for(var v=0;v<al.length;v++){var w=al[v];w.blockedOn===c&&(w.blockedOn=null)}for(;0<al.length&&(v=al[0],v.blockedOn===null);)G3(v),v.blockedOn===null&&al.shift();if(v=(c.ownerDocument||c).$$reactFormReplay,v!=null)for(w=0;w<v.length;w+=3){var M=v[w],B=v[w+1],X=M[rn]||null;if(typeof B=="function")X||X3(v);else if(X){var re=null;if(B&&B.hasAttribute("formAction")){if(M=B,X=B[rn]||null)re=X.formAction;else if(IA(M)!==null)continue}else re=X.action;typeof re=="function"?v[w+1]=re:(v.splice(w,3),w-=3),X3(v)}}}function PA(c){this._internalRoot=c}e0.prototype.render=PA.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(n(409));var v=h.current,w=va();U3(v,w,c,h,null,null)},e0.prototype.unmount=PA.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;U3(c.current,2,null,c,null,null),By(),h[Xi]=null}};function e0(c){this._internalRoot=c}e0.prototype.unstable_scheduleHydration=function(c){if(c){var h=Ho();c={blockedOn:null,target:c,priority:h};for(var v=0;v<al.length&&h!==0&&h<al[v].priority;v++);al.splice(v,0,c),v===0&&G3(c)}};var W3=e.version;if(W3!=="19.1.1")throw Error(n(527,W3,"19.1.1"));V.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=l(h),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var bJ={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var t0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t0.isDisabled&&t0.supportsFiber)try{ye=t0.inject(bJ),_e=t0}catch{}}return Sm.createRoot=function(c,h){if(!i(c))throw Error(n(299));var v=!1,w="",M=fP,B=hP,X=dP,re=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(M=h.onUncaughtError),h.onCaughtError!==void 0&&(B=h.onCaughtError),h.onRecoverableError!==void 0&&(X=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(re=h.unstable_transitionCallbacks)),h=L3(c,1,!1,null,null,v,w,M,B,X,re,null),c[Xi]=h.current,vA(c),new PA(h)},Sm.hydrateRoot=function(c,h,v){if(!i(c))throw Error(n(299));var w=!1,M="",B=fP,X=hP,re=dP,ve=null,Me=null;return v!=null&&(v.unstable_strictMode===!0&&(w=!0),v.identifierPrefix!==void 0&&(M=v.identifierPrefix),v.onUncaughtError!==void 0&&(B=v.onUncaughtError),v.onCaughtError!==void 0&&(X=v.onCaughtError),v.onRecoverableError!==void 0&&(re=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(ve=v.unstable_transitionCallbacks),v.formState!==void 0&&(Me=v.formState)),h=L3(c,1,!0,h,v??null,w,M,B,X,re,ve,Me),h.context=q3(null),v=h.current,w=va(),w=Vo(w),M=ju(w),M.callback=null,zu(v,M,w),v=w,h.current.lanes=v,xr(h,v),ss(h),c[Xi]=h.current,vA(c),new e0(h)},Sm.version="19.1.1",Sm}var a4;function OJ(){if(a4)return kA.exports;a4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),kA.exports=CJ(),kA.exports}var MJ=OJ();const IJ=()=>{};var o4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rz=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},RJ=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},zC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=a>>2,d=(a&3)<<4|s>>4;let p=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),n.push(r[f],r[d],r[p],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new PJ;const p=a<<2|s>>4;if(n.push(p),u!==64){const m=s<<4&240|u>>2;if(n.push(m),d!==64){const y=u<<6&192|d;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BJ=function(t){const e=Rz(t);return zC.encodeByteArray(e,!0)},gb=function(t){return BJ(t).replace(/\./g,"")},Pz=function(t){try{return zC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FJ=()=>Bz().__FIREBASE_DEFAULTS__,kJ=()=>{if(typeof process>"u"||typeof o4>"u")return;const t=o4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$J=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pz(t[1]);return e&&JSON.parse(e)},ow=()=>{try{return IJ()||FJ()||kJ()||$J()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fz=t=>ow()?.emulatorHosts?.[t],VC=t=>{const e=Fz(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},kz=()=>ow()?.config,$z=t=>ow()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gb(JSON.stringify(r)),gb(JSON.stringify(o)),""].join(".")}const Xm={};function LJ(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xm))Xm[e]?t.emulator.push(e):t.prod.push(e);return t}function qJ(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let s4=!1;function uw(t,e){if(typeof window>"u"||typeof document>"u"||!Ds(window.location.host)||Xm[t]===e||Xm[t]||s4)return;Xm[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=LJ().prod.length>0;function o(){const p=document.getElementById(n);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{s4=!0,o()},p}function f(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=qJ(n),m=r("text"),y=document.getElementById(m)||document.createElement("span"),g=r("learnmore"),b=document.getElementById(g)||document.createElement("a"),E=r("preprendIcon"),N=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const _=p.element;s(_),f(b,g);const S=u();l(N,E),_.append(N,y,b,S),document.body.appendChild(_)}a?(y.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ci())}function jJ(){const t=ow()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zJ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GJ(){const t=Ci();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function KJ(){return!jJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HC(){try{return typeof indexedDB=="object"}catch{return!1}}function XJ(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WJ="FirebaseError";class Bo extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=WJ,Object.setPrototypeOf(this,Bo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jd.prototype.create)}}class Jd{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?YJ(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Bo(i,s,n)}}function YJ(t,e){return t.replace(QJ,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const QJ=/\{\$([^}]+)}/g;function ZJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function uf(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(u4(a)&&u4(o)){if(!uf(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function u4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function JJ(t,e){const r=new eee(t,e);return r.subscribe.bind(r)}class eee{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");tee(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=UA),i.error===void 0&&(i.error=UA),i.complete===void 0&&(i.complete=UA);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tee(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function UA(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree=1e3,nee=2,iee=14400*1e3,aee=.5;function oee(t,e=ree,r=nee){const n=e*Math.pow(r,t),i=Math.round(aee*n*(Math.random()-.5)*2);return Math.min(iee,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t){return t&&t._delegate?t._delegate:t}class Ro{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new cv;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lee(e))try{this.getOrInitializeService({instanceIdentifier:$c})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=$c){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$c){return this.instances.has(e)}getOptions(e=$c){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:uee(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=$c){return this.component?this.component.multipleInstances?e:$c:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uee(t){return t===$c?void 0:t}function lee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new see(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tr||(tr={}));const fee={debug:tr.DEBUG,verbose:tr.VERBOSE,info:tr.INFO,warn:tr.WARN,error:tr.ERROR,silent:tr.SILENT},hee=tr.INFO,dee={[tr.DEBUG]:"log",[tr.VERBOSE]:"log",[tr.INFO]:"info",[tr.WARN]:"warn",[tr.ERROR]:"error"},pee=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=dee[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lw{constructor(e){this.name=e,this._logLevel=hee,this._logHandler=pee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tr.DEBUG,...e),this._logHandler(this,tr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tr.VERBOSE,...e),this._logHandler(this,tr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tr.INFO,...e),this._logHandler(this,tr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tr.WARN,...e),this._logHandler(this,tr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tr.ERROR,...e),this._logHandler(this,tr.ERROR,...e)}}const mee=(t,e)=>e.some(r=>t instanceof r);let l4,c4;function vee(){return l4||(l4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gee(){return c4||(c4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qz=new WeakMap,x2=new WeakMap,Uz=new WeakMap,jA=new WeakMap,GC=new WeakMap;function yee(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Dl(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&qz.set(r,t)}).catch(()=>{}),GC.set(e,t),e}function bee(t){if(x2.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});x2.set(t,e)}let A2={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return x2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Uz.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Dl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wee(t){A2=t(A2)}function _ee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(zA(this),e,...r);return Uz.set(n,e.sort?e.sort():[e]),Dl(n)}:gee().includes(t)?function(...e){return t.apply(zA(this),e),Dl(qz.get(this))}:function(...e){return Dl(t.apply(zA(this),e))}}function xee(t){return typeof t=="function"?_ee(t):(t instanceof IDBTransaction&&bee(t),mee(t,vee())?new Proxy(t,A2):t)}function Dl(t){if(t instanceof IDBRequest)return yee(t);if(jA.has(t))return jA.get(t);const e=xee(t);return e!==t&&(jA.set(t,e),GC.set(e,t)),e}const zA=t=>GC.get(t);function Aee(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Dl(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Dl(o.result),l.oldVersion,l.newVersion,Dl(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const Eee=["get","getKey","getAll","getAllKeys","count"],See=["put","add","delete","clear"],VA=new Map;function f4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(VA.get(e))return VA.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=See.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Eee.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return VA.set(e,a),a}wee(t=>({...t,get:(e,r,n)=>f4(e,r)||t.get(e,r,n),has:(e,r)=>!!f4(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Dee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Dee(t){return t.getComponent()?.type==="VERSION"}const E2="@firebase/app",h4="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=new lw("@firebase/app"),Nee="@firebase/app-compat",Cee="@firebase/analytics-compat",Oee="@firebase/analytics",Mee="@firebase/app-check-compat",Iee="@firebase/app-check",Ree="@firebase/auth",Pee="@firebase/auth-compat",Bee="@firebase/database",Fee="@firebase/data-connect",kee="@firebase/database-compat",$ee="@firebase/functions",Lee="@firebase/functions-compat",qee="@firebase/installations",Uee="@firebase/installations-compat",jee="@firebase/messaging",zee="@firebase/messaging-compat",Vee="@firebase/performance",Hee="@firebase/performance-compat",Gee="@firebase/remote-config",Kee="@firebase/remote-config-compat",Xee="@firebase/storage",Wee="@firebase/storage-compat",Yee="@firebase/firestore",Qee="@firebase/ai",Zee="@firebase/firestore-compat",Jee="firebase",ete="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="[DEFAULT]",tte={[E2]:"fire-core",[Nee]:"fire-core-compat",[Oee]:"fire-analytics",[Cee]:"fire-analytics-compat",[Iee]:"fire-app-check",[Mee]:"fire-app-check-compat",[Ree]:"fire-auth",[Pee]:"fire-auth-compat",[Bee]:"fire-rtdb",[Fee]:"fire-data-connect",[kee]:"fire-rtdb-compat",[$ee]:"fire-fn",[Lee]:"fire-fn-compat",[qee]:"fire-iid",[Uee]:"fire-iid-compat",[jee]:"fire-fcm",[zee]:"fire-fcm-compat",[Vee]:"fire-perf",[Hee]:"fire-perf-compat",[Gee]:"fire-rc",[Kee]:"fire-rc-compat",[Xee]:"fire-gcs",[Wee]:"fire-gcs-compat",[Yee]:"fire-fst",[Zee]:"fire-fst-compat",[Qee]:"fire-vertex","fire-js":"fire-js",[Jee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new Map,rte=new Map,T2=new Map;function d4(t,e){try{t.container.addComponent(e)}catch(r){xu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function _s(t){const e=t.name;if(T2.has(e))return xu.debug(`There were multiple attempts to register component ${e}.`),!1;T2.set(e,t);for(const r of yb.values())d4(r,t);for(const r of rte.values())d4(r,t);return!0}function _f(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Aa(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nl=new Jd("app","Firebase",nte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ite{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=ete;function jz(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:S2,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Nl.create("bad-app-name",{appName:String(i)});if(r||(r=kz()),!r)throw Nl.create("no-options");const a=yb.get(i);if(a){if(uf(r,a.options)&&uf(n,a.config))return a;throw Nl.create("duplicate-app",{appName:i})}const o=new cee(i);for(const l of T2.values())o.addComponent(l);const s=new ite(r,n,o);return yb.set(i,s),s}function ug(t=S2){const e=yb.get(t);if(!e&&t===S2&&kz())return jz();if(!e)throw Nl.create("no-app",{appName:t});return e}function Da(t,e,r){let n=tte[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xu.warn(o.join(" "));return}_s(new Ro(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ate="firebase-heartbeat-database",ote=1,fv="firebase-heartbeat-store";let HA=null;function zz(){return HA||(HA=Aee(ate,ote,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fv)}catch(r){console.warn(r)}}}}).catch(t=>{throw Nl.create("idb-open",{originalErrorMessage:t.message})})),HA}async function ste(t){try{const r=(await zz()).transaction(fv),n=await r.objectStore(fv).get(Vz(t));return await r.done,n}catch(e){if(e instanceof Bo)xu.warn(e.message);else{const r=Nl.create("idb-get",{originalErrorMessage:e?.message});xu.warn(r.message)}}}async function p4(t,e){try{const n=(await zz()).transaction(fv,"readwrite");await n.objectStore(fv).put(e,Vz(t)),await n.done}catch(r){if(r instanceof Bo)xu.warn(r.message);else{const n=Nl.create("idb-set",{originalErrorMessage:r?.message});xu.warn(n.message)}}}function Vz(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute=1024,lte=30;class cte{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new hte(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=m4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>lte){const i=dte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=m4(),{heartbeatsToSend:r,unsentEntries:n}=fte(this._heartbeatsCache.heartbeats),i=gb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return xu.warn(e),""}}}function m4(){return new Date().toISOString().substring(0,10)}function fte(t,e=ute){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),v4(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),v4(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class hte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HC()?XJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await ste(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return p4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return p4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function v4(t){return gb(JSON.stringify({version:2,heartbeats:t})).length}function dte(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pte(t){_s(new Ro("platform-logger",e=>new Tee(e),"PRIVATE")),_s(new Ro("heartbeat",e=>new cte(e),"PRIVATE")),Da(E2,h4,t),Da(E2,h4,"esm2020"),Da("fire-js","")}pte("");function Hz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mte=Hz,Gz=new Jd("auth","Firebase",Hz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new lw("@firebase/auth");function vte(t,...e){bb.logLevel<=tr.WARN&&bb.warn(`Auth (${xf}): ${t}`,...e)}function Y0(t,...e){bb.logLevel<=tr.ERROR&&bb.error(`Auth (${xf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(t,...e){throw XC(t,...e)}function Oo(t,...e){return XC(t,...e)}function KC(t,e,r){const n={...mte(),[e]:r};return new Jd("auth","Firebase",n).create(e,{appName:t.name})}function ef(t){return KC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gte(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&xs(t,"argument-error"),KC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function XC(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Gz.create(t,...e)}function Ot(t,e,...r){if(!t)throw XC(e,...r)}function fu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Y0(e),new Error(e)}function Au(t,e){t||fu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return typeof self<"u"&&self.location?.href||""}function yte(){return g4()==="http:"||g4()==="https:"}function g4(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yte()||VJ()||"connection"in navigator)?navigator.onLine:!0}function wte(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,r){this.shortDelay=e,this.longDelay=r,Au(r>e,"Short delay should be less than long delay!"),this.isMobile=UJ()||HJ()}get(){return bte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t,e){Au(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _te={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ate=new lg(3e4,6e4);function YC(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ep(t,e,r,n,i={}){return Xz(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=sg({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return zJ()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ds(t.emulatorConfig.host)&&(u.credentials="include"),Kz.fetch()(await Wz(t,t.config.apiHost,r,s),u)})}async function Xz(t,e,r){t._canInitEmulator=!1;const n={..._te,...e};try{const i=new Ste(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw n0(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw n0(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw n0(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw n0(t,"user-disabled",o);const f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw KC(t,f,u);xs(t,f)}}catch(i){if(i instanceof Bo)throw i;xs(t,"network-request-failed",{message:String(i)})}}async function Ete(t,e,r,n,i={}){const a=await ep(t,e,r,n,i);return"mfaPendingCredential"in a&&xs(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Wz(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?WC(t.config,i):`${t.config.apiScheme}://${i}`;return xte.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class Ste{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Oo(this.auth,"network-request-failed")),Ate.get())})}}function n0(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Oo(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tte(t,e){return ep(t,"POST","/v1/accounts:delete",e)}async function wb(t,e){return ep(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Dte(t,e=!1){const r=Kr(t),n=await r.getIdToken(e),i=QC(n);Ot(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:n,authTime:Wm(GA(i.auth_time)),issuedAtTime:Wm(GA(i.iat)),expirationTime:Wm(GA(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function GA(t){return Number(t)*1e3}function QC(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Y0("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pz(r);return i?JSON.parse(i):(Y0("Failed to decode base64 JWT payload"),null)}catch(i){return Y0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function y4(t){const e=QC(t);return Ot(e,"internal-error"),Ot(typeof e.exp<"u","internal-error"),Ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hv(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Bo&&Nte(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Nte({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wm(this.lastLoginAt),this.creationTime=Wm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(t){const e=t.auth,r=await t.getIdToken(),n=await hv(t,wb(e,{idToken:r}));Ot(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?Yz(i.providerUserInfo):[],o=Mte(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!o?.length,u=s?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new N2(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Ote(t){const e=Kr(t);await _b(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mte(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function Yz(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ite(t,e){const r=await Xz(t,{},async()=>{const n=sg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await Wz(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return t.emulatorConfig&&Ds(t.emulatorConfig.host)&&(l.credentials="include"),Kz.fetch()(o,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Rte(t,e){return ep(t,"POST","/v2/accounts:revokeToken",YC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ot(e.idToken,"internal-error"),Ot(typeof e.idToken<"u","internal-error"),Ot(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ot(e.length!==0,"internal-error");const r=y4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await Ite(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new rd;return n&&(Ot(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ot(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ot(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rd,this.toJSON())}_performRefresh(){return fu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t,e){Ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Co{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Cte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new N2(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await hv(this,this.stsTokenManager.getToken(this.auth,e));return Ot(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Dte(this,e)}reload(){return Ote(this)}_assign(e){this!==e&&(Ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Co({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await _b(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Aa(this.auth.app))return Promise.reject(ef(this.auth));const e=await this.getIdToken();return await hv(this,Tte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,s=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:m,providerData:y,stsTokenManager:g}=r;Ot(d&&g,e,"internal-error");const b=rd.fromJSON(this.name,g);Ot(typeof d=="string",e,"internal-error"),sl(n,e.name),sl(i,e.name),Ot(typeof p=="boolean",e,"internal-error"),Ot(typeof m=="boolean",e,"internal-error"),sl(a,e.name),sl(o,e.name),sl(s,e.name),sl(l,e.name),sl(u,e.name),sl(f,e.name);const E=new Co({uid:d,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:b,createdAt:u,lastLoginAt:f});return y&&Array.isArray(y)&&(E.providerData=y.map(N=>({...N}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,r,n=!1){const i=new rd;i.updateFromServerResponse(r);const a=new Co({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await _b(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ot(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Yz(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,s=new rd;s.updateFromIdToken(n);const l=new Co({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new N2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=new Map;function hu(t){Au(t instanceof Function,"Expected a class definition");let e=b4.get(t);return e?(Au(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,b4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Qz.type="NONE";const w4=Qz;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,r){return`firebase:${t}:${e}:${r}`}class nd{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Q0(this.userKey,i.apiKey,a),this.fullPersistenceKey=Q0("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await wb(this.auth,{idToken:e}).catch(()=>{});return r?Co._fromGetAccountInfoResponse(this.auth,r,e):null}return Co._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new nd(hu(w4),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||hu(w4);const o=Q0(n,e.config.apiKey,e.name);let s=null;for(const u of r)try{const f=await u._get(o);if(f){let d;if(typeof f=="string"){const p=await wb(e,{idToken:f}).catch(()=>{});if(!p)break;d=await Co._fromGetAccountInfoResponse(e,p,f)}else d=Co._fromJSON(e,f);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new nd(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new nd(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(n7(e))return"Blackberry";if(i7(e))return"Webos";if(Jz(e))return"Safari";if((e.includes("chrome/")||e7(e))&&!e.includes("edge/"))return"Chrome";if(r7(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function Zz(t=Ci()){return/firefox\//i.test(t)}function Jz(t=Ci()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e7(t=Ci()){return/crios\//i.test(t)}function t7(t=Ci()){return/iemobile/i.test(t)}function r7(t=Ci()){return/android/i.test(t)}function n7(t=Ci()){return/blackberry/i.test(t)}function i7(t=Ci()){return/webos/i.test(t)}function ZC(t=Ci()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pte(t=Ci()){return ZC(t)&&!!window.navigator?.standalone}function Bte(){return GJ()&&document.documentMode===10}function a7(t=Ci()){return ZC(t)||r7(t)||i7(t)||n7(t)||/windows phone/i.test(t)||t7(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o7(t,e=[]){let r;switch(t){case"Browser":r=_4(Ci());break;case"Worker":r=`${_4(Ci())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${xf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kte(t,e={}){return ep(t,"GET","/v2/passwordPolicy",YC(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $te=6;class Lte{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??$te,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x4(this),this.idTokenSubscription=new x4(this),this.beforeStateQueue=new Fte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=hu(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nd.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await wb(this,{idToken:e}),n=await Co._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Aa(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=n?._redirectEventId,s=await this.tryRedirectSignIn(e);(!a||a===o)&&s?.user&&(n=s.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await _b(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Aa(this.app))return Promise.reject(ef(this));const r=e?Kr(e):null;return r&&Ot(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Aa(this.app)?Promise.reject(ef(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Aa(this.app)?Promise.reject(ef(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kte(this),r=new Lte(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jd("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Rte(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&hu(e)||this._popupRedirectResolver;Ot(r,this,"argument-error"),this.redirectPersistenceManager=await nd.create(this,[hu(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Aa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&vte(`Error while retrieving App Check token: ${e.error}`),e?.token}}function cw(t){return Kr(t)}class x4{constructor(e){this.auth=e,this.observer=null,this.addObserver=JJ(r=>this.observer=r)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JC={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ute(t){JC=t}function jte(t){return JC.loadJS(t)}function zte(){return JC.gapiScript}function Vte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hte(t,e){const r=_f(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(uf(a,e??{}))return i;xs(i,"already-initialized")}return r.initialize({options:e})}function Gte(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(hu);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function Kte(t,e,r){const n=cw(t);Ot(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=s7(e),{host:o,port:s}=Xte(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},f=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ot(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ot(uf(u,n.config.emulator)&&uf(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,Ds(o)?(sw(`${a}//${o}${l}`),uw("Auth",!0)):Wte()}function s7(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Xte(t){const e=s7(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:A4(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:A4(o)}}}function A4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Wte(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return fu("not implemented")}_getIdTokenResponse(e){return fu("not implemented")}_linkToIdToken(e,r){return fu("not implemented")}_getReauthenticationResolver(e){return fu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(t,e){return Ete(t,"POST","/v1/accounts:signInWithIdp",YC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yte="http://localhost";class lf extends u7{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new lf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):xs("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new lf(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return id(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,id(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,id(e,r)}buildRequest(){const e={requestUri:Yte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=sg(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends eO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends cg{constructor(){super("facebook.com")}static credential(e){return lf._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ml.credential(e.oauthAccessToken)}catch{return null}}}ml.FACEBOOK_SIGN_IN_METHOD="facebook.com";ml.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends cg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return lf._fromParams({providerId:lu.PROVIDER_ID,signInMethod:lu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return lu.credentialFromTaggedObject(e)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return lu.credential(r,n)}catch{return null}}}lu.GOOGLE_SIGN_IN_METHOD="google.com";lu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends cg{constructor(){super("github.com")}static credential(e){return lf._fromParams({providerId:vl.PROVIDER_ID,signInMethod:vl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vl.credentialFromTaggedObject(e)}static credentialFromError(e){return vl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vl.credential(e.oauthAccessToken)}catch{return null}}}vl.GITHUB_SIGN_IN_METHOD="github.com";vl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends cg{constructor(){super("twitter.com")}static credential(e,r){return lf._fromParams({providerId:gl.PROVIDER_ID,signInMethod:gl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return gl.credentialFromTaggedObject(e)}static credentialFromError(e){return gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return gl.credential(r,n)}catch{return null}}}gl.TWITTER_SIGN_IN_METHOD="twitter.com";gl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Co._fromIdTokenResponse(e,n,i),o=E4(n);return new hd({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=E4(n);return new hd({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function E4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb extends Bo{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,xb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new xb(e,r,n,i)}}function l7(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?xb._fromErrorAndOperation(t,a,e,n):a})}async function Qte(t,e,r=!1){const n=await hv(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return hd._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zte(t,e,r=!1){const{auth:n}=t;if(Aa(n.app))return Promise.reject(ef(n));const i="reauthenticate";try{const a=await hv(t,l7(n,i,e,t),r);Ot(a.idToken,n,"internal-error");const o=QC(a.idToken);Ot(o,n,"internal-error");const{sub:s}=o;return Ot(t.uid===s,n,"user-mismatch"),hd._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&xs(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jte(t,e,r=!1){if(Aa(t.app))return Promise.reject(ef(t));const n="signIn",i=await l7(t,n,e),a=await hd._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}function ere(t,e,r,n){return Kr(t).onIdTokenChanged(e,r,n)}function tre(t,e,r){return Kr(t).beforeAuthStateChanged(e,r)}function rre(t,e,r,n){return Kr(t).onAuthStateChanged(e,r,n)}function nre(t){return Kr(t).signOut()}const Ab="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ab,"1"),this.storage.removeItem(Ab),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ire=1e3,are=10;class f7 extends c7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=a7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);Bte()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,are):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},ire)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}f7.type="LOCAL";const ore=f7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7 extends c7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}h7.type="SESSION";const d7=h7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sre(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new fw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await sre(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ure{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=tO("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(p.data.response);break;default:clearTimeout(f),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(){return window}function lre(t){ds().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(){return typeof ds().WorkerGlobalScope<"u"&&typeof ds().importScripts=="function"}async function cre(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fre(){return navigator?.serviceWorker?.controller||null}function hre(){return p7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7="firebaseLocalStorageDb",dre=1,Eb="firebaseLocalStorage",v7="fbase_key";class fg{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function hw(t,e){return t.transaction([Eb],e?"readwrite":"readonly").objectStore(Eb)}function pre(){const t=indexedDB.deleteDatabase(m7);return new fg(t).toPromise()}function C2(){const t=indexedDB.open(m7,dre);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Eb,{keyPath:v7})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Eb)?e(n):(n.close(),await pre(),e(await C2()))})})}async function S4(t,e,r){const n=hw(t,!0).put({[v7]:e,value:r});return new fg(n).toPromise()}async function mre(t,e){const r=hw(t,!1).get(e),n=await new fg(r).toPromise();return n===void 0?null:n.value}function T4(t,e){const r=hw(t,!0).delete(e);return new fg(r).toPromise()}const vre=800,gre=3;class g7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await C2(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>gre)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fw._getInstance(hre()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cre(),!this.activeServiceWorker)return;this.sender=new ure(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fre()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await C2();return await S4(e,Ab,"1"),await T4(e,Ab),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>S4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>mre(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>T4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=hw(i,!1).getAll();return new fg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g7.type="LOCAL";const yre=g7;new lg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y7(t,e){return e?hu(e):(Ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO extends u7{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return id(e,this._buildIdpRequest())}_linkToIdToken(e,r){return id(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return id(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function bre(t){return Jte(t.auth,new rO(t),t.bypassAuthState)}function wre(t){const{auth:e,user:r}=t;return Ot(r,e,"internal-error"),Zte(r,new rO(t),t.bypassAuthState)}async function _re(t){const{auth:e,user:r}=t;return Ot(r,e,"internal-error"),Qte(r,new rO(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bre;case"linkViaPopup":case"linkViaRedirect":return _re;case"reauthViaPopup":case"reauthViaRedirect":return wre;default:xs(this.auth,"internal-error")}}resolve(e){Au(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Au(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xre=new lg(2e3,1e4);async function Are(t,e,r){if(Aa(t.app))return Promise.reject(Oo(t,"operation-not-supported-in-this-environment"));const n=cw(t);gte(t,e,eO);const i=y7(n,r);return new Gc(n,"signInViaPopup",e,i).executeNotNull()}class Gc extends b7{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Gc.currentPopupAction&&Gc.currentPopupAction.cancel(),Gc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ot(e,this.auth,"internal-error"),e}async onExecution(){Au(this.filter.length===1,"Popup operations only handle one event");const e=tO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Oo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xre.get())};e()}}Gc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ere="pendingRedirect",Z0=new Map;class Sre extends b7{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Z0.get(this.auth._key());if(!e){try{const n=await Tre(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Z0.set(this.auth._key(),e)}return this.bypassAuthState||Z0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Tre(t,e){const r=Cre(e),n=Nre(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Dre(t,e){Z0.set(t._key(),e)}function Nre(t){return hu(t._redirectPersistence)}function Cre(t){return Q0(Ere,t.config.apiKey,t.name)}async function Ore(t,e,r=!1){if(Aa(t.app))return Promise.reject(ef(t));const n=cw(t),i=y7(n,e),o=await new Sre(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mre=600*1e3;class Ire{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Rre(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!w7(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Oo(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mre&&this.cachedEventUids.clear(),this.cachedEventUids.has(D4(e))}saveEventToCache(e){this.cachedEventUids.add(D4(e)),this.lastProcessedEventTime=Date.now()}}function D4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function w7({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Rre(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pre(t,e={}){return ep(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fre=/^https?/;async function kre(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Pre(t);for(const r of e)try{if($re(r))return}catch{}xs(t,"unauthorized-domain")}function $re(t){const e=D2(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!Fre.test(r))return!1;if(Bre.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lre=new lg(3e4,6e4);function N4(){const t=ds().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function qre(t){return new Promise((e,r)=>{function n(){N4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N4(),r(Oo(t,"network-request-failed"))},timeout:Lre.get()})}if(ds().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ds().gapi?.load)n();else{const i=Vte("iframefcb");return ds()[i]=()=>{gapi.load?n():r(Oo(t,"network-request-failed"))},jte(`${zte()}?onload=${i}`).catch(a=>r(a))}}).catch(e=>{throw J0=null,e})}let J0=null;function Ure(t){return J0=J0||qre(t),J0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jre=new lg(5e3,15e3),zre="__/auth/iframe",Vre="emulator/auth/iframe",Hre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kre(t){const e=t.config;Ot(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?WC(e,Vre):`https://${t.config.authDomain}/${zre}`,n={apiKey:e.apiKey,appName:t.name,v:xf},i=Gre.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${sg(n).slice(1)}`}async function Xre(t){const e=await Ure(t),r=ds().gapi;return Ot(r,t,"internal-error"),e.open({where:document.body,url:Kre(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hre,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Oo(t,"network-request-failed"),s=ds().setTimeout(()=>{a(o)},jre.get());function l(){ds().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yre=500,Qre=600,Zre="_blank",Jre="http://localhost";class C4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ene(t,e,r,n=Yre,i=Qre){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l={...Wre,width:n.toString(),height:i.toString(),top:a,left:o},u=Ci().toLowerCase();r&&(s=e7(u)?Zre:r),Zz(u)&&(e=e||Jre,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(Pte(u)&&s!=="_self")return tne(e||"",s),new C4(null);const d=window.open(e||"",s,f);Ot(d,t,"popup-blocked");try{d.focus()}catch{}return new C4(d)}function tne(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rne="__/auth/handler",nne="emulator/auth/handler",ine=encodeURIComponent("fac");async function O4(t,e,r,n,i,a){Ot(t.config.authDomain,t,"auth-domain-config-required"),Ot(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:xf,eventId:i};if(e instanceof eO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZJ(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,d]of Object.entries({}))o[f]=d}if(e instanceof cg){const f=e.getScopes().filter(d=>d!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const f of Object.keys(s))s[f]===void 0&&delete s[f];const l=await t._getAppCheckToken(),u=l?`#${ine}=${encodeURIComponent(l)}`:"";return`${ane(t)}?${sg(s).slice(1)}${u}`}function ane({config:t}){return t.emulator?WC(t,nne):`https://${t.authDomain}/${rne}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="webStorageSupport";class one{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d7,this._completeRedirectFn=Ore,this._overrideRedirectResult=Dre}async _openPopup(e,r,n,i){Au(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await O4(e,r,n,D2(),i);return ene(e,a,tO())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await O4(e,r,n,D2(),i);return lre(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Au(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Xre(e),n=new Ire(e);return r.register("authEvent",i=>(Ot(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(KA,{type:KA},i=>{const a=i?.[0]?.[KA];a!==void 0&&r(!!a),xs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=kre(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return a7()||Jz()||ZC()}}const sne=one;var M4="@firebase/auth",I4="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cne(t){_s(new Ro("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Ot(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o7(t)},u=new qte(n,i,a,l);return Gte(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),_s(new Ro("auth-internal",e=>{const r=cw(e.getProvider("auth").getImmediate());return(n=>new une(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Da(M4,I4,lne(t)),Da(M4,I4,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fne=300,hne=$z("authIdTokenMaxAge")||fne;let R4=null;const dne=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>hne)return;const i=r?.token;R4!==i&&(R4=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pne(t=ug()){const e=_f(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Hte(t,{popupRedirectResolver:sne,persistence:[yre,ore,d7]}),n=$z("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=dne(a.toString());tre(r,o,()=>o(r.currentUser)),ere(r,s=>o(s))}}const i=Fz("auth");return i&&Kte(r,`http://${i}`),r}function mne(){return document.getElementsByTagName("head")?.[0]??document}Ute({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Oo("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",mne().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cne("Browser");var P4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cl,_7;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,O){function C(){}C.prototype=O.prototype,T.D=O.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(R,I,P){for(var F=Array(arguments.length-2),z=2;z<arguments.length;z++)F[z-2]=arguments[z];return O.prototype[I].apply(R,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,O,C){C||(C=0);var R=Array(16);if(typeof O=="string")for(var I=0;16>I;++I)R[I]=O.charCodeAt(C++)|O.charCodeAt(C++)<<8|O.charCodeAt(C++)<<16|O.charCodeAt(C++)<<24;else for(I=0;16>I;++I)R[I]=O[C++]|O[C++]<<8|O[C++]<<16|O[C++]<<24;O=T.g[0],C=T.g[1],I=T.g[2];var P=T.g[3],F=O+(P^C&(I^P))+R[0]+3614090360&4294967295;O=C+(F<<7&4294967295|F>>>25),F=P+(I^O&(C^I))+R[1]+3905402710&4294967295,P=O+(F<<12&4294967295|F>>>20),F=I+(C^P&(O^C))+R[2]+606105819&4294967295,I=P+(F<<17&4294967295|F>>>15),F=C+(O^I&(P^O))+R[3]+3250441966&4294967295,C=I+(F<<22&4294967295|F>>>10),F=O+(P^C&(I^P))+R[4]+4118548399&4294967295,O=C+(F<<7&4294967295|F>>>25),F=P+(I^O&(C^I))+R[5]+1200080426&4294967295,P=O+(F<<12&4294967295|F>>>20),F=I+(C^P&(O^C))+R[6]+2821735955&4294967295,I=P+(F<<17&4294967295|F>>>15),F=C+(O^I&(P^O))+R[7]+4249261313&4294967295,C=I+(F<<22&4294967295|F>>>10),F=O+(P^C&(I^P))+R[8]+1770035416&4294967295,O=C+(F<<7&4294967295|F>>>25),F=P+(I^O&(C^I))+R[9]+2336552879&4294967295,P=O+(F<<12&4294967295|F>>>20),F=I+(C^P&(O^C))+R[10]+4294925233&4294967295,I=P+(F<<17&4294967295|F>>>15),F=C+(O^I&(P^O))+R[11]+2304563134&4294967295,C=I+(F<<22&4294967295|F>>>10),F=O+(P^C&(I^P))+R[12]+1804603682&4294967295,O=C+(F<<7&4294967295|F>>>25),F=P+(I^O&(C^I))+R[13]+4254626195&4294967295,P=O+(F<<12&4294967295|F>>>20),F=I+(C^P&(O^C))+R[14]+2792965006&4294967295,I=P+(F<<17&4294967295|F>>>15),F=C+(O^I&(P^O))+R[15]+1236535329&4294967295,C=I+(F<<22&4294967295|F>>>10),F=O+(I^P&(C^I))+R[1]+4129170786&4294967295,O=C+(F<<5&4294967295|F>>>27),F=P+(C^I&(O^C))+R[6]+3225465664&4294967295,P=O+(F<<9&4294967295|F>>>23),F=I+(O^C&(P^O))+R[11]+643717713&4294967295,I=P+(F<<14&4294967295|F>>>18),F=C+(P^O&(I^P))+R[0]+3921069994&4294967295,C=I+(F<<20&4294967295|F>>>12),F=O+(I^P&(C^I))+R[5]+3593408605&4294967295,O=C+(F<<5&4294967295|F>>>27),F=P+(C^I&(O^C))+R[10]+38016083&4294967295,P=O+(F<<9&4294967295|F>>>23),F=I+(O^C&(P^O))+R[15]+3634488961&4294967295,I=P+(F<<14&4294967295|F>>>18),F=C+(P^O&(I^P))+R[4]+3889429448&4294967295,C=I+(F<<20&4294967295|F>>>12),F=O+(I^P&(C^I))+R[9]+568446438&4294967295,O=C+(F<<5&4294967295|F>>>27),F=P+(C^I&(O^C))+R[14]+3275163606&4294967295,P=O+(F<<9&4294967295|F>>>23),F=I+(O^C&(P^O))+R[3]+4107603335&4294967295,I=P+(F<<14&4294967295|F>>>18),F=C+(P^O&(I^P))+R[8]+1163531501&4294967295,C=I+(F<<20&4294967295|F>>>12),F=O+(I^P&(C^I))+R[13]+2850285829&4294967295,O=C+(F<<5&4294967295|F>>>27),F=P+(C^I&(O^C))+R[2]+4243563512&4294967295,P=O+(F<<9&4294967295|F>>>23),F=I+(O^C&(P^O))+R[7]+1735328473&4294967295,I=P+(F<<14&4294967295|F>>>18),F=C+(P^O&(I^P))+R[12]+2368359562&4294967295,C=I+(F<<20&4294967295|F>>>12),F=O+(C^I^P)+R[5]+4294588738&4294967295,O=C+(F<<4&4294967295|F>>>28),F=P+(O^C^I)+R[8]+2272392833&4294967295,P=O+(F<<11&4294967295|F>>>21),F=I+(P^O^C)+R[11]+1839030562&4294967295,I=P+(F<<16&4294967295|F>>>16),F=C+(I^P^O)+R[14]+4259657740&4294967295,C=I+(F<<23&4294967295|F>>>9),F=O+(C^I^P)+R[1]+2763975236&4294967295,O=C+(F<<4&4294967295|F>>>28),F=P+(O^C^I)+R[4]+1272893353&4294967295,P=O+(F<<11&4294967295|F>>>21),F=I+(P^O^C)+R[7]+4139469664&4294967295,I=P+(F<<16&4294967295|F>>>16),F=C+(I^P^O)+R[10]+3200236656&4294967295,C=I+(F<<23&4294967295|F>>>9),F=O+(C^I^P)+R[13]+681279174&4294967295,O=C+(F<<4&4294967295|F>>>28),F=P+(O^C^I)+R[0]+3936430074&4294967295,P=O+(F<<11&4294967295|F>>>21),F=I+(P^O^C)+R[3]+3572445317&4294967295,I=P+(F<<16&4294967295|F>>>16),F=C+(I^P^O)+R[6]+76029189&4294967295,C=I+(F<<23&4294967295|F>>>9),F=O+(C^I^P)+R[9]+3654602809&4294967295,O=C+(F<<4&4294967295|F>>>28),F=P+(O^C^I)+R[12]+3873151461&4294967295,P=O+(F<<11&4294967295|F>>>21),F=I+(P^O^C)+R[15]+530742520&4294967295,I=P+(F<<16&4294967295|F>>>16),F=C+(I^P^O)+R[2]+3299628645&4294967295,C=I+(F<<23&4294967295|F>>>9),F=O+(I^(C|~P))+R[0]+4096336452&4294967295,O=C+(F<<6&4294967295|F>>>26),F=P+(C^(O|~I))+R[7]+1126891415&4294967295,P=O+(F<<10&4294967295|F>>>22),F=I+(O^(P|~C))+R[14]+2878612391&4294967295,I=P+(F<<15&4294967295|F>>>17),F=C+(P^(I|~O))+R[5]+4237533241&4294967295,C=I+(F<<21&4294967295|F>>>11),F=O+(I^(C|~P))+R[12]+1700485571&4294967295,O=C+(F<<6&4294967295|F>>>26),F=P+(C^(O|~I))+R[3]+2399980690&4294967295,P=O+(F<<10&4294967295|F>>>22),F=I+(O^(P|~C))+R[10]+4293915773&4294967295,I=P+(F<<15&4294967295|F>>>17),F=C+(P^(I|~O))+R[1]+2240044497&4294967295,C=I+(F<<21&4294967295|F>>>11),F=O+(I^(C|~P))+R[8]+1873313359&4294967295,O=C+(F<<6&4294967295|F>>>26),F=P+(C^(O|~I))+R[15]+4264355552&4294967295,P=O+(F<<10&4294967295|F>>>22),F=I+(O^(P|~C))+R[6]+2734768916&4294967295,I=P+(F<<15&4294967295|F>>>17),F=C+(P^(I|~O))+R[13]+1309151649&4294967295,C=I+(F<<21&4294967295|F>>>11),F=O+(I^(C|~P))+R[4]+4149444226&4294967295,O=C+(F<<6&4294967295|F>>>26),F=P+(C^(O|~I))+R[11]+3174756917&4294967295,P=O+(F<<10&4294967295|F>>>22),F=I+(O^(P|~C))+R[2]+718787259&4294967295,I=P+(F<<15&4294967295|F>>>17),F=C+(P^(I|~O))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+O&4294967295,T.g[1]=T.g[1]+(I+(F<<21&4294967295|F>>>11))&4294967295,T.g[2]=T.g[2]+I&4294967295,T.g[3]=T.g[3]+P&4294967295}n.prototype.u=function(T,O){O===void 0&&(O=T.length);for(var C=O-this.blockSize,R=this.B,I=this.h,P=0;P<O;){if(I==0)for(;P<=C;)i(this,T,P),P+=this.blockSize;if(typeof T=="string"){for(;P<O;)if(R[I++]=T.charCodeAt(P++),I==this.blockSize){i(this,R),I=0;break}}else for(;P<O;)if(R[I++]=T[P++],I==this.blockSize){i(this,R),I=0;break}}this.h=I,this.o+=O},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var O=1;O<T.length-8;++O)T[O]=0;var C=8*this.o;for(O=T.length-8;O<T.length;++O)T[O]=C&255,C/=256;for(this.u(T),T=Array(16),O=C=0;4>O;++O)for(var R=0;32>R;R+=8)T[C++]=this.g[O]>>>R&255;return T};function a(T,O){var C=s;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=O(T)}function o(T,O){this.h=O;for(var C=[],R=!0,I=T.length-1;0<=I;I--){var P=T[I]|0;R&&P==O||(C[I]=P,R=!1)}this.g=C}var s={};function l(T){return-128<=T&&128>T?a(T,function(O){return new o([O|0],0>O?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return b(u(-T));for(var O=[],C=1,R=0;T>=C;R++)O[R]=T/C|0,C*=4294967296;return new o(O,0)}function f(T,O){if(T.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(T.charAt(0)=="-")return b(f(T.substring(1),O));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(O,8)),R=d,I=0;I<T.length;I+=8){var P=Math.min(8,T.length-I),F=parseInt(T.substring(I,I+P),O);8>P?(P=u(Math.pow(O,P)),R=R.j(P).add(u(F))):(R=R.j(C),R=R.add(u(F)))}return R}var d=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-b(this).m();for(var T=0,O=1,C=0;C<this.g.length;C++){var R=this.i(C);T+=(0<=R?R:4294967296+R)*O,O*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(g(this))return"-"+b(this).toString(T);for(var O=u(Math.pow(T,6)),C=this,R="";;){var I=S(C,O).g;C=E(C,I.j(O));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=I,y(C))return P+R;for(;6>P.length;)P="0"+P;R=P+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var O=0;O<T.g.length;O++)if(T.g[O]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=E(this,T),g(T)?-1:y(T)?0:1};function b(T){for(var O=T.g.length,C=[],R=0;R<O;R++)C[R]=~T.g[R];return new o(C,~T.h).add(p)}t.abs=function(){return g(this)?b(this):this},t.add=function(T){for(var O=Math.max(this.g.length,T.g.length),C=[],R=0,I=0;I<=O;I++){var P=R+(this.i(I)&65535)+(T.i(I)&65535),F=(P>>>16)+(this.i(I)>>>16)+(T.i(I)>>>16);R=F>>>16,P&=65535,F&=65535,C[I]=F<<16|P}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(T,O){return T.add(b(O))}t.j=function(T){if(y(this)||y(T))return d;if(g(this))return g(T)?b(this).j(b(T)):b(b(this).j(T));if(g(T))return b(this.j(b(T)));if(0>this.l(m)&&0>T.l(m))return u(this.m()*T.m());for(var O=this.g.length+T.g.length,C=[],R=0;R<2*O;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var I=0;I<T.g.length;I++){var P=this.i(R)>>>16,F=this.i(R)&65535,z=T.i(I)>>>16,U=T.i(I)&65535;C[2*R+2*I]+=F*U,N(C,2*R+2*I),C[2*R+2*I+1]+=P*U,N(C,2*R+2*I+1),C[2*R+2*I+1]+=F*z,N(C,2*R+2*I+1),C[2*R+2*I+2]+=P*z,N(C,2*R+2*I+2)}for(R=0;R<O;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=O;R<2*O;R++)C[R]=0;return new o(C,0)};function N(T,O){for(;(T[O]&65535)!=T[O];)T[O+1]+=T[O]>>>16,T[O]&=65535,O++}function _(T,O){this.g=T,this.h=O}function S(T,O){if(y(O))throw Error("division by zero");if(y(T))return new _(d,d);if(g(T))return O=S(b(T),O),new _(b(O.g),b(O.h));if(g(O))return O=S(T,b(O)),new _(b(O.g),O.h);if(30<T.g.length){if(g(T)||g(O))throw Error("slowDivide_ only works with positive integers.");for(var C=p,R=O;0>=R.l(T);)C=x(C),R=x(R);var I=A(C,1),P=A(R,1);for(R=A(R,2),C=A(C,2);!y(R);){var F=P.add(R);0>=F.l(T)&&(I=I.add(C),P=F),R=A(R,1),C=A(C,1)}return O=E(T,I.j(O)),new _(I,O)}for(I=d;0<=T.l(O);){for(C=Math.max(1,Math.floor(T.m()/O.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),P=u(C),F=P.j(O);g(F)||0<F.l(T);)C-=R,P=u(C),F=P.j(O);y(P)&&(P=p),I=I.add(P),T=E(T,F)}return new _(I,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var O=Math.max(this.g.length,T.g.length),C=[],R=0;R<O;R++)C[R]=this.i(R)&T.i(R);return new o(C,this.h&T.h)},t.or=function(T){for(var O=Math.max(this.g.length,T.g.length),C=[],R=0;R<O;R++)C[R]=this.i(R)|T.i(R);return new o(C,this.h|T.h)},t.xor=function(T){for(var O=Math.max(this.g.length,T.g.length),C=[],R=0;R<O;R++)C[R]=this.i(R)^T.i(R);return new o(C,this.h^T.h)};function x(T){for(var O=T.g.length+1,C=[],R=0;R<O;R++)C[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(C,T.h)}function A(T,O){var C=O>>5;O%=32;for(var R=T.g.length-C,I=[],P=0;P<R;P++)I[P]=0<O?T.i(P+C)>>>O|T.i(P+C+1)<<32-O:T.i(P+C);return new o(I,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,_7=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Cl=o}).apply(typeof P4<"u"?P4:typeof self<"u"?self:typeof window<"u"?window:{});var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x7,$m,A7,eb,O2,E7,S7,T7;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(D,L,G){return D==Array.prototype||D==Object.prototype||(D[L]=G.value),D};function r(D){D=[typeof globalThis=="object"&&globalThis,D,typeof window=="object"&&window,typeof self=="object"&&self,typeof i0=="object"&&i0];for(var L=0;L<D.length;++L){var G=D[L];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var n=r(this);function i(D,L){if(L)e:{var G=n;D=D.split(".");for(var ae=0;ae<D.length-1;ae++){var De=D[ae];if(!(De in G))break e;G=G[De]}D=D[D.length-1],ae=G[D],L=L(ae),L!=ae&&L!=null&&e(G,D,{configurable:!0,writable:!0,value:L})}}function a(D,L){D instanceof String&&(D+="");var G=0,ae=!1,De={next:function(){if(!ae&&G<D.length){var Fe=G++;return{value:L(Fe,D[Fe]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return De[Symbol.iterator]=function(){return De},De}i("Array.prototype.values",function(D){return D||function(){return a(this,function(L,G){return G})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(D){var L=typeof D;return L=L!="object"?L:D?Array.isArray(D)?"array":L:"null",L=="array"||L=="object"&&typeof D.length=="number"}function u(D){var L=typeof D;return L=="object"&&D!=null||L=="function"}function f(D,L,G){return D.call.apply(D.bind,arguments)}function d(D,L,G){if(!D)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var De=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(De,ae),D.apply(L,De)}}return function(){return D.apply(L,arguments)}}function p(D,L,G){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:d,p.apply(null,arguments)}function m(D,L){var G=Array.prototype.slice.call(arguments,1);return function(){var ae=G.slice();return ae.push.apply(ae,arguments),D.apply(this,ae)}}function y(D,L){function G(){}G.prototype=L.prototype,D.aa=L.prototype,D.prototype=new G,D.prototype.constructor=D,D.Qb=function(ae,De,Fe){for(var nt=Array(arguments.length-2),sr=2;sr<arguments.length;sr++)nt[sr-2]=arguments[sr];return L.prototype[De].apply(ae,nt)}}function g(D){const L=D.length;if(0<L){const G=Array(L);for(let ae=0;ae<L;ae++)G[ae]=D[ae];return G}return[]}function b(D,L){for(let G=1;G<arguments.length;G++){const ae=arguments[G];if(l(ae)){const De=D.length||0,Fe=ae.length||0;D.length=De+Fe;for(let nt=0;nt<Fe;nt++)D[De+nt]=ae[nt]}else D.push(ae)}}class E{constructor(L,G){this.i=L,this.j=G,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function N(D){return/^[\s\xa0]*$/.test(D)}function _(){var D=s.navigator;return D&&(D=D.userAgent)?D:""}function S(D){return S[" "](D),D}S[" "]=function(){};var x=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function A(D,L,G){for(const ae in D)L.call(G,D[ae],ae,D)}function T(D,L){for(const G in D)L.call(void 0,D[G],G,D)}function O(D){const L={};for(const G in D)L[G]=D[G];return L}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(D,L){let G,ae;for(let De=1;De<arguments.length;De++){ae=arguments[De];for(G in ae)D[G]=ae[G];for(let Fe=0;Fe<C.length;Fe++)G=C[Fe],Object.prototype.hasOwnProperty.call(ae,G)&&(D[G]=ae[G])}}function I(D){var L=1;D=D.split(":");const G=[];for(;0<L&&D.length;)G.push(D.shift()),L--;return D.length&&G.push(D.join(":")),G}function P(D){s.setTimeout(()=>{throw D},0)}function F(){var D=H;let L=null;return D.g&&(L=D.g,D.g=D.g.next,D.g||(D.h=null),L.next=null),L}class z{constructor(){this.h=this.g=null}add(L,G){const ae=U.get();ae.set(L,G),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var U=new E(()=>new k,D=>D.reset());class k{constructor(){this.next=this.g=this.h=null}set(L,G){this.h=L,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let V,Y=!1,H=new z,j=()=>{const D=s.Promise.resolve(void 0);V=()=>{D.then(Z)}};var Z=()=>{for(var D;D=F();){try{D.h.call(D.g)}catch(G){P(G)}var L=U;L.j(D),100>L.h&&(L.h++,D.next=L.g,L.g=D)}Y=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(D,L){this.type=D,this.g=this.target=L,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var K=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var D=!1,L=Object.defineProperty({},"passive",{get:function(){D=!0}});try{const G=()=>{};s.addEventListener("test",G,L),s.removeEventListener("test",G,L)}catch{}return D})();function ge(D,L){if(W.call(this,D?D.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,D){var G=this.type=D.type,ae=D.changedTouches&&D.changedTouches.length?D.changedTouches[0]:null;if(this.target=D.target||D.srcElement,this.g=L,L=D.relatedTarget){if(x){e:{try{S(L.nodeName);var De=!0;break e}catch{}De=!1}De||(L=null)}}else G=="mouseover"?L=D.fromElement:G=="mouseout"&&(L=D.toElement);this.relatedTarget=L,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0),this.button=D.button,this.key=D.key||"",this.ctrlKey=D.ctrlKey,this.altKey=D.altKey,this.shiftKey=D.shiftKey,this.metaKey=D.metaKey,this.pointerId=D.pointerId||0,this.pointerType=typeof D.pointerType=="string"?D.pointerType:me[D.pointerType]||"",this.state=D.state,this.i=D,D.defaultPrevented&&ge.aa.h.call(this)}}y(ge,W);var me={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var D=this.i;D.preventDefault?D.preventDefault():D.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),J=0;function ee(D,L,G,ae,De){this.listener=D,this.proxy=null,this.src=L,this.type=G,this.capture=!!ae,this.ha=De,this.key=++J,this.da=this.fa=!1}function ue(D){D.da=!0,D.listener=null,D.proxy=null,D.src=null,D.ha=null}function le(D){this.src=D,this.g={},this.h=0}le.prototype.add=function(D,L,G,ae,De){var Fe=D.toString();D=this.g[Fe],D||(D=this.g[Fe]=[],this.h++);var nt=Te(D,L,ae,De);return-1<nt?(L=D[nt],G||(L.fa=!1)):(L=new ee(L,this.src,Fe,!!ae,De),L.fa=G,D.push(L)),L};function ie(D,L){var G=L.type;if(G in D.g){var ae=D.g[G],De=Array.prototype.indexOf.call(ae,L,void 0),Fe;(Fe=0<=De)&&Array.prototype.splice.call(ae,De,1),Fe&&(ue(L),D.g[G].length==0&&(delete D.g[G],D.h--))}}function Te(D,L,G,ae){for(var De=0;De<D.length;++De){var Fe=D[De];if(!Fe.da&&Fe.listener==L&&Fe.capture==!!G&&Fe.ha==ae)return De}return-1}var he="closure_lm_"+(1e6*Math.random()|0),Ce={};function je(D,L,G,ae,De){if(Array.isArray(L)){for(var Fe=0;Fe<L.length;Fe++)je(D,L[Fe],G,ae,De);return null}return G=de(G),D&&D[Ee]?D.K(L,G,u(ae)?!!ae.capture:!1,De):We(D,L,G,!1,ae,De)}function We(D,L,G,ae,De,Fe){if(!L)throw Error("Invalid event type");var nt=u(De)?!!De.capture:!!De,sr=Q(D);if(sr||(D[he]=sr=new le(D)),G=sr.add(L,G,ae,nt,Fe),G.proxy)return G;if(ae=xe(),G.proxy=ae,ae.src=D,ae.listener=G,D.addEventListener)K||(De=nt),De===void 0&&(De=!1),D.addEventListener(L.toString(),ae,De);else if(D.attachEvent)D.attachEvent(ce(L.toString()),ae);else if(D.addListener&&D.removeListener)D.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return G}function xe(){function D(G){return L.call(D.src,D.listener,G)}const L=be;return D}function ze(D,L,G,ae,De){if(Array.isArray(L))for(var Fe=0;Fe<L.length;Fe++)ze(D,L[Fe],G,ae,De);else ae=u(ae)?!!ae.capture:!!ae,G=de(G),D&&D[Ee]?(D=D.i,L=String(L).toString(),L in D.g&&(Fe=D.g[L],G=Te(Fe,G,ae,De),-1<G&&(ue(Fe[G]),Array.prototype.splice.call(Fe,G,1),Fe.length==0&&(delete D.g[L],D.h--)))):D&&(D=Q(D))&&(L=D.g[L.toString()],D=-1,L&&(D=Te(L,G,ae,De)),(G=-1<D?L[D]:null)&&te(G))}function te(D){if(typeof D!="number"&&D&&!D.da){var L=D.src;if(L&&L[Ee])ie(L.i,D);else{var G=D.type,ae=D.proxy;L.removeEventListener?L.removeEventListener(G,ae,D.capture):L.detachEvent?L.detachEvent(ce(G),ae):L.addListener&&L.removeListener&&L.removeListener(ae),(G=Q(L))?(ie(G,D),G.h==0&&(G.src=null,L[he]=null)):ue(D)}}}function ce(D){return D in Ce?Ce[D]:Ce[D]="on"+D}function be(D,L){if(D.da)D=!0;else{L=new ge(L,this);var G=D.listener,ae=D.ha||D.src;D.fa&&te(D),D=G.call(ae,L)}return D}function Q(D){return D=D[he],D instanceof le?D:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(D){return typeof D=="function"?D:(D[oe]||(D[oe]=function(L){return D.handleEvent(L)}),D[oe])}function ye(){$.call(this),this.i=new le(this),this.M=this,this.F=null}y(ye,$),ye.prototype[Ee]=!0,ye.prototype.removeEventListener=function(D,L,G,ae){ze(this,D,L,G,ae)};function _e(D,L){var G,ae=D.F;if(ae)for(G=[];ae;ae=ae.F)G.push(ae);if(D=D.M,ae=L.type||L,typeof L=="string")L=new W(L,D);else if(L instanceof W)L.target=L.target||D;else{var De=L;L=new W(ae,D),R(L,De)}if(De=!0,G)for(var Fe=G.length-1;0<=Fe;Fe--){var nt=L.g=G[Fe];De=Re(nt,ae,!0,L)&&De}if(nt=L.g=D,De=Re(nt,ae,!0,L)&&De,De=Re(nt,ae,!1,L)&&De,G)for(Fe=0;Fe<G.length;Fe++)nt=L.g=G[Fe],De=Re(nt,ae,!1,L)&&De}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var D=this.i,L;for(L in D.g){for(var G=D.g[L],ae=0;ae<G.length;ae++)ue(G[ae]);delete D.g[L],D.h--}}this.F=null},ye.prototype.K=function(D,L,G,ae){return this.i.add(String(D),L,!1,G,ae)},ye.prototype.L=function(D,L,G,ae){return this.i.add(String(D),L,!0,G,ae)};function Re(D,L,G,ae){if(L=D.i.g[String(L)],!L)return!0;L=L.concat();for(var De=!0,Fe=0;Fe<L.length;++Fe){var nt=L[Fe];if(nt&&!nt.da&&nt.capture==G){var sr=nt.listener,Nn=nt.ha||nt.src;nt.fa&&ie(D.i,nt),De=sr.call(Nn,ae)!==!1&&De}}return De&&!ae.defaultPrevented}function qe(D,L,G){if(typeof D=="function")G&&(D=p(D,G));else if(D&&typeof D.handleEvent=="function")D=p(D.handleEvent,D);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:s.setTimeout(D,L||0)}function Qe(D){D.g=qe(()=>{D.g=null,D.i&&(D.i=!1,Qe(D))},D.l);const L=D.h;D.h=null,D.m.apply(null,L)}class Je extends ${constructor(L,G){super(),this.m=L,this.l=G,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Qe(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(D){$.call(this),this.h=D,this.g={}}y(Ye,$);var Rt=[];function st(D){A(D.g,function(L,G){this.g.hasOwnProperty(G)&&te(L)},D),D.g={}}Ye.prototype.N=function(){Ye.aa.N.call(this),st(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=s.JSON.stringify,q=s.JSON.parse,pe=class{stringify(D){return s.JSON.stringify(D,void 0)}parse(D){return s.JSON.parse(D,void 0)}};function Ie(){}Ie.prototype.h=null;function He(D){return D.h||(D.h=D.i())}function ht(){}var dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){W.call(this,"d")}y(xr,W);function Bs(){W.call(this,"c")}y(Bs,W);var Ia={},oc=null;function Vo(){return oc=oc||new ye}Ia.La="serverreachability";function Fu(D){W.call(this,Ia.La,D)}y(Fu,W);function Ho(D){const L=Vo();_e(L,new Fu(L))}Ia.STAT_EVENT="statevent";function Uf(D,L){W.call(this,Ia.STAT_EVENT,D),this.stat=L}y(Uf,W);function Lr(D){const L=Vo();_e(L,new Uf(L,D))}Ia.Ma="timingevent";function un(D,L){W.call(this,Ia.Ma,D),this.size=L}y(un,W);function rn(D,L){if(typeof D!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){D()},L)}function Xi(){this.g=!0}Xi.prototype.xa=function(){this.g=!1};function sc(D,L,G,ae,De,Fe){D.info(function(){if(D.g)if(Fe)for(var nt="",sr=Fe.split("&"),Nn=0;Nn<sr.length;Nn++){var ur=sr[Nn].split("=");if(1<ur.length){var Gn=ur[0];ur=ur[1];var Cn=Gn.split("_");nt=2<=Cn.length&&Cn[1]=="type"?nt+(Gn+"="+ur+"&"):nt+(Gn+"=redacted&")}}else nt=null;else nt=Fe;return"XMLHTTP REQ ("+ae+") [attempt "+De+"]: "+L+`
`+G+`
`+nt})}function Sp(D,L,G,ae,De,Fe,nt){D.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+De+"]: "+L+`
`+G+`
`+Fe+" "+nt})}function Go(D,L,G,ae){D.info(function(){return"XMLHTTP TEXT ("+L+"): "+Fs(D,G)+(ae?" "+ae:"")})}function jf(D,L){D.info(function(){return"TIMEOUT: "+L})}Xi.prototype.info=function(){};function Fs(D,L){if(!D.g)return L;if(!L)return null;try{var G=JSON.parse(L);if(G){for(D=0;D<G.length;D++)if(Array.isArray(G[D])){var ae=G[D];if(!(2>ae.length)){var De=ae[1];if(Array.isArray(De)&&!(1>De.length)){var Fe=De[0];if(Fe!="noop"&&Fe!="stop"&&Fe!="close")for(var nt=1;nt<De.length;nt++)De[nt]=""}}}}return Gt(G)}catch{return L}}var Ko={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ra;function Pa(){}y(Pa,Ie),Pa.prototype.g=function(){return new XMLHttpRequest},Pa.prototype.i=function(){return{}},Ra=new Pa;function ii(D,L,G,ae){this.j=D,this.i=L,this.l=G,this.R=ae||1,this.U=new Ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zr}function Zr(){this.i=null,this.g="",this.h=!1}var uc={},ku={};function la(D,L,G){D.L=1,D.v=fc(ca(L)),D.m=G,D.P=!0,vo(D,null)}function vo(D,L){D.F=Date.now(),Qt(D),D.A=ca(D.v);var G=D.A,ae=D.R;Array.isArray(ae)||(ae=[String(ae)]),Mp(G.i,"t",ae),D.C=0,G=D.j.J,D.h=new Zr,D.g=Zg(D.j,G?L:null,!D.m),0<D.O&&(D.M=new Je(p(D.Y,D,D.g),D.O)),L=D.U,G=D.g,ae=D.ca;var De="readystatechange";Array.isArray(De)||(De&&(Rt[0]=De.toString()),De=Rt);for(var Fe=0;Fe<De.length;Fe++){var nt=je(G,De[Fe],ae||L.handleEvent,!1,L.h||L);if(!nt)break;L.g[nt.key]=nt}L=D.H?O(D.H):{},D.m?(D.u||(D.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",D.g.ea(D.A,D.u,D.m,L)):(D.u="GET",D.g.ea(D.A,D.u,null,L)),Ho(),sc(D.i,D.u,D.A,D.l,D.R,D.m)}ii.prototype.ca=function(D){D=D.target;const L=this.M;L&&$a(D)==3?L.j():this.Y(D)},ii.prototype.Y=function(D){try{if(D==this.g)e:{const Cn=$a(this.g);var L=this.g.Ba();const Hs=this.g.Z();if(!(3>Cn)&&(Cn!=3||this.g&&(this.h.h||this.g.oa()||Vg(this.g)))){this.J||Cn!=4||L==7||(L==8||0>=Hs?Ho(3):Ho(2)),Wo(this);var G=this.g.Z();this.X=G;t:if(zf(this)){var ae=Vg(this.g);D="";var De=ae.length,Fe=$a(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),Ri(this);var nt="";break t}this.h.i=new s.TextDecoder}for(L=0;L<De;L++)this.h.h=!0,D+=this.h.i.decode(ae[L],{stream:!(Fe&&L==De-1)});ae.length=0,this.h.g+=D,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=G==200,Sp(this.i,this.u,this.A,this.l,this.R,Cn,G),this.o){if(this.T&&!this.K){t:{if(this.g){var sr,Nn=this.g;if((sr=Nn.g?Nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(sr)){var ur=sr;break t}}ur=null}if(G=ur)Go(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ks(this,G);else{this.o=!1,this.s=3,Lr(12),Jr(this),Ri(this);break e}}if(this.P){G=!0;let ai;for(;!this.J&&this.C<nt.length;)if(ai=Xo(this,nt),ai==ku){Cn==4&&(this.s=4,Lr(14),G=!1),Go(this.i,this.l,null,"[Incomplete Response]");break}else if(ai==uc){this.s=4,Lr(15),Go(this.i,this.l,nt,"[Invalid Chunk]"),G=!1;break}else Go(this.i,this.l,ai,null),ks(this,ai);if(zf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cn!=4||nt.length!=0||this.h.h||(this.s=1,Lr(16),G=!1),this.o=this.o&&G,!G)Go(this.i,this.l,nt,"[Invalid Chunked Response]"),Jr(this),Ri(this);else if(0<nt.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),bc(Gn),Gn.M=!0,Lr(11))}}else Go(this.i,this.l,nt,null),ks(this,nt);Cn==4&&Jr(this),this.o&&!this.J&&(Cn==4?Wg(this.j,this):(this.o=!1,Qt(this)))}else z_(this.g),G==400&&0<nt.indexOf("Unknown SID")?(this.s=3,Lr(12)):(this.s=0,Lr(13)),Jr(this),Ri(this)}}}catch{}finally{}};function zf(D){return D.g?D.u=="GET"&&D.L!=2&&D.j.Ca:!1}function Xo(D,L){var G=D.C,ae=L.indexOf(`
`,G);return ae==-1?ku:(G=Number(L.substring(G,ae)),isNaN(G)?uc:(ae+=1,ae+G>L.length?ku:(L=L.slice(ae,ae+G),D.C=ae+G,L)))}ii.prototype.cancel=function(){this.J=!0,Jr(this)};function Qt(D){D.S=Date.now()+D.I,Dn(D,D.I)}function Dn(D,L){if(D.B!=null)throw Error("WatchDog timer not null");D.B=rn(p(D.ba,D),L)}function Wo(D){D.B&&(s.clearTimeout(D.B),D.B=null)}ii.prototype.ba=function(){this.B=null;const D=Date.now();0<=D-this.S?(jf(this.i,this.A),this.L!=2&&(Ho(),Lr(17)),Jr(this),this.s=2,Ri(this)):Dn(this,this.S-D)};function Ri(D){D.j.G==0||D.J||Wg(D.j,D)}function Jr(D){Wo(D);var L=D.M;L&&typeof L.ma=="function"&&L.ma(),D.M=null,st(D.U),D.g&&(L=D.g,D.g=null,L.abort(),L.ma())}function ks(D,L){try{var G=D.j;if(G.G!=0&&(G.g==D||Tp(G.h,D))){if(!D.K&&Tp(G.h,D)&&G.G==3){try{var ae=G.Da.g.parse(L)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var De=ae;if(De[0]==0){e:if(!G.u){if(G.g)if(G.g.F+3e3<D.F)th(G),Jf(G);else break e;Fp(G),Lr(18)}}else G.za=De[1],0<G.za-G.T&&37500>De[2]&&G.F&&G.v==0&&!G.C&&(G.C=rn(p(G.Za,G),6e3));if(1>=Hf(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Vs(G,11)}else if((D.K||G.g==D)&&th(G),!N(L))for(De=G.Da.g.parse(L),L=0;L<De.length;L++){let ur=De[L];if(G.T=ur[0],ur=ur[1],G.G==2)if(ur[0]=="c"){G.K=ur[1],G.ia=ur[2];const Gn=ur[3];Gn!=null&&(G.la=Gn,G.j.info("VER="+G.la));const Cn=ur[4];Cn!=null&&(G.Aa=Cn,G.j.info("SVER="+G.Aa));const Hs=ur[5];Hs!=null&&typeof Hs=="number"&&0<Hs&&(ae=1.5*Hs,G.L=ae,G.j.info("backChannelRequestTimeoutMs_="+ae)),ae=G;const ai=D.g;if(ai){const rs=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rs){var Fe=ae.h;Fe.g||rs.indexOf("spdy")==-1&&rs.indexOf("quic")==-1&&rs.indexOf("h2")==-1||(Fe.j=Fe.l,Fe.g=new Set,Fe.h&&(Gf(Fe,Fe.h),Fe.h=null))}if(ae.D){const $p=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;$p&&(ae.ya=$p,Cr(ae.I,ae.D,$p))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-D.F,G.j.info("Handshake RTT: "+G.R+"ms")),ae=G;var nt=D;if(ae.qa=Qg(ae,ae.J?ae.ia:null,ae.W),nt.K){Pi(ae.h,nt);var sr=nt,Nn=ae.L;Nn&&(sr.I=Nn),sr.B&&(Wo(sr),Qt(sr)),ae.g=nt}else Kg(ae);0<G.i.length&&eh(G)}else ur[0]!="stop"&&ur[0]!="close"||Vs(G,7);else G.G==3&&(ur[0]=="stop"||ur[0]=="close"?ur[0]=="stop"?Vs(G,7):Pp(G):ur[0]!="noop"&&G.l&&G.l.ta(ur),G.v=0)}}Ho(4)}catch{}}var qg=class{constructor(D,L){this.g=D,this.map=L}};function $s(D){this.l=D||10,s.PerformanceNavigationTiming?(D=s.performance.getEntriesByType("navigation"),D=0<D.length&&(D[0].nextHopProtocol=="hq"||D[0].nextHopProtocol=="h2")):D=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=D?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vf(D){return D.h?!0:D.g?D.g.size>=D.j:!1}function Hf(D){return D.h?1:D.g?D.g.size:0}function Tp(D,L){return D.h?D.h==L:D.g?D.g.has(L):!1}function Gf(D,L){D.g?D.g.add(L):D.h=L}function Pi(D,L){D.h&&D.h==L?D.h=null:D.g&&D.g.has(L)&&D.g.delete(L)}$s.prototype.cancel=function(){if(this.i=Dp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const D of this.g.values())D.cancel();this.g.clear()}};function Dp(D){if(D.h!=null)return D.i.concat(D.h.D);if(D.g!=null&&D.g.size!==0){let L=D.i;for(const G of D.g.values())L=L.concat(G.D);return L}return g(D.i)}function L_(D){if(D.V&&typeof D.V=="function")return D.V();if(typeof Map<"u"&&D instanceof Map||typeof Set<"u"&&D instanceof Set)return Array.from(D.values());if(typeof D=="string")return D.split("");if(l(D)){for(var L=[],G=D.length,ae=0;ae<G;ae++)L.push(D[ae]);return L}L=[],G=0;for(ae in D)L[G++]=D[ae];return L}function Kf(D){if(D.na&&typeof D.na=="function")return D.na();if(!D.V||typeof D.V!="function"){if(typeof Map<"u"&&D instanceof Map)return Array.from(D.keys());if(!(typeof Set<"u"&&D instanceof Set)){if(l(D)||typeof D=="string"){var L=[];D=D.length;for(var G=0;G<D;G++)L.push(G);return L}L=[],G=0;for(const ae in D)L[G++]=ae;return L}}}function Np(D,L){if(D.forEach&&typeof D.forEach=="function")D.forEach(L,void 0);else if(l(D)||typeof D=="string")Array.prototype.forEach.call(D,L,void 0);else for(var G=Kf(D),ae=L_(D),De=ae.length,Fe=0;Fe<De;Fe++)L.call(void 0,ae[Fe],G&&G[Fe],D)}var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function q_(D,L){if(D){D=D.split("&");for(var G=0;G<D.length;G++){var ae=D[G].indexOf("="),De=null;if(0<=ae){var Fe=D[G].substring(0,ae);De=D[G].substring(ae+1)}else Fe=D[G];L(Fe,De?decodeURIComponent(De.replace(/\+/g," ")):"")}}}function mn(D){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,D instanceof mn){this.h=D.h,cc(this,D.j),this.o=D.o,this.g=D.g,$u(this,D.s),this.l=D.l;var L=D.i,G=new qs;G.i=L.i,L.g&&(G.g=new Map(L.g),G.h=L.h),Ls(this,G),this.m=D.m}else D&&(L=String(D).match(lc))?(this.h=!1,cc(this,L[1]||"",!0),this.o=Ba(L[2]||""),this.g=Ba(L[3]||"",!0),$u(this,L[4]),this.l=Ba(L[5]||"",!0),Ls(this,L[6]||"",!0),this.m=Ba(L[7]||"")):(this.h=!1,this.i=new qs(null,this.h))}mn.prototype.toString=function(){var D=[],L=this.j;L&&D.push(hc(L,Cp,!0),":");var G=this.g;return(G||L=="file")&&(D.push("//"),(L=this.o)&&D.push(hc(L,Cp,!0),"@"),D.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.s,G!=null&&D.push(":",String(G))),(G=this.l)&&(this.g&&G.charAt(0)!="/"&&D.push("/"),D.push(hc(G,G.charAt(0)=="/"?U_:Op,!0))),(G=this.i.toString())&&D.push("?",G),(G=this.m)&&D.push("#",hc(G,Xf)),D.join("")};function ca(D){return new mn(D)}function cc(D,L,G){D.j=G?Ba(L,!0):L,D.j&&(D.j=D.j.replace(/:$/,""))}function $u(D,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);D.s=L}else D.s=null}function Ls(D,L,G){L instanceof qs?(D.i=L,jg(D.i,D.h)):(G||(L=hc(L,j_)),D.i=new qs(L,D.h))}function Cr(D,L,G){D.i.set(L,G)}function fc(D){return Cr(D,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),D}function Ba(D,L){return D?L?decodeURI(D.replace(/%25/g,"%2525")):decodeURIComponent(D):""}function hc(D,L,G){return typeof D=="string"?(D=encodeURI(D).replace(L,Ug),G&&(D=D.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D):null}function Ug(D){return D=D.charCodeAt(0),"%"+(D>>4&15).toString(16)+(D&15).toString(16)}var Cp=/[#\/\?@]/g,Op=/[#\?:]/g,U_=/[#\?]/g,j_=/[#\?@]/g,Xf=/#/g;function qs(D,L){this.h=this.g=null,this.i=D||null,this.j=!!L}function Fa(D){D.g||(D.g=new Map,D.h=0,D.i&&q_(D.i,function(L,G){D.add(decodeURIComponent(L.replace(/\+/g," ")),G)}))}t=qs.prototype,t.add=function(D,L){Fa(this),this.i=null,D=Yo(this,D);var G=this.g.get(D);return G||this.g.set(D,G=[]),G.push(L),this.h+=1,this};function Us(D,L){Fa(D),L=Yo(D,L),D.g.has(L)&&(D.i=null,D.h-=D.g.get(L).length,D.g.delete(L))}function js(D,L){return Fa(D),L=Yo(D,L),D.g.has(L)}t.forEach=function(D,L){Fa(this),this.g.forEach(function(G,ae){G.forEach(function(De){D.call(L,De,ae,this)},this)},this)},t.na=function(){Fa(this);const D=Array.from(this.g.values()),L=Array.from(this.g.keys()),G=[];for(let ae=0;ae<L.length;ae++){const De=D[ae];for(let Fe=0;Fe<De.length;Fe++)G.push(L[ae])}return G},t.V=function(D){Fa(this);let L=[];if(typeof D=="string")js(this,D)&&(L=L.concat(this.g.get(Yo(this,D))));else{D=Array.from(this.g.values());for(let G=0;G<D.length;G++)L=L.concat(D[G])}return L},t.set=function(D,L){return Fa(this),this.i=null,D=Yo(this,D),js(this,D)&&(this.h-=this.g.get(D).length),this.g.set(D,[L]),this.h+=1,this},t.get=function(D,L){return D?(D=this.V(D),0<D.length?String(D[0]):L):L};function Mp(D,L,G){Us(D,L),0<G.length&&(D.i=null,D.g.set(Yo(D,L),g(G)),D.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const D=[],L=Array.from(this.g.keys());for(var G=0;G<L.length;G++){var ae=L[G];const Fe=encodeURIComponent(String(ae)),nt=this.V(ae);for(ae=0;ae<nt.length;ae++){var De=Fe;nt[ae]!==""&&(De+="="+encodeURIComponent(String(nt[ae]))),D.push(De)}}return this.i=D.join("&")};function Yo(D,L){return L=String(L),D.j&&(L=L.toLowerCase()),L}function jg(D,L){L&&!D.j&&(Fa(D),D.i=null,D.g.forEach(function(G,ae){var De=ae.toLowerCase();ae!=De&&(Us(this,ae),Mp(this,De,G))},D)),D.j=L}function dc(D,L){const G=new Xi;if(s.Image){const ae=new Image;ae.onload=m(ka,G,"TestLoadImage: loaded",!0,L,ae),ae.onerror=m(ka,G,"TestLoadImage: error",!1,L,ae),ae.onabort=m(ka,G,"TestLoadImage: abort",!1,L,ae),ae.ontimeout=m(ka,G,"TestLoadImage: timeout",!1,L,ae),s.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=D}else L(!1)}function go(D,L){const G=new Xi,ae=new AbortController,De=setTimeout(()=>{ae.abort(),ka(G,"TestPingServer: timeout",!1,L)},1e4);fetch(D,{signal:ae.signal}).then(Fe=>{clearTimeout(De),Fe.ok?ka(G,"TestPingServer: ok",!0,L):ka(G,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(De),ka(G,"TestPingServer: error",!1,L)})}function ka(D,L,G,ae,De){try{De&&(De.onload=null,De.onerror=null,De.onabort=null,De.ontimeout=null),ae(G)}catch{}}function pc(){this.g=new pe}function Qo(D,L,G){const ae=G||"";try{Np(D,function(De,Fe){let nt=De;u(De)&&(nt=Gt(De)),L.push(ae+Fe+"="+encodeURIComponent(nt))})}catch(De){throw L.push(ae+"type="+encodeURIComponent("_badmap")),De}}function Lu(D){this.l=D.Ub||null,this.j=D.eb||!1}y(Lu,Ie),Lu.prototype.g=function(){return new zs(this.l,this.j)},Lu.prototype.i=(function(D){return function(){return D}})({});function zs(D,L){ye.call(this),this.D=D,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(zs,ye),t=zs.prototype,t.open=function(D,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=D,this.A=L,this.readyState=1,Jo(this)},t.send=function(D){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};D&&(L.body=D),(this.D||s).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=0},t.Sa=function(D){if(this.g&&(this.l=D,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=D.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")D.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in D){if(this.j=D.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ip(this)}else D.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ip(D){D.j.read().then(D.Pa.bind(D)).catch(D.ga.bind(D))}t.Pa=function(D){if(this.g){if(this.o&&D.value)this.response.push(D.value);else if(!this.o){var L=D.value?D.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!D.done}))&&(this.response=this.responseText+=L)}D.done?Zo(this):Jo(this),this.readyState==3&&Ip(this)}},t.Ra=function(D){this.g&&(this.response=this.responseText=D,Zo(this))},t.Qa=function(D){this.g&&(this.response=D,Zo(this))},t.ga=function(){this.g&&Zo(this)};function Zo(D){D.readyState=4,D.l=null,D.j=null,D.v=null,Jo(D)}t.setRequestHeader=function(D,L){this.u.append(D,L)},t.getResponseHeader=function(D){return this.h&&this.h.get(D.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const D=[],L=this.h.entries();for(var G=L.next();!G.done;)G=G.value,D.push(G[0]+": "+G[1]),G=L.next();return D.join(`\r
`)};function Jo(D){D.onreadystatechange&&D.onreadystatechange.call(D)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(D){this.m=D?"include":"same-origin"}});function Rp(D){let L="";return A(D,function(G,ae){L+=ae,L+=":",L+=G,L+=`\r
`}),L}function Hn(D,L,G){e:{for(ae in G){var ae=!1;break e}ae=!0}ae||(G=Rp(G),typeof D=="string"?G!=null&&encodeURIComponent(String(G)):Cr(D,L,G))}function gr(D){ye.call(this),this.headers=new Map,this.o=D||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(gr,ye);var Wf=/^https?$/i,mc=["POST","PUT"];t=gr.prototype,t.Ha=function(D){this.J=D},t.ea=function(D,L,G,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+D);L=L?L.toUpperCase():"GET",this.D=D,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ra.g(),this.v=this.o?He(this.o):He(Ra),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(L,String(D),!0),this.B=!1}catch(Fe){zg(this,Fe);return}if(D=G||"",G=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var De in ae)G.set(De,ae[De]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(const Fe of ae.keys())G.set(Fe,ae.get(Fe));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(G.keys()).find(Fe=>Fe.toLowerCase()=="content-type"),De=s.FormData&&D instanceof s.FormData,!(0<=Array.prototype.indexOf.call(mc,L,void 0))||ae||De||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Fe,nt]of G)this.g.setRequestHeader(Fe,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vc(this),this.u=!0,this.g.send(D),this.u=!1}catch(Fe){zg(this,Fe)}};function zg(D,L){D.h=!1,D.g&&(D.j=!0,D.g.abort(),D.j=!1),D.l=L,D.m=5,Yf(D),es(D)}function Yf(D){D.A||(D.A=!0,_e(D,"complete"),_e(D,"error"))}t.abort=function(D){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=D||7,_e(this,"complete"),_e(this,"abort"),es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),gr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Qf(this):this.bb())},t.bb=function(){Qf(this)};function Qf(D){if(D.h&&typeof o<"u"&&(!D.v[1]||$a(D)!=4||D.Z()!=2)){if(D.u&&$a(D)==4)qe(D.Ea,0,D);else if(_e(D,"readystatechange"),$a(D)==4){D.h=!1;try{const nt=D.Z();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var G;if(!(G=L)){var ae;if(ae=nt===0){var De=String(D.D).match(lc)[1]||null;!De&&s.self&&s.self.location&&(De=s.self.location.protocol.slice(0,-1)),ae=!Wf.test(De?De.toLowerCase():"")}G=ae}if(G)_e(D,"complete"),_e(D,"success");else{D.m=6;try{var Fe=2<$a(D)?D.g.statusText:""}catch{Fe=""}D.l=Fe+" ["+D.Z()+"]",Yf(D)}}finally{es(D)}}}}function es(D,L){if(D.g){vc(D);const G=D.g,ae=D.v[0]?()=>{}:null;D.g=null,D.v=null,L||_e(D,"ready");try{G.onreadystatechange=ae}catch{}}}function vc(D){D.I&&(s.clearTimeout(D.I),D.I=null)}t.isActive=function(){return!!this.g};function $a(D){return D.g?D.g.readyState:0}t.Z=function(){try{return 2<$a(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(D){if(this.g){var L=this.g.responseText;return D&&L.indexOf(D)==0&&(L=L.substring(D.length)),q(L)}};function Vg(D){try{if(!D.g)return null;if("response"in D.g)return D.g.response;switch(D.H){case"":case"text":return D.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in D.g)return D.g.mozResponseArrayBuffer}return null}catch{return null}}function z_(D){const L={};D=(D.g&&2<=$a(D)&&D.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<D.length;ae++){if(N(D[ae]))continue;var G=I(D[ae]);const De=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const Fe=L[De]||[];L[De]=Fe,Fe.push(G)}T(L,function(ae){return ae.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gc(D,L,G){return G&&G.internalChannelParams&&G.internalChannelParams[D]||L}function Zf(D){this.Aa=0,this.i=[],this.j=new Xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gc("failFast",!1,D),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gc("baseRetryDelayMs",5e3,D),this.cb=gc("retryDelaySeedMs",1e4,D),this.Wa=gc("forwardChannelMaxRetries",2,D),this.wa=gc("forwardChannelRequestTimeoutMs",2e4,D),this.pa=D&&D.xmlHttpFactory||void 0,this.Xa=D&&D.Tb||void 0,this.Ca=D&&D.useFetchStreams||!1,this.L=void 0,this.J=D&&D.supportsCrossDomainXhr||!1,this.K="",this.h=new $s(D&&D.concurrentRequestLimit),this.Da=new pc,this.P=D&&D.fastHandshake||!1,this.O=D&&D.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=D&&D.Rb||!1,D&&D.xa&&this.j.xa(),D&&D.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&D&&D.detectBufferingProxy||!1,this.ja=void 0,D&&D.longPollingTimeout&&0<D.longPollingTimeout&&(this.ja=D.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zf.prototype,t.la=8,t.G=1,t.connect=function(D,L,G,ae){Lr(0),this.W=D,this.H=L||{},G&&ae!==void 0&&(this.H.OSID=G,this.H.OAID=ae),this.F=this.X,this.I=Qg(this,null,this.W),eh(this)};function Pp(D){if(Hg(D),D.G==3){var L=D.U++,G=ca(D.I);if(Cr(G,"SID",D.K),Cr(G,"RID",L),Cr(G,"TYPE","terminate"),yc(D,G),L=new ii(D,D.j,L),L.L=2,L.v=fc(ca(G)),G=!1,s.navigator&&s.navigator.sendBeacon)try{G=s.navigator.sendBeacon(L.v.toString(),"")}catch{}!G&&s.Image&&(new Image().src=L.v,G=!0),G||(L.g=Zg(L.j,null),L.g.ea(L.v)),L.F=Date.now(),Qt(L)}Yg(D)}function Jf(D){D.g&&(bc(D),D.g.cancel(),D.g=null)}function Hg(D){Jf(D),D.u&&(s.clearTimeout(D.u),D.u=null),th(D),D.h.cancel(),D.s&&(typeof D.s=="number"&&s.clearTimeout(D.s),D.s=null)}function eh(D){if(!Vf(D.h)&&!D.s){D.s=!0;var L=D.Ga;V||j(),Y||(V(),Y=!0),H.add(L,D),D.B=0}}function V_(D,L){return Hf(D.h)>=D.h.j-(D.s?1:0)?!1:D.s?(D.i=L.D.concat(D.i),!0):D.G==1||D.G==2||D.B>=(D.Va?0:D.Wa)?!1:(D.s=rn(p(D.Ga,D,L),kp(D,D.B)),D.B++,!0)}t.Ga=function(D){if(this.s)if(this.s=null,this.G==1){if(!D){this.U=Math.floor(1e5*Math.random()),D=this.U++;const De=new ii(this,this.j,D);let Fe=this.o;if(this.S&&(Fe?(Fe=O(Fe),R(Fe,this.S)):Fe=this.S),this.m!==null||this.O||(De.H=Fe,Fe=null),this.P)e:{for(var L=0,G=0;G<this.i.length;G++){t:{var ae=this.i[G];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if(L+=ae,4096<L){L=G;break e}if(L===4096||G===this.i.length-1){L=G+1;break e}}L=1e3}else L=1e3;L=Gg(this,De,L),G=ca(this.I),Cr(G,"RID",D),Cr(G,"CVER",22),this.D&&Cr(G,"X-HTTP-Session-Id",this.D),yc(this,G),Fe&&(this.O?L="headers="+encodeURIComponent(String(Rp(Fe)))+"&"+L:this.m&&Hn(G,this.m,Fe)),Gf(this.h,De),this.Ua&&Cr(G,"TYPE","init"),this.P?(Cr(G,"$req",L),Cr(G,"SID","null"),De.T=!0,la(De,G,null)):la(De,G,L),this.G=2}}else this.G==3&&(D?Bp(this,D):this.i.length==0||Vf(this.h)||Bp(this))};function Bp(D,L){var G;L?G=L.l:G=D.U++;const ae=ca(D.I);Cr(ae,"SID",D.K),Cr(ae,"RID",G),Cr(ae,"AID",D.T),yc(D,ae),D.m&&D.o&&Hn(ae,D.m,D.o),G=new ii(D,D.j,G,D.B+1),D.m===null&&(G.H=D.o),L&&(D.i=L.D.concat(D.i)),L=Gg(D,G,1e3),G.I=Math.round(.5*D.wa)+Math.round(.5*D.wa*Math.random()),Gf(D.h,G),la(G,ae,L)}function yc(D,L){D.H&&A(D.H,function(G,ae){Cr(L,ae,G)}),D.l&&Np({},function(G,ae){Cr(L,ae,G)})}function Gg(D,L,G){G=Math.min(D.i.length,G);var ae=D.l?p(D.l.Na,D.l,D):null;e:{var De=D.i;let Fe=-1;for(;;){const nt=["count="+G];Fe==-1?0<G?(Fe=De[0].g,nt.push("ofs="+Fe)):Fe=0:nt.push("ofs="+Fe);let sr=!0;for(let Nn=0;Nn<G;Nn++){let ur=De[Nn].g;const Gn=De[Nn].map;if(ur-=Fe,0>ur)Fe=Math.max(0,De[Nn].g-100),sr=!1;else try{Qo(Gn,nt,"req"+ur+"_")}catch{ae&&ae(Gn)}}if(sr){ae=nt.join("&");break e}}}return D=D.i.splice(0,G),L.D=D,ae}function Kg(D){if(!D.g&&!D.u){D.Y=1;var L=D.Fa;V||j(),Y||(V(),Y=!0),H.add(L,D),D.v=0}}function Fp(D){return D.g||D.u||3<=D.v?!1:(D.Y++,D.u=rn(p(D.Fa,D),kp(D,D.v)),D.v++,!0)}t.Fa=function(){if(this.u=null,Xg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var D=2*this.R;this.j.info("BP detection timer enabled: "+D),this.A=rn(p(this.ab,this),D)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lr(10),Jf(this),Xg(this))};function bc(D){D.A!=null&&(s.clearTimeout(D.A),D.A=null)}function Xg(D){D.g=new ii(D,D.j,"rpc",D.Y),D.m===null&&(D.g.H=D.o),D.g.O=0;var L=ca(D.qa);Cr(L,"RID","rpc"),Cr(L,"SID",D.K),Cr(L,"AID",D.T),Cr(L,"CI",D.F?"0":"1"),!D.F&&D.ja&&Cr(L,"TO",D.ja),Cr(L,"TYPE","xmlhttp"),yc(D,L),D.m&&D.o&&Hn(L,D.m,D.o),D.L&&(D.g.I=D.L);var G=D.g;D=D.ia,G.L=1,G.v=fc(ca(L)),G.m=null,G.P=!0,vo(G,D)}t.Za=function(){this.C!=null&&(this.C=null,Jf(this),Fp(this),Lr(19))};function th(D){D.C!=null&&(s.clearTimeout(D.C),D.C=null)}function Wg(D,L){var G=null;if(D.g==L){th(D),bc(D),D.g=null;var ae=2}else if(Tp(D.h,L))G=L.D,Pi(D.h,L),ae=1;else return;if(D.G!=0){if(L.o)if(ae==1){G=L.m?L.m.length:0,L=Date.now()-L.F;var De=D.B;ae=Vo(),_e(ae,new un(ae,G)),eh(D)}else Kg(D);else if(De=L.s,De==3||De==0&&0<L.X||!(ae==1&&V_(D,L)||ae==2&&Fp(D)))switch(G&&0<G.length&&(L=D.h,L.i=L.i.concat(G)),De){case 1:Vs(D,5);break;case 4:Vs(D,10);break;case 3:Vs(D,6);break;default:Vs(D,2)}}}function kp(D,L){let G=D.Ta+Math.floor(Math.random()*D.cb);return D.isActive()||(G*=2),G*L}function Vs(D,L){if(D.j.info("Error code "+L),L==2){var G=p(D.fb,D),ae=D.Xa;const De=!ae;ae=new mn(ae||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||cc(ae,"https"),fc(ae),De?dc(ae.toString(),G):go(ae.toString(),G)}else Lr(2);D.G=0,D.l&&D.l.sa(L),Yg(D),Hg(D)}t.fb=function(D){D?(this.j.info("Successfully pinged google.com"),Lr(2)):(this.j.info("Failed to ping google.com"),Lr(1))};function Yg(D){if(D.G=0,D.ka=[],D.l){const L=Dp(D.h);(L.length!=0||D.i.length!=0)&&(b(D.ka,L),b(D.ka,D.i),D.h.i.length=0,g(D.i),D.i.length=0),D.l.ra()}}function Qg(D,L,G){var ae=G instanceof mn?ca(G):new mn(G);if(ae.g!="")L&&(ae.g=L+"."+ae.g),$u(ae,ae.s);else{var De=s.location;ae=De.protocol,L=L?L+"."+De.hostname:De.hostname,De=+De.port;var Fe=new mn(null);ae&&cc(Fe,ae),L&&(Fe.g=L),De&&$u(Fe,De),G&&(Fe.l=G),ae=Fe}return G=D.D,L=D.ya,G&&L&&Cr(ae,G,L),Cr(ae,"VER",D.la),yc(D,ae),ae}function Zg(D,L,G){if(L&&!D.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=D.Ca&&!D.pa?new gr(new Lu({eb:G})):new gr(D.pa),L.Ha(D.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jg(){}t=Jg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function rh(){}rh.prototype.g=function(D,L){return new Bi(D,L)};function Bi(D,L){ye.call(this),this.g=new Zf(L),this.l=D,this.h=L&&L.messageUrlParams||null,D=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(D?D["X-Client-Protocol"]="webchannel":D={"X-Client-Protocol":"webchannel"}),this.g.o=D,D=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(D?D["X-WebChannel-Content-Type"]=L.messageContentType:D={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(D?D["X-WebChannel-Client-Profile"]=L.va:D={"X-WebChannel-Client-Profile":L.va}),this.g.S=D,(D=L&&L.Sb)&&!N(D)&&(this.g.m=D),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!N(L)&&(this.g.D=L,D=this.h,D!==null&&L in D&&(D=this.h,L in D&&delete D[L])),this.j=new ts(this)}y(Bi,ye),Bi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bi.prototype.close=function(){Pp(this.g)},Bi.prototype.o=function(D){var L=this.g;if(typeof D=="string"){var G={};G.__data__=D,D=G}else this.u&&(G={},G.__data__=Gt(D),D=G);L.i.push(new qg(L.Ya++,D)),L.G==3&&eh(L)},Bi.prototype.N=function(){this.g.l=null,delete this.j,Pp(this.g),delete this.g,Bi.aa.N.call(this)};function ey(D){xr.call(this),D.__headers__&&(this.headers=D.__headers__,this.statusCode=D.__status__,delete D.__headers__,delete D.__status__);var L=D.__sm__;if(L){e:{for(const G in L){D=G;break e}D=void 0}(this.i=D)&&(D=this.i,L=L!==null&&D in L?L[D]:void 0),this.data=L}else this.data=D}y(ey,xr);function ty(){Bs.call(this),this.status=1}y(ty,Bs);function ts(D){this.g=D}y(ts,Jg),ts.prototype.ua=function(){_e(this.g,"a")},ts.prototype.ta=function(D){_e(this.g,new ey(D))},ts.prototype.sa=function(D){_e(this.g,new ty)},ts.prototype.ra=function(){_e(this.g,"b")},rh.prototype.createWebChannel=rh.prototype.g,Bi.prototype.send=Bi.prototype.o,Bi.prototype.open=Bi.prototype.m,Bi.prototype.close=Bi.prototype.close,T7=function(){return new rh},S7=function(){return Vo()},E7=Ia,O2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ko.NO_ERROR=0,Ko.TIMEOUT=8,Ko.HTTP_ERROR=6,eb=Ko,mo.COMPLETE="complete",A7=mo,ht.EventType=dt,dt.OPEN="a",dt.CLOSE="b",dt.ERROR="c",dt.MESSAGE="d",ye.prototype.listen=ye.prototype.K,$m=ht,gr.prototype.listenOnce=gr.prototype.L,gr.prototype.getLastError=gr.prototype.Ka,gr.prototype.getLastErrorCode=gr.prototype.Ba,gr.prototype.getStatus=gr.prototype.Z,gr.prototype.getResponseJson=gr.prototype.Oa,gr.prototype.getResponseText=gr.prototype.oa,gr.prototype.send=gr.prototype.ea,gr.prototype.setWithCredentials=gr.prototype.Ha,x7=gr}).apply(typeof i0<"u"?i0:typeof self<"u"?self:typeof window<"u"?window:{});const B4="@firebase/firestore",F4="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ei.UNAUTHENTICATED=new Ei(null),Ei.GOOGLE_CREDENTIALS=new Ei("google-credentials-uid"),Ei.FIRST_PARTY=new Ei("first-party-uid"),Ei.MOCK_USER=new Ei("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new lw("@firebase/firestore");function Uh(){return cf.logLevel}function ot(t,...e){if(cf.logLevel<=tr.DEBUG){const r=e.map(nO);cf.debug(`Firestore (${tp}): ${t}`,...r)}}function Eu(t,...e){if(cf.logLevel<=tr.ERROR){const r=e.map(nO);cf.error(`Firestore (${tp}): ${t}`,...r)}}function dd(t,...e){if(cf.logLevel<=tr.WARN){const r=e.map(nO);cf.warn(`Firestore (${tp}): ${t}`,...r)}}function nO(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,D7(t,n,r)}function D7(t,e,r){let n=`FIRESTORE (${tp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Eu(n),new Error(n)}function _r(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||D7(e,i,n)}function Lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Bo{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Ei.UNAUTHENTICATED)))}shutdown(){}}class gne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class yne{constructor(e){this.t=e,this.currentUser=Ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){_r(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Ol;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ol,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const l=a;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},s=l=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>s(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ol)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(_r(typeof n.accessToken=="string",31837,{l:n}),new N7(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _r(e===null||typeof e=="string",2055,{h:e}),new Ei(e)}}class bne{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Ei.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wne{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new bne(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Ei.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class k4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _ne{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Aa(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){_r(this.o===void 0,3512);const n=a=>{a.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ot("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new k4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(_r(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new k4(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=xne(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function rr(t,e){return t<e?-1:t>e?1:0}function M2(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return XA(i)===XA(a)?rr(i,a):XA(i)?1:-1}return rr(t.length,e.length)}const Ane=55296,Ene=57343;function XA(t){const e=t.charCodeAt(0);return e>=Ane&&e<=Ene}function pd(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="__name__";class us{constructor(e,r,n){r===void 0?r=0:r>e.length&&St(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&St(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=us.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return rr(e.length,r.length)}static compareSegments(e,r){const n=us.isNumericId(e),i=us.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?us.extractNumericId(e).compare(us.extractNumericId(r)):M2(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cl.fromString(e.substring(4,e.length-2))}}class zr extends us{construct(e,r,n){return new zr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new at(Ge.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new zr(r)}static emptyPath(){return new zr([])}}const Sne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends us{construct(e,r,n){return new fi(e,r,n)}static isValidIdentifier(e){return Sne.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$4}static keyField(){return new fi([$4])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new at(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new at(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new at(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new at(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fi(r)}static emptyPath(){return new fi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(zr.fromString(e))}static fromName(e){return new yt(zr.fromString(e).popFirst(5))}static empty(){return new yt(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return zr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new zr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t,e,r){if(!r)throw new at(Ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Tne(t,e,r,n){if(e===!0&&n===!0)throw new at(Ge.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function L4(t){if(!yt.isDocumentKey(t))throw new at(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q4(t){if(yt.isDocumentKey(t))throw new at(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function O7(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":St(12329,{type:typeof t})}function ao(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new at(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=dw(t);throw new at(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,e){const r={typeString:t};return e&&(r.value=e),r}function hg(t,e){if(!O7(t))throw new at(Ge.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new at(Ge.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4=-62135596800,j4=1e6;class Gr{static now(){return Gr.fromMillis(Date.now())}static fromDate(e){return Gr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*j4);return new Gr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new at(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new at(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<U4)throw new at(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j4}_compareTo(e){return this.seconds===e.seconds?rr(this.nanoseconds,e.nanoseconds):rr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Gr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hg(e,Gr._jsonSchema))return new Gr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Gr._jsonSchemaVersion="firestore/timestamp/1.0",Gr._jsonSchema={type:xn("string",Gr._jsonSchemaVersion),seconds:xn("number"),nanoseconds:xn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Gr(0,0))}static max(){return new Pt(new Gr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=-1;function Dne(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(n===1e9?new Gr(r+1,0):new Gr(r,n));return new Pl(i,yt.empty(),e)}function Nne(t){return new Pl(t.readTime,t.key,dv)}class Pl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Pl(Pt.min(),yt.empty(),dv)}static max(){return new Pl(Pt.max(),yt.empty(),dv)}}function Cne(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=yt.comparator(t.documentKey,e.documentKey),r!==0?r:rr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const One="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(t){if(t.code!==Ge.FAILED_PRECONDITION||t.message!==One)throw t;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Xe(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof Xe?r:Xe.resolve(r)}catch(r){return Xe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):Xe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):Xe.reject(r)}static resolve(e){return new Xe(((r,n)=>{r(e)}))}static reject(e){return new Xe(((r,n)=>{n(e)}))}static waitFor(e){return new Xe(((r,n)=>{let i=0,a=0,o=!1;e.forEach((s=>{++i,s.next((()=>{++a,o&&a===i&&r()}),(l=>n(l)))})),o=!0,a===i&&r()}))}static or(e){let r=Xe.resolve(!1);for(const n of e)r=r.next((i=>i?Xe.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new Xe(((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next((f=>{o[u]=f,++s,s===a&&n(o)}),(f=>i(f)))}}))}static doWhile(e,r){return new Xe(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function Ine(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function np(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pw.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=-1;function mw(t){return t==null}function Sb(t){return t===0&&1/t==-1/0}function Rne(t){return typeof t=="number"&&Number.isInteger(t)&&!Sb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7="";function Pne(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=z4(e)),e=Bne(t.get(r),e);return z4(e)}function Bne(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case M7:r+="";break;default:r+=a}}return r}function z4(t){return t+M7+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Hl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function I7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,r){this.comparator=e,this.root=r||ci.EMPTY}insert(e,r){return new tn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new a0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new a0(this.root,e,this.comparator,!1)}getReverseIterator(){return new a0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new a0(this.root,e,this.comparator,!0)}}class a0{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ci{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??ci.RED,this.left=i??ci.EMPTY,this.right=a??ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new ci(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ci.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1;ci.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new ci(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new H4(this.data.getIterator())}getIteratorFrom(e){return new H4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Ln(this.comparator);return r.data=e,r}}class H4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.fields=e,e.sort(fi.comparator)}static empty(){return new Sa([])}unionWith(e){let r=new Ln(fi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Sa(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return pd(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new R7("Invalid base64 string: "+a):a}})(e);return new mi(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new mi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const Fne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bl(t){if(_r(!!t,39018),typeof t=="string"){let e=0;const r=Fne.exec(t);if(_r(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:hn(t.seconds),nanos:hn(t.nanos)}}function hn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fl(t){return typeof t=="string"?mi.fromBase64String(t):mi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7="server_timestamp",B7="__type__",F7="__previous_value__",k7="__local_write_time__";function oO(t){return(t?.mapValue?.fields||{})[B7]?.stringValue===P7}function vw(t){const e=t.mapValue.fields[F7];return oO(e)?vw(e):e}function pv(t){const e=Bl(t.mapValue.fields[k7].timestampValue);return new Gr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(e,r,n,i,a,o,s,l,u,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const Tb="(default)";class mv{constructor(e,r){this.projectId=e,this.database=r||Tb}static empty(){return new mv("","")}get isDefaultDatabase(){return this.database===Tb}isEqual(e){return e instanceof mv&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7="__type__",$ne="__max__",o0={mapValue:{}},L7="__vector__",Db="value";function kl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oO(t)?4:qne(t)?9007199254740991:Lne(t)?10:11:St(28295,{value:t})}function As(t,e){if(t===e)return!0;const r=kl(t);if(r!==kl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return pv(t).isEqual(pv(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Bl(i.timestampValue),s=Bl(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Fl(i.bytesValue).isEqual(Fl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return hn(i.geoPointValue.latitude)===hn(a.geoPointValue.latitude)&&hn(i.geoPointValue.longitude)===hn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return hn(i.integerValue)===hn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=hn(i.doubleValue),s=hn(a.doubleValue);return o===s?Sb(o)===Sb(s):isNaN(o)&&isNaN(s)}return!1})(t,e);case 9:return pd(t.arrayValue.values||[],e.arrayValue.values||[],As);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(V4(o)!==V4(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!As(o[l],s[l])))return!1;return!0})(t,e);default:return St(52216,{left:t})}}function vv(t,e){return(t.values||[]).find((r=>As(r,e)))!==void 0}function md(t,e){if(t===e)return 0;const r=kl(t),n=kl(e);if(r!==n)return rr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return rr(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const s=hn(a.integerValue||a.doubleValue),l=hn(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1})(t,e);case 3:return G4(t.timestampValue,e.timestampValue);case 4:return G4(pv(t),pv(e));case 5:return M2(t.stringValue,e.stringValue);case 6:return(function(a,o){const s=Fl(a),l=Fl(o);return s.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const f=rr(s[u],l[u]);if(f!==0)return f}return rr(s.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const s=rr(hn(a.latitude),hn(o.latitude));return s!==0?s:rr(hn(a.longitude),hn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return K4(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const s=a.fields||{},l=o.fields||{},u=s[Db]?.arrayValue,f=l[Db]?.arrayValue,d=rr(u?.values?.length||0,f?.values?.length||0);return d!==0?d:K4(u,f)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===o0.mapValue&&o===o0.mapValue)return 0;if(a===o0.mapValue)return 1;if(o===o0.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let d=0;d<l.length&&d<f.length;++d){const p=M2(l[d],f[d]);if(p!==0)return p;const m=md(s[l[d]],u[f[d]]);if(m!==0)return m}return rr(l.length,f.length)})(t.mapValue,e.mapValue);default:throw St(23264,{he:r})}}function G4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rr(t,e);const r=Bl(t),n=Bl(e),i=rr(r.seconds,n.seconds);return i!==0?i:rr(r.nanos,n.nanos)}function K4(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=md(r[i],n[i]);if(a)return a}return rr(r.length,n.length)}function vd(t){return I2(t)}function I2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Bl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Fl(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return yt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=I2(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${I2(r.fields[o])}`;return i+"}"})(t.mapValue):St(61005,{value:t})}function tb(t){switch(kl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vw(t);return e?16+tb(e):16;case 5:return 2*t.stringValue.length;case 6:return Fl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+tb(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Hl(n.fields,((a,o)=>{i+=a.length+tb(o)})),i})(t.mapValue);default:throw St(13486,{value:t})}}function X4(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function R2(t){return!!t&&"integerValue"in t}function sO(t){return!!t&&"arrayValue"in t}function W4(t){return!!t&&"nullValue"in t}function Y4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rb(t){return!!t&&"mapValue"in t}function Lne(t){return(t?.mapValue?.fields||{})[$7]?.stringValue===L7}function Ym(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hl(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Ym(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ym(t.arrayValue.values[r]);return e}return{...t}}function qne(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$ne}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.value=e}static empty(){return new ta({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!rb(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ym(r)}setAll(e){let r=fi.emptyPath(),n={},i=[];e.forEach(((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Ym(o):i.push(s.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());rb(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return As(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];rb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Hl(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new ta(Ym(this.value))}}function q7(t){const e=[];return Hl(t.fields,((r,n)=>{const i=new fi([r]);if(rb(n)){const a=q7(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Sa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Si(e,0,Pt.min(),Pt.min(),Pt.min(),ta.empty(),0)}static newFoundDocument(e,r,n,i){return new Si(e,1,r,Pt.min(),n,i,0)}static newNoDocument(e,r){return new Si(e,2,r,Pt.min(),Pt.min(),ta.empty(),0)}static newUnknownDocument(e,r){return new Si(e,3,r,Pt.min(),Pt.min(),ta.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ta.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ta.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,r){this.position=e,this.inclusive=r}}function Q4(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=yt.comparator(yt.fromName(o.referenceValue),r.key):n=md(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function Z4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!As(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,r="asc"){this.field=e,this.dir=r}}function Une(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{}class _n extends U7{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new zne(e,r,n):r==="array-contains"?new Gne(e,n):r==="in"?new Kne(e,n):r==="not-in"?new Xne(e,n):r==="array-contains-any"?new Wne(e,n):new _n(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Vne(e,n):new Hne(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(md(r,this.value)):r!==null&&kl(this.value)===kl(r)&&this.matchesComparison(md(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Po extends U7{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Po(e,r)}matches(e){return j7(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function j7(t){return t.op==="and"}function z7(t){return jne(t)&&j7(t)}function jne(t){for(const e of t.filters)if(e instanceof Po)return!1;return!0}function P2(t){if(t instanceof _n)return t.field.canonicalString()+t.op.toString()+vd(t.value);if(z7(t))return t.filters.map((e=>P2(e))).join(",");{const e=t.filters.map((r=>P2(r))).join(",");return`${t.op}(${e})`}}function V7(t,e){return t instanceof _n?(function(n,i){return i instanceof _n&&n.op===i.op&&n.field.isEqual(i.field)&&As(n.value,i.value)})(t,e):t instanceof Po?(function(n,i){return i instanceof Po&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,o,s)=>a&&V7(o,i.filters[s])),!0):!1})(t,e):void St(19439)}function H7(t){return t instanceof _n?(function(r){return`${r.field.canonicalString()} ${r.op} ${vd(r.value)}`})(t):t instanceof Po?(function(r){return r.op.toString()+" {"+r.getFilters().map(H7).join(" ,")+"}"})(t):"Filter"}class zne extends _n{constructor(e,r,n){super(e,r,n),this.key=yt.fromName(n.referenceValue)}matches(e){const r=yt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Vne extends _n{constructor(e,r){super(e,"in",r),this.keys=G7("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class Hne extends _n{constructor(e,r){super(e,"not-in",r),this.keys=G7("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function G7(t,e){return(e.arrayValue?.values||[]).map((r=>yt.fromName(r.referenceValue)))}class Gne extends _n{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return sO(r)&&vv(r.arrayValue,this.value)}}class Kne extends _n{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&vv(this.value.arrayValue,r)}}class Xne extends _n{constructor(e,r){super(e,"not-in",r)}matches(e){if(vv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!vv(this.value.arrayValue,r)}}class Wne extends _n{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!sO(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>vv(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function J4(t,e=null,r=[],n=[],i=null,a=null,o=null){return new Yne(t,e,r,n,i,a,o)}function uO(t){const e=Lt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>P2(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),mw(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>vd(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>vd(n))).join(",")),e.Te=r}return e.Te}function lO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Une(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!V7(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Z4(t.startAt,e.startAt)&&Z4(t.endAt,e.endAt)}function B2(t){return yt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Qne(t,e,r,n,i,a,o,s){return new dg(t,e,r,n,i,a,o,s)}function cO(t){return new dg(t)}function eB(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function K7(t){return t.collectionGroup!==null}function Qm(t){const e=Lt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Ln(fi.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(s=s.add(u.field))}))})),s})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Cb(a,n))})),r.has(fi.keyField().canonicalString())||e.Ie.push(new Cb(fi.keyField(),n))}return e.Ie}function ps(t){const e=Lt(t);return e.Ee||(e.Ee=Zne(e,Qm(t))),e.Ee}function Zne(t,e){if(t.limitType==="F")return J4(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Cb(i.field,a)}));const r=t.endAt?new Nb(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Nb(t.startAt.position,t.startAt.inclusive):null;return J4(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function F2(t,e){const r=t.filters.concat([e]);return new dg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function k2(t,e,r){return new dg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function gw(t,e){return lO(ps(t),ps(e))&&t.limitType===e.limitType}function X7(t){return`${uO(ps(t))}|lt:${t.limitType}`}function jh(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>H7(i))).join(", ")}]`),mw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>vd(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>vd(i))).join(",")),`Target(${n})`})(ps(t))}; limitType=${t.limitType})`}function yw(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):yt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of Qm(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,s,l){const u=Q4(o,s,l);return o.inclusive?u<=0:u<0})(n.startAt,Qm(n),i)||n.endAt&&!(function(o,s,l){const u=Q4(o,s,l);return o.inclusive?u>=0:u>0})(n.endAt,Qm(n),i))})(t,e)}function Jne(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function W7(t){return(e,r)=>{let n=!1;for(const i of Qm(t)){const a=eie(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function eie(t,e,r){const n=t.field.isKeyField()?yt.comparator(e.key,r.key):(function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?md(l,u):St(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return St(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hl(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return I7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tie=new tn(yt.comparator);function Su(){return tie}const Y7=new tn(yt.comparator);function Lm(...t){let e=Y7;for(const r of t)e=e.insert(r.key,r);return e}function Q7(t){let e=Y7;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Kc(){return Zm()}function Z7(){return Zm()}function Zm(){return new Af((t=>t.toString()),((t,e)=>t.isEqual(e)))}const rie=new tn(yt.comparator),nie=new Ln(yt.comparator);function nr(...t){let e=nie;for(const r of t)e=e.add(r);return e}const iie=new Ln(rr);function aie(){return iie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sb(e)?"-0":e}}function J7(t){return{integerValue:""+t}}function oie(t,e){return Rne(e)?J7(e):fO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(){this._=void 0}}function sie(t,e,r){return t instanceof gv?(function(i,a){const o={fields:{[B7]:{stringValue:P7},[k7]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&oO(a)&&(a=vw(a)),a&&(o.fields[F7]=a),{mapValue:o}})(r,e):t instanceof yv?tV(t,e):t instanceof bv?rV(t,e):(function(i,a){const o=eV(i,a),s=tB(o)+tB(i.Ae);return R2(o)&&R2(i.Ae)?J7(s):fO(i.serializer,s)})(t,e)}function uie(t,e,r){return t instanceof yv?tV(t,e):t instanceof bv?rV(t,e):r}function eV(t,e){return t instanceof Ob?(function(n){return R2(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class gv extends bw{}class yv extends bw{constructor(e){super(),this.elements=e}}function tV(t,e){const r=nV(e);for(const n of t.elements)r.some((i=>As(i,n)))||r.push(n);return{arrayValue:{values:r}}}class bv extends bw{constructor(e){super(),this.elements=e}}function rV(t,e){let r=nV(e);for(const n of t.elements)r=r.filter((i=>!As(i,n)));return{arrayValue:{values:r}}}class Ob extends bw{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function tB(t){return hn(t.integerValue||t.doubleValue)}function nV(t){return sO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lie{constructor(e,r){this.field=e,this.transform=r}}function cie(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof yv&&i instanceof yv||n instanceof bv&&i instanceof bv?pd(n.elements,i.elements,As):n instanceof Ob&&i instanceof Ob?As(n.Ae,i.Ae):n instanceof gv&&i instanceof gv})(t.transform,e.transform)}class fie{constructor(e,r){this.version=e,this.transformResults=r}}class oo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new oo}static exists(e){return new oo(void 0,e)}static updateTime(e){return new oo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ww{}function iV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new hO(t.key,oo.none()):new pg(t.key,t.data,oo.none());{const r=t.data,n=ta.empty();let i=new Ln(fi.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Gl(t.key,n,new Sa(i.toArray()),oo.none())}}function hie(t,e,r){t instanceof pg?(function(i,a,o){const s=i.value.clone(),l=nB(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()})(t,e,r):t instanceof Gl?(function(i,a,o){if(!nb(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=nB(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(aV(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,r):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function Jm(t,e,r,n){return t instanceof pg?(function(a,o,s,l){if(!nb(a.precondition,o))return s;const u=a.value.clone(),f=iB(a.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,r,n):t instanceof Gl?(function(a,o,s,l){if(!nb(a.precondition,o))return s;const u=iB(a.fieldTransforms,l,o),f=o.data;return f.setAll(aV(a)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((d=>d.field)))})(t,e,r,n):(function(a,o,s){return nb(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s})(t,e,r)}function die(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=eV(n.transform,i||null);a!=null&&(r===null&&(r=ta.empty()),r.set(n.field,a))}return r||null}function rB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&pd(n,i,((a,o)=>cie(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pg extends ww{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gl extends ww{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function aV(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function nB(t,e,r){const n=new Map;_r(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,uie(o,s,r[i]))}return n}function iB(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,sie(a,o,e))}return n}class hO extends ww{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pie extends ww{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mie{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&hie(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Jm(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Jm(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Z7();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=iV(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Pt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),nr())}isEqual(e){return this.batchId===e.batchId&&pd(this.mutations,e.mutations,((r,n)=>rB(r,n)))&&pd(this.baseMutations,e.baseMutations,((r,n)=>rB(r,n)))}}class dO{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){_r(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return rie})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new dO(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vie{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gie{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn,cr;function yie(t){switch(t){case Ge.OK:return St(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return St(15467,{code:t})}}function oV(t){if(t===void 0)return Eu("GRPC error has no .code"),Ge.UNKNOWN;switch(t){case bn.OK:return Ge.OK;case bn.CANCELLED:return Ge.CANCELLED;case bn.UNKNOWN:return Ge.UNKNOWN;case bn.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case bn.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case bn.INTERNAL:return Ge.INTERNAL;case bn.UNAVAILABLE:return Ge.UNAVAILABLE;case bn.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case bn.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case bn.NOT_FOUND:return Ge.NOT_FOUND;case bn.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case bn.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case bn.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case bn.ABORTED:return Ge.ABORTED;case bn.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case bn.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case bn.DATA_LOSS:return Ge.DATA_LOSS;default:return St(39323,{code:t})}}(cr=bn||(bn={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bie(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wie=new Cl([4294967295,4294967295],0);function aB(t){const e=bie().encode(t),r=new _7;return r.update(e),new Uint8Array(r.digest())}function oB(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Cl([r,n],0),new Cl([i,a],0)]}class pO{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new qm(`Invalid padding: ${r}`);if(n<0)throw new qm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new qm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new qm(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Cl.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Cl.fromNumber(n)));return i.compare(wie)===1&&(i=new Cl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=aB(e),[n,i]=oB(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new pO(a,i,r);return n.forEach((s=>o.insert(s))),o}insert(e){if(this.ge===0)return;const r=aB(e),[n,i]=oB(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class qm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,mg.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new _w(Pt.min(),i,new tn(rr),Su(),nr())}}class mg{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new mg(n,r,nr(),nr(),nr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class sV{constructor(e,r){this.targetId=e,this.Ce=r}}class uV{constructor(e,r,n=mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class sB{constructor(){this.ve=0,this.Fe=uB(),this.Me=mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nr(),r=nr(),n=nr();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:St(38017,{changeType:a})}})),new mg(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=uB()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_r(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _ie{constructor(e){this.Ge=e,this.ze=new Map,this.je=Su(),this.Je=s0(),this.He=s0(),this.Ye=new tn(rr)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:St(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(B2(a))if(n===0){const o=new yt(a.path);this.et(r,o,Si.newNoDocument(o,Pt.min()))}else _r(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Fl(n).toUint8Array()}catch(l){if(l instanceof R7)return dd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new pO(o,i,a)}catch(l){return dd(l instanceof qm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(r,a,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((a,o)=>{const s=this.ot(o);if(s){if(a.current&&B2(s.target)){const l=new yt(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Si.newNoDocument(l,e))}a.Be&&(r.set(o,a.ke()),a.qe())}}));let n=nr();this.He.forEach(((a,o)=>{let s=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)})),s&&(n=n.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new _w(e,r,this.Ye,this.je,n);return this.je=Su(),this.Je=s0(),this.He=s0(),this.Ye=new tn(rr),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new sB,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Ln(rr),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Ln(rr),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ot("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sB),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function s0(){return new tn(yt.comparator)}function uB(){return new tn(yt.comparator)}const xie={asc:"ASCENDING",desc:"DESCENDING"},Aie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Eie={and:"AND",or:"OR"};class Sie{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function $2(t,e){return t.useProto3Json||mw(e)?e:{value:e}}function Mb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tie(t,e){return Mb(t,e.toTimestamp())}function ms(t){return _r(!!t,49232),Pt.fromTimestamp((function(r){const n=Bl(r);return new Gr(n.seconds,n.nanos)})(t))}function mO(t,e){return L2(t,e).canonicalString()}function L2(t,e){const r=(function(i){return new zr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function cV(t){const e=zr.fromString(t);return _r(mV(e),10190,{key:e.toString()}),e}function q2(t,e){return mO(t.databaseId,e.path)}function WA(t,e){const r=cV(e);if(r.get(1)!==t.databaseId.projectId)throw new at(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new at(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new yt(hV(r))}function fV(t,e){return mO(t.databaseId,e)}function Die(t){const e=cV(t);return e.length===4?zr.emptyPath():hV(e)}function U2(t){return new zr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hV(t){return _r(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lB(t,e,r){return{name:q2(t,e),fields:r.value.mapValue.fields}}function Nie(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:St(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(u,f){return u.useProto3Json?(_r(f===void 0||typeof f=="string",58123),mi.fromBase64String(f||"")):(_r(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),mi.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&(function(u){const f=u.code===void 0?Ge.UNKNOWN:oV(u.code);return new at(f,u.message||"")})(o);r=new uV(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=WA(t,n.document.name),a=ms(n.document.updateTime),o=n.document.createTime?ms(n.document.createTime):Pt.min(),s=new ta({mapValue:{fields:n.document.fields}}),l=Si.newFoundDocument(i,a,o,s),u=n.targetIds||[],f=n.removedTargetIds||[];r=new ib(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=WA(t,n.document),a=n.readTime?ms(n.readTime):Pt.min(),o=Si.newNoDocument(i,a),s=n.removedTargetIds||[];r=new ib([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=WA(t,n.document),a=n.removedTargetIds||[];r=new ib([],a,i,null)}else{if(!("filter"in e))return St(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new gie(i,a),s=n.targetId;r=new sV(s,o)}}return r}function Cie(t,e){let r;if(e instanceof pg)r={update:lB(t,e.key,e.value)};else if(e instanceof hO)r={delete:q2(t,e.key)};else if(e instanceof Gl)r={update:lB(t,e.key,e.data),updateMask:$ie(e.fieldMask)};else{if(!(e instanceof pie))return St(16599,{Vt:e.type});r={verify:q2(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const s=o.transform;if(s instanceof gv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof yv)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof bv)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Ob)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw St(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Tie(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:St(27497)})(t,e.precondition)),r}function Oie(t,e){return t&&t.length>0?(_r(e!==void 0,14353),t.map((r=>(function(i,a){let o=i.updateTime?ms(i.updateTime):ms(a);return o.isEqual(Pt.min())&&(o=ms(a)),new fie(o,i.transformResults||[])})(r,e)))):[]}function Mie(t,e){return{documents:[fV(t,e.path)]}}function Iie(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=fV(t,i);const a=(function(u){if(u.length!==0)return pV(Po.create(u,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(u){if(u.length!==0)return u.map((f=>(function(p){return{field:zh(p.field),direction:Bie(p.dir)}})(f)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=$2(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:r,parent:i}}function Rie(t){let e=Die(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){_r(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];r.where&&(a=(function(d){const p=dV(d);return p instanceof Po&&z7(p)?p.getFilters():[p]})(r.where));let o=[];r.orderBy&&(o=(function(d){return d.map((p=>(function(y){return new Cb(Vh(y.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(p)))})(r.orderBy));let s=null;r.limit&&(s=(function(d){let p;return p=typeof d=="object"?d.value:d,mw(p)?null:p})(r.limit));let l=null;r.startAt&&(l=(function(d){const p=!!d.before,m=d.values||[];return new Nb(m,p)})(r.startAt));let u=null;return r.endAt&&(u=(function(d){const p=!d.before,m=d.values||[];return new Nb(m,p)})(r.endAt)),Qne(e,i,o,a,s,"F",l,u)}function Pie(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function dV(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Vh(r.unaryFilter.field);return _n.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Vh(r.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Vh(r.unaryFilter.field);return _n.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vh(r.unaryFilter.field);return _n.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(t):t.fieldFilter!==void 0?(function(r){return _n.create(Vh(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Po.create(r.compositeFilter.filters.map((n=>dV(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(r.compositeFilter.op))})(t):St(30097,{filter:t})}function Bie(t){return xie[t]}function Fie(t){return Aie[t]}function kie(t){return Eie[t]}function zh(t){return{fieldPath:t.canonicalString()}}function Vh(t){return fi.fromServerFormat(t.fieldPath)}function pV(t){return t instanceof _n?(function(r){if(r.op==="=="){if(Y4(r.value))return{unaryFilter:{field:zh(r.field),op:"IS_NAN"}};if(W4(r.value))return{unaryFilter:{field:zh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Y4(r.value))return{unaryFilter:{field:zh(r.field),op:"IS_NOT_NAN"}};if(W4(r.value))return{unaryFilter:{field:zh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zh(r.field),op:Fie(r.op),value:r.value}}})(t):t instanceof Po?(function(r){const n=r.getFilters().map((i=>pV(i)));return n.length===1?n[0]:{compositeFilter:{op:kie(r.op),filters:n}}})(t):St(54877,{filter:t})}function $ie(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function mV(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,r,n,i,a=Pt.min(),o=Pt.min(),s=mi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lie{constructor(e){this.yt=e}}function qie(t){const e=Rie({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?k2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uie{constructor(){this.Cn=new jie}addToCollectionParentIndex(e,r){return this.Cn.add(r),Xe.resolve()}getCollectionParents(e,r){return Xe.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Xe.resolve()}deleteFieldIndex(e,r){return Xe.resolve()}deleteAllFieldIndexes(e){return Xe.resolve()}createTargetIndexes(e,r){return Xe.resolve()}getDocumentsMatchingTarget(e,r){return Xe.resolve(null)}getIndexType(e,r){return Xe.resolve(0)}getFieldIndexes(e,r){return Xe.resolve([])}getNextCollectionGroupToUpdate(e){return Xe.resolve(null)}getMinOffset(e,r){return Xe.resolve(Pl.min())}getMinOffsetFromCollectionGroup(e,r){return Xe.resolve(Pl.min())}updateCollectionGroup(e,r,n){return Xe.resolve()}updateIndexEntries(e,r){return Xe.resolve()}}class jie{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Ln(zr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ln(zr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vV=41943040;class Zi{static withCacheSize(e){return new Zi(e,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi.DEFAULT_COLLECTION_PERCENTILE=10,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zi.DEFAULT=new Zi(vV,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zi.DISABLED=new Zi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gd(0)}static cr(){return new gd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fB="LruGarbageCollector",zie=1048576;function hB([t,e],[r,n]){const i=rr(t,r);return i===0?rr(e,n):i}class Vie{constructor(e){this.Ir=e,this.buffer=new Ln(hB),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();hB(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Hie{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(fB,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){np(r)?ot(fB,"Ignoring IndexedDB error during garbage collection: ",r):await rp(r)}await this.Vr(3e5)}))}}class Gie{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return Xe.resolve(pw.ce);const n=new Vie(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Xe.resolve(cB)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cB):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,s,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i)))).next((d=>(n=d,s=Date.now(),this.removeTargets(e,n,r)))).next((d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((d=>(u=Date.now(),Uh()<=tr.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),Xe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d}))))}}function Kie(t,e){return new Gie(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(){this.changes=new Af((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Si.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Xe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yie{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Jm(n.mutation,i,Sa.empty(),Gr.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,nr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=nr()){const i=Kc();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let o=Lm();return a.forEach(((s,l)=>{o=o.insert(s,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=Kc();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,nr())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,s)=>{r.set(o,s)}))}))}computeViews(e,r,n,i){let a=Su();const o=Zm(),s=(function(){return Zm()})();return r.forEach(((l,u)=>{const f=n.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Gl)?a=a.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),Jm(f.mutation,u,f.mutation.getFieldMask(),Gr.now())):o.set(u.key,Sa.empty())})),this.recalculateAndSaveOverlays(e,a).next((l=>(l.forEach(((u,f)=>o.set(u,f))),r.forEach(((u,f)=>s.set(u,new Wie(f,o.get(u)??null)))),s)))}recalculateAndSaveOverlays(e,r){const n=Zm();let i=new tn(((o,s)=>o-s)),a=nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const s of o)s.keys().forEach((l=>{const u=r.get(l);if(u===null)return;let f=n.get(l)||Sa.empty();f=s.applyToLocalView(u,f),n.set(l,f);const d=(i.get(s.batchId)||nr()).add(l);i=i.insert(s.batchId,d)}))})).next((()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,f=l.value,d=Z7();f.forEach((p=>{if(!a.has(p)){const m=iV(r.get(p),n.get(p));m!==null&&d.set(p,m),a=a.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Xe.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return yt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):K7(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):Xe.resolve(Kc());let s=dv,l=a;return o.next((u=>Xe.forEach(u,((f,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(f)?Xe.resolve():this.remoteDocumentCache.getEntry(e,f).next((p=>{l=l.insert(f,p)}))))).next((()=>this.populateOverlays(e,u,a))).next((()=>this.computeViews(e,l,u,nr()))).next((f=>({batchId:s,changes:Q7(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new yt(r)).next((n=>{let i=Lm();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Lm();return this.indexManager.getCollectionParents(e,a).next((s=>Xe.forEach(s,(l=>{const u=(function(d,p){return new dg(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next((f=>{f.forEach(((d,p)=>{o=o.insert(d,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((o=>{a.forEach(((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Si.newInvalidDocument(f)))}));let s=Lm();return o.forEach(((l,u)=>{const f=a.get(l);f!==void 0&&Jm(f.mutation,u,Sa.empty(),Gr.now()),yw(r,u)&&(s=s.insert(l,u))})),s}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qie{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Xe.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:ms(i.createTime)}})(r)),Xe.resolve()}getNamedQuery(e,r){return Xe.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:qie(i.bundledQuery),readTime:ms(i.readTime)}})(r)),Xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zie{constructor(){this.overlays=new tn(yt.comparator),this.qr=new Map}getOverlay(e,r){return Xe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Kc();return Xe.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.St(e,r,a)})),Xe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),Xe.resolve()}getOverlaysForCollection(e,r,n){const i=Kc(),a=r.length+1,o=new yt(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Xe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new tn(((u,f)=>u-f));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let f=a.get(u.largestBatchId);f===null&&(f=Kc(),a=a.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const s=Kc(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,f)=>s.set(u,f))),!(s.size()>=i)););return Xe.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new vie(r,n));let a=this.qr.get(r);a===void 0&&(a=nr(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(){this.sessionToken=mi.EMPTY_BYTE_STRING}getSessionToken(e){return Xe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.Qr=new Ln(Jn.$r),this.Ur=new Ln(Jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Jn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Jn(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new yt(new zr([])),n=new Jn(r,e),i=new Jn(r,e+1),a=[];return this.Ur.forEachInRange([n,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new yt(new zr([])),n=new Jn(r,e),i=new Jn(r,e+1);let a=nr();return this.Ur.forEachInRange([n,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new Jn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Jn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return yt.comparator(e.key,r.key)||rr(e.Yr,r.Yr)}static Kr(e,r){return rr(e.Yr,r.Yr)||yt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ln(Jn.$r)}checkEmpty(e){return Xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mie(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Jn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Xe.resolve(o)}lookupMutationBatch(e,r){return Xe.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return Xe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Xe.resolve(this.mutationQueue.length===0?aO:this.tr-1)}getAllMutationBatches(e){return Xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Jn(r,0),i=new Jn(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(o=>{const s=this.Xr(o.Yr);a.push(s)})),Xe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ln(rr);return r.forEach((i=>{const a=new Jn(i,0),o=new Jn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(s=>{n=n.add(s.Yr)}))})),Xe.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;yt.isDocumentKey(a)||(a=a.child(""));const o=new Jn(new yt(a),0);let s=new Ln(rr);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)}),o),Xe.resolve(this.ti(s))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){_r(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Xe.forEach(r.mutations,(i=>{const a=new Jn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Jn(r,0),i=this.Zr.firstAfterOrEqual(n);return Xe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Xe.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(e){this.ri=e,this.docs=(function(){return new tn(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Xe.resolve(n?n.document.mutableCopy():Si.newInvalidDocument(r))}getEntries(e,r){let n=Su();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Si.newInvalidDocument(i))})),Xe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Su();const o=r.path,s=new yt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Cne(Nne(f),n)<=0||(i.has(f.key)||yw(r,f))&&(a=a.insert(f.key,f.mutableCopy()))}return Xe.resolve(a)}getAllFromCollectionGroup(e,r,n,i){St(9500)}ii(e,r){return Xe.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new rae(this)}getSize(e){return Xe.resolve(this.size)}}class rae extends Xie{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),Xe.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(e){this.persistence=e,this.si=new Af((r=>uO(r)),lO),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new vO,this.targetCount=0,this.ai=gd.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),Xe.resolve()}getLastRemoteSnapshotVersion(e){return Xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Xe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Xe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Xe.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new gd(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Xe.resolve()}updateTargetData(e,r){return this.Pr(r),Xe.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Xe.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach(((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Xe.waitFor(a).next((()=>i))}getTargetCount(e){return Xe.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return Xe.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),Xe.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),Xe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Xe.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return Xe.resolve(n)}containsKey(e,r){return Xe.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,r){this.ui={},this.overlays={},this.ci=new pw(0),this.li=!1,this.li=!0,this.hi=new Jie,this.referenceDelegate=e(this),this.Pi=new nae(this),this.indexManager=new Uie,this.remoteDocumentCache=(function(i){return new tae(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new Lie(r),this.Ii=new Qie(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Zie,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new eae(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ot("MemoryPersistence","Starting transaction:",e);const i=new iae(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,r){return Xe.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class iae extends Mne{constructor(e){super(),this.currentSequenceNumber=e}}class gO{constructor(e){this.persistence=e,this.Ri=new vO,this.Vi=null}static mi(e){return new gO(e)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Xe.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Xe.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Xe.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Xe.forEach(this.fi,(n=>{const i=yt.fromPath(n);return this.gi(e,i).next((a=>{a||r.removeEntry(i,Pt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return Xe.or([()=>Xe.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Ib{constructor(e,r){this.persistence=e,this.pi=new Af((n=>Pne(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=Kie(this,r)}static mi(e,r){return new Ib(e,r)}Ei(){}di(e){return Xe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return Xe.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?Xe.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,r).next((s=>{s||(n++,a.removeEntry(o,Pt.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Xe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Xe.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Xe.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Xe.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=tb(e.data.value)),r}br(e,r,n){return Xe.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return Xe.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=nr(),i=nr();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yO(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oae{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KJ()?8:Ine(Ci())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,r,i,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new aae;return this.Ss(e,r,o).next((s=>{if(a.result=s,this.Vs)return this.bs(e,r,o,s.size)}))})).next((()=>a.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(Uh()<=tr.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",jh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Xe.resolve()):(Uh()<=tr.DEBUG&&ot("QueryEngine","Query:",jh(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Uh()<=tr.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",jh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ps(r))):Xe.resolve())}ys(e,r){if(eB(r))return Xe.resolve(null);let n=ps(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=k2(r,null,"F"),n=ps(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=nr(...a);return this.ps.getDocuments(e,o).next((s=>this.indexManager.getMinOffset(e,n).next((l=>{const u=this.Ds(r,s);return this.Cs(r,u,o,l.readTime)?this.ys(e,k2(r,null,"F")):this.vs(e,u,r,l)}))))})))))}ws(e,r,n,i){return eB(r)||i.isEqual(Pt.min())?Xe.resolve(null):this.ps.getDocuments(e,n).next((a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?Xe.resolve(null):(Uh()<=tr.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jh(r)),this.vs(e,o,r,Dne(i,dv)).next((s=>s)))}))}Ds(e,r){let n=new Ln(W7(e));return r.forEach(((i,a)=>{yw(e,a)&&(n=n.add(a))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Uh()<=tr.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",jh(r)),this.ps.getDocumentsMatchingQuery(e,r,Pl.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="LocalStore",sae=3e8;class uae{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new tn(rr),this.xs=new Af((a=>uO(a)),lO),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yie(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function lae(t,e,r,n){return new uae(t,e,r,n)}async function yV(t,e){const r=Lt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],s=[];let l=nr();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of a){s.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return r.localDocuments.getDocuments(n,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:s})))}))}))}function cae(t,e){const r=Lt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(s,l,u,f){const d=u.batch,p=d.keys();let m=Xe.resolve();return p.forEach((y=>{m=m.next((()=>f.getEntry(l,y))).next((g=>{const b=u.docVersions.get(y);_r(b!==null,48541),g.version.compareTo(b)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),f.addEntry(g)))}))})),m.next((()=>s.mutationQueue.removeMutationBatch(l,d)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(s){let l=nr();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function bV(t){const e=Lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function fae(t,e){const r=Lt(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const s=[];e.targetChanges.forEach(((f,d)=>{const p=i.get(d);if(!p)return;s.push(r.Pi.removeMatchingKeys(a,f.removedDocuments,d).next((()=>r.Pi.addMatchingKeys(a,f.addedDocuments,d))));let m=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(mi.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,n)),i=i.insert(d,m),(function(g,b,E){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=sae?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(p,m,f)&&s.push(r.Pi.updateTargetData(a,m))}));let l=Su(),u=nr();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,f))})),s.push(hae(a,o,e.documentUpdates).next((f=>{l=f.ks,u=f.qs}))),!n.isEqual(Pt.min())){const f=r.Pi.getLastRemoteSnapshotVersion(a).next((d=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));s.push(f)}return Xe.waitFor(s).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,l,u))).next((()=>l))})).then((a=>(r.Ms=i,a)))}function hae(t,e,r){let n=nr(),i=nr();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=Su();return r.forEach(((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Pt.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ot(bO,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:i}}))}function dae(t,e){const r=Lt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=aO),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function pae(t,e){const r=Lt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((a=>a?(i=a,Xe.resolve(i)):r.Pi.allocateTargetId(n).next((o=>(i=new wl(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function j2(t,e,r){const n=Lt(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!np(o))throw o;ot(bO,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function dB(t,e,r){const n=Lt(t);let i=Pt.min(),a=nr();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,f){const d=Lt(l),p=d.xs.get(f);return p!==void 0?Xe.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,f)})(n,o,ps(e)).next((s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,s.targetId).next((l=>{a=l}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:Pt.min(),r?a:nr()))).next((s=>(mae(n,Jne(e),s),{documents:s,Qs:a})))))}function mae(t,e,r){let n=t.Os.get(e)||Pt.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Os.set(e,n)}class pB{constructor(){this.activeTargetIds=aie()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vae{constructor(){this.Mo=new pB,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pB,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="ConnectivityMonitor";class vB{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(mB,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(mB,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u0=null;function z2(){return u0===null?u0=(function(){return 268435456+Math.round(2147483648*Math.random())})():u0++,"0x"+u0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="RestConnection",yae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bae{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Tb?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=z2(),s=this.zo(e,r.toUriEncodedString());ot(YA,`Sending RPC '${e}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(s),f=Ds(u);return this.Jo(e,s,l,n,f).then((d=>(ot(YA,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw dd(YA,`RPC '${e}' ${o} failed with error: `,d,"url: ",s,"request:",n),d}))}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+tp})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,r){const n=yae[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wae{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="WebChannelConnection";class _ae extends bae{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=z2();return new Promise(((s,l)=>{const u=new x7;u.setWithCredentials(!0),u.listenOnce(A7.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case eb.NO_ERROR:const d=u.getResponseJson();ot(_i,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case eb.TIMEOUT:ot(_i,`RPC '${e}' ${o} timed out`),l(new at(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case eb.HTTP_ERROR:const p=u.getStatus();if(ot(_i,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const g=(function(E){const N=E.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(N)>=0?N:Ge.UNKNOWN})(y.status);l(new at(g,y.message))}else l(new at(Ge.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new at(Ge.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ot(_i,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);ot(_i,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",f,n,15)}))}T_(e,r,n){const i=z2(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=T7(),s=S7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const f=a.join("");ot(_i,`Creating RPC '${e}' stream ${i}: ${f}`,l);const d=o.createWebChannel(f,l);this.I_(d);let p=!1,m=!1;const y=new wae({Yo:b=>{m?ot(_i,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(p||(ot(_i,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),ot(_i,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Zo:()=>d.close()}),g=(b,E,N)=>{b.listen(E,(_=>{try{N(_)}catch(S){setTimeout((()=>{throw S}),0)}}))};return g(d,$m.EventType.OPEN,(()=>{m||(ot(_i,`RPC '${e}' stream ${i} transport opened.`),y.o_())})),g(d,$m.EventType.CLOSE,(()=>{m||(m=!0,ot(_i,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(d))})),g(d,$m.EventType.ERROR,(b=>{m||(m=!0,dd(_i,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),y.a_(new at(Ge.UNAVAILABLE,"The operation could not be completed")))})),g(d,$m.EventType.MESSAGE,(b=>{if(!m){const E=b.data[0];_r(!!E,16349);const N=E,_=N?.error||N[0]?.error;if(_){ot(_i,`RPC '${e}' stream ${i} received error:`,_);const S=_.status;let x=(function(O){const C=bn[O];if(C!==void 0)return oV(C)})(S),A=_.message;x===void 0&&(x=Ge.INTERNAL,A="Unknown error status: "+S+" with message "+_.message),m=!0,y.a_(new at(x,A)),d.close()}else ot(_i,`RPC '${e}' stream ${i} received:`,E),y.u_(E)}})),g(s,E7.STAT_EVENT,(b=>{b.stat===O2.PROXY?ot(_i,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===O2.NOPROXY&&ot(_i,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{y.__()}),0),y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function QA(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){return new Sie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="PersistentStream";class _V{constructor(e,r,n,i,a,o,s,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wV(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ge.RESOURCE_EXHAUSTED?(Eu(r.toString()),Eu("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new at(Ge.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(gB,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(ot(gB,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xae extends _V{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Nie(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Pt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Pt.min():o.readTime?ms(o.readTime):Pt.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=U2(this.serializer),r.addTarget=(function(a,o){let s;const l=o.target;if(s=B2(l)?{documents:Mie(a,l)}:{query:Iie(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=lV(a,o.resumeToken);const u=$2(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(Pt.min())>0){s.readTime=Mb(a,o.snapshotVersion.toTimestamp());const u=$2(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s})(this.serializer,e);const n=Pie(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=U2(this.serializer),r.removeTarget=e,this.q_(r)}}class Aae extends _V{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return _r(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_r(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_r(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Oie(e.writeResults,e.commitTime),n=ms(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=U2(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Cie(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eae{}class Sae extends Eae{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new at(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,L2(r,n),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new at(Ge.UNKNOWN,a.toString())}))}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Ho(e,L2(r,n),i,o,s,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new at(Ge.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Tae{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Eu(r),this.aa=!1):ot("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="RemoteStore";class Dae{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{Ef(this)&&(ot(ff,"Restarting streams for network reachability change."),await(async function(l){const u=Lt(l);u.Ea.add(4),await vg(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Aw(u)})(this))}))})),this.Ra=new Tae(n,i)}}async function Aw(t){if(Ef(t))for(const e of t.da)await e(!0)}async function vg(t){for(const e of t.da)await e(!1)}function xV(t,e){const r=Lt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),AO(r)?xO(r):ip(r).O_()&&_O(r,e))}function wO(t,e){const r=Lt(t),n=ip(r);r.Ia.delete(e),n.O_()&&AV(r,e),r.Ia.size===0&&(n.O_()?n.L_():Ef(r)&&r.Ra.set("Unknown"))}function _O(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ip(t).Y_(e)}function AV(t,e){t.Va.Ue(e),ip(t).Z_(e)}function xO(t){t.Va=new _ie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ip(t).start(),t.Ra.ua()}function AO(t){return Ef(t)&&!ip(t).x_()&&t.Ia.size>0}function Ef(t){return Lt(t).Ea.size===0}function EV(t){t.Va=void 0}async function Nae(t){t.Ra.set("Online")}async function Cae(t){t.Ia.forEach(((e,r)=>{_O(t,e)}))}async function Oae(t,e){EV(t),AO(t)?(t.Ra.ha(e),xO(t)):t.Ra.set("Unknown")}async function Mae(t,e,r){if(t.Ra.set("Online"),e instanceof uV&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))})(t,e)}catch(n){ot(ff,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Rb(t,n)}else if(e instanceof ib?t.Va.Ze(e):e instanceof sV?t.Va.st(e):t.Va.tt(e),!r.isEqual(Pt.min()))try{const n=await bV(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=a.Ia.get(u);f&&a.Ia.set(u,f.withResumeToken(l.resumeToken,o))}})),s.targetMismatches.forEach(((l,u)=>{const f=a.Ia.get(l);if(!f)return;a.Ia.set(l,f.withResumeToken(mi.EMPTY_BYTE_STRING,f.snapshotVersion)),AV(a,l);const d=new wl(f.target,l,u,f.sequenceNumber);_O(a,d)})),a.remoteSyncer.applyRemoteEvent(s)})(t,r)}catch(n){ot(ff,"Failed to raise snapshot:",n),await Rb(t,n)}}async function Rb(t,e,r){if(!np(e))throw e;t.Ea.add(1),await vg(t),t.Ra.set("Offline"),r||(r=()=>bV(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ot(ff,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Aw(t)}))}function SV(t,e){return e().catch((r=>Rb(t,r,e)))}async function Ew(t){const e=Lt(t),r=$l(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:aO;for(;Iae(e);)try{const i=await dae(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,Rae(e,i)}catch(i){await Rb(e,i)}TV(e)&&DV(e)}function Iae(t){return Ef(t)&&t.Ta.length<10}function Rae(t,e){t.Ta.push(e);const r=$l(t);r.O_()&&r.X_&&r.ea(e.mutations)}function TV(t){return Ef(t)&&!$l(t).x_()&&t.Ta.length>0}function DV(t){$l(t).start()}async function Pae(t){$l(t).ra()}async function Bae(t){const e=$l(t);for(const r of t.Ta)e.ea(r.mutations)}async function Fae(t,e,r){const n=t.Ta.shift(),i=dO.from(n,e,r);await SV(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Ew(t)}async function kae(t,e){e&&$l(t).X_&&await(async function(n,i){if((function(o){return yie(o)&&o!==Ge.ABORTED})(i.code)){const a=n.Ta.shift();$l(n).B_(),await SV(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Ew(n)}})(t,e),TV(t)&&DV(t)}async function yB(t,e){const r=Lt(t);r.asyncQueue.verifyOperationInProgress(),ot(ff,"RemoteStore received new credentials");const n=Ef(r);r.Ea.add(3),await vg(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Aw(r)}async function $ae(t,e){const r=Lt(t);e?(r.Ea.delete(2),await Aw(r)):e||(r.Ea.add(2),await vg(r),r.Ra.set("Unknown"))}function ip(t){return t.ma||(t.ma=(function(r,n,i){const a=Lt(r);return a.sa(),new xae(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Nae.bind(null,t),t_:Cae.bind(null,t),r_:Oae.bind(null,t),H_:Mae.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),AO(t)?xO(t):t.Ra.set("Unknown")):(await t.ma.stop(),EV(t))}))),t.ma}function $l(t){return t.fa||(t.fa=(function(r,n,i){const a=Lt(r);return a.sa(),new Aae(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Pae.bind(null,t),r_:kae.bind(null,t),ta:Bae.bind(null,t),na:Fae.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ew(t)):(await t.fa.stop(),t.Ta.length>0&&(ot(ff,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new EO(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function SO(t,e){if(Eu("AsyncQueue",`${e}: ${t}`),np(t))return new at(Ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{static emptySet(e){return new ad(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||yt.comparator(r.key,n.key):(r,n)=>yt.comparator(r.key,n.key),this.keyedMap=Lm(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ad)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new ad;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.ga=new tn(yt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):St(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class yd{constructor(e,r,n,i,a,o,s,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach((s=>{o.push({type:0,doc:s})})),new yd(e,r,ad.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lae{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class qae{constructor(){this.queries=wB(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Lt(r),a=i.queries;i.queries=wB(),a.forEach(((o,s)=>{for(const l of s.Sa)l.onError(n)}))})(this,new at(Ge.ABORTED,"Firestore shutting down"))}}function wB(){return new Af((t=>X7(t)),gw)}async function NV(t,e){const r=Lt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new Lae,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=SO(o,`Initialization of query '${jh(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&TO(r)}async function CV(t,e){const r=Lt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Uae(t,e){const r=Lt(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(n=!0);o.wa=i}}n&&TO(r)}function jae(t,e,r){const n=Lt(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function TO(t){t.Ca.forEach((e=>{e.next()}))}var V2,_B;(_B=V2||(V2={})).Ma="default",_B.Cache="cache";class OV{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new yd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==V2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.key=e}}class IV{constructor(e){this.key=e}}class zae{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nr(),this.mutatedKeys=nr(),this.eu=W7(e),this.tu=new ad(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new bB,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,d)=>{const p=i.get(f),m=yw(this.query,d)?d:null,y=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;p&&m?p.data.isEqual(m.data)?y!==g&&(n.track({type:3,doc:m}),b=!0):this.su(p,m)||(n.track({type:2,doc:m}),b=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(s=!0)):!p&&m?(n.track({type:0,doc:m}),b=!0):p&&!m&&(n.track({type:1,doc:p}),b=!0,(l||u)&&(s=!0)),b&&(m?(o=o.add(m),a=g?a.add(f):a.delete(f)):(o=o.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),a=a.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:s,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,d)=>(function(m,y){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:b})}};return g(m)-g(y)})(f.type,d.type)||this.eu(f.doc,d.doc))),this.ou(n),i=i??!1;const s=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new yd(this.query,e.tu,a,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bB,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new IV(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new MV(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=nr();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return yd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const DO="SyncEngine";class Vae{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Hae{constructor(e){this.key=e,this.hu=!1}}class Gae{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Af((s=>X7(s)),gw),this.Iu=new Map,this.Eu=new Set,this.du=new tn(yt.comparator),this.Au=new Map,this.Ru=new vO,this.Vu={},this.mu=new Map,this.fu=gd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kae(t,e,r=!0){const n=$V(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await RV(n,e,r,!0),i}async function Xae(t,e){const r=$V(t);await RV(r,e,!0,!1)}async function RV(t,e,r,n){const i=await pae(t.localStore,ps(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await Wae(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&xV(t.remoteStore,i),s}async function Wae(t,e,r,n,i){t.pu=(d,p,m)=>(async function(g,b,E,N){let _=b.view.ru(E);_.Cs&&(_=await dB(g.localStore,b.query,!1).then((({documents:T})=>b.view.ru(T,_))));const S=N&&N.targetChanges.get(b.targetId),x=N&&N.targetMismatches.get(b.targetId)!=null,A=b.view.applyChanges(_,g.isPrimaryClient,S,x);return AB(g,b.targetId,A.au),A.snapshot})(t,d,p,m);const a=await dB(t.localStore,e,!0),o=new zae(e,a.Qs),s=o.ru(a.documents),l=mg.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);AB(t,r,u.au);const f=new Vae(e,r,o);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function Yae(t,e,r){const n=Lt(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((o=>!gw(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await j2(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&wO(n.remoteStore,i.targetId),H2(n,i.targetId)})).catch(rp)):(H2(n,i.targetId),await j2(n.localStore,i.targetId,!0))}async function Qae(t,e){const r=Lt(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),wO(r.remoteStore,n.targetId))}async function Zae(t,e,r){const n=aoe(t);try{const i=await(function(o,s){const l=Lt(o),u=Gr.now(),f=s.reduce(((m,y)=>m.add(y.key)),nr());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let y=Su(),g=nr();return l.Ns.getEntries(m,f).next((b=>{y=b,y.forEach(((E,N)=>{N.isValidDocument()||(g=g.add(E))}))})).next((()=>l.localDocuments.getOverlayedDocuments(m,y))).next((b=>{d=b;const E=[];for(const N of s){const _=die(N,d.get(N.key).overlayedDocument);_!=null&&E.push(new Gl(N.key,_,q7(_.value.mapValue),oo.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,E,s)})).next((b=>{p=b;const E=b.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(m,b.batchId,E)}))})).then((()=>({batchId:p.batchId,changes:Q7(d)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,s,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new tn(rr)),u=u.insert(s,l),o.Vu[o.currentUser.toKey()]=u})(n,i.batchId,r),await gg(n,i.changes),await Ew(n.remoteStore)}catch(i){const a=SO(i,"Failed to persist write");r.reject(a)}}async function PV(t,e){const r=Lt(t);try{const n=await fae(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=r.Au.get(a);o&&(_r(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?_r(o.hu,14607):i.removedDocuments.size>0&&(_r(o.hu,42227),o.hu=!1))})),await gg(r,n,e)}catch(n){await rp(n)}}function xB(t,e,r){const n=Lt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)})),(function(o,s){const l=Lt(o);l.onlineState=s;let u=!1;l.queries.forEach(((f,d)=>{for(const p of d.Sa)p.va(s)&&(u=!0)})),u&&TO(l)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Jae(t,e,r){const n=Lt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new tn(yt.comparator);o=o.insert(a,Si.newNoDocument(a,Pt.min()));const s=nr().add(a),l=new _w(Pt.min(),new Map,new tn(rr),o,s);await PV(n,l),n.du=n.du.remove(a),n.Au.delete(e),NO(n)}else await j2(n.localStore,e,!1).then((()=>H2(n,e,r))).catch(rp)}async function eoe(t,e){const r=Lt(t),n=e.batch.batchId;try{const i=await cae(r.localStore,e);FV(r,n,null),BV(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await gg(r,i)}catch(i){await rp(i)}}async function toe(t,e,r){const n=Lt(t);try{const i=await(function(o,s){const l=Lt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let f;return l.mutationQueue.lookupMutationBatch(u,s).next((d=>(_r(d!==null,37113),f=d.keys(),l.mutationQueue.removeMutationBatch(u,d)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,s))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f))).next((()=>l.localDocuments.getDocuments(u,f)))}))})(n.localStore,e);FV(n,e,r),BV(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await gg(n,i)}catch(i){await rp(i)}}function BV(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function FV(t,e,r){const n=Lt(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function H2(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||kV(t,n)}))}function kV(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(wO(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),NO(t))}function AB(t,e,r){for(const n of r)n instanceof MV?(t.Ru.addReference(n.key,e),roe(t,n)):n instanceof IV?(ot(DO,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||kV(t,n.key)):St(19791,{wu:n})}function roe(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ot(DO,"New document in limbo: "+r),t.Eu.add(n),NO(t))}function NO(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new yt(zr.fromString(e)),n=t.fu.next();t.Au.set(n,new Hae(r)),t.du=t.du.insert(r,n),xV(t.remoteStore,new wl(ps(cO(r.path)),n,"TargetPurposeLimboResolution",pw.ce))}}async function gg(t,e,r){const n=Lt(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((s,l)=>{o.push(n.pu(l,e,r).then((u=>{if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:r?.targetChanges.get(l.targetId)?.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=yO.As(l.targetId,u);a.push(f)}})))})),await Promise.all(o),n.Pu.H_(i),await(async function(l,u){const f=Lt(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>Xe.forEach(u,(p=>Xe.forEach(p.Es,(m=>f.persistence.referenceDelegate.addReference(d,p.targetId,m))).next((()=>Xe.forEach(p.ds,(m=>f.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))))))}catch(d){if(!np(d))throw d;ot(bO,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=f.Ms.get(p),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);f.Ms=f.Ms.insert(p,g)}}})(n.localStore,a))}async function noe(t,e){const r=Lt(t);if(!r.currentUser.isEqual(e)){ot(DO,"User change. New user:",e.toKey());const n=await yV(r.localStore,e);r.currentUser=e,(function(a,o){a.mu.forEach((s=>{s.forEach((l=>{l.reject(new at(Ge.CANCELLED,o))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await gg(r,n.Ls)}}function ioe(t,e){const r=Lt(t),n=r.Au.get(e);if(n&&n.hu)return nr().add(n.key);{let i=nr();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const s=r.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function $V(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ioe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Jae.bind(null,e),e.Pu.H_=Uae.bind(null,e.eventManager),e.Pu.yu=jae.bind(null,e.eventManager),e}function aoe(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eoe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=toe.bind(null,e),e}class Pb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return lae(this.persistence,new oae,e.initialUser,this.serializer)}Cu(e){return new gV(gO.mi,this.serializer)}Du(e){return new vae}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pb.provider={build:()=>new Pb};class ooe extends Pb{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){_r(this.persistence.referenceDelegate instanceof Ib,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Hie(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Zi.withCacheSize(this.cacheSizeBytes):Zi.DEFAULT;return new gV((n=>Ib.mi(n,r)),this.serializer)}}class G2{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>xB(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=noe.bind(null,this.syncEngine),await $ae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new qae})()}createDatastore(e){const r=xw(e.databaseInfo.databaseId),n=(function(a){return new _ae(a)})(e.databaseInfo);return(function(a,o,s,l){return new Sae(a,o,s,l)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,o,s){return new Dae(n,i,a,o,s)})(this.localStore,this.datastore,e.asyncQueue,(r=>xB(this.syncEngine,r,0)),(function(){return vB.v()?new vB:new gae})())}createSyncEngine(e,r){return(function(i,a,o,s,l,u,f){const d=new Gae(i,a,o,s,l,u);return f&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=Lt(r);ot(ff,"RemoteStore shutting down."),n.Ea.add(5),await vg(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}G2.provider={build:()=>new G2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Eu("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="FirestoreClient";class soe{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Ei.UNAUTHENTICATED,this.clientId=iO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{ot(Ll,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(ot(Ll,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ol;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=SO(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ZA(t,e){t.asyncQueue.verifyOperationInProgress(),ot(Ll,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await yV(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function EB(t,e){t.asyncQueue.verifyOperationInProgress();const r=await uoe(t);ot(Ll,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>yB(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>yB(e.remoteStore,i))),t._onlineComponents=e}async function uoe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ot(Ll,"Using user provided OfflineComponentProvider");try{await ZA(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ge.FAILED_PRECONDITION||i.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;dd("Error using user provided cache. Falling back to memory cache: "+r),await ZA(t,new Pb)}}else ot(Ll,"Using default OfflineComponentProvider"),await ZA(t,new ooe(void 0));return t._offlineComponents}async function qV(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ot(Ll,"Using user provided OnlineComponentProvider"),await EB(t,t._uninitializedComponentsProvider._online)):(ot(Ll,"Using default OnlineComponentProvider"),await EB(t,new G2))),t._onlineComponents}function loe(t){return qV(t).then((e=>e.syncEngine))}async function K2(t){const e=await qV(t),r=e.eventManager;return r.onListen=Kae.bind(null,e.syncEngine),r.onUnlisten=Yae.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Xae.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Qae.bind(null,e.syncEngine),r}function coe(t,e,r={}){const n=new Ol;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,s,l,u){const f=new LV({next:p=>{f.Nu(),o.enqueueAndForget((()=>CV(a,d))),p.fromCache&&l.source==="server"?u.reject(new at(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new OV(s,f,{includeMetadataChanges:!0,qa:!0});return NV(a,d)})(await K2(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="firestore.googleapis.com",TB=!0;class DB{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jV,this.ssl=TB}else this.host=e.host,this.ssl=e.ssl??TB;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zie)throw new at(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tne("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UV(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new at(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new at(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new at(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sw{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DB({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DB(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new vne;switch(n.type){case"firstParty":return new wne(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new at(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=SB.get(r);n&&(ot("ComponentProvider","Removing Datastore"),SB.delete(r),n.terminate())})(this),Promise.resolve()}}function foe(t,e,r,n={}){t=ao(t,Sw);const i=Ds(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${r}`;i&&(sw(`https://${s}`),uw("Firestore",!0)),a.host!==jV&&a.host!==s&&dd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:n};if(!uf(l,o)&&(t._setSettings(l),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=Ei.MOCK_USER;else{u=Lz(n.mockUserToken,t._app?.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new at(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ei(d)}t._authCredentials=new gne(new N7(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Sf(this.firestore,e,this._query)}}class dn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(hg(r,dn._jsonSchema))return new dn(e,n||null,new yt(zr.fromString(r.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:xn("string",dn._jsonSchemaVersion),referencePath:xn("string")};class Ml extends Sf{constructor(e,r,n){super(e,r,cO(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new yt(e))}withConverter(e){return new Ml(this.firestore,e,this._path)}}function Qa(t,e,...r){if(t=Kr(t),C7("collection","path",e),t instanceof Sw){const n=zr.fromString(e,...r);return q4(n),new Ml(t,null,n)}{if(!(t instanceof dn||t instanceof Ml))throw new at(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(zr.fromString(e,...r));return q4(n),new Ml(t.firestore,null,n)}}function ll(t,e,...r){if(t=Kr(t),arguments.length===1&&(e=iO.newId()),C7("doc","path",e),t instanceof Sw){const n=zr.fromString(e,...r);return L4(n),new dn(t,null,new yt(n))}{if(!(t instanceof dn||t instanceof Ml))throw new at(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(zr.fromString(e,...r));return L4(n),new dn(t.firestore,t instanceof Ml?t.converter:null,new yt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB="AsyncQueue";class CB{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wV(this,"async_queue_retry"),this._c=()=>{const n=QA();n&&ot(NB,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=QA();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=QA();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Ol;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!np(e))throw e;ot(NB,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Eu("INTERNAL UNHANDLED ERROR: ",OB(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=EO.createAndSchedule(this,e,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&St(47125,{Pc:OB(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function OB(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class ql extends Sw{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new CB,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CB(e),this._firestoreClient=void 0,await e}}}function hoe(t,e){const r=typeof t=="object"?t:ug(),n=typeof t=="string"?t:Tb,i=_f(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=VC("firestore");a&&foe(i,...a)}return i}function CO(t){if(t._terminated)throw new at(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||doe(t),t._firestoreClient}function doe(t){const e=t._freezeSettings(),r=(function(i,a,o,s){return new kne(i,a,o,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,UV(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new soe(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(mi.fromBase64String(e))}catch(r){throw new at(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new to(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:to._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hg(e,to._jsonSchema))return to.fromBase64String(e.bytes)}}to._jsonSchemaVersion="firestore/bytes/1.0",to._jsonSchema={type:xn("string",to._jsonSchemaVersion),bytes:xn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new at(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new at(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new at(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rr(this._lat,e._lat)||rr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vs._jsonSchemaVersion}}static fromJSON(e){if(hg(e,vs._jsonSchema))return new vs(e.latitude,e.longitude)}}vs._jsonSchemaVersion="firestore/geoPoint/1.0",vs._jsonSchema={type:xn("string",vs._jsonSchemaVersion),latitude:xn("number"),longitude:xn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hg(e,gs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new gs(e.vectorValues);throw new at(Ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gs._jsonSchemaVersion="firestore/vectorValue/1.0",gs._jsonSchema={type:xn("string",gs._jsonSchemaVersion),vectorValues:xn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const poe=/^__.*__$/;class moe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Gl(e,this.data,this.fieldMask,r,this.fieldTransforms):new pg(e,this.data,r,this.fieldTransforms)}}class zV{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Gl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function VV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:t})}}class OO{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new OO({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Bb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VV(this.Ac)&&poe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class voe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||xw(e)}Cc(e,r,n,i=!1){return new OO({Ac:e,methodName:r,Dc:n,path:fi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nw(t){const e=t._freezeSettings(),r=xw(t._databaseId);return new voe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function HV(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);IO("Data must be an object, but it was:",o,n);const s=GV(n,o);let l,u;if(a.merge)l=new Sa(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const f=[];for(const d of a.mergeFields){const p=X2(e,d,r);if(!o.contains(p))throw new at(Ge.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);XV(f,p)||f.push(p)}l=new Sa(f),u=o.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,u=o.fieldTransforms;return new moe(new ta(s),l,u)}class Cw extends Dw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cw}}class MO extends Dw{_toFieldTransform(e){return new lie(e.path,new gv)}isEqual(e){return e instanceof MO}}function goe(t,e,r,n){const i=t.Cc(1,e,r);IO("Data must be an object, but it was:",i,n);const a=[],o=ta.empty();Hl(n,((l,u)=>{const f=RO(e,l,r);u=Kr(u);const d=i.yc(f);if(u instanceof Cw)a.push(f);else{const p=yg(u,d);p!=null&&(a.push(f),o.set(f,p))}}));const s=new Sa(a);return new zV(o,s,i.fieldTransforms)}function yoe(t,e,r,n,i,a){const o=t.Cc(1,e,r),s=[X2(e,n,r)],l=[i];if(a.length%2!=0)throw new at(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)s.push(X2(e,a[p])),l.push(a[p+1]);const u=[],f=ta.empty();for(let p=s.length-1;p>=0;--p)if(!XV(u,s[p])){const m=s[p];let y=l[p];y=Kr(y);const g=o.yc(m);if(y instanceof Cw)u.push(m);else{const b=yg(y,g);b!=null&&(u.push(m),f.set(m,b))}}const d=new Sa(u);return new zV(f,d,o.fieldTransforms)}function boe(t,e,r,n=!1){return yg(r,t.Cc(n?4:3,e))}function yg(t,e){if(KV(t=Kr(t)))return IO("Unsupported field value:",e,t),GV(t,e);if(t instanceof Dw)return(function(n,i){if(!VV(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let o=0;for(const s of n){let l=yg(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Kr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return oie(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Gr.fromDate(n);return{timestampValue:Mb(i.serializer,a)}}if(n instanceof Gr){const a=new Gr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Mb(i.serializer,a)}}if(n instanceof vs)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof to)return{bytesValue:lV(i.serializer,n._byteString)};if(n instanceof dn){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:mO(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof gs)return(function(o,s){return{mapValue:{fields:{[$7]:{stringValue:L7},[Db]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return fO(s.serializer,u)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${dw(n)}`)})(t,e)}function GV(t,e){const r={};return I7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hl(t,((n,i)=>{const a=yg(i,e.mc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function KV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gr||t instanceof vs||t instanceof to||t instanceof dn||t instanceof Dw||t instanceof gs)}function IO(t,e,r){if(!KV(r)||!O7(r)){const n=dw(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function X2(t,e,r){if((e=Kr(e))instanceof Tw)return e._internalPath;if(typeof e=="string")return RO(t,e);throw Bb("Field path arguments must be of type string or ",t,!1,void 0,r)}const woe=new RegExp("[~\\*/\\[\\]]");function RO(t,e,r){if(e.search(woe)>=0)throw Bb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Tw(...e.split("."))._internalPath}catch{throw Bb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Bb(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new at(Ge.INVALID_ARGUMENT,s+t+l)}function XV(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _oe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(PO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class _oe extends WV{data(){return super.data()}}function PO(t,e){return typeof e=="string"?RO(t,e):e instanceof Tw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new at(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BO{}class xoe extends BO{}function Lc(t,e,...r){let n=[];e instanceof BO&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((l=>l instanceof FO)).length,s=a.filter((l=>l instanceof Ow)).length;if(o>1||o>0&&s>0)throw new at(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Ow extends xoe{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Ow(e,r,n)}_apply(e){const r=this._parse(e);return QV(e._query,r),new Sf(e.firestore,e.converter,F2(e._query,r))}_parse(e){const r=Nw(e.firestore);return(function(a,o,s,l,u,f,d){let p;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new at(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){RB(d,f);const y=[];for(const g of d)y.push(IB(l,a,g));p={arrayValue:{values:y}}}else p=IB(l,a,d)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||RB(d,f),p=boe(s,o,d,f==="in"||f==="not-in");return _n.create(u,f,p)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function qc(t,e,r){const n=e,i=PO("where",t);return Ow._create(i,n,r)}class FO extends BO{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new FO(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Po.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)QV(o,l),o=F2(o,l)})(e._query,r),new Sf(e.firestore,e.converter,F2(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function IB(t,e,r){if(typeof(r=Kr(r))=="string"){if(r==="")throw new at(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K7(e)&&r.indexOf("/")!==-1)throw new at(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(zr.fromString(r));if(!yt.isDocumentKey(n))throw new at(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return X4(t,new yt(n))}if(r instanceof dn)return X4(t,r._key);throw new at(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dw(r)}.`)}function RB(t,e){if(!Array.isArray(t)||t.length===0)throw new at(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QV(t,e){const r=(function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new at(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Aoe{convertValue(e,r="none"){switch(kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Hl(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){const r=e.fields?.[Db].arrayValue?.values?.map((n=>hn(n.doubleValue)));return new gs(r)}convertGeoPoint(e){return new vs(hn(e.latitude),hn(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=vw(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(pv(e));default:return null}}convertTimestamp(e){const r=Bl(e);return new Gr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=zr.fromString(e);_r(mV(n),9688,{name:e});const i=new mv(n.get(1),n.get(3)),a=new yt(n.popFirst(5));return i.isEqual(r)||Eu(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Um{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tf extends WV{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ab(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(PO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=tf._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}tf._jsonSchemaVersion="firestore/documentSnapshot/1.0",tf._jsonSchema={type:xn("string",tf._jsonSchemaVersion),bundleSource:xn("string","DocumentSnapshot"),bundleName:xn("string"),bundle:xn("string")};class ab extends tf{data(e={}){return super.data(e)}}class rf{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Um(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new ab(this._firestore,this._userDataWriter,n.key,n,new Um(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new at(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((s=>{const l=new ab(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Um(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((s=>a||s.type!==3)).map((s=>{const l=new ab(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Um(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),f=o.indexOf(s.doc.key)),{type:Eoe(s.type),doc:l,oldIndex:u,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iO.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Eoe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:t})}}rf._jsonSchemaVersion="firestore/querySnapshot/1.0",rf._jsonSchema={type:xn("string",rf._jsonSchemaVersion),bundleSource:xn("string","QuerySnapshot"),bundleName:xn("string"),bundle:xn("string")};class kO extends Aoe{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,r)}}function ob(t){t=ao(t,Sf);const e=ao(t.firestore,ql),r=CO(e),n=new kO(e);return YV(t._query),coe(r,t._query).then((i=>new rf(e,n,t,i)))}function PB(t,e,r){t=ao(t,dn);const n=ao(t.firestore,ql),i=ZV(t.converter,e,r);return Mw(n,[HV(Nw(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,oo.none())])}function BB(t,e,r,...n){t=ao(t,dn);const i=ao(t.firestore,ql),a=Nw(i);let o;return o=typeof(e=Kr(e))=="string"||e instanceof Tw?yoe(a,"updateDoc",t._key,e,r,n):goe(a,"updateDoc",t._key,e),Mw(i,[o.toMutation(t._key,oo.exists(!0))])}function JA(t){return Mw(ao(t.firestore,ql),[new hO(t._key,oo.none())])}function Gh(t,e){const r=ao(t.firestore,ql),n=ll(t),i=ZV(t.converter,e);return Mw(r,[HV(Nw(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,oo.exists(!1))]).then((()=>n))}function Soe(t,...e){t=Kr(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||MB(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(MB(e[n])){const l=e[n];e[n]=l.next?.bind(l),e[n+1]=l.error?.bind(l),e[n+2]=l.complete?.bind(l)}let a,o,s;if(t instanceof dn)o=ao(t.firestore,ql),s=cO(t._key.path),a={next:l=>{e[n]&&e[n](Toe(o,t,l))},error:e[n+1],complete:e[n+2]};else{const l=ao(t,Sf);o=ao(l.firestore,ql),s=l._query;const u=new kO(o);a={next:f=>{e[n]&&e[n](new rf(o,u,l,f))},error:e[n+1],complete:e[n+2]},YV(t._query)}return(function(u,f,d,p){const m=new LV(p),y=new OV(f,m,d);return u.asyncQueue.enqueueAndForget((async()=>NV(await K2(u),y))),()=>{m.Nu(),u.asyncQueue.enqueueAndForget((async()=>CV(await K2(u),y)))}})(CO(o),s,i,a)}function Mw(t,e){return(function(n,i){const a=new Ol;return n.asyncQueue.enqueueAndForget((async()=>Zae(await loe(n),i,a))),a.promise})(CO(t),e)}function Toe(t,e,r){const n=r.docs.get(e._key),i=new kO(t);return new tf(t,i,e._key,n,new Um(r.hasPendingWrites,r.fromCache),e.converter)}function fl(){return new MO("serverTimestamp")}(function(e,r=!0){(function(i){tp=i})(xf),_s(new Ro("firestore",((n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new ql(new yne(n.getProvider("auth-internal")),new _ne(o,n.getProvider("app-check-internal")),(function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new at(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mv(u.options.projectId,f)})(o,i),o);return a={useFetchStreams:r,...a},s._setSettings(a),s}),"PUBLIC").setMultipleInstances(!0)),Da(B4,F4,e),Da(B4,F4,"esm2020")})();var Doe="firebase",Noe="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Da(Doe,Noe,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Coe="type.googleapis.com/google.protobuf.Int64Value",Ooe="type.googleapis.com/google.protobuf.UInt64Value";function JV(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function Fb(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Fb(e));if(typeof t=="function"||typeof t=="object")return JV(t,e=>Fb(e));throw new Error("Data cannot be encoded in JSON: "+t)}function bd(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Coe:case Ooe:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>bd(e)):typeof t=="function"||typeof t=="object"?JV(t,e=>bd(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ra extends Bo{constructor(e,r,n){super(`${$O}/${e}`,r||""),this.details=n,Object.setPrototypeOf(this,ra.prototype)}}function Moe(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function kb(t,e){let r=Moe(t),n=r,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!FB[o])return new ra("internal","internal");r=FB[o],n=o}const s=a.message;typeof s=="string"&&(n=s),i=a.details,i!==void 0&&(i=bd(i))}}catch{}return r==="ok"?null:new ra(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e,r,n,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Aa(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=r.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||r.get().then(a=>this.auth=a,()=>{}),this.messaging||n.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="us-central1",Roe=/^data: (.*?)(?:\n|$)/;function Poe(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new ra("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Boe{constructor(e,r,n,i,a=W2,o=(...s)=>fetch(...s)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Ioe(e,r,n,i),this.cancelAllRequests=new Promise(s=>{this.deleteService=()=>Promise.resolve(s())});try{const s=new URL(a);this.customDomain=s.origin+(s.pathname==="/"?"":s.pathname),this.region=W2}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function Foe(t,e,r){const n=Ds(e);t.emulatorOrigin=`http${n?"s":""}://${e}:${r}`,n&&(sw(t.emulatorOrigin+"/backends"),uw("Functions",!0))}function koe(t,e,r){const n=i=>Loe(t,e,i,{});return n.stream=(i,a)=>Uoe(t,e,i,a),n}function eH(t){return t.emulatorOrigin&&Ds(t.emulatorOrigin)?"include":void 0}async function $oe(t,e,r,n,i){r["Content-Type"]="application/json";let a;try{a=await n(t,{method:"POST",body:JSON.stringify(e),headers:r,credentials:eH(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function tH(t,e){const r={},n=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return n.authToken&&(r.Authorization="Bearer "+n.authToken),n.messagingToken&&(r["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(r["X-Firebase-AppCheck"]=n.appCheckToken),r}function Loe(t,e,r,n){const i=t._url(e);return qoe(t,i,r,n)}async function qoe(t,e,r,n){r=Fb(r);const i={data:r},a=await tH(t,n),o=n.timeout||7e4,s=Poe(o),l=await Promise.race([$oe(e,i,a,t.fetchImpl,t),s.promise,t.cancelAllRequests]);if(s.cancel(),!l)throw new ra("cancelled","Firebase Functions instance was deleted.");const u=kb(l.status,l.json);if(u)throw u;if(!l.json)throw new ra("internal","Response is not valid JSON object.");let f=l.json.data;if(typeof f>"u"&&(f=l.json.result),typeof f>"u")throw new ra("internal","Response is missing data field.");return{data:bd(f)}}function Uoe(t,e,r,n){const i=t._url(e);return joe(t,i,r,n||{})}async function joe(t,e,r,n){r=Fb(r);const i={data:r},a=await tH(t,n);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:n?.signal,credentials:eH(t)})}catch(p){if(p instanceof Error&&p.name==="AbortError"){const y=new ra("cancelled","Request was cancelled.");return{data:Promise.reject(y),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(y)}}}}}}const m=kb(0,null);return{data:Promise.reject(m),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(m)}}}}}}let s,l;const u=new Promise((p,m)=>{s=p,l=m});n?.signal?.addEventListener("abort",()=>{const p=new ra("cancelled","Request was cancelled.");l(p)});const f=o.body.getReader(),d=zoe(f,s,l,n?.signal);return{stream:{[Symbol.asyncIterator](){const p=d.getReader();return{async next(){const{value:m,done:y}=await p.read();return{value:m,done:y}},async return(){return await p.cancel(),{done:!0,value:void 0}}}}},data:u}}function zoe(t,e,r,n){const i=(o,s)=>{const l=o.match(Roe);if(!l)return;const u=l[1];try{const f=JSON.parse(u);if("result"in f){e(bd(f.result));return}if("message"in f){s.enqueue(bd(f.message));return}if("error"in f){const d=kb(0,f);s.error(d),r(d);return}}catch(f){if(f instanceof ra){s.error(f),r(f);return}}},a=new TextDecoder;return new ReadableStream({start(o){let s="";return l();async function l(){if(n?.aborted){const u=new ra("cancelled","Request was cancelled");return o.error(u),r(u),Promise.resolve()}try{const{value:u,done:f}=await t.read();if(f){s.trim()&&i(s.trim(),o),o.close();return}if(n?.aborted){const p=new ra("cancelled","Request was cancelled");o.error(p),r(p),await t.cancel();return}s+=a.decode(u,{stream:!0});const d=s.split(`
`);s=d.pop()||"";for(const p of d)p.trim()&&i(p.trim(),o);return l()}catch(u){const f=u instanceof ra?u:kb(0,null);o.error(f),r(f)}}},cancel(){return t.cancel()}})}const kB="@firebase/functions",$B="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Voe="auth-internal",Hoe="app-check-internal",Goe="messaging-internal";function Koe(t){const e=(r,{instanceIdentifier:n})=>{const i=r.getProvider("app").getImmediate(),a=r.getProvider(Voe),o=r.getProvider(Goe),s=r.getProvider(Hoe);return new Boe(i,a,o,s,n)};_s(new Ro($O,e,"PUBLIC").setMultipleInstances(!0)),Da(kB,$B,t),Da(kB,$B,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rH(t=ug(),e=W2){const n=_f(Kr(t),$O).getImmediate({identifier:e}),i=VC("functions");return i&&Xoe(n,...i),n}function Xoe(t,e,r){Foe(Kr(t),e,r)}function Woe(t,e,r){return koe(Kr(t),e)}Koe();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Map,nH={activated:!1,tokenObservers:[]},Yoe={initialized:!1,enabled:!1};function qn(t){return Y2.get(t)||{...nH}}function Qoe(t,e){return Y2.set(t,e),Y2.get(t)}function Iw(){return Yoe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH="https://content-firebaseappcheck.googleapis.com/v1",Zoe="exchangeRecaptchaV3Token",Joe="exchangeDebugToken",LB={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},ese=1440*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e,r,n,i,a){if(this.operation=e,this.retryPolicy=r,this.getWaitDuration=n,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new cv,this.pending.promise.catch(r=>{}),await rse(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new cv,this.pending.promise.catch(r=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(r){this.retryPolicy(r)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const r=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),r}}}function rse(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nse={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},na=new Jd("appCheck","AppCheck",nse);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(t=!1){return t?self.grecaptcha?.enterprise:self.grecaptcha}function LO(t){if(!qn(t).activated)throw na.create("use-before-activation",{appName:t.name})}function aH(t){const e=Math.round(t/1e3),r=Math.floor(e/(3600*24)),n=Math.floor((e-r*3600*24)/3600),i=Math.floor((e-r*3600*24-n*3600)/60),a=e-r*3600*24-n*3600-i*60;let o="";return r&&(o+=l0(r)+"d:"),n&&(o+=l0(n)+"h:"),o+=l0(i)+"m:"+l0(a)+"s",o}function l0(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO({url:t,body:e},r){const n={"Content-Type":"application/json"},i=r.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(n["X-Firebase-Client"]=d)}const a={method:"POST",body:JSON.stringify(e),headers:n};let o;try{o=await fetch(t,a)}catch(d){throw na.create("fetch-network-error",{originalErrorMessage:d?.message})}if(o.status!==200)throw na.create("fetch-status-error",{httpStatus:o.status});let s;try{s=await o.json()}catch(d){throw na.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=s.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw na.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});const u=Number(l[1])*1e3,f=Date.now();return{token:s.token,expireTimeMillis:f+u,issuedAtTimeMillis:f}}function ise(t,e){const{projectId:r,appId:n,apiKey:i}=t.options;return{url:`${iH}/projects/${r}/apps/${n}:${Zoe}?key=${i}`,body:{recaptcha_v3_token:e}}}function oH(t,e){const{projectId:r,appId:n,apiKey:i}=t.options;return{url:`${iH}/projects/${r}/apps/${n}:${Joe}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ase="firebase-app-check-database",ose=1,wv="firebase-app-check-store",sH="debug-token";let c0=null;function uH(){return c0||(c0=new Promise((t,e)=>{try{const r=indexedDB.open(ase,ose);r.onsuccess=n=>{t(n.target.result)},r.onerror=n=>{e(na.create("storage-open",{originalErrorMessage:n.target.error?.message}))},r.onupgradeneeded=n=>{const i=n.target.result;switch(n.oldVersion){case 0:i.createObjectStore(wv,{keyPath:"compositeKey"})}}}catch(r){e(na.create("storage-open",{originalErrorMessage:r?.message}))}}),c0)}function sse(t){return cH(fH(t))}function use(t,e){return lH(fH(t),e)}function lse(t){return lH(sH,t)}function cse(){return cH(sH)}async function lH(t,e){const n=(await uH()).transaction(wv,"readwrite"),a=n.objectStore(wv).put({compositeKey:t,value:e});return new Promise((o,s)=>{a.onsuccess=l=>{o()},n.onerror=l=>{s(na.create("storage-set",{originalErrorMessage:l.target.error?.message}))}})}async function cH(t){const r=(await uH()).transaction(wv,"readonly"),i=r.objectStore(wv).get(t);return new Promise((a,o)=>{i.onsuccess=s=>{const l=s.target.result;a(l?l.value:void 0)},r.onerror=s=>{o(na.create("storage-get",{originalErrorMessage:s.target.error?.message}))}})}function fH(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new lw("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fse(t){if(HC()){let e;try{e=await sse(t)}catch(r){_l.warn(`Failed to read token from IndexedDB. Error: ${r}`)}return e}}function eE(t,e){return HC()?use(t,e).catch(r=>{_l.warn(`Failed to write token to IndexedDB. Error: ${r}`)}):Promise.resolve()}async function hse(){let t;try{t=await cse()}catch{}if(t)return t;{const e=crypto.randomUUID();return lse(e).catch(r=>_l.warn(`Failed to persist debug token to IndexedDB. Error: ${r}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(){return Iw().enabled}async function jO(){const t=Iw();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function dse(){const t=Bz(),e=Iw();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const r=new cv;e.token=r,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?r.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):r.resolve(hse())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pse={error:"UNKNOWN_ERROR"};function mse(t){return zC.encodeString(JSON.stringify(t),!1)}async function Q2(t,e=!1,r=!1){const n=t.app;LO(n);const i=qn(n);let a=i.token,o;if(a&&!Kh(a)&&(i.token=void 0,a=void 0),!a){const u=await i.cachedTokenPromise;u&&(Kh(u)?a=u:await eE(n,void 0))}if(!e&&a&&Kh(a))return{token:a.token};let s=!1;if(UO())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=qO(oH(n,await jO()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const u=await i.exchangeTokenPromise;return await eE(n,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?_l.warn(u.message):r&&_l.error(u),tE(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),a=await qn(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?_l.warn(u.message):r&&_l.error(u),o=u}let l;return a?o?Kh(a)?l={token:a.token,internalError:o}:l=tE(o):(l={token:a.token},i.token=a,await eE(n,a)):l=tE(o),s&&pH(n,l),l}async function vse(t){const e=t.app;LO(e);const{provider:r}=qn(e);if(UO()){const n=await jO(),{token:i}=await qO(oH(e,n),t.heartbeatServiceProvider);return{token:i}}else{const{token:n}=await r.getToken();return{token:n}}}function hH(t,e,r,n){const{app:i}=t,a=qn(i),o={next:r,error:n,type:e};if(a.tokenObservers=[...a.tokenObservers,o],a.token&&Kh(a.token)){const s=a.token;Promise.resolve().then(()=>{r({token:s.token}),UB(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>UB(t))}function dH(t,e){const r=qn(t),n=r.tokenObservers.filter(i=>i.next!==e);n.length===0&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),r.tokenObservers=n}function UB(t){const{app:e}=t,r=qn(e);let n=r.tokenRefresher;n||(n=gse(t),r.tokenRefresher=n),!n.isRunning()&&r.isTokenAutoRefreshEnabled&&n.start()}function gse(t){const{app:e}=t;return new tse(async()=>{const r=qn(e);let n;if(r.token?n=await Q2(t,!0):n=await Q2(t),n.error)throw n.error;if(n.internalError)throw n.internalError},()=>!0,()=>{const r=qn(e);if(r.token){let n=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5;const i=r.token.expireTimeMillis-300*1e3;return n=Math.min(n,i),Math.max(0,n-Date.now())}else return 0},LB.RETRIAL_MIN_WAIT,LB.RETRIAL_MAX_WAIT)}function pH(t,e){const r=qn(t).tokenObservers;for(const n of r)try{n.type==="EXTERNAL"&&e.error!=null?n.error(e.error):n.next(e)}catch{}}function Kh(t){return t.expireTimeMillis-Date.now()>0}function tE(t){return{token:mse(pse),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(e,r){this.app=e,this.heartbeatServiceProvider=r}_delete(){const{tokenObservers:e}=qn(this.app);for(const r of e)dH(this.app,r.next);return Promise.resolve()}}function bse(t,e){return new yse(t,e)}function wse(t){return{getToken:e=>Q2(t,e),getLimitedUseToken:()=>vse(t),addTokenListener:e=>hH(t,"INTERNAL",e),removeTokenListener:e=>dH(t.app,e)}}const _se="@firebase/app-check",xse="0.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ase="https://www.google.com/recaptcha/api.js";function Ese(t,e){const r=new cv,n=qn(t);n.reCAPTCHAState={initialized:r};const i=Sse(t),a=qB(!1);return a?jB(t,e,a,i,r):Nse(()=>{const o=qB(!1);if(!o)throw new Error("no recaptcha");jB(t,e,o,i,r)}),r.promise}function jB(t,e,r,n,i){r.ready(()=>{Dse(t,e,r,n),i.resolve(r)})}function Sse(t){const e=`fire_app_check_${t.name}`,r=document.createElement("div");return r.id=e,r.style.display="none",document.body.appendChild(r),e}async function Tse(t){LO(t);const r=await qn(t).reCAPTCHAState.initialized.promise;return new Promise((n,i)=>{const a=qn(t).reCAPTCHAState;r.ready(()=>{n(r.execute(a.widgetId,{action:"fire_app_check"}))})})}function Dse(t,e,r,n){const i=r.render(n,{sitekey:e,size:"invisible",callback:()=>{qn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{qn(t).reCAPTCHAState.succeeded=!1}}),a=qn(t);a.reCAPTCHAState={...a.reCAPTCHAState,widgetId:i}}function Nse(t){const e=document.createElement("script");e.src=Ase,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){Ose(this._throttleData);const e=await Tse(this._app).catch(n=>{throw na.create("recaptcha-error")});if(!qn(this._app).reCAPTCHAState?.succeeded)throw na.create("recaptcha-error");let r;try{r=await qO(ise(this._app,e),this._heartbeatServiceProvider)}catch(n){throw n.code?.includes("fetch-status-error")?(this._throttleData=Cse(Number(n.customData?.httpStatus),this._throttleData),na.create("initial-throttle",{time:aH(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):n}return this._throttleData=null,r}initialize(e){this._app=e,this._heartbeatServiceProvider=_f(e,"heartbeat"),Ese(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof zO?this._siteKey===e._siteKey:!1}}function Cse(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+ese,httpStatus:t};{const r=e?e.backoffCount:0,n=oee(r,1e3,2);return{backoffCount:r+1,allowRequestsAfter:Date.now()+n,httpStatus:t}}}function Ose(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw na.create("throttled",{time:aH(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mse(t=ug(),e){t=Kr(t);const r=_f(t,"app-check");if(Iw().initialized||dse(),UO()&&jO().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(a.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&a.provider.isEqual(e.provider))return i;throw na.create("already-initialized",{appName:t.name})}const n=r.initialize({options:e});return Ise(t,e.provider,e.isTokenAutoRefreshEnabled),qn(t).isTokenAutoRefreshEnabled&&hH(n,"INTERNAL",()=>{}),n}function Ise(t,e,r=!1){const n=Qoe(t,{...nH});n.activated=!0,n.provider=e,n.cachedTokenPromise=fse(t).then(i=>(i&&Kh(i)&&(n.token=i,pH(t,{token:i.token})),i)),n.isTokenAutoRefreshEnabled=r&&t.automaticDataCollectionEnabled,!t.automaticDataCollectionEnabled&&r&&_l.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),n.provider.initialize(t)}const Rse="app-check",zB="app-check-internal";function Pse(){_s(new Ro(Rse,t=>{const e=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat");return bse(e,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider(zB).initialize()})),_s(new Ro(zB,t=>{const e=t.getProvider("app-check").getImmediate();return wse(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Da(_se,xse)}Pse();const Bse={apiKey:"AIzaSyAUMriY3vRal2q7uZqonxctciPGwlZK6HU",authDomain:"note-analyzer-7e70d.firebaseapp.com",projectId:"note-analyzer-7e70d",storageBucket:"note-analyzer-7e70d.firebasestorage.app",messagingSenderId:"1059573275968",appId:"1:1059573275968:web:620a3c4b21926534ea2ea5",measurementId:"G-G5F5R7K7RV"},Rw=jz(Bse);Mse(Rw,{provider:new zO("6Ld7vckrAAAAADdWGyn9oz-dg10vpkOJ_zU6qEQb"),isTokenAutoRefreshEnabled:!0});const rE=pne(Rw),Pn=hoe(Rw);rH(Rw,"us-central1");const mH=Ne.createContext(void 0),Fse=({children:t})=>{const[e,r]=Ne.useState(null),[n,i]=Ne.useState(!0);Ne.useEffect(()=>{const l=rre(rE,async u=>{if(r(u),i(!1),u){const f=Qa(Pn,"classifications"),d=Lc(f,qc("authorId","==",u.uid));if((await ob(d)).empty){const m=["集客（閲覧数）","誘因（興味関心）","提案（有料記事）"],y=["トレンド（流行）","専門（差別化）","恒常（鉄板ジャンル）"],g=Qa(Pn,"classifications");for(const E of m)await Gh(g,{authorId:u.uid,name:E,createdAt:fl()});const b=Qa(Pn,"secondary_classifications");for(const E of y)await Gh(b,{authorId:u.uid,name:E,createdAt:fl()})}}});return()=>l()},[]);const a=Ne.useCallback(async()=>{const l=new lu;try{await Are(rE,l)}catch(u){console.error("ログインエラー:",u)}},[]),o=Ne.useCallback(()=>{nre(rE)},[]),s={user:e,loading:n,login:a,logout:o};return se.jsx(mH.Provider,{value:s,children:t})},vH=()=>{const t=Ne.useContext(mH);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH="firebasestorage.googleapis.com",yH="storageBucket",kse=120*1e3,$se=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn extends Bo{constructor(e,r,n=0){super(nE(e),`Firebase Storage: ${r} (${nE(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Sn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Sn||(Sn={}));function nE(t){return"storage/"+t}function VO(){const t="An unknown error occurred, please check the error payload for server response.";return new Tn(Sn.UNKNOWN,t)}function Lse(t){return new Tn(Sn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qse(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tn(Sn.UNAUTHENTICATED,t)}function Use(){return new Tn(Sn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jse(t){return new Tn(Sn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function zse(){return new Tn(Sn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Vse(){return new Tn(Sn.CANCELED,"User canceled the upload/download.")}function Hse(t){return new Tn(Sn.INVALID_URL,"Invalid URL '"+t+"'.")}function Gse(t){return new Tn(Sn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Kse(){return new Tn(Sn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yH+"' property when initializing the app?")}function Xse(){return new Tn(Sn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wse(t){return new Tn(Sn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Z2(t){return new Tn(Sn.INVALID_ARGUMENT,t)}function bH(){return new Tn(Sn.APP_DELETED,"The Firebase app was deleted.")}function Yse(t){return new Tn(Sn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ev(t,e){return new Tn(Sn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Tm(t){throw new Tn(Sn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ta.makeFromUrl(e,r)}catch{return new Ta(e,"")}if(n.path==="")return n;throw Gse(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const f="v[A-Za-z0-9_]+",d=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${f}/b/${i}/o${p}`,"i"),y={bucket:1,path:3},g=r===gH?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",E=new RegExp(`^https?://${g}/${i}/${b}`,"i"),_=[{regex:s,indices:l,postModify:a},{regex:m,indices:y,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<_.length;S++){const x=_[S],A=x.regex.exec(e);if(A){const T=A[x.indices.bucket];let O=A[x.indices.path];O||(O=""),n=new Ta(T,O),x.postModify(n);break}}if(n==null)throw Hse(e);return n}}class Qse{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zse(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let u=!1;function f(...b){u||(u=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(m,l())},b)}function p(){a&&clearTimeout(a)}function m(b,...E){if(u){p();return}if(b){p(),f.call(null,b,...E);return}if(l()||o){p(),f.call(null,b,...E);return}n<64&&(n*=2);let _;s===1?(s=2,_=0):_=(n+Math.random())*1e3,d(_)}let y=!1;function g(b){y||(y=!0,p(),!u&&(i!==null?(b||(s=2),clearTimeout(i),d(0)):b||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function Jse(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eue(t){return t!==void 0}function tue(t){return typeof t=="object"&&!Array.isArray(t)}function wH(t){return typeof t=="string"||t instanceof String}function VB(t){return HO()&&t instanceof Blob}function HO(){return typeof Blob<"u"}function HB(t,e,r,n){if(n<e)throw Z2(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw Z2(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rue(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function nue(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var nf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nf||(nf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iue(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aue{constructor(e,r,n,i,a,o,s,l,u,f,d,p=!0,m=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=d,this.retry=p,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,g)=>{this.resolve_=y,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new f0(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===nf.NO_ERROR,l=a.getStatus();if(!s||iue(l,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===nf.ABORT;n(!1,new f0(!1,null,f));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new f0(u,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());eue(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=VO();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?bH():Vse();o(l)}else{const l=zse();o(l)}};this.canceled_?r(!1,new f0(!1,null,!0)):this.backoffId_=Zse(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Jse(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class f0{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function oue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function uue(t,e){e&&(t["X-Firebase-GMPID"]=e)}function lue(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function cue(t,e,r,n,i,a,o=!0,s=!1){const l=nue(t.urlParams),u=t.url+l,f=Object.assign({},t.headers);return uue(f,e),oue(f,r),sue(f,a),lue(f,n),new aue(u,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hue(...t){const e=fue();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(HO())return new Blob(t);throw new Tn(Sn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function due(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pue(t){if(typeof atob>"u")throw Wse("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class iE{constructor(e,r){this.data=e,this.contentType=r||null}}function mue(t,e){switch(t){case ls.RAW:return new iE(_H(e));case ls.BASE64:case ls.BASE64URL:return new iE(xH(t,e));case ls.DATA_URL:return new iE(gue(e),yue(e))}throw VO()}function _H(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function vue(t){let e;try{e=decodeURIComponent(t)}catch{throw ev(ls.DATA_URL,"Malformed data URL.")}return _H(e)}function xH(t,e){switch(t){case ls.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw ev(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ls.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw ev(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=pue(e)}catch(i){throw i.message.includes("polyfill")?i:ev(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class AH{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw ev(ls.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=bue(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function gue(t){const e=new AH(t);return e.base64?xH(ls.BASE64,e.rest):vue(e.rest)}function yue(t){return new AH(t).contentType}function bue(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,r){let n=0,i="";VB(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(VB(this.data_)){const n=this.data_,i=due(n,e,r);return i===null?null:new yl(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new yl(n,!0)}}static getBlob(...e){if(HO()){const r=e.map(n=>n instanceof yl?n.data_:n);return new yl(hue.apply(null,r))}else{const r=e.map(o=>wH(o)?mue(ls.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new yl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wue(t){let e;try{e=JSON.parse(t)}catch{return null}return tue(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ue(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xue(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function EH(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aue(t,e){return e}class ki{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Aue}}let h0=null;function Eue(t){return!wH(t)||t.length<2?t:EH(t)}function Sue(){if(h0)return h0;const t=[];t.push(new ki("bucket")),t.push(new ki("generation")),t.push(new ki("metageneration")),t.push(new ki("name","fullPath",!0));function e(a,o){return Eue(o)}const r=new ki("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new ki("size");return i.xform=n,t.push(i),t.push(new ki("timeCreated")),t.push(new ki("updated")),t.push(new ki("md5Hash",null,!0)),t.push(new ki("cacheControl",null,!0)),t.push(new ki("contentDisposition",null,!0)),t.push(new ki("contentEncoding",null,!0)),t.push(new ki("contentLanguage",null,!0)),t.push(new ki("contentType",null,!0)),t.push(new ki("metadata","customMetadata",!0)),h0=t,h0}function Tue(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Ta(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Due(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return Tue(n,t),n}function Nue(t,e,r){const n=wue(e);return n===null?null:Due(t,n,r)}function Cue(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class Oue{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mue(t){if(!t)throw VO()}function Iue(t,e){function r(n,i){const a=Nue(t,i,e);return Mue(a!==null),a}return r}function Rue(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Use():i=qse():r.getStatus()===402?i=Lse(t.bucket):r.getStatus()===403?i=jse(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function Pue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Bue(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=Pue(null,e)),n}function Fue(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let _="";for(let S=0;S<2;S++)_=_+Math.random().toString().slice(2);return _}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const u=Bue(e,n,i),f=Cue(u,r),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=yl.getBlob(d,n,p);if(m===null)throw Xse();const y={name:u.fullPath},g=rue(a,t.host,t._protocol),b="POST",E=t.maxUploadRetryTime,N=new Oue(g,b,Iue(t,r),E);return N.urlParams=y,N.headers=o,N.body=m.uploadData(),N.errorHandler=Rue(e),N}class kue{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,a){if(this.sent_)throw Tm("cannot .send() more than once");if(Ds(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class $ue extends kue{initXhr(){this.xhr_.responseType="text"}}function Lue(){return new $ue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,r){this._service=e,r instanceof Ta?this._location=r:this._location=Ta.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new hf(e,r)}get root(){const e=new Ta(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EH(this._location.path)}get storage(){return this._service}get parent(){const e=_ue(this._location.path);if(e===null)return null;const r=new Ta(this._location.bucket,e);return new hf(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Yse(e)}}function que(t,e,r){t._throwIfRoot("uploadBytes");const n=Fue(t.storage,t._location,Sue(),new yl(e,!0),r);return t.storage.makeRequestWithTokens(n,Lue).then(i=>({metadata:i,ref:t}))}function Uue(t,e){const r=xue(t._location.path,e),n=new Ta(t._location.bucket,r);return new hf(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jue(t){return/^[A-Za-z]+:\/\//.test(t)}function zue(t,e){return new hf(t,e)}function SH(t,e){if(t instanceof GO){const r=t;if(r._bucket==null)throw Kse();const n=new hf(r,r._bucket);return e!=null?SH(n,e):n}else return e!==void 0?Uue(t,e):t}function Vue(t,e){if(e&&jue(e)){if(t instanceof GO)return zue(t,e);throw Z2("To use ref(service, url), the first argument must be a Storage instance.")}else return SH(t,e)}function GB(t,e){const r=e?.[yH];return r==null?null:Ta.makeFromBucketSpec(r,t)}function Hue(t,e,r,n={}){t.host=`${e}:${r}`;const i=Ds(e);i&&(sw(`https://${t.host}/b`),uw("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:Lz(a,t.app.options.projectId))}class GO{constructor(e,r,n,i,a,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=gH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kse,this._maxUploadRetryTime=$se,this._requests=new Set,i!=null?this._bucket=Ta.makeFromBucketSpec(i,this._host):this._bucket=GB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ta.makeFromBucketSpec(this._url,e):this._bucket=GB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HB("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HB("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Aa(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hf(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new Qse(bH());{const o=cue(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const KB="@firebase/storage",XB="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH="storage";function Gue(t,e,r){return t=Kr(t),que(t,e,r)}function Kue(t,e){return t=Kr(t),Vue(t,e)}function Xue(t=ug(),e){t=Kr(t);const n=_f(t,TH).getImmediate({identifier:e}),i=VC("storage");return i&&Wue(n,...i),n}function Wue(t,e,r,n={}){Hue(t,e,r,n)}function Yue(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new GO(r,n,i,e,xf)}function Que(){_s(new Ro(TH,Yue,"PUBLIC").setMultipleInstances(!0)),Da(KB,XB,""),Da(KB,XB,"esm2020")}Que();const aE=t=>{const[e,r]=Ne.useState([]),[n,i]=Ne.useState(!0);return Ne.useEffect(()=>{if(!t){r([]),i(!1);return}i(!0);const a=Soe(t,o=>{const s=o.docs.map(l=>({...l.data(),id:l.id}));r(s),i(!1)},o=>{console.error("Firestore query error:",o),i(!1)});return()=>a()},[t]),{data:e,loading:n}},Zue=(t,e)=>{const r=[];let n=new Date(t);const i=new Date(e);for(;n<=i;)r.push(n.toISOString().split("T")[0]),n.setDate(n.getDate()+1);return r},Jue=(t,e,r,n,i,a,o)=>Ne.useMemo(()=>{const l=t.filter(H=>{const j=a.length===0||a.includes(H.classificationId),Z=o.length===0||H.secondaryClassificationId&&o.includes(H.secondaryClassificationId);return j&&Z}),u=Zue(e,r),f={},d=l.filter(H=>(H.publicationDate?H.publicationDate.split("T")[0]:"")<=r);u.forEach(H=>{let j=0,Z=0,$=0,W=0;d.forEach(K=>{if((K.publicationDate?K.publicationDate.split("T")[0]:"")>H)return;const ge=K.daily_snapshots.filter(me=>me.id<=H).pop();j+=ge?.note_data?.views??0,Z+=ge?.note_data?.likes??0,$+=ge?.x_confirmed_data?.impressions??ge?.x_preliminary_data?.impressions??0,W+=ge?.x_confirmed_data?.likes??ge?.x_preliminary_data?.likes??0}),f[H]={date:H,noteビュー:j,noteスキ:Z,Xインプレッション:$,Xいいね:W}});const p=(H,j)=>{const Z=H.map(ge=>ge[j]).filter(ge=>typeof ge=="number");if(Z.length<2)return;const $=Z.reduce((ge,me)=>ge+me,0)/Z.length,W=Math.sqrt(Z.map(ge=>(ge-$)**2).reduce((ge,me)=>ge+me,0)/Z.length),K=$+W*2;H.forEach(ge=>{ge[j]>K&&(ge[`${j}IsSpike`]=!0)})},m=Object.values(f);p(m,"noteビュー"),p(m,"noteスキ"),p(m,"Xインプレッション"),p(m,"Xいいね");const y=l.map(H=>{const j=H.daily_snapshots.filter(he=>he.id<=r&&he.note_data),Z=j.length>0?j[j.length-1]:null,$=H.daily_snapshots.filter(he=>he.id<e&&he.note_data),W=$.length>0?$[$.length-1]:null,K=Z?.note_data?.views??0,ge=Z?.note_data?.likes??0,me=Z?.note_data?.comments??0,Ee=W?.note_data?.views??0,J=W?.note_data?.likes??0,ee=W?.note_data?.comments??0,ue=K-Ee,le=ge-J,ie=me-ee,Te=H.daily_snapshots.filter(he=>he.id>=e&&he.id<=r);return{...H,daily_snapshots:Te,note_views_change:ue,note_likes_change:le,note_comments_change:ie}}).filter(H=>{const j=(H.publicationDate?H.publicationDate.split("T")[0]:"")<=r,Z=H.daily_snapshots.some($=>$.id>=e&&$.id<=r);return j&&(Z||H.note_views_change!==0||H.note_likes_change!==0)});let g=null,b=-1/0;y.forEach(H=>{H.note_views_change!==void 0&&H.note_views_change>b&&(b=H.note_views_change,g=H.id)});const E=y.map(H=>({...H,isTopPerformer:H.id===g&&b>0})),N=n.map(H=>{const Z=l.filter($=>$.classificationId===H.id).reduce(($,W)=>{const K=W.daily_snapshots.filter(le=>le.id<=r).reverse(),ge=K.find(le=>le.note_data?.views!=null)?.note_data?.views??0,me=K.find(le=>le.note_data?.likes!=null)?.note_data?.likes??0,Ee=K.find(le=>(le.x_confirmed_data?.impressions??le.x_preliminary_data?.impressions)!=null),J=Ee?.x_confirmed_data?.impressions??Ee?.x_preliminary_data?.impressions??0,ee=K.find(le=>(le.x_confirmed_data?.likes??le.x_preliminary_data?.likes)!=null),ue=ee?.x_confirmed_data?.likes??ee?.x_preliminary_data?.likes??0;return $.noteViews+=ge,$.noteLikes+=me,$.xImpressions+=J,$.xLikes+=ue,$},{noteViews:0,noteLikes:0,xImpressions:0,xLikes:0});return{name:H.name,...Z}}),_=(H,j)=>{const Z=H.map(K=>K[j]).filter(K=>typeof K=="number");if(Z.length===0)return;const W=Z.reduce((K,ge)=>K+ge,0)/Z.length*1.5;H.forEach(K=>{K[j]>W&&(K[`${j}IsAboveAverage`]=!0)})};_(N,"noteViews"),_(N,"noteLikes"),_(N,"xImpressions"),_(N,"xLikes");const S=i.map(H=>{const j=l.filter(Z=>Z.secondaryClassificationId===H.id).length;return{name:H.name,value:j}}).filter(H=>H.value>0),x=i.map(H=>{const Z=l.filter(W=>W.secondaryClassificationId===H.id).reduce((W,K)=>{const ge=K.daily_snapshots.filter(Ee=>Ee.id<=r&&Ee.note_data),me=ge.length>0?ge[ge.length-1]:null;return me&&me.note_data&&(W.views+=me.note_data.views,W.likes+=me.note_data.likes),W},{views:0,likes:0}),$=Z.views>0?Z.likes/Z.views*100:0;return{name:H.name,スキ率:$}}).filter(H=>H.スキ率>0),A=E.reduce((H,j)=>H+(j.totalXImpressions||0),0),T=E.reduce((H,j)=>H+(j.note_views_change||0),0),O=A+T,C=E.reduce((H,j)=>H+(j.note_likes_change||0),0),R=n.find(H=>H.name==="提案（有料記事）"),I=R?E.filter(H=>H.classificationId===R.id):[],P=I.reduce((H,j)=>H+(j.note_views_change||0),0),F=I.reduce((H,j)=>(j.daily_snapshots.filter($=>$.id>=e&&$.id<=r).forEach($=>{H+=$.note_data?.sales??0}),H),0),z=[{name:"告知",value:O},{name:"集客",value:T},{name:"誘因",value:C},{name:"提案",value:P},{name:"販売",value:F}].filter(H=>H.value>0),U=O>0?T/O*100:0,k=T>0?C/T*100:0,V=P>0?F/P*100:0;return{lineChartData:m,dashboardArticles:E,categoryTotalData:N,secondaryCategoryArticleCountData:S,secondaryCategoryLikeRateData:x,pipelineData:z,pipelineRates:{attractionRate:U,inducementRate:k,salesRate:V}}},[t,e,r,n,i,a,o]),d0=t=>{const e=t.getFullYear(),r=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0");return`${e}-${r}-${n}`},DH=Ne.createContext(void 0),ele=({children:t})=>{const{user:e}=vH(),[r,n]=Ne.useState([]),[i,a]=Ne.useState(!1),[o,s]=Ne.useState(!1),[l,u]=Ne.useState(null),[f,d]=Ne.useState(()=>{const he=new Date;return he.setDate(1),d0(he)}),[p,m]=Ne.useState(()=>d0(new Date)),[y,g]=Ne.useState([]),[b,E]=Ne.useState([]),N=Ne.useMemo(()=>e?Lc(Qa(Pn,"classifications"),qc("authorId","==",e.uid)):null,[e]),{data:_}=aE(N),S=Ne.useMemo(()=>_??[],[_]),x=Ne.useMemo(()=>e?Lc(Qa(Pn,"secondary_classifications"),qc("authorId","==",e.uid)):null,[e]),{data:A}=aE(x),T=Ne.useMemo(()=>A??[],[A]);Ne.useEffect(()=>{g(S.map(he=>he.id))},[S]),Ne.useEffect(()=>{E(T.map(he=>he.id))},[T]);const O=Ne.useMemo(()=>e?Lc(Qa(Pn,"kpis"),qc("authorId","==",e.uid)):null,[e]),{data:C}=aE(O),R=Ne.useMemo(()=>C??[],[C]),{lineChartData:I,dashboardArticles:P,categoryTotalData:F,secondaryCategoryArticleCountData:z,secondaryCategoryLikeRateData:U,pipelineData:k,pipelineRates:V}=Jue(r,f,p,S,T,y,b),Y=he=>{g(Ce=>Ce.includes(he)?Ce.filter(je=>je!==he):[...Ce,he])},H=he=>{E(Ce=>Ce.includes(he)?Ce.filter(je=>je!==he):[...Ce,he])},j=Ne.useCallback(async()=>{if(!e)return s(!1);try{const he=rH(),je=await Woe(he,"isXConnected")();s(je.data.isConnected)}catch(he){console.error("X接続状態のチェックエラー:",he),s(!1)}},[e]);Ne.useEffect(()=>{j()},[j]);const Z=Ne.useCallback(async()=>{if(!e)return n([]);const he=Lc(Qa(Pn,"articles"),qc("authorId","==",e.uid)),je=(await ob(he)).docs.map(xe=>({...xe.data(),id:xe.id,daily_snapshots:[]})),We=await Promise.all(je.map(async xe=>{const ze=Lc(Qa(Pn,"articles",xe.id,"daily_snapshots")),te=await ob(ze);xe.daily_snapshots=te.docs.map(_e=>({..._e.data(),id:_e.id})).sort((_e,Re)=>_e.id.localeCompare(Re.id));let ce=0,be=0,Q=0,oe=0,de=0,ye=0;for(const _e of xe.daily_snapshots)_e.x_confirmed_data?(ce+=_e.x_confirmed_data.impressions??0,be+=_e.x_confirmed_data.likes??0,ye+=_e.x_confirmed_data.engagements??0):_e.x_preliminary_data&&(ce+=_e.x_preliminary_data.impressions??0,be+=_e.x_preliminary_data.likes??0,Q+=_e.x_preliminary_data.replies??0,oe+=_e.x_preliminary_data.retweets??0,de+=_e.x_preliminary_data.quotes??0);return xe.totalXImpressions=ce,xe.totalXLikes=be,xe.totalXReplies=Q,xe.totalXRetweets=oe,xe.totalXQuotes=de,xe.totalXEngagements=ye,xe}));n(We)},[e]);Ne.useEffect(()=>{Z()},[Z]);const $=Ne.useCallback(async he=>{if(!he||!e)return alert("テキストが空か、ログインしていません。");try{const Ce=he.trim().split(`
`),je=[],We=[];let xe=0;for(let be=0;be<Ce.length;be++)if(Ce[be].includes("記事	ビュー")){xe=be+1;break}for(let be=xe;be<Ce.length;be+=2){const Q=Ce[be]?.trim(),oe=Ce[be+1]?.trim();if(!Q||!oe)continue;const de=oe.split("	");if(de.length===3&&de.every(ye=>!isNaN(parseInt(ye.replace(/,/g,""),10)))){const ye=Q,[_e,Re,qe]=de.map(Qe=>parseInt(Qe.replace(/,/g,""),10));je.push({url:"",title:ye,views:_e,comments:Re,likes:qe})}else We.push(Q)}if(je.length===0){let be=`処理できる記事データが見つかりませんでした。フォーマットを確認してください。
`;return We.length>0&&(be+=`スキップされた記事タイトル:
${We.join(`
`)}`),alert(be)}const ze=d0(new Date),te=Qa(Pn,"articles");for(const be of je){let Q,oe="";const de=Lc(te,qc("title","==",be.title),qc("authorId","==",e.uid)),ye=await ob(de);ye.empty?(Q=(await Gh(te,{authorId:e.uid,url:oe,title:be.title,publicationDate:fl(),classificationId:"",secondaryClassificationId:"",createdAt:fl()})).id,alert(`新しい記事「${be.title}」を登録しました。URLが空のため、Xデータ連携はできません。`)):(Q=ye.docs[0].id,oe=ye.docs[0].data().url,await BB(ll(Pn,"articles",Q),{title:be.title}));const _e=ll(Pn,"articles",Q,"daily_snapshots",ze);await PB(_e,{note_data:{views:be.views,likes:be.likes,comments:be.comments},fetchedAt:fl()},{merge:!0})}let ce=`${je.length}件の記事データを処理しました。
`;We.length>0&&(ce+=`スキップされた記事タイトル:
${We.slice(0,5).join(`
`)}`,We.length>5&&(ce+=`
...`)),alert(ce),await Z()}catch(Ce){console.error("記事の抽出と追加でエラーが発生しました:",Ce),alert("記事の処理中にエラーが発生しました。コンソールのエラーメッセージを確認してください。")}},[e,Z]),W=Ne.useCallback(async(he,Ce)=>{const je=ll(Pn,"articles",he);try{await BB(je,Ce),await Z()}catch(We){console.error("記事更新エラー:",We)}},[Z]),K=Ne.useCallback(async(he,Ce)=>{if(!e)return;const je=d0(new Date),We=ll(Pn,"articles",he,"daily_snapshots",je);try{await PB(We,{note_data:Ce},{merge:!0}),await Z()}catch(xe){console.error("スナップショットの更新エラー:",xe),alert("データの更新中にエラーが発生しました。")}},[e,Z]),ge=Ne.useCallback(async he=>{if(!(!he||!e))try{await Gh(Qa(Pn,"classifications"),{authorId:e.uid,name:he,createdAt:fl()})}catch(Ce){console.error("1次分類追加エラー:",Ce)}},[e]),me=Ne.useCallback(async he=>{if(!(!he||!e))try{await Gh(Qa(Pn,"secondary_classifications"),{authorId:e.uid,name:he,createdAt:fl()})}catch(Ce){console.error("2次分類追加エラー:",Ce)}},[e]),Ee=Ne.useCallback(async he=>{if(window.confirm("この分類を削除しますか？"))try{await JA(ll(Pn,"classifications",he))}catch(Ce){console.error("Error deleting classification:",Ce)}},[]),J=Ne.useCallback(async he=>{if(window.confirm("この分類を削除しますか？"))try{await JA(ll(Pn,"secondary_classifications",he))}catch(Ce){console.error("Error deleting secondary classification:",Ce)}},[]),ee=Ne.useCallback(async he=>{if(!e)return alert("ログインしていません。");try{await Gh(Qa(Pn,"kpis"),{authorId:e.uid,...he,createdAt:fl()})}catch(Ce){console.error(Ce)}},[e]),ue=Ne.useCallback(async he=>{if(!(!e||!window.confirm("このKPIを削除してもよろしいですか？")))try{await JA(ll(Pn,"kpis",he))}catch(Ce){console.error(Ce)}},[e]),le=Ne.useCallback(async he=>{if(!he||!e)return alert("ファイルを選択してください。");const Ce=Xue(),je=`analytics_csv/${e.uid}/${he.name}`,We=Kue(Ce,je);try{await Gue(We,he),alert("アップロード完了。データの反映には少し時間がかかります。"),await Z()}catch(xe){console.error("アップロードエラー:",xe),alert(`アップロードエラー: ${xe instanceof Error?xe.message:String(xe)}`)}},[e,Z]),ie=Ne.useCallback(async()=>{if(e){a(!0);try{const he=`https://fetchxrealtimedata-3xng5a5c4a-uc.a.run.app?uid=${e.uid}`,Ce=await fetch(he);if(!Ce.ok)throw new Error(`サーバーエラー: ${Ce.status}`);alert("速報値の取得リクエストを送信しました。データの反映には少し時間がかかります。"),await Z()}catch(he){console.error("速報値の取得エラー:",he)}finally{a(!1)}}},[e,Z]),Te={allArticles:r,dashboardArticles:P,lineChartData:I,categoryTotalData:F,secondaryCategoryArticleCountData:z,secondaryCategoryLikeRateData:U,pipelineData:k,pipelineRates:V,classifications:S,secondaryClassifications:T,kpis:R,startDate:f,endDate:p,setStartDate:d,setEndDate:m,selectedClassificationIds:y,selectedSecondaryIds:b,handlePrimaryFilterChange:Y,handleSecondaryFilterChange:H,handleExtractAndAddArticles:$,handleUpdateArticle:W,handleUpdateLatestSnapshot:K,handleAddClassification:ge,handleAddSecondaryClassification:me,handleDeleteClassification:Ee,handleDeleteSecondaryClassification:J,handleAddKpi:ee,handleDeleteKpi:ue,handleFileUpload:le,handleFetchXData:ie,isFetchingXData:i,isXConnected:o,fetchAllData:Z,activeModal:l,setActiveModal:u};return se.jsx(DH.Provider,{value:Te,children:t})},NH=()=>{const t=Ne.useContext(DH);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t};function CH(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=CH(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ht(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=CH(t))&&(n&&(n+=" "),n+=e);return n}var oE,WB;function ua(){if(WB)return oE;WB=1;var t=Array.isArray;return oE=t,oE}var sE,YB;function OH(){if(YB)return sE;YB=1;var t=typeof r0=="object"&&r0&&r0.Object===Object&&r0;return sE=t,sE}var uE,QB;function Ns(){if(QB)return uE;QB=1;var t=OH(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return uE=r,uE}var lE,ZB;function bg(){if(ZB)return lE;ZB=1;var t=Ns(),e=t.Symbol;return lE=e,lE}var cE,JB;function tle(){if(JB)return cE;JB=1;var t=bg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(s?o[i]=l:delete o[i]),f}return cE=a,cE}var fE,eF;function rle(){if(eF)return fE;eF=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return fE=r,fE}var hE,tF;function Mu(){if(tF)return hE;tF=1;var t=bg(),e=tle(),r=rle(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?e(s):r(s)}return hE=o,hE}var dE,rF;function Iu(){if(rF)return dE;rF=1;function t(e){return e!=null&&typeof e=="object"}return dE=t,dE}var pE,nF;function ap(){if(nF)return pE;nF=1;var t=Mu(),e=Iu(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return pE=n,pE}var mE,iF;function KO(){if(iF)return mE;iF=1;var t=ua(),e=ap(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return mE=i,mE}var vE,aF;function Kl(){if(aF)return vE;aF=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return vE=t,vE}var gE,oF;function XO(){if(oF)return gE;oF=1;var t=Mu(),e=Kl(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var l=t(s);return l==n||l==i||l==r||l==a}return gE=o,gE}var yE,sF;function nle(){if(sF)return yE;sF=1;var t=Ns(),e=t["__core-js_shared__"];return yE=e,yE}var bE,uF;function ile(){if(uF)return bE;uF=1;var t=nle(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return bE=r,bE}var wE,lF;function MH(){if(lF)return wE;lF=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return wE=r,wE}var _E,cF;function ale(){if(cF)return _E;cF=1;var t=XO(),e=ile(),r=Kl(),n=MH(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,f=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(p){if(!r(p)||e(p))return!1;var m=t(p)?f:a;return m.test(n(p))}return _E=d,_E}var xE,fF;function ole(){if(fF)return xE;fF=1;function t(e,r){return e?.[r]}return xE=t,xE}var AE,hF;function Tf(){if(hF)return AE;hF=1;var t=ale(),e=ole();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return AE=r,AE}var EE,dF;function Pw(){if(dF)return EE;dF=1;var t=Tf(),e=t(Object,"create");return EE=e,EE}var SE,pF;function sle(){if(pF)return SE;pF=1;var t=Pw();function e(){this.__data__=t?t(null):{},this.size=0}return SE=e,SE}var TE,mF;function ule(){if(mF)return TE;mF=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return TE=t,TE}var DE,vF;function lle(){if(vF)return DE;vF=1;var t=Pw(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var s=o[a];return s===e?void 0:s}return n.call(o,a)?o[a]:void 0}return DE=i,DE}var NE,gF;function cle(){if(gF)return NE;gF=1;var t=Pw(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return NE=n,NE}var CE,yF;function fle(){if(yF)return CE;yF=1;var t=Pw(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return CE=r,CE}var OE,bF;function hle(){if(bF)return OE;bF=1;var t=sle(),e=ule(),r=lle(),n=cle(),i=fle();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,OE=a,OE}var ME,wF;function dle(){if(wF)return ME;wF=1;function t(){this.__data__=[],this.size=0}return ME=t,ME}var IE,_F;function WO(){if(_F)return IE;_F=1;function t(e,r){return e===r||e!==e&&r!==r}return IE=t,IE}var RE,xF;function Bw(){if(xF)return RE;xF=1;var t=WO();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return RE=e,RE}var PE,AF;function ple(){if(AF)return PE;AF=1;var t=Bw(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return PE=n,PE}var BE,EF;function mle(){if(EF)return BE;EF=1;var t=Bw();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return BE=e,BE}var FE,SF;function vle(){if(SF)return FE;SF=1;var t=Bw();function e(r){return t(this.__data__,r)>-1}return FE=e,FE}var kE,TF;function gle(){if(TF)return kE;TF=1;var t=Bw();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return kE=e,kE}var $E,DF;function Fw(){if(DF)return $E;DF=1;var t=dle(),e=ple(),r=mle(),n=vle(),i=gle();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,$E=a,$E}var LE,NF;function YO(){if(NF)return LE;NF=1;var t=Tf(),e=Ns(),r=t(e,"Map");return LE=r,LE}var qE,CF;function yle(){if(CF)return qE;CF=1;var t=hle(),e=Fw(),r=YO();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return qE=n,qE}var UE,OF;function ble(){if(OF)return UE;OF=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return UE=t,UE}var jE,MF;function kw(){if(MF)return jE;MF=1;var t=ble();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return jE=e,jE}var zE,IF;function wle(){if(IF)return zE;IF=1;var t=kw();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return zE=e,zE}var VE,RF;function _le(){if(RF)return VE;RF=1;var t=kw();function e(r){return t(this,r).get(r)}return VE=e,VE}var HE,PF;function xle(){if(PF)return HE;PF=1;var t=kw();function e(r){return t(this,r).has(r)}return HE=e,HE}var GE,BF;function Ale(){if(BF)return GE;BF=1;var t=kw();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return GE=e,GE}var KE,FF;function QO(){if(FF)return KE;FF=1;var t=yle(),e=wle(),r=_le(),n=xle(),i=Ale();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,KE=a,KE}var XE,kF;function IH(){if(kF)return XE;kF=1;var t=QO(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(r.Cache||t),a}return r.Cache=t,XE=r,XE}var WE,$F;function Ele(){if($F)return WE;$F=1;var t=IH(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return WE=r,WE}var YE,LF;function Sle(){if(LF)return YE;LF=1;var t=Ele(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,l,u){a.push(l?u.replace(r,"$1"):s||o)}),a});return YE=n,YE}var QE,qF;function ZO(){if(qF)return QE;qF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return QE=t,QE}var ZE,UF;function Tle(){if(UF)return ZE;UF=1;var t=bg(),e=ZO(),r=ua(),n=ap(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return e(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return ZE=o,ZE}var JE,jF;function RH(){if(jF)return JE;jF=1;var t=Tle();function e(r){return r==null?"":t(r)}return JE=e,JE}var eS,zF;function PH(){if(zF)return eS;zF=1;var t=ua(),e=KO(),r=Sle(),n=RH();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return eS=i,eS}var tS,VF;function $w(){if(VF)return tS;VF=1;var t=ap();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return tS=e,tS}var rS,HF;function JO(){if(HF)return rS;HF=1;var t=PH(),e=$w();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return rS=r,rS}var nS,GF;function BH(){if(GF)return nS;GF=1;var t=JO();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return nS=e,nS}var Dle=BH();const Na=pr(Dle);var iS,KF;function Nle(){if(KF)return iS;KF=1;function t(e){return e==null}return iS=t,iS}var Cle=Nle();const $t=pr(Cle);var aS,XF;function Ole(){if(XF)return aS;XF=1;var t=Mu(),e=ua(),r=Iu(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return aS=i,aS}var Mle=Ole();const df=pr(Mle);var Ile=XO();const Nt=pr(Ile);var Rle=Kl();const op=pr(Rle);var oS={exports:{}},yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WF;function Ple(){if(WF)return yr;WF=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function g(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case t:switch(b=b.type,b){case r:case i:case n:case u:case f:return b;default:switch(b=b&&b.$$typeof,b){case s:case o:case l:case p:case d:case a:return b;default:return E}}case e:return E}}}return yr.ContextConsumer=o,yr.ContextProvider=a,yr.Element=t,yr.ForwardRef=l,yr.Fragment=r,yr.Lazy=p,yr.Memo=d,yr.Portal=e,yr.Profiler=i,yr.StrictMode=n,yr.Suspense=u,yr.SuspenseList=f,yr.isAsyncMode=function(){return!1},yr.isConcurrentMode=function(){return!1},yr.isContextConsumer=function(b){return g(b)===o},yr.isContextProvider=function(b){return g(b)===a},yr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},yr.isForwardRef=function(b){return g(b)===l},yr.isFragment=function(b){return g(b)===r},yr.isLazy=function(b){return g(b)===p},yr.isMemo=function(b){return g(b)===d},yr.isPortal=function(b){return g(b)===e},yr.isProfiler=function(b){return g(b)===i},yr.isStrictMode=function(b){return g(b)===n},yr.isSuspense=function(b){return g(b)===u},yr.isSuspenseList=function(b){return g(b)===f},yr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===u||b===f||b===m||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===d||b.$$typeof===a||b.$$typeof===o||b.$$typeof===l||b.$$typeof===y||b.getModuleId!==void 0)},yr.typeOf=g,yr}var YF;function Ble(){return YF||(YF=1,oS.exports=Ple()),oS.exports}var Fle=Ble(),sS,QF;function FH(){if(QF)return sS;QF=1;var t=Mu(),e=Iu(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return sS=n,sS}var uS,ZF;function kle(){if(ZF)return uS;ZF=1;var t=FH();function e(r){return t(r)&&r!=+r}return uS=e,uS}var $le=kle();const wg=pr($le);var Lle=FH();const qle=pr(Lle);var $i=function(e){return e===0?0:e>0?1:-1},Xc=function(e){return df(e)&&e.indexOf("%")===e.length-1},rt=function(e){return qle(e)&&!wg(e)},Ule=function(e){return $t(e)},$n=function(e){return rt(e)||df(e)},jle=0,sp=function(e){var r=++jle;return"".concat(e||"").concat(r)},Li=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!rt(e)&&!df(e))return n;var a;if(Xc(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return wg(a)&&(a=n),i&&a>r&&(a=r),a},bl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},zle=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},xa=function(e,r){return rt(e)&&rt(r)?function(n){return e+n*(r-e)}:function(){return r}};function $b(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Na(n,e))===r})}var Vle=function(e,r){return rt(e)&&rt(r)?e-r:df(e)&&df(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function od(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function J2(t){"@babel/helpers - typeof";return J2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J2(t)}var Hle=["viewBox","children"],Gle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JF=["points","pathLength"],lS={svg:Hle,polygon:JF,polyline:JF},eM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lb=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(Ne.isValidElement(e)&&(n=e.props),!op(n))return null;var i={};return Object.keys(n).forEach(function(a){eM.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Kle=function(e,r,n){return function(i){return e(r,n,i),null}},pf=function(e,r,n){if(!op(e)||J2(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];eM.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Kle(o,r,n))}),i},Xle=["children"],Wle=["children"];function ek(t,e){if(t==null)return{};var r=Yle(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yle(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eN(t){"@babel/helpers - typeof";return eN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eN(t)}var tk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},yu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},rk=null,cS=null,tM=function t(e){if(e===rk&&Array.isArray(cS))return cS;var r=[];return Ne.Children.forEach(e,function(n){$t(n)||(Fle.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),cS=r,rk=e,r};function Ca(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return yu(i)}):n=[yu(e)],tM(t).forEach(function(i){var a=Na(i,"type.displayName")||Na(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function wa(t,e){var r=Ca(t,e);return r&&r[0]}var nk=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!rt(n)||n<=0||!rt(i)||i<=0)},Qle=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Zle=function(e){return e&&e.type&&df(e.type)&&Qle.indexOf(e.type)>=0},Jle=function(e){return e&&eN(e)==="object"&&"clipDot"in e},ece=function(e,r,n,i){var a,o=(a=lS?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Nt(e)&&(i&&o.includes(r)||Gle.includes(r))||n&&eM.includes(r)},bt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Ne.isValidElement(e)&&(i=e.props),!op(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;ece((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},tN=function t(e,r){if(e===r)return!0;var n=Ne.Children.count(e);if(n!==Ne.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ik(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!ik(a,o))return!1}return!0},ik=function(e,r){if($t(e)&&$t(r))return!0;if(!$t(e)&&!$t(r)){var n=e.props||{},i=n.children,a=ek(n,Xle),o=r.props||{},s=o.children,l=ek(o,Wle);return i&&s?od(a,l)&&tN(i,s):!i&&!s?od(a,l):!1}return!1},ak=function(e,r){var n=[],i={};return tM(e).forEach(function(a,o){if(Zle(a))n.push(a);else if(a){var s=yu(a.type),l=r[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var d=u(a,s,o);n.push(d),i[s]=!0}}}),n},tce=function(e){var r=e&&e.type;return r&&tk[r]?tk[r]:null},rce=function(e,r){return tM(r).indexOf(e)},nce=["children","width","height","viewBox","className","style","title","desc"];function rN(){return rN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rN.apply(this,arguments)}function ice(t,e){if(t==null)return{};var r=ace(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ace(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nN(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=ice(t,nce),f=i||{width:r,height:n,x:0,y:0},d=Ht("recharts-surface",a);return we.createElement("svg",rN({},bt(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),we.createElement("title",null,s),we.createElement("desc",null,l),e)}var oce=["children","className"];function iN(){return iN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iN.apply(this,arguments)}function sce(t,e){if(t==null)return{};var r=uce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hr=we.forwardRef(function(t,e){var r=t.children,n=t.className,i=sce(t,oce),a=Ht("recharts-layer",n);return we.createElement("g",iN({className:a},bt(i,!0),{ref:e}),r)}),Mo=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},fS,ok;function lce(){if(ok)return fS;ok=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return fS=t,fS}var hS,sk;function cce(){if(sk)return hS;sk=1;var t=lce();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return hS=e,hS}var dS,uk;function kH(){if(uk)return dS;uk=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+t+i+a+"]");function l(u){return s.test(u)}return dS=l,dS}var pS,lk;function fce(){if(lk)return pS;lk=1;function t(e){return e.split("")}return pS=t,pS}var mS,ck;function hce(){if(ck)return mS;ck=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",f="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",y=u+"?",g="["+a+"]?",b="(?:"+m+"(?:"+[f,d,p].join("|")+")"+g+y+")*",E=g+y+b,N="(?:"+[f+s+"?",s,d,p,o].join("|")+")",_=RegExp(l+"(?="+l+")|"+N+E,"g");function S(x){return x.match(_)||[]}return mS=S,mS}var vS,fk;function dce(){if(fk)return vS;fk=1;var t=fce(),e=kH(),r=hce();function n(i){return e(i)?r(i):t(i)}return vS=n,vS}var gS,hk;function pce(){if(hk)return gS;hk=1;var t=cce(),e=kH(),r=dce(),n=RH();function i(a){return function(o){o=n(o);var s=e(o)?r(o):void 0,l=s?s[0]:o.charAt(0),u=s?t(s,1).join(""):o.slice(1);return l[a]()+u}}return gS=i,gS}var yS,dk;function mce(){if(dk)return yS;dk=1;var t=pce(),e=t("toUpperCase");return yS=e,yS}var vce=mce();const Lw=pr(vce);function jr(t){return function(){return t}}const $H=Math.cos,qb=Math.sin,Fo=Math.sqrt,Ub=Math.PI,qw=2*Ub,aN=Math.PI,oN=2*aN,Uc=1e-6,gce=oN-Uc;function LH(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function yce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return LH;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class bce{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?LH:yce(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,f=o-e,d=s-r,p=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Uc)if(!(Math.abs(d*l-u*f)>Uc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-o,y=i-s,g=l*l+u*u,b=m*m+y*y,E=Math.sqrt(g),N=Math.sqrt(p),_=a*Math.tan((aN-Math.acos((g+p-b)/(2*E*N)))/2),S=_/N,x=_/E;Math.abs(S-1)>Uc&&this._append`L${e+S*f},${r+S*d}`,this._append`A${a},${a},0,0,${+(d*m>f*y)},${this._x1=e+x*l},${this._y1=r+x*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,f=r+l,d=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Uc||Math.abs(this._y1-f)>Uc)&&this._append`L${u},${f}`,n&&(p<0&&(p=p%oN+oN),p>gce?this._append`A${n},${n},0,1,${d},${e-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:p>Uc&&this._append`A${n},${n},0,${+(p>=aN)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function rM(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new bce(e)}function nM(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qH(t){this._context=t}qH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Uw(t){return new qH(t)}function UH(t){return t[0]}function jH(t){return t[1]}function zH(t,e){var r=jr(!0),n=null,i=Uw,a=null,o=rM(s);t=typeof t=="function"?t:t===void 0?UH:jr(t),e=typeof e=="function"?e:e===void 0?jH:jr(e);function s(l){var u,f=(l=nM(l)).length,d,p=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=f;++u)!(u<f&&r(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(d,u,l),+e(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:jr(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:jr(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:jr(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function p0(t,e,r){var n=null,i=jr(!0),a=null,o=Uw,s=null,l=rM(u);t=typeof t=="function"?t:t===void 0?UH:jr(+t),e=typeof e=="function"?e:jr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?jH:jr(+r);function u(d){var p,m,y,g=(d=nM(d)).length,b,E=!1,N,_=new Array(g),S=new Array(g);for(a==null&&(s=o(N=l())),p=0;p<=g;++p){if(!(p<g&&i(b=d[p],p,d))===E)if(E=!E)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=p-1;y>=m;--y)s.point(_[y],S[y]);s.lineEnd(),s.areaEnd()}E&&(_[p]=+t(b,p,d),S[p]=+e(b,p,d),s.point(n?+n(b,p,d):_[p],r?+r(b,p,d):S[p]))}if(N)return s=null,N+""||null}function f(){return zH().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:jr(+d),n=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:jr(+d),u):t},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:jr(+d),u):n},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:jr(+d),r=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:jr(+d),u):e},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:jr(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:jr(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class VH{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function wce(t){return new VH(t,!0)}function _ce(t){return new VH(t,!1)}const iM={draw(t,e){const r=Fo(e/Ub);t.moveTo(r,0),t.arc(0,0,r,0,qw)}},xce={draw(t,e){const r=Fo(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},HH=Fo(1/3),Ace=HH*2,Ece={draw(t,e){const r=Fo(e/Ace),n=r*HH;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Sce={draw(t,e){const r=Fo(e),n=-r/2;t.rect(n,n,r,r)}},Tce=.8908130915292852,GH=qb(Ub/10)/qb(7*Ub/10),Dce=qb(qw/10)*GH,Nce=-$H(qw/10)*GH,Cce={draw(t,e){const r=Fo(e*Tce),n=Dce*r,i=Nce*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=qw*a/5,s=$H(o),l=qb(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},bS=Fo(3),Oce={draw(t,e){const r=-Fo(e/(bS*3));t.moveTo(0,r*2),t.lineTo(-bS*r,-r),t.lineTo(bS*r,-r),t.closePath()}},Ga=-.5,Ka=Fo(3)/2,sN=1/Fo(12),Mce=(sN/2+1)*3,Ice={draw(t,e){const r=Fo(e/Mce),n=r/2,i=r*sN,a=n,o=r*sN+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Ga*n-Ka*i,Ka*n+Ga*i),t.lineTo(Ga*a-Ka*o,Ka*a+Ga*o),t.lineTo(Ga*s-Ka*l,Ka*s+Ga*l),t.lineTo(Ga*n+Ka*i,Ga*i-Ka*n),t.lineTo(Ga*a+Ka*o,Ga*o-Ka*a),t.lineTo(Ga*s+Ka*l,Ga*l-Ka*s),t.closePath()}};function Rce(t,e){let r=null,n=rM(i);t=typeof t=="function"?t:jr(t||iM),e=typeof e=="function"?e:jr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:jr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:jr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function jb(){}function zb(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function KH(t){this._context=t}KH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pce(t){return new KH(t)}function XH(t){this._context=t}XH.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bce(t){return new XH(t)}function WH(t){this._context=t}WH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fce(t){return new WH(t)}function YH(t){this._context=t}YH.prototype={areaStart:jb,areaEnd:jb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kce(t){return new YH(t)}function pk(t){return t<0?-1:1}function mk(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(pk(a)+pk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function vk(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function wS(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Vb(t){this._context=t}Vb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wS(this,this._t0,vk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,wS(this,vk(this,r=mk(this,t,e)),r);break;default:wS(this,this._t0,r=mk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function QH(t){this._context=new ZH(t)}(QH.prototype=Object.create(Vb.prototype)).point=function(t,e){Vb.prototype.point.call(this,e,t)};function ZH(t){this._context=t}ZH.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function $ce(t){return new Vb(t)}function Lce(t){return new QH(t)}function JH(t){this._context=t}JH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=gk(t),i=gk(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function gk(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function qce(t){return new JH(t)}function jw(t,e){this._context=t,this._t=e}jw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Uce(t){return new jw(t,.5)}function jce(t){return new jw(t,0)}function zce(t){return new jw(t,1)}function wd(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function uN(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Vce(t,e){return t[e]}function Hce(t){const e=[];return e.key=t,e}function Gce(){var t=jr([]),e=uN,r=wd,n=Vce;function i(a){var o=Array.from(t.apply(this,arguments),Hce),s,l=o.length,u=-1,f;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,f=nM(e(o));s<l;++s)o[f[s]].index=s;return r(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:jr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:jr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?uN:typeof a=="function"?a:jr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??wd,i):r},i}function Kce(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}wd(t,e)}}function Xce(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}wd(t,e)}}function Wce(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var f=t[e[s]],d=f[n][1]||0,p=f[n-1][1]||0,m=(d-p)/2,y=0;y<s;++y){var g=t[e[y]],b=g[n][1]||0,E=g[n-1][1]||0;m+=b-E}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,wd(t,e)}}function _v(t){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}var Yce=["type","size","sizeType"];function lN(){return lN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lN.apply(this,arguments)}function yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(r),!0).forEach(function(n){Qce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qce(t,e,r){return e=Zce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zce(t){var e=Jce(t,"string");return _v(e)=="symbol"?e:e+""}function Jce(t,e){if(_v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function efe(t,e){if(t==null)return{};var r=tfe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var eG={symbolCircle:iM,symbolCross:xce,symbolDiamond:Ece,symbolSquare:Sce,symbolStar:Cce,symbolTriangle:Oce,symbolWye:Ice},rfe=Math.PI/180,nfe=function(e){var r="symbol".concat(Lw(e));return eG[r]||iM},ife=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*rfe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},afe=function(e,r){eG["symbol".concat(Lw(e))]=r},aM=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=efe(e,Yce),u=bk(bk({},l),{},{type:n,size:a,sizeType:s}),f=function(){var b=nfe(n),E=Rce().type(b).size(ife(a,s,n));return E()},d=u.className,p=u.cx,m=u.cy,y=bt(u,!0);return p===+p&&m===+m&&a===+a?we.createElement("path",lN({},y,{className:Ht("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(m,")"),d:f()})):null};aM.registerSymbol=afe;function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function cN(){return cN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cN.apply(this,arguments)}function wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ofe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(r),!0).forEach(function(n){xv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ufe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rG(n.key),n)}}function lfe(t,e,r){return e&&ufe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cfe(t,e,r){return e=Hb(e),ffe(t,tG()?Reflect.construct(e,r||[],Hb(t).constructor):e.apply(t,r))}function ffe(t,e){if(e&&(_d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hfe(t)}function hfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tG=function(){return!!t})()}function Hb(t){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hb(t)}function dfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fN(t,e)}function fN(t,e){return fN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fN(t,e)}function xv(t,e,r){return e=rG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rG(t){var e=pfe(t,"string");return _d(e)=="symbol"?e:e+""}function pfe(t,e){if(_d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xa=32,oM=(function(t){function e(){return sfe(this,e),cfe(this,e,arguments)}return dfe(e,t),lfe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Xa/2,o=Xa/6,s=Xa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return we.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Xa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return we.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Xa,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return we.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xa/8,"h").concat(Xa,"v").concat(Xa*3/4,"h").concat(-Xa,"z"),className:"recharts-legend-icon"});if(we.isValidElement(n.legendIcon)){var u=ofe({},n);return delete u.legendIcon,we.cloneElement(n.legendIcon,u)}return we.createElement(aM,{fill:l,cx:a,cy:a,size:Xa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Xa,height:Xa},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,y){var g=m.formatter||l,b=Ht(xv(xv({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var E=Nt(m.value)?null:m.value;Mo(!Nt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=m.inactive?u:m.color;return we.createElement("li",cN({className:b,style:d,key:"legend-item-".concat(y)},pf(n.props,m,y)),we.createElement(nN,{width:o,height:o,viewBox:f,style:p},n.renderIcon(m)),we.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},g?g(E,m,y):E))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return we.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(Ne.PureComponent);xv(oM,"displayName","Legend");xv(oM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var _S,_k;function mfe(){if(_k)return _S;_k=1;var t=Fw();function e(){this.__data__=new t,this.size=0}return _S=e,_S}var xS,xk;function vfe(){if(xk)return xS;xk=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return xS=t,xS}var AS,Ak;function gfe(){if(Ak)return AS;Ak=1;function t(e){return this.__data__.get(e)}return AS=t,AS}var ES,Ek;function yfe(){if(Ek)return ES;Ek=1;function t(e){return this.__data__.has(e)}return ES=t,ES}var SS,Sk;function bfe(){if(Sk)return SS;Sk=1;var t=Fw(),e=YO(),r=QO(),n=200;function i(a,o){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<n-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(a,o),this.size=s.size,this}return SS=i,SS}var TS,Tk;function nG(){if(Tk)return TS;Tk=1;var t=Fw(),e=mfe(),r=vfe(),n=gfe(),i=yfe(),a=bfe();function o(s){var l=this.__data__=new t(s);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,TS=o,TS}var DS,Dk;function wfe(){if(Dk)return DS;Dk=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return DS=e,DS}var NS,Nk;function _fe(){if(Nk)return NS;Nk=1;function t(e){return this.__data__.has(e)}return NS=t,NS}var CS,Ck;function iG(){if(Ck)return CS;Ck=1;var t=QO(),e=wfe(),r=_fe();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,CS=n,CS}var OS,Ok;function aG(){if(Ok)return OS;Ok=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return OS=t,OS}var MS,Mk;function oG(){if(Mk)return MS;Mk=1;function t(e,r){return e.has(r)}return MS=t,MS}var IS,Ik;function sG(){if(Ik)return IS;Ik=1;var t=iG(),e=aG(),r=oG(),n=1,i=2;function a(o,s,l,u,f,d){var p=l&n,m=o.length,y=s.length;if(m!=y&&!(p&&y>m))return!1;var g=d.get(o),b=d.get(s);if(g&&b)return g==s&&b==o;var E=-1,N=!0,_=l&i?new t:void 0;for(d.set(o,s),d.set(s,o);++E<m;){var S=o[E],x=s[E];if(u)var A=p?u(x,S,E,s,o,d):u(S,x,E,o,s,d);if(A!==void 0){if(A)continue;N=!1;break}if(_){if(!e(s,function(T,O){if(!r(_,O)&&(S===T||f(S,T,l,u,d)))return _.push(O)})){N=!1;break}}else if(!(S===x||f(S,x,l,u,d))){N=!1;break}}return d.delete(o),d.delete(s),N}return IS=a,IS}var RS,Rk;function xfe(){if(Rk)return RS;Rk=1;var t=Ns(),e=t.Uint8Array;return RS=e,RS}var PS,Pk;function Afe(){if(Pk)return PS;Pk=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return PS=t,PS}var BS,Bk;function sM(){if(Bk)return BS;Bk=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return BS=t,BS}var FS,Fk;function Efe(){if(Fk)return FS;Fk=1;var t=bg(),e=xfe(),r=WO(),n=sG(),i=Afe(),a=sM(),o=1,s=2,l="[object Boolean]",u="[object Date]",f="[object Error]",d="[object Map]",p="[object Number]",m="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",N="[object DataView]",_=t?t.prototype:void 0,S=_?_.valueOf:void 0;function x(A,T,O,C,R,I,P){switch(O){case N:if(A.byteLength!=T.byteLength||A.byteOffset!=T.byteOffset)return!1;A=A.buffer,T=T.buffer;case E:return!(A.byteLength!=T.byteLength||!I(new e(A),new e(T)));case l:case u:case p:return r(+A,+T);case f:return A.name==T.name&&A.message==T.message;case m:case g:return A==T+"";case d:var F=i;case y:var z=C&o;if(F||(F=a),A.size!=T.size&&!z)return!1;var U=P.get(A);if(U)return U==T;C|=s,P.set(A,T);var k=n(F(A),F(T),C,R,I,P);return P.delete(A),k;case b:if(S)return S.call(A)==S.call(T)}return!1}return FS=x,FS}var kS,kk;function uG(){if(kk)return kS;kk=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return kS=t,kS}var $S,$k;function Sfe(){if($k)return $S;$k=1;var t=uG(),e=ua();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return $S=r,$S}var LS,Lk;function Tfe(){if(Lk)return LS;Lk=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var s=e[n];r(s,n,e)&&(o[a++]=s)}return o}return LS=t,LS}var qS,qk;function Dfe(){if(qk)return qS;qk=1;function t(){return[]}return qS=t,qS}var US,Uk;function Nfe(){if(Uk)return US;Uk=1;var t=Tfe(),e=Dfe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return n.call(o,s)}))}:e;return US=a,US}var jS,jk;function Cfe(){if(jk)return jS;jk=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return jS=t,jS}var zS,zk;function Ofe(){if(zk)return zS;zk=1;var t=Mu(),e=Iu(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return zS=n,zS}var VS,Vk;function uM(){if(Vk)return VS;Vk=1;var t=Ofe(),e=Iu(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return VS=a,VS}var jm={exports:{}},HS,Hk;function Mfe(){if(Hk)return HS;Hk=1;function t(){return!1}return HS=t,HS}jm.exports;var Gk;function lG(){return Gk||(Gk=1,(function(t,e){var r=Ns(),n=Mfe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(jm,jm.exports)),jm.exports}var GS,Kk;function lM(){if(Kk)return GS;Kk=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return GS=r,GS}var KS,Xk;function cM(){if(Xk)return KS;Xk=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return KS=e,KS}var XS,Wk;function Ife(){if(Wk)return XS;Wk=1;var t=Mu(),e=cM(),r=Iu(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",f="[object Number]",d="[object Object]",p="[object RegExp]",m="[object Set]",y="[object String]",g="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",N="[object Float32Array]",_="[object Float64Array]",S="[object Int8Array]",x="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",O="[object Uint8ClampedArray]",C="[object Uint16Array]",R="[object Uint32Array]",I={};I[N]=I[_]=I[S]=I[x]=I[A]=I[T]=I[O]=I[C]=I[R]=!0,I[n]=I[i]=I[b]=I[a]=I[E]=I[o]=I[s]=I[l]=I[u]=I[f]=I[d]=I[p]=I[m]=I[y]=I[g]=!1;function P(F){return r(F)&&e(F.length)&&!!I[t(F)]}return XS=P,XS}var WS,Yk;function cG(){if(Yk)return WS;Yk=1;function t(e){return function(r){return e(r)}}return WS=t,WS}var zm={exports:{}};zm.exports;var Qk;function Rfe(){return Qk||(Qk=1,(function(t,e){var r=OH(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();t.exports=s})(zm,zm.exports)),zm.exports}var YS,Zk;function fG(){if(Zk)return YS;Zk=1;var t=Ife(),e=cG(),r=Rfe(),n=r&&r.isTypedArray,i=n?e(n):t;return YS=i,YS}var QS,Jk;function Pfe(){if(Jk)return QS;Jk=1;var t=Cfe(),e=uM(),r=ua(),n=lG(),i=lM(),a=fG(),o=Object.prototype,s=o.hasOwnProperty;function l(u,f){var d=r(u),p=!d&&e(u),m=!d&&!p&&n(u),y=!d&&!p&&!m&&a(u),g=d||p||m||y,b=g?t(u.length,String):[],E=b.length;for(var N in u)(f||s.call(u,N))&&!(g&&(N=="length"||m&&(N=="offset"||N=="parent")||y&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,E)))&&b.push(N);return b}return QS=l,QS}var ZS,e$;function Bfe(){if(e$)return ZS;e$=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return ZS=e,ZS}var JS,t$;function hG(){if(t$)return JS;t$=1;function t(e,r){return function(n){return e(r(n))}}return JS=t,JS}var eT,r$;function Ffe(){if(r$)return eT;r$=1;var t=hG(),e=t(Object.keys,Object);return eT=e,eT}var tT,n$;function kfe(){if(n$)return tT;n$=1;var t=Bfe(),e=Ffe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return tT=i,tT}var rT,i$;function _g(){if(i$)return rT;i$=1;var t=XO(),e=cM();function r(n){return n!=null&&e(n.length)&&!t(n)}return rT=r,rT}var nT,a$;function zw(){if(a$)return nT;a$=1;var t=Pfe(),e=kfe(),r=_g();function n(i){return r(i)?t(i):e(i)}return nT=n,nT}var iT,o$;function $fe(){if(o$)return iT;o$=1;var t=Sfe(),e=Nfe(),r=zw();function n(i){return t(i,r,e)}return iT=n,iT}var aT,s$;function Lfe(){if(s$)return aT;s$=1;var t=$fe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,l,u,f){var d=s&e,p=t(a),m=p.length,y=t(o),g=y.length;if(m!=g&&!d)return!1;for(var b=m;b--;){var E=p[b];if(!(d?E in o:n.call(o,E)))return!1}var N=f.get(a),_=f.get(o);if(N&&_)return N==o&&_==a;var S=!0;f.set(a,o),f.set(o,a);for(var x=d;++b<m;){E=p[b];var A=a[E],T=o[E];if(l)var O=d?l(T,A,E,o,a,f):l(A,T,E,a,o,f);if(!(O===void 0?A===T||u(A,T,s,l,f):O)){S=!1;break}x||(x=E=="constructor")}if(S&&!x){var C=a.constructor,R=o.constructor;C!=R&&"constructor"in a&&"constructor"in o&&!(typeof C=="function"&&C instanceof C&&typeof R=="function"&&R instanceof R)&&(S=!1)}return f.delete(a),f.delete(o),S}return aT=i,aT}var oT,u$;function qfe(){if(u$)return oT;u$=1;var t=Tf(),e=Ns(),r=t(e,"DataView");return oT=r,oT}var sT,l$;function Ufe(){if(l$)return sT;l$=1;var t=Tf(),e=Ns(),r=t(e,"Promise");return sT=r,sT}var uT,c$;function dG(){if(c$)return uT;c$=1;var t=Tf(),e=Ns(),r=t(e,"Set");return uT=r,uT}var lT,f$;function jfe(){if(f$)return lT;f$=1;var t=Tf(),e=Ns(),r=t(e,"WeakMap");return lT=r,lT}var cT,h$;function zfe(){if(h$)return cT;h$=1;var t=qfe(),e=YO(),r=Ufe(),n=dG(),i=jfe(),a=Mu(),o=MH(),s="[object Map]",l="[object Object]",u="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",m=o(t),y=o(e),g=o(r),b=o(n),E=o(i),N=a;return(t&&N(new t(new ArrayBuffer(1)))!=p||e&&N(new e)!=s||r&&N(r.resolve())!=u||n&&N(new n)!=f||i&&N(new i)!=d)&&(N=function(_){var S=a(_),x=S==l?_.constructor:void 0,A=x?o(x):"";if(A)switch(A){case m:return p;case y:return s;case g:return u;case b:return f;case E:return d}return S}),cT=N,cT}var fT,d$;function Vfe(){if(d$)return fT;d$=1;var t=nG(),e=sG(),r=Efe(),n=Lfe(),i=zfe(),a=ua(),o=lG(),s=fG(),l=1,u="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function y(g,b,E,N,_,S){var x=a(g),A=a(b),T=x?f:i(g),O=A?f:i(b);T=T==u?d:T,O=O==u?d:O;var C=T==d,R=O==d,I=T==O;if(I&&o(g)){if(!o(b))return!1;x=!0,C=!1}if(I&&!C)return S||(S=new t),x||s(g)?e(g,b,E,N,_,S):r(g,b,T,E,N,_,S);if(!(E&l)){var P=C&&m.call(g,"__wrapped__"),F=R&&m.call(b,"__wrapped__");if(P||F){var z=P?g.value():g,U=F?b.value():b;return S||(S=new t),_(z,U,E,N,S)}}return I?(S||(S=new t),n(g,b,E,N,_,S)):!1}return fT=y,fT}var hT,p$;function fM(){if(p$)return hT;p$=1;var t=Vfe(),e=Iu();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,s)}return hT=r,hT}var dT,m$;function Hfe(){if(m$)return dT;m$=1;var t=nG(),e=fM(),r=1,n=2;function i(a,o,s,l){var u=s.length,f=u,d=!l;if(a==null)return!f;for(a=Object(a);u--;){var p=s[u];if(d&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++u<f;){p=s[u];var m=p[0],y=a[m],g=p[1];if(d&&p[2]){if(y===void 0&&!(m in a))return!1}else{var b=new t;if(l)var E=l(y,g,m,a,o,b);if(!(E===void 0?e(g,y,r|n,l,b):E))return!1}}return!0}return dT=i,dT}var pT,v$;function pG(){if(v$)return pT;v$=1;var t=Kl();function e(r){return r===r&&!t(r)}return pT=e,pT}var mT,g$;function Gfe(){if(g$)return mT;g$=1;var t=pG(),e=zw();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,t(s)]}return i}return mT=r,mT}var vT,y$;function mG(){if(y$)return vT;y$=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return vT=t,vT}var gT,b$;function Kfe(){if(b$)return gT;b$=1;var t=Hfe(),e=Gfe(),r=mG();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return gT=n,gT}var yT,w$;function Xfe(){if(w$)return yT;w$=1;function t(e,r){return e!=null&&r in Object(e)}return yT=t,yT}var bT,_$;function Wfe(){if(_$)return bT;_$=1;var t=PH(),e=uM(),r=ua(),n=lM(),i=cM(),a=$w();function o(s,l,u){l=t(l,s);for(var f=-1,d=l.length,p=!1;++f<d;){var m=a(l[f]);if(!(p=s!=null&&u(s,m)))break;s=s[m]}return p||++f!=d?p:(d=s==null?0:s.length,!!d&&i(d)&&n(m,d)&&(r(s)||e(s)))}return bT=o,bT}var wT,x$;function Yfe(){if(x$)return wT;x$=1;var t=Xfe(),e=Wfe();function r(n,i){return n!=null&&e(n,i,t)}return wT=r,wT}var _T,A$;function Qfe(){if(A$)return _T;A$=1;var t=fM(),e=BH(),r=Yfe(),n=KO(),i=pG(),a=mG(),o=$w(),s=1,l=2;function u(f,d){return n(f)&&i(d)?a(o(f),d):function(p){var m=e(p,f);return m===void 0&&m===d?r(p,f):t(d,m,s|l)}}return _T=u,_T}var xT,E$;function up(){if(E$)return xT;E$=1;function t(e){return e}return xT=t,xT}var AT,S$;function Zfe(){if(S$)return AT;S$=1;function t(e){return function(r){return r?.[e]}}return AT=t,AT}var ET,T$;function Jfe(){if(T$)return ET;T$=1;var t=JO();function e(r){return function(n){return t(n,r)}}return ET=e,ET}var ST,D$;function ehe(){if(D$)return ST;D$=1;var t=Zfe(),e=Jfe(),r=KO(),n=$w();function i(a){return r(a)?t(n(a)):e(a)}return ST=i,ST}var TT,N$;function Cs(){if(N$)return TT;N$=1;var t=Kfe(),e=Qfe(),r=up(),n=ua(),i=ehe();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return TT=a,TT}var DT,C$;function vG(){if(C$)return DT;C$=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return DT=t,DT}var NT,O$;function the(){if(O$)return NT;O$=1;function t(e){return e!==e}return NT=t,NT}var CT,M$;function rhe(){if(M$)return CT;M$=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return CT=t,CT}var OT,I$;function nhe(){if(I$)return OT;I$=1;var t=vG(),e=the(),r=rhe();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return OT=n,OT}var MT,R$;function ihe(){if(R$)return MT;R$=1;var t=nhe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return MT=e,MT}var IT,P$;function ahe(){if(P$)return IT;P$=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return IT=t,IT}var RT,B$;function ohe(){if(B$)return RT;B$=1;function t(){}return RT=t,RT}var PT,F$;function she(){if(F$)return PT;F$=1;var t=dG(),e=ohe(),r=sM(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return PT=i,PT}var BT,k$;function uhe(){if(k$)return BT;k$=1;var t=iG(),e=ihe(),r=ahe(),n=oG(),i=she(),a=sM(),o=200;function s(l,u,f){var d=-1,p=e,m=l.length,y=!0,g=[],b=g;if(f)y=!1,p=r;else if(m>=o){var E=u?null:i(l);if(E)return a(E);y=!1,p=n,b=new t}else b=u?[]:g;e:for(;++d<m;){var N=l[d],_=u?u(N):N;if(N=f||N!==0?N:0,y&&_===_){for(var S=b.length;S--;)if(b[S]===_)continue e;u&&b.push(_),g.push(N)}else p(b,_,f)||(b!==g&&b.push(_),g.push(N))}return g}return BT=s,BT}var FT,$$;function lhe(){if($$)return FT;$$=1;var t=Cs(),e=uhe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return FT=r,FT}var che=lhe();const L$=pr(che);function gG(t,e,r){return e===!0?L$(t,r):Nt(e)?L$(t,e):t}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}var fhe=["ref"];function q$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function au(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q$(Object(r),!0).forEach(function(n){Vw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bG(n.key),n)}}function dhe(t,e,r){return e&&U$(t.prototype,e),r&&U$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function phe(t,e,r){return e=Gb(e),mhe(t,yG()?Reflect.construct(e,r||[],Gb(t).constructor):e.apply(t,r))}function mhe(t,e){if(e&&(xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vhe(t)}function vhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yG=function(){return!!t})()}function Gb(t){return Gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gb(t)}function ghe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hN(t,e)}function hN(t,e){return hN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hN(t,e)}function Vw(t,e,r){return e=bG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bG(t){var e=yhe(t,"string");return xd(e)=="symbol"?e:e+""}function yhe(t,e){if(xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bhe(t,e){if(t==null)return{};var r=whe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function whe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _he(t){return t.value}function xhe(t,e){if(we.isValidElement(t))return we.cloneElement(t,e);if(typeof t=="function")return we.createElement(t,e);e.ref;var r=bhe(e,fhe);return we.createElement(oM,r)}var j$=1,cs=(function(t){function e(){var r;hhe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=phe(this,e,[].concat(i)),Vw(r,"lastBoundingBox",{width:-1,height:-1}),r}return ghe(e,t),dhe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>j$||Math.abs(i.height-this.lastBoundingBox.height)>j$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?au({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,d,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();p={top:((f||0)-y.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return au(au({},d),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,d=au(au({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return we.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){n.wrapperNode=m}},xhe(a,au(au({},this.props),{},{payload:gG(f,u,_he)})))}}],[{key:"getWithHeight",value:function(n,i){var a=au(au({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&rt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(Ne.PureComponent);Vw(cs,"displayName","Legend");Vw(cs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var kT,z$;function Ahe(){if(z$)return kT;z$=1;var t=bg(),e=uM(),r=ua(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return kT=i,kT}var $T,V$;function wG(){if(V$)return $T;V$=1;var t=uG(),e=Ahe();function r(n,i,a,o,s){var l=-1,u=n.length;for(a||(a=e),s||(s=[]);++l<u;){var f=n[l];i>0&&a(f)?i>1?r(f,i-1,a,o,s):t(s,f):o||(s[s.length]=f)}return s}return $T=r,$T}var LT,H$;function Ehe(){if(H$)return LT;H$=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),l=s.length;l--;){var u=s[e?l:++a];if(n(o[u],u,o)===!1)break}return r}}return LT=t,LT}var qT,G$;function She(){if(G$)return qT;G$=1;var t=Ehe(),e=t();return qT=e,qT}var UT,K$;function _G(){if(K$)return UT;K$=1;var t=She(),e=zw();function r(n,i){return n&&t(n,i,e)}return UT=r,UT}var jT,X$;function The(){if(X$)return jT;X$=1;var t=_g();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,s=n?o:-1,l=Object(i);(n?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return jT=e,jT}var zT,W$;function hM(){if(W$)return zT;W$=1;var t=_G(),e=The(),r=e(t);return zT=r,zT}var VT,Y$;function xG(){if(Y$)return VT;Y$=1;var t=hM(),e=_g();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(s,l,u){o[++a]=i(s,l,u)}),o}return VT=r,VT}var HT,Q$;function Dhe(){if(Q$)return HT;Q$=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return HT=t,HT}var GT,Z$;function Nhe(){if(Z$)return GT;Z$=1;var t=ap();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=t(r),l=n!==void 0,u=n===null,f=n===n,d=t(n);if(!u&&!d&&!s&&r>n||s&&l&&f&&!u&&!d||a&&l&&f||!i&&f||!o)return 1;if(!a&&!s&&!d&&r<n||d&&i&&o&&!a&&!s||u&&i&&o||!l&&o||!f)return-1}return 0}return GT=e,GT}var KT,J$;function Che(){if(J$)return KT;J$=1;var t=Nhe();function e(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,l=o.length,u=i.length;++a<l;){var f=t(o[a],s[a]);if(f){if(a>=u)return f;var d=i[a];return f*(d=="desc"?-1:1)}}return r.index-n.index}return KT=e,KT}var XT,e6;function Ohe(){if(e6)return XT;e6=1;var t=ZO(),e=JO(),r=Cs(),n=xG(),i=Dhe(),a=cG(),o=Che(),s=up(),l=ua();function u(f,d,p){d.length?d=t(d,function(g){return l(g)?function(b){return e(b,g.length===1?g[0]:g)}:g}):d=[s];var m=-1;d=t(d,a(r));var y=n(f,function(g,b,E){var N=t(d,function(_){return _(g)});return{criteria:N,index:++m,value:g}});return i(y,function(g,b){return o(g,b,p)})}return XT=u,XT}var WT,t6;function Mhe(){if(t6)return WT;t6=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return WT=t,WT}var YT,r6;function Ihe(){if(r6)return YT;r6=1;var t=Mhe(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,l=e(o.length-i,0),u=Array(l);++s<l;)u[s]=o[i+s];s=-1;for(var f=Array(i+1);++s<i;)f[s]=o[s];return f[i]=a(u),t(n,this,f)}}return YT=r,YT}var QT,n6;function Rhe(){if(n6)return QT;n6=1;function t(e){return function(){return e}}return QT=t,QT}var ZT,i6;function AG(){if(i6)return ZT;i6=1;var t=Tf(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return ZT=e,ZT}var JT,a6;function Phe(){if(a6)return JT;a6=1;var t=Rhe(),e=AG(),r=up(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return JT=n,JT}var eD,o6;function Bhe(){if(o6)return eD;o6=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),l=e-(s-o);if(o=s,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return eD=n,eD}var tD,s6;function Fhe(){if(s6)return tD;s6=1;var t=Phe(),e=Bhe(),r=e(t);return tD=r,tD}var rD,u6;function khe(){if(u6)return rD;u6=1;var t=up(),e=Ihe(),r=Fhe();function n(i,a){return r(e(i,a,t),i+"")}return rD=n,rD}var nD,l6;function Hw(){if(l6)return nD;l6=1;var t=WO(),e=_g(),r=lM(),n=Kl();function i(a,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?e(s)&&r(o,s.length):l=="string"&&o in s)?t(s[o],a):!1}return nD=i,nD}var iD,c6;function $he(){if(c6)return iD;c6=1;var t=wG(),e=Ohe(),r=khe(),n=Hw(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return iD=i,iD}var Lhe=$he();const dM=pr(Lhe);function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dN.apply(this,arguments)}function qhe(t,e){return Vhe(t)||zhe(t,e)||jhe(t,e)||Uhe()}function Uhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jhe(t,e){if(t){if(typeof t=="string")return f6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f6(t,e)}}function f6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zhe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Vhe(t){if(Array.isArray(t))return t}function h6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h6(Object(r),!0).forEach(function(n){Hhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hhe(t,e,r){return e=Ghe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ghe(t){var e=Khe(t,"string");return Av(e)=="symbol"?e:e+""}function Khe(t,e){if(Av(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xhe(t){return Array.isArray(t)&&$n(t[0])&&$n(t[1])?t.join(" ~ "):t}var Whe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,d=e.formatter,p=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,g=e.label,b=e.labelFormatter,E=e.accessibilityLayer,N=E===void 0?!1:E,_=function(){if(f&&f.length){var P={padding:0,margin:0},F=(p?dM(f,p):f).map(function(z,U){if(z.type==="none")return null;var k=aD({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},s),V=z.formatter||d||Xhe,Y=z.value,H=z.name,j=Y,Z=H;if(V&&j!=null&&Z!=null){var $=V(Y,H,z,U,f);if(Array.isArray($)){var W=qhe($,2);j=W[0],Z=W[1]}else j=$}return we.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:k},$n(Z)?we.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,$n(Z)?we.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,we.createElement("span",{className:"recharts-tooltip-item-value"},j),we.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return we.createElement("ul",{className:"recharts-tooltip-item-list",style:P},F)}return null},S=aD({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=aD({margin:0},u),A=!$t(g),T=A?g:"",O=Ht("recharts-default-tooltip",m),C=Ht("recharts-tooltip-label",y);A&&b&&f!==void 0&&f!==null&&(T=b(g,f));var R=N?{role:"status","aria-live":"assertive"}:{};return we.createElement("div",dN({className:O,style:S},R),we.createElement("p",{className:C,style:x},we.isValidElement(T)?T:"".concat(T)),_())};function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function m0(t,e,r){return e=Yhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yhe(t){var e=Qhe(t,"string");return Ev(e)=="symbol"?e:e+""}function Qhe(t,e){if(Ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dm="recharts-tooltip-wrapper",Zhe={visibility:"hidden"};function Jhe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ht(Dm,m0(m0(m0(m0({},"".concat(Dm,"-right"),rt(r)&&e&&rt(e.x)&&r>=e.x),"".concat(Dm,"-left"),rt(r)&&e&&rt(e.x)&&r<e.x),"".concat(Dm,"-bottom"),rt(n)&&e&&rt(e.y)&&n>=e.y),"".concat(Dm,"-top"),rt(n)&&e&&rt(e.y)&&n<e.y))}function d6(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&rt(a[n]))return a[n];var f=r[n]-s-i,d=r[n]+i;if(e[n])return o[n]?f:d;if(o[n]){var p=f,m=l[n];return p<m?Math.max(d,l[n]):Math.max(f,l[n])}var y=d+s,g=l[n]+u;return y>g?Math.max(f,l[n]):Math.max(d,l[n])}function ede(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function tde(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=d6({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=d6({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=ede({translateX:f,translateY:d,useTranslate3d:s})):u=Zhe,{cssProperties:u,cssClasses:Jhe({translateX:f,translateY:d,coordinate:r})}}function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function p6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(r),!0).forEach(function(n){mN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SG(n.key),n)}}function ide(t,e,r){return e&&nde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ade(t,e,r){return e=Kb(e),ode(t,EG()?Reflect.construct(e,r||[],Kb(t).constructor):e.apply(t,r))}function ode(t,e){if(e&&(Ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sde(t)}function sde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EG=function(){return!!t})()}function Kb(t){return Kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Kb(t)}function ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pN(t,e)}function pN(t,e){return pN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pN(t,e)}function mN(t,e,r){return e=SG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SG(t){var e=lde(t,"string");return Ad(e)=="symbol"?e:e+""}function lde(t,e){if(Ad(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var v6=1,cde=(function(t){function e(){var r;rde(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ade(this,e,[].concat(i)),mN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return ude(e,t),ide(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>v6||Math.abs(n.height-this.state.lastBoundingBox.height)>v6)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,d=i.hasPayload,p=i.isAnimationActive,m=i.offset,y=i.position,g=i.reverseDirection,b=i.useTranslate3d,E=i.viewBox,N=i.wrapperStyle,_=tde({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:E}),S=_.cssClasses,x=_.cssProperties,A=m6(m6({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},N);return we.createElement("div",{tabIndex:-1,className:S,style:A,ref:function(O){n.wrapperNode=O}},u)}}])})(Ne.PureComponent),fde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Df={isSsr:fde()};function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function g6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g6(Object(r),!0).forEach(function(n){pM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DG(n.key),n)}}function pde(t,e,r){return e&&dde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mde(t,e,r){return e=Xb(e),vde(t,TG()?Reflect.construct(e,r||[],Xb(t).constructor):e.apply(t,r))}function vde(t,e){if(e&&(Ed(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gde(t)}function gde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TG=function(){return!!t})()}function Xb(t){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xb(t)}function yde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vN(t,e)}function vN(t,e){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vN(t,e)}function pM(t,e,r){return e=DG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DG(t){var e=bde(t,"string");return Ed(e)=="symbol"?e:e+""}function bde(t,e){if(Ed(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wde(t){return t.dataKey}function _de(t,e){return we.isValidElement(t)?we.cloneElement(t,e):typeof t=="function"?we.createElement(t,e):we.createElement(Whe,e)}var Ji=(function(t){function e(){return hde(this,e),mde(this,e,arguments)}return yde(e,t),pde(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,d=i.filterNull,p=i.isAnimationActive,m=i.offset,y=i.payload,g=i.payloadUniqBy,b=i.position,E=i.reverseDirection,N=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,x=y??[];d&&x.length&&(x=gG(y.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),g,wde));var A=x.length>0;return we.createElement(cde,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:f,hasPayload:A,offset:m,position:b,reverseDirection:E,useTranslate3d:N,viewBox:_,wrapperStyle:S},_de(u,y6(y6({},this.props),{},{payload:x})))}}])})(Ne.PureComponent);pM(Ji,"displayName","Tooltip");pM(Ji,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Df.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var oD,b6;function xde(){if(b6)return oD;b6=1;var t=Ns(),e=function(){return t.Date.now()};return oD=e,oD}var sD,w6;function Ade(){if(w6)return sD;w6=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return sD=e,sD}var uD,_6;function Ede(){if(_6)return uD;_6=1;var t=Ade(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return uD=r,uD}var lD,x6;function NG(){if(x6)return lD;x6=1;var t=Ede(),e=Kl(),r=ap(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var d=a.test(u);return d||o.test(u)?s(u.slice(2),d?2:8):i.test(u)?n:+u}return lD=l,lD}var cD,A6;function Sde(){if(A6)return cD;A6=1;var t=Kl(),e=xde(),r=NG(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var f,d,p,m,y,g,b=0,E=!1,N=!1,_=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,t(u)&&(E=!!u.leading,N="maxWait"in u,p=N?i(r(u.maxWait)||0,l):p,_="trailing"in u?!!u.trailing:_);function S(F){var z=f,U=d;return f=d=void 0,b=F,m=s.apply(U,z),m}function x(F){return b=F,y=setTimeout(O,l),E?S(F):m}function A(F){var z=F-g,U=F-b,k=l-z;return N?a(k,p-U):k}function T(F){var z=F-g,U=F-b;return g===void 0||z>=l||z<0||N&&U>=p}function O(){var F=e();if(T(F))return C(F);y=setTimeout(O,A(F))}function C(F){return y=void 0,_&&f?S(F):(f=d=void 0,m)}function R(){y!==void 0&&clearTimeout(y),b=0,f=g=d=y=void 0}function I(){return y===void 0?m:C(e())}function P(){var F=e(),z=T(F);if(f=arguments,d=this,g=F,z){if(y===void 0)return x(g);if(N)return clearTimeout(y),y=setTimeout(O,l),S(g)}return y===void 0&&(y=setTimeout(O,l)),m}return P.cancel=R,P.flush=I,P}return cD=o,cD}var fD,E6;function Tde(){if(E6)return fD;E6=1;var t=Sde(),e=Kl(),r="Expected a function";function n(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),t(i,a,{leading:s,maxWait:a,trailing:l})}return fD=n,fD}var Dde=Tde();const CG=pr(Dde);function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function S6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(r),!0).forEach(function(n){Nde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nde(t,e,r){return e=Cde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cde(t){var e=Ode(t,"string");return Sv(e)=="symbol"?e:e+""}function Ode(t,e){if(Sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mde(t,e){return Bde(t)||Pde(t,e)||Rde(t,e)||Ide()}function Ide(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(t,e){if(t){if(typeof t=="string")return T6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T6(t,e)}}function T6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Pde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Bde(t){if(Array.isArray(t))return t}var Hh=Ne.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,f=u===void 0?0:u,d=t.minHeight,p=t.maxHeight,m=t.children,y=t.debounce,g=y===void 0?0:y,b=t.id,E=t.className,N=t.onResize,_=t.style,S=_===void 0?{}:_,x=Ne.useRef(null),A=Ne.useRef();A.current=N,Ne.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var T=Ne.useState({containerWidth:i.width,containerHeight:i.height}),O=Mde(T,2),C=O[0],R=O[1],I=Ne.useCallback(function(F,z){R(function(U){var k=Math.round(F),V=Math.round(z);return U.containerWidth===k&&U.containerHeight===V?U:{containerWidth:k,containerHeight:V}})},[]);Ne.useEffect(function(){var F=function(H){var j,Z=H[0].contentRect,$=Z.width,W=Z.height;I($,W),(j=A.current)===null||j===void 0||j.call(A,$,W)};g>0&&(F=CG(F,g,{trailing:!0,leading:!1}));var z=new ResizeObserver(F),U=x.current.getBoundingClientRect(),k=U.width,V=U.height;return I(k,V),z.observe(x.current),function(){z.disconnect()}},[I,g]);var P=Ne.useMemo(function(){var F=C.containerWidth,z=C.containerHeight;if(F<0||z<0)return null;Mo(Xc(o)||Xc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Mo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=Xc(o)?F:o,k=Xc(l)?z:l;r&&r>0&&(U?k=U/r:k&&(U=k*r),p&&k>p&&(k=p)),Mo(U>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,k,o,l,f,d,r);var V=!Array.isArray(m)&&yu(m.type).endsWith("Chart");return we.Children.map(m,function(Y){return we.isValidElement(Y)?Ne.cloneElement(Y,v0({width:U,height:k},V?{style:v0({height:"100%",width:"100%",maxHeight:k,maxWidth:U},Y.props.style)}:{})):Y})},[r,m,l,p,d,f,C,o]);return we.createElement("div",{id:b?"".concat(b):void 0,className:Ht("recharts-responsive-container",E),style:v0(v0({},S),{},{width:o,height:l,minWidth:f,minHeight:d,maxHeight:p}),ref:x},P)}),To=function(e){return null};To.displayName="Cell";function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function D6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(r),!0).forEach(function(n){Fde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fde(t,e,r){return e=kde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kde(t){var e=$de(t,"string");return Tv(e)=="symbol"?e:e+""}function $de(t,e){if(Tv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mh={widthCache:{},cacheCount:0},Lde=2e3,qde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},N6="recharts_measurement_span";function Ude(t){var e=gN({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var tv=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Df.isSsr)return{width:0,height:0};var n=Ude(r),i=JSON.stringify({text:e,copyStyle:n});if(Mh.widthCache[i])return Mh.widthCache[i];try{var a=document.getElementById(N6);a||(a=document.createElement("span"),a.setAttribute("id",N6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=gN(gN({},qde),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Mh.widthCache[i]=l,++Mh.cacheCount>Lde&&(Mh.cacheCount=0,Mh.widthCache={}),l}catch{return{width:0,height:0}}},jde=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function Wb(t,e){return Gde(t)||Hde(t,e)||Vde(t,e)||zde()}function zde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vde(t,e){if(t){if(typeof t=="string")return C6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C6(t,e)}}function C6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Gde(t){if(Array.isArray(t))return t}function Kde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wde(n.key),n)}}function Xde(t,e,r){return e&&O6(t.prototype,e),r&&O6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wde(t){var e=Yde(t,"string");return Dv(e)=="symbol"?e:e+""}function Yde(t,e){if(Dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qde=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Zde=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Jde=Object.keys(OG),Xh="NaN";function epe(t,e){return t*OG[e]}var g0=(function(){function t(e,r){Kde(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!Qde.test(r)&&(this.num=NaN,this.unit=""),Jde.includes(r)&&(this.num=epe(e,r),this.unit="px")}return Xde(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Zde.exec(r))!==null&&n!==void 0?n:[],a=Wb(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])})();function MG(t){if(t.includes(Xh))return Xh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=M6.exec(e))!==null&&r!==void 0?r:[],i=Wb(n,4),a=i[1],o=i[2],s=i[3],l=g0.parse(a??""),u=g0.parse(s??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Xh;e=e.replace(M6,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,p=(d=I6.exec(e))!==null&&d!==void 0?d:[],m=Wb(p,4),y=m[1],g=m[2],b=m[3],E=g0.parse(y??""),N=g0.parse(b??""),_=g==="+"?E.add(N):E.subtract(N);if(_.isNaN())return Xh;e=e.replace(I6,_.toString())}return e}var R6=/\(([^()]*)\)/;function tpe(t){for(var e=t;e.includes("(");){var r=R6.exec(e),n=Wb(r,2),i=n[1];e=e.replace(R6,MG(i))}return e}function rpe(t){var e=t.replace(/\s+/g,"");return e=tpe(e),e=MG(e),e}function npe(t){try{return rpe(t)}catch{return Xh}}function hD(t){var e=npe(t.slice(5,-1));return e===Xh?"":e}var ipe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ape=["dx","dy","angle","className","breakAll"];function yN(){return yN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yN.apply(this,arguments)}function P6(t,e){if(t==null)return{};var r=ope(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ope(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B6(t,e){return cpe(t)||lpe(t,e)||upe(t,e)||spe()}function spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function upe(t,e){if(t){if(typeof t=="string")return F6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F6(t,e)}}function F6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function cpe(t){if(Array.isArray(t))return t}var IG=/[ \f\n\r\t\v\u2028\u2029]+/,RG=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];$t(r)||(n?a=r.toString().split(""):a=r.toString().split(IG));var o=a.map(function(l){return{word:l,width:tv(l,i).width}}),s=n?0:tv(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},fpe=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,f=rt(o),d=s,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(k,V){var Y=V.word,H=V.width,j=k[k.length-1];if(j&&(i==null||a||j.width+H+n<Number(i)))j.words.push(Y),j.width+=H+n;else{var Z={words:[Y],width:H};k.push(Z)}return k},[])},m=p(r),y=function(U){return U.reduce(function(k,V){return k.width>V.width?k:V})};if(!f)return m;for(var g="…",b=function(U){var k=d.slice(0,U),V=RG({breakAll:u,style:l,children:k+g}).wordsWithComputedWidth,Y=p(V),H=Y.length>o||y(Y).width>Number(i);return[H,Y]},E=0,N=d.length-1,_=0,S;E<=N&&_<=d.length-1;){var x=Math.floor((E+N)/2),A=x-1,T=b(A),O=B6(T,2),C=O[0],R=O[1],I=b(x),P=B6(I,1),F=P[0];if(!C&&!F&&(E=x+1),C&&F&&(N=x-1),!C&&F){S=R;break}_++}return S||m},k6=function(e){var r=$t(e)?[]:e.toString().split(IG);return[{words:r}]},hpe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Df.isSsr){var l,u,f=RG({breakAll:o,children:i,style:a});if(f){var d=f.wordsWithComputedWidth,p=f.spaceWidth;l=d,u=p}else return k6(i);return fpe({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return k6(i)},$6="#808080",mf=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,d=f===void 0?!1:f,p=e.textAnchor,m=p===void 0?"start":p,y=e.verticalAnchor,g=y===void 0?"end":y,b=e.fill,E=b===void 0?$6:b,N=P6(e,ipe),_=Ne.useMemo(function(){return hpe({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:d,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,d,N.style,N.width]),S=N.dx,x=N.dy,A=N.angle,T=N.className,O=N.breakAll,C=P6(N,ape);if(!$n(n)||!$n(a))return null;var R=n+(rt(S)?S:0),I=a+(rt(x)?x:0),P;switch(g){case"start":P=hD("calc(".concat(u,")"));break;case"middle":P=hD("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:P=hD("calc(".concat(_.length-1," * -").concat(s,")"));break}var F=[];if(d){var z=_[0].width,U=N.width;F.push("scale(".concat((rt(U)?U/z:1)/z,")"))}return A&&F.push("rotate(".concat(A,", ").concat(R,", ").concat(I,")")),F.length&&(C.transform=F.join(" ")),we.createElement("text",yN({},bt(C,!0),{x:R,y:I,className:Ht("recharts-text",T),textAnchor:m,fill:E.includes("url")?$6:E}),_.map(function(k,V){var Y=k.words.join(O?"":" ");return we.createElement("tspan",{x:R,dy:V===0?P:s,key:"".concat(Y,"-").concat(V)},Y)}))};function Il(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mM(t){let e,r,n;t.length!==2?(e=Il,r=(s,l)=>Il(t(s),l),n=(s,l)=>t(s)-l):(e=t===Il||t===dpe?t:ppe,r=t,n=t);function i(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const d=u+f>>>1;r(s[d],l)<0?u=d+1:f=d}while(u<f)}return u}function a(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const d=u+f>>>1;r(s[d],l)<=0?u=d+1:f=d}while(u<f)}return u}function o(s,l,u=0,f=s.length){const d=i(s,l,u,f-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function ppe(){return 0}function PG(t){return t===null?NaN:+t}function*mpe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const vpe=mM(Il),xg=vpe.right;mM(PG).center;class L6 extends Map{constructor(e,r=bpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(q6(this,e))}has(e){return super.has(q6(this,e))}set(e,r){return super.set(gpe(this,e),r)}delete(e){return super.delete(ype(this,e))}}function q6({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function gpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function ype({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function bpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wpe(t=Il){if(t===Il)return BG;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function BG(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const _pe=Math.sqrt(50),xpe=Math.sqrt(10),Ape=Math.sqrt(2);function Yb(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=_pe?10:a>=xpe?5:a>=Ape?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?Yb(t,e,r*2):[s,l,u]}function bN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?Yb(e,t,r):Yb(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function wN(t,e,r){return e=+e,t=+t,r=+r,Yb(t,e,r)[2]}function _N(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?wN(e,t,r):wN(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function U6(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function j6(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function FG(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?BG:wpe(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(e-u*d/l+p)),y=Math.min(n,Math.floor(e+(l-u)*d/l+p));FG(t,e,m,y,i)}const a=t[e];let o=r,s=n;for(Nm(t,r,e),i(t[n],a)>0&&Nm(t,r,n);o<s;){for(Nm(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Nm(t,r,s):(++s,Nm(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Nm(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Epe(t,e,r){if(t=Float64Array.from(mpe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return j6(t);if(e>=1)return U6(t);var n,i=(n-1)*e,a=Math.floor(i),o=U6(FG(t,a).subarray(0,a+1)),s=j6(t.subarray(a+1));return o+(s-o)*(i-a)}}function Spe(t,e,r=PG){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Tpe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function fo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ru(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const xN=Symbol("implicit");function vM(){var t=new L6,e=[],r=[],n=xN;function i(a){let o=t.get(a);if(o===void 0){if(n!==xN)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new L6;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return vM(e,r).unknown(n)},fo.apply(i,arguments),i}function Nv(){var t=vM().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,f=.5;delete t.unknown;function d(){var p=e().length,m=i<n,y=m?i:n,g=m?n:i;a=(g-y)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),y+=(g-y-a*(p-l))*f,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var b=Tpe(p).map(function(E){return y+a*E});return r(m?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),d()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,d()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),d()):f},t.copy=function(){return Nv(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},fo.apply(d(),arguments)}function kG(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return kG(e())},t}function rv(){return kG(Nv.apply(null,arguments).paddingInner(1))}function gM(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function $G(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ag(){}var Cv=.7,Qb=1/Cv,sd="\\s*([+-]?\\d+)\\s*",Ov="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ys="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Dpe=/^#([0-9a-f]{3,8})$/,Npe=new RegExp(`^rgb\\(${sd},${sd},${sd}\\)$`),Cpe=new RegExp(`^rgb\\(${ys},${ys},${ys}\\)$`),Ope=new RegExp(`^rgba\\(${sd},${sd},${sd},${Ov}\\)$`),Mpe=new RegExp(`^rgba\\(${ys},${ys},${ys},${Ov}\\)$`),Ipe=new RegExp(`^hsl\\(${Ov},${ys},${ys}\\)$`),Rpe=new RegExp(`^hsla\\(${Ov},${ys},${ys},${Ov}\\)$`),z6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gM(Ag,Mv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:V6,formatHex:V6,formatHex8:Ppe,formatHsl:Bpe,formatRgb:H6,toString:H6});function V6(){return this.rgb().formatHex()}function Ppe(){return this.rgb().formatHex8()}function Bpe(){return LG(this).formatHsl()}function H6(){return this.rgb().formatRgb()}function Mv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Dpe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?G6(e):r===3?new ia(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?y0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?y0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Npe.exec(t))?new ia(e[1],e[2],e[3],1):(e=Cpe.exec(t))?new ia(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ope.exec(t))?y0(e[1],e[2],e[3],e[4]):(e=Mpe.exec(t))?y0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ipe.exec(t))?W6(e[1],e[2]/100,e[3]/100,1):(e=Rpe.exec(t))?W6(e[1],e[2]/100,e[3]/100,e[4]):z6.hasOwnProperty(t)?G6(z6[t]):t==="transparent"?new ia(NaN,NaN,NaN,0):null}function G6(t){return new ia(t>>16&255,t>>8&255,t&255,1)}function y0(t,e,r,n){return n<=0&&(t=e=r=NaN),new ia(t,e,r,n)}function Fpe(t){return t instanceof Ag||(t=Mv(t)),t?(t=t.rgb(),new ia(t.r,t.g,t.b,t.opacity)):new ia}function AN(t,e,r,n){return arguments.length===1?Fpe(t):new ia(t,e,r,n??1)}function ia(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}gM(ia,AN,$G(Ag,{brighter(t){return t=t==null?Qb:Math.pow(Qb,t),new ia(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cv:Math.pow(Cv,t),new ia(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ia(af(this.r),af(this.g),af(this.b),Zb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K6,formatHex:K6,formatHex8:kpe,formatRgb:X6,toString:X6}));function K6(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}`}function kpe(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}${Wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function X6(){const t=Zb(this.opacity);return`${t===1?"rgb(":"rgba("}${af(this.r)}, ${af(this.g)}, ${af(this.b)}${t===1?")":`, ${t})`}`}function Zb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function af(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wc(t){return t=af(t),(t<16?"0":"")+t.toString(16)}function W6(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new No(t,e,r,n)}function LG(t){if(t instanceof No)return new No(t.h,t.s,t.l,t.opacity);if(t instanceof Ag||(t=Mv(t)),!t)return new No;if(t instanceof No)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new No(o,s,l,t.opacity)}function $pe(t,e,r,n){return arguments.length===1?LG(t):new No(t,e,r,n??1)}function No(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}gM(No,$pe,$G(Ag,{brighter(t){return t=t==null?Qb:Math.pow(Qb,t),new No(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cv:Math.pow(Cv,t),new No(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ia(dD(t>=240?t-240:t+120,i,n),dD(t,i,n),dD(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new No(Y6(this.h),b0(this.s),b0(this.l),Zb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Zb(this.opacity);return`${t===1?"hsl(":"hsla("}${Y6(this.h)}, ${b0(this.s)*100}%, ${b0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Y6(t){return t=(t||0)%360,t<0?t+360:t}function b0(t){return Math.max(0,Math.min(1,t||0))}function dD(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const yM=t=>()=>t;function Lpe(t,e){return function(r){return t+r*e}}function qpe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Upe(t){return(t=+t)==1?qG:function(e,r){return r-e?qpe(e,r,t):yM(isNaN(e)?r:e)}}function qG(t,e){var r=e-t;return r?Lpe(t,r):yM(isNaN(t)?e:t)}const Q6=(function t(e){var r=Upe(e);function n(i,a){var o=r((i=AN(i)).r,(a=AN(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=qG(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return n.gamma=t,n})(1);function jpe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function zpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Vpe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=lp(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Hpe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Jb(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Gpe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=lp(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var EN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pD=new RegExp(EN.source,"g");function Kpe(t){return function(){return t}}function Xpe(t){return function(e){return t(e)+""}}function Wpe(t,e){var r=EN.lastIndex=pD.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=EN.exec(t))&&(i=pD.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Jb(n,i)})),r=pD.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Xpe(l[0].x):Kpe(e):(e=l.length,function(u){for(var f=0,d;f<e;++f)s[(d=l[f]).i]=d.x(u);return s.join("")})}function lp(t,e){var r=typeof e,n;return e==null||r==="boolean"?yM(e):(r==="number"?Jb:r==="string"?(n=Mv(e))?(e=n,Q6):Wpe:e instanceof Mv?Q6:e instanceof Date?Hpe:zpe(e)?jpe:Array.isArray(e)?Vpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Gpe:Jb)(t,e)}function bM(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Ype(t,e){e===void 0&&(e=t,t=lp);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function Qpe(t){return function(){return t}}function e1(t){return+t}var Z6=[0,1];function qi(t){return t}function SN(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Qpe(isNaN(e)?NaN:.5)}function Zpe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Jpe(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=SN(i,n),a=r(o,a)):(n=SN(n,i),a=r(a,o)),function(s){return a(n(s))}}function eme(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=SN(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=xg(t,s,1,n)-1;return a[l](i[l](s))}}function Eg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gw(){var t=Z6,e=Z6,r=lp,n,i,a,o=qi,s,l,u;function f(){var p=Math.min(t.length,e.length);return o!==qi&&(o=Zpe(t[0],t[p-1])),s=p>2?eme:Jpe,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(n),e,r)))(n(o(p)))}return d.invert=function(p){return o(i((u||(u=s(e,t.map(n),Jb)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,e1),f()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),r=bM,f()},d.clamp=function(p){return arguments.length?(o=p?!0:qi,f()):o!==qi},d.interpolate=function(p){return arguments.length?(r=p,f()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return n=p,i=m,f()}}function wM(){return Gw()(qi,qi)}function tme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function t1(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Sd(t){return t=t1(Math.abs(t)),t?t[1]:NaN}function rme(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function nme(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ime=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Iv(t){if(!(e=ime.exec(t)))throw new Error("invalid format: "+t);var e;return new _M({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Iv.prototype=_M.prototype;function _M(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_M.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ame(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var UG;function ome(t,e){var r=t1(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(UG=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+t1(t,Math.max(0,e+a-1))[0]}function J6(t,e){var r=t1(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const e5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>J6(t*100,e),r:J6,s:ome,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function t5(t){return t}var r5=Array.prototype.map,n5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sme(t){var e=t.grouping===void 0||t.thousands===void 0?t5:rme(r5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?t5:nme(r5.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Iv(d);var p=d.fill,m=d.align,y=d.sign,g=d.symbol,b=d.zero,E=d.width,N=d.comma,_=d.precision,S=d.trim,x=d.type;x==="n"?(N=!0,x="g"):e5[x]||(_===void 0&&(_=12),S=!0,x="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var A=g==="$"?r:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",T=g==="$"?n:/[%p]/.test(x)?o:"",O=e5[x],C=/[defgprs%]/.test(x);_=_===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(I){var P=A,F=T,z,U,k;if(x==="c")F=O(I)+F,I="";else{I=+I;var V=I<0||1/I<0;if(I=isNaN(I)?l:O(Math.abs(I),_),S&&(I=ame(I)),V&&+I==0&&y!=="+"&&(V=!1),P=(V?y==="("?y:s:y==="-"||y==="("?"":y)+P,F=(x==="s"?n5[8+UG/3]:"")+F+(V&&y==="("?")":""),C){for(z=-1,U=I.length;++z<U;)if(k=I.charCodeAt(z),48>k||k>57){F=(k===46?i+I.slice(z+1):I.slice(z))+F,I=I.slice(0,z);break}}}N&&!b&&(I=e(I,1/0));var Y=P.length+I.length+F.length,H=Y<E?new Array(E-Y+1).join(p):"";switch(N&&b&&(I=e(H+I,H.length?E-F.length:1/0),H=""),m){case"<":I=P+I+F+H;break;case"=":I=P+H+I+F;break;case"^":I=H.slice(0,Y=H.length>>1)+P+I+F+H.slice(Y);break;default:I=H+P+I+F;break}return a(I)}return R.toString=function(){return d+""},R}function f(d,p){var m=u((d=Iv(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Sd(p)/3)))*3,g=Math.pow(10,-y),b=n5[8+y/3];return function(E){return m(g*E)+b}}return{format:u,formatPrefix:f}}var w0,xM,jG;ume({thousands:",",grouping:[3],currency:["$",""]});function ume(t){return w0=sme(t),xM=w0.format,jG=w0.formatPrefix,w0}function lme(t){return Math.max(0,-Sd(Math.abs(t)))}function cme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sd(e)/3)))*3-Sd(Math.abs(t)))}function fme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sd(e)-Sd(t))+1}function zG(t,e,r,n){var i=_N(t,e,r),a;switch(n=Iv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=cme(i,o))&&(n.precision=a),jG(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=fme(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=lme(i))&&(n.precision=a-(n.type==="%")*2);break}}return xM(n)}function Xl(t){var e=t.domain;return t.ticks=function(r){var n=e();return bN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return zG(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=wN(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function r1(){var t=wM();return t.copy=function(){return Eg(t,r1())},fo.apply(t,arguments),Xl(t)}function VG(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,e1),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return VG(t).unknown(e)},t=arguments.length?Array.from(t,e1):[0,1],Xl(r)}function HG(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function i5(t){return Math.log(t)}function a5(t){return Math.exp(t)}function hme(t){return-Math.log(-t)}function dme(t){return-Math.exp(-t)}function pme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function mme(t){return t===10?pme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function vme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function o5(t){return(e,r)=>-t(-e,r)}function AM(t){const e=t(i5,a5),r=e.domain;let n=10,i,a;function o(){return i=vme(n),a=mme(n),r()[0]<0?(i=o5(i),a=o5(a),t(hme,dme)):t(i5,a5),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],f=l[l.length-1];const d=f<u;d&&([u,f]=[f,u]);let p=i(u),m=i(f),y,g;const b=s==null?10:+s;let E=[];if(!(n%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(y=1;y<n;++y)if(g=p<0?y/a(-p):y*a(p),!(g<u)){if(g>f)break;E.push(g)}}else for(;p<=m;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/a(-p):y*a(p),!(g<u)){if(g>f)break;E.push(g)}E.length*2<b&&(E=bN(u,f,b))}else E=bN(p,m,Math.min(m-p,b)).map(a);return d?E.reverse():E},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Iv(l)).precision==null&&(l.trim=!0),l=xM(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return f=>{let d=f/a(Math.round(i(f)));return d*n<n-.5&&(d*=n),d<=u?l(f):""}},e.nice=()=>r(HG(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function GG(){const t=AM(Gw()).domain([1,10]);return t.copy=()=>Eg(t,GG()).base(t.base()),fo.apply(t,arguments),t}function s5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function u5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function EM(t){var e=1,r=t(s5(e),u5(e));return r.constant=function(n){return arguments.length?t(s5(e=+n),u5(e)):e},Xl(r)}function KG(){var t=EM(Gw());return t.copy=function(){return Eg(t,KG()).constant(t.constant())},fo.apply(t,arguments)}function l5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function gme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function yme(t){return t<0?-t*t:t*t}function SM(t){var e=t(qi,qi),r=1;function n(){return r===1?t(qi,qi):r===.5?t(gme,yme):t(l5(r),l5(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Xl(e)}function TM(){var t=SM(Gw());return t.copy=function(){return Eg(t,TM()).exponent(t.exponent())},fo.apply(t,arguments),t}function bme(){return TM.apply(null,arguments).exponent(.5)}function c5(t){return Math.sign(t)*t*t}function wme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function XG(){var t=wM(),e=[0,1],r=!1,n;function i(a){var o=wme(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(c5(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,e1)).map(c5)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return XG(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},fo.apply(i,arguments),Xl(i)}function WG(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=Spe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[xg(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Il),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return WG().domain(t).range(e).unknown(n)},fo.apply(a,arguments)}function YG(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[xg(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return YG().domain([t,e]).range(i).unknown(a)},fo.apply(Xl(o),arguments)}function QG(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[xg(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return QG().domain(t).range(e).unknown(r)},fo.apply(i,arguments)}const mD=new Date,vD=new Date;function Un(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Un(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(mD.setTime(+a),vD.setTime(+o),t(mD),t(vD),Math.floor(r(mD,vD))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const n1=Un(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);n1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Un(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):n1);n1.range;const du=1e3,io=du*60,pu=io*60,Tu=pu*24,DM=Tu*7,f5=Tu*30,gD=Tu*365,Yc=Un(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*du)},(t,e)=>(e-t)/du,t=>t.getUTCSeconds());Yc.range;const NM=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*du)},(t,e)=>{t.setTime(+t+e*io)},(t,e)=>(e-t)/io,t=>t.getMinutes());NM.range;const CM=Un(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*io)},(t,e)=>(e-t)/io,t=>t.getUTCMinutes());CM.range;const OM=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*du-t.getMinutes()*io)},(t,e)=>{t.setTime(+t+e*pu)},(t,e)=>(e-t)/pu,t=>t.getHours());OM.range;const MM=Un(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*pu)},(t,e)=>(e-t)/pu,t=>t.getUTCHours());MM.range;const Sg=Un(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*io)/Tu,t=>t.getDate()-1);Sg.range;const Kw=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tu,t=>t.getUTCDate()-1);Kw.range;const ZG=Un(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Tu,t=>Math.floor(t/Tu));ZG.range;function Nf(t){return Un(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*io)/DM)}const Xw=Nf(0),i1=Nf(1),_me=Nf(2),xme=Nf(3),Td=Nf(4),Ame=Nf(5),Eme=Nf(6);Xw.range;i1.range;_me.range;xme.range;Td.range;Ame.range;Eme.range;function Cf(t){return Un(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/DM)}const Ww=Cf(0),a1=Cf(1),Sme=Cf(2),Tme=Cf(3),Dd=Cf(4),Dme=Cf(5),Nme=Cf(6);Ww.range;a1.range;Sme.range;Tme.range;Dd.range;Dme.range;Nme.range;const IM=Un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());IM.range;const RM=Un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RM.range;const Du=Un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Du.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Du.range;const Nu=Un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Nu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Nu.range;function JG(t,e,r,n,i,a){const o=[[Yc,1,du],[Yc,5,5*du],[Yc,15,15*du],[Yc,30,30*du],[a,1,io],[a,5,5*io],[a,15,15*io],[a,30,30*io],[i,1,pu],[i,3,3*pu],[i,6,6*pu],[i,12,12*pu],[n,1,Tu],[n,2,2*Tu],[r,1,DM],[e,1,f5],[e,3,3*f5],[t,1,gD]];function s(u,f,d){const p=f<u;p&&([u,f]=[f,u]);const m=d&&typeof d.range=="function"?d:l(u,f,d),y=m?m.range(u,+f+1):[];return p?y.reverse():y}function l(u,f,d){const p=Math.abs(f-u)/d,m=mM(([,,b])=>b).right(o,p);if(m===o.length)return t.every(_N(u/gD,f/gD,d));if(m===0)return n1.every(Math.max(_N(u,f,d),1));const[y,g]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return y.every(g)}return[s,l]}const[Cme,Ome]=JG(Nu,RM,Ww,ZG,MM,CM),[Mme,Ime]=JG(Du,IM,Xw,Sg,OM,NM);function yD(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function bD(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cm(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Rme(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Om(i),f=Mm(i),d=Om(a),p=Mm(a),m=Om(o),y=Mm(o),g=Om(s),b=Mm(s),E=Om(l),N=Mm(l),_={a:V,A:Y,b:H,B:j,c:null,d:g5,e:g5,f:rve,g:hve,G:pve,H:Jme,I:eve,j:tve,L:eK,m:nve,M:ive,p:Z,q:$,Q:w5,s:_5,S:ave,u:ove,U:sve,V:uve,w:lve,W:cve,x:null,X:null,y:fve,Y:dve,Z:mve,"%":b5},S={a:W,A:K,b:ge,B:me,c:null,d:y5,e:y5,f:bve,g:Cve,G:Mve,H:vve,I:gve,j:yve,L:rK,m:wve,M:_ve,p:Ee,q:J,Q:w5,s:_5,S:xve,u:Ave,U:Eve,V:Sve,w:Tve,W:Dve,x:null,X:null,y:Nve,Y:Ove,Z:Ive,"%":b5},x={a:R,A:I,b:P,B:F,c:z,d:m5,e:m5,f:Wme,g:p5,G:d5,H:v5,I:v5,j:Hme,L:Xme,m:Vme,M:Gme,p:C,q:zme,Q:Qme,s:Zme,S:Kme,u:$me,U:Lme,V:qme,w:kme,W:Ume,x:U,X:k,y:p5,Y:d5,Z:jme,"%":Yme};_.x=A(r,_),_.X=A(n,_),_.c=A(e,_),S.x=A(r,S),S.X=A(n,S),S.c=A(e,S);function A(ee,ue){return function(le){var ie=[],Te=-1,he=0,Ce=ee.length,je,We,xe;for(le instanceof Date||(le=new Date(+le));++Te<Ce;)ee.charCodeAt(Te)===37&&(ie.push(ee.slice(he,Te)),(We=h5[je=ee.charAt(++Te)])!=null?je=ee.charAt(++Te):We=je==="e"?" ":"0",(xe=ue[je])&&(je=xe(le,We)),ie.push(je),he=Te+1);return ie.push(ee.slice(he,Te)),ie.join("")}}function T(ee,ue){return function(le){var ie=Cm(1900,void 0,1),Te=O(ie,ee,le+="",0),he,Ce;if(Te!=le.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(ue&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(he=bD(Cm(ie.y,0,1)),Ce=he.getUTCDay(),he=Ce>4||Ce===0?a1.ceil(he):a1(he),he=Kw.offset(he,(ie.V-1)*7),ie.y=he.getUTCFullYear(),ie.m=he.getUTCMonth(),ie.d=he.getUTCDate()+(ie.w+6)%7):(he=yD(Cm(ie.y,0,1)),Ce=he.getDay(),he=Ce>4||Ce===0?i1.ceil(he):i1(he),he=Sg.offset(he,(ie.V-1)*7),ie.y=he.getFullYear(),ie.m=he.getMonth(),ie.d=he.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Ce="Z"in ie?bD(Cm(ie.y,0,1)).getUTCDay():yD(Cm(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Ce+5)%7:ie.w+ie.U*7-(Ce+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,bD(ie)):yD(ie)}}function O(ee,ue,le,ie){for(var Te=0,he=ue.length,Ce=le.length,je,We;Te<he;){if(ie>=Ce)return-1;if(je=ue.charCodeAt(Te++),je===37){if(je=ue.charAt(Te++),We=x[je in h5?ue.charAt(Te++):je],!We||(ie=We(ee,le,ie))<0)return-1}else if(je!=le.charCodeAt(ie++))return-1}return ie}function C(ee,ue,le){var ie=u.exec(ue.slice(le));return ie?(ee.p=f.get(ie[0].toLowerCase()),le+ie[0].length):-1}function R(ee,ue,le){var ie=m.exec(ue.slice(le));return ie?(ee.w=y.get(ie[0].toLowerCase()),le+ie[0].length):-1}function I(ee,ue,le){var ie=d.exec(ue.slice(le));return ie?(ee.w=p.get(ie[0].toLowerCase()),le+ie[0].length):-1}function P(ee,ue,le){var ie=E.exec(ue.slice(le));return ie?(ee.m=N.get(ie[0].toLowerCase()),le+ie[0].length):-1}function F(ee,ue,le){var ie=g.exec(ue.slice(le));return ie?(ee.m=b.get(ie[0].toLowerCase()),le+ie[0].length):-1}function z(ee,ue,le){return O(ee,e,ue,le)}function U(ee,ue,le){return O(ee,r,ue,le)}function k(ee,ue,le){return O(ee,n,ue,le)}function V(ee){return o[ee.getDay()]}function Y(ee){return a[ee.getDay()]}function H(ee){return l[ee.getMonth()]}function j(ee){return s[ee.getMonth()]}function Z(ee){return i[+(ee.getHours()>=12)]}function $(ee){return 1+~~(ee.getMonth()/3)}function W(ee){return o[ee.getUTCDay()]}function K(ee){return a[ee.getUTCDay()]}function ge(ee){return l[ee.getUTCMonth()]}function me(ee){return s[ee.getUTCMonth()]}function Ee(ee){return i[+(ee.getUTCHours()>=12)]}function J(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ue=A(ee+="",_);return ue.toString=function(){return ee},ue},parse:function(ee){var ue=T(ee+="",!1);return ue.toString=function(){return ee},ue},utcFormat:function(ee){var ue=A(ee+="",S);return ue.toString=function(){return ee},ue},utcParse:function(ee){var ue=T(ee+="",!0);return ue.toString=function(){return ee},ue}}}var h5={"-":"",_:" ",0:"0"},ni=/^\s*\d+/,Pme=/^%/,Bme=/[\\^$*+?|[\]().{}]/g;function dr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function Fme(t){return t.replace(Bme,"\\$&")}function Om(t){return new RegExp("^(?:"+t.map(Fme).join("|")+")","i")}function Mm(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function kme(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function $me(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Lme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function qme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Ume(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function d5(t,e,r){var n=ni.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function p5(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function jme(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zme(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Vme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function m5(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Hme(t,e,r){var n=ni.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function v5(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Gme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Kme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Xme(t,e,r){var n=ni.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Wme(t,e,r){var n=ni.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Yme(t,e,r){var n=Pme.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Qme(t,e,r){var n=ni.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Zme(t,e,r){var n=ni.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function g5(t,e){return dr(t.getDate(),e,2)}function Jme(t,e){return dr(t.getHours(),e,2)}function eve(t,e){return dr(t.getHours()%12||12,e,2)}function tve(t,e){return dr(1+Sg.count(Du(t),t),e,3)}function eK(t,e){return dr(t.getMilliseconds(),e,3)}function rve(t,e){return eK(t,e)+"000"}function nve(t,e){return dr(t.getMonth()+1,e,2)}function ive(t,e){return dr(t.getMinutes(),e,2)}function ave(t,e){return dr(t.getSeconds(),e,2)}function ove(t){var e=t.getDay();return e===0?7:e}function sve(t,e){return dr(Xw.count(Du(t)-1,t),e,2)}function tK(t){var e=t.getDay();return e>=4||e===0?Td(t):Td.ceil(t)}function uve(t,e){return t=tK(t),dr(Td.count(Du(t),t)+(Du(t).getDay()===4),e,2)}function lve(t){return t.getDay()}function cve(t,e){return dr(i1.count(Du(t)-1,t),e,2)}function fve(t,e){return dr(t.getFullYear()%100,e,2)}function hve(t,e){return t=tK(t),dr(t.getFullYear()%100,e,2)}function dve(t,e){return dr(t.getFullYear()%1e4,e,4)}function pve(t,e){var r=t.getDay();return t=r>=4||r===0?Td(t):Td.ceil(t),dr(t.getFullYear()%1e4,e,4)}function mve(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dr(e/60|0,"0",2)+dr(e%60,"0",2)}function y5(t,e){return dr(t.getUTCDate(),e,2)}function vve(t,e){return dr(t.getUTCHours(),e,2)}function gve(t,e){return dr(t.getUTCHours()%12||12,e,2)}function yve(t,e){return dr(1+Kw.count(Nu(t),t),e,3)}function rK(t,e){return dr(t.getUTCMilliseconds(),e,3)}function bve(t,e){return rK(t,e)+"000"}function wve(t,e){return dr(t.getUTCMonth()+1,e,2)}function _ve(t,e){return dr(t.getUTCMinutes(),e,2)}function xve(t,e){return dr(t.getUTCSeconds(),e,2)}function Ave(t){var e=t.getUTCDay();return e===0?7:e}function Eve(t,e){return dr(Ww.count(Nu(t)-1,t),e,2)}function nK(t){var e=t.getUTCDay();return e>=4||e===0?Dd(t):Dd.ceil(t)}function Sve(t,e){return t=nK(t),dr(Dd.count(Nu(t),t)+(Nu(t).getUTCDay()===4),e,2)}function Tve(t){return t.getUTCDay()}function Dve(t,e){return dr(a1.count(Nu(t)-1,t),e,2)}function Nve(t,e){return dr(t.getUTCFullYear()%100,e,2)}function Cve(t,e){return t=nK(t),dr(t.getUTCFullYear()%100,e,2)}function Ove(t,e){return dr(t.getUTCFullYear()%1e4,e,4)}function Mve(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Dd(t):Dd.ceil(t),dr(t.getUTCFullYear()%1e4,e,4)}function Ive(){return"+0000"}function b5(){return"%"}function w5(t){return+t}function _5(t){return Math.floor(+t/1e3)}var Ih,iK,aK;Rve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rve(t){return Ih=Rme(t),iK=Ih.format,Ih.parse,aK=Ih.utcFormat,Ih.utcParse,Ih}function Pve(t){return new Date(t)}function Bve(t){return t instanceof Date?+t:+new Date(+t)}function PM(t,e,r,n,i,a,o,s,l,u){var f=wM(),d=f.invert,p=f.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),b=u("%I %p"),E=u("%a %d"),N=u("%b %d"),_=u("%B"),S=u("%Y");function x(A){return(l(A)<A?m:s(A)<A?y:o(A)<A?g:a(A)<A?b:n(A)<A?i(A)<A?E:N:r(A)<A?_:S)(A)}return f.invert=function(A){return new Date(d(A))},f.domain=function(A){return arguments.length?p(Array.from(A,Bve)):p().map(Pve)},f.ticks=function(A){var T=p();return t(T[0],T[T.length-1],A??10)},f.tickFormat=function(A,T){return T==null?x:u(T)},f.nice=function(A){var T=p();return(!A||typeof A.range!="function")&&(A=e(T[0],T[T.length-1],A??10)),A?p(HG(T,A)):f},f.copy=function(){return Eg(f,PM(t,e,r,n,i,a,o,s,l,u))},f}function Fve(){return fo.apply(PM(Mme,Ime,Du,IM,Xw,Sg,OM,NM,Yc,iK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function kve(){return fo.apply(PM(Cme,Ome,Nu,RM,Ww,Kw,MM,CM,Yc,aK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yw(){var t=0,e=1,r,n,i,a,o=qi,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(p){var m,y;return arguments.length?([m,y]=p,o=d(m,y),u):[o(0),o(1)]}}return u.range=f(lp),u.rangeRound=f(bM),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),u}}function Wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function oK(){var t=Xl(Yw()(qi));return t.copy=function(){return Wl(t,oK())},Ru.apply(t,arguments)}function sK(){var t=AM(Yw()).domain([1,10]);return t.copy=function(){return Wl(t,sK()).base(t.base())},Ru.apply(t,arguments)}function uK(){var t=EM(Yw());return t.copy=function(){return Wl(t,uK()).constant(t.constant())},Ru.apply(t,arguments)}function BM(){var t=SM(Yw());return t.copy=function(){return Wl(t,BM()).exponent(t.exponent())},Ru.apply(t,arguments)}function $ve(){return BM.apply(null,arguments).exponent(.5)}function lK(){var t=[],e=qi;function r(n){if(n!=null&&!isNaN(n=+n))return e((xg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Il),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Epe(t,a/n))},r.copy=function(){return lK(e).domain(t)},Ru.apply(r,arguments)}function Qw(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=qi,f,d=!1,p;function m(g){return isNaN(g=+g)?p:(g=.5+((g=+f(g))-a)*(n*g<n*a?s:l),u(d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,r]=g,i=f(t=+t),a=f(e=+e),o=f(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m):[t,e,r]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(b){var E,N,_;return arguments.length?([E,N,_]=b,u=Ype(g,[E,N,_]),m):[u(0),u(.5),u(1)]}}return m.range=y(lp),m.rangeRound=y(bM),m.unknown=function(g){return arguments.length?(p=g,m):p},function(g){return f=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function cK(){var t=Xl(Qw()(qi));return t.copy=function(){return Wl(t,cK())},Ru.apply(t,arguments)}function fK(){var t=AM(Qw()).domain([.1,1,10]);return t.copy=function(){return Wl(t,fK()).base(t.base())},Ru.apply(t,arguments)}function hK(){var t=EM(Qw());return t.copy=function(){return Wl(t,hK()).constant(t.constant())},Ru.apply(t,arguments)}function FM(){var t=SM(Qw());return t.copy=function(){return Wl(t,FM()).exponent(t.exponent())},Ru.apply(t,arguments)}function Lve(){return FM.apply(null,arguments).exponent(.5)}const x5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nv,scaleDiverging:cK,scaleDivergingLog:fK,scaleDivergingPow:FM,scaleDivergingSqrt:Lve,scaleDivergingSymlog:hK,scaleIdentity:VG,scaleImplicit:xN,scaleLinear:r1,scaleLog:GG,scaleOrdinal:vM,scalePoint:rv,scalePow:TM,scaleQuantile:WG,scaleQuantize:YG,scaleRadial:XG,scaleSequential:oK,scaleSequentialLog:sK,scaleSequentialPow:BM,scaleSequentialQuantile:lK,scaleSequentialSqrt:$ve,scaleSequentialSymlog:uK,scaleSqrt:bme,scaleSymlog:KG,scaleThreshold:QG,scaleTime:Fve,scaleUtc:kve,tickFormat:zG},Symbol.toStringTag,{value:"Module"}));var wD,A5;function Zw(){if(A5)return wD;A5=1;var t=ap();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],l=n(s);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,f=s}return f}return wD=e,wD}var _D,E5;function dK(){if(E5)return _D;E5=1;function t(e,r){return e>r}return _D=t,_D}var xD,S5;function qve(){if(S5)return xD;S5=1;var t=Zw(),e=dK(),r=up();function n(i){return i&&i.length?t(i,r,e):void 0}return xD=n,xD}var Uve=qve();const Jw=pr(Uve);var AD,T5;function pK(){if(T5)return AD;T5=1;function t(e,r){return e<r}return AD=t,AD}var ED,D5;function jve(){if(D5)return ED;D5=1;var t=Zw(),e=pK(),r=up();function n(i){return i&&i.length?t(i,r,e):void 0}return ED=n,ED}var zve=jve();const e_=pr(zve);var SD,N5;function Vve(){if(N5)return SD;N5=1;var t=ZO(),e=Cs(),r=xG(),n=ua();function i(a,o){var s=n(a)?t:r;return s(a,e(o,3))}return SD=i,SD}var TD,C5;function Hve(){if(C5)return TD;C5=1;var t=wG(),e=Vve();function r(n,i){return t(e(n,i),1)}return TD=r,TD}var Gve=Hve();const Kve=pr(Gve);var DD,O5;function Xve(){if(O5)return DD;O5=1;var t=fM();function e(r,n){return t(r,n)}return DD=e,DD}var Wve=Xve();const Tg=pr(Wve);var cp=1e9,Yve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$M,Yr=!0,uo="[DecimalError] ",of=uo+"Invalid argument: ",kM=uo+"Exponent out of range: ",fp=Math.floor,jc=Math.pow,Qve=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ea,ei=1e7,Hr=7,mK=9007199254740991,o1=fp(mK/Hr),lt={};lt.absoluteValue=lt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};lt.comparedTo=lt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Hr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};lt.dividedBy=lt.div=function(t){return bu(this,new this.constructor(t))};lt.dividedToIntegerBy=lt.idiv=function(t){var e=this,r=e.constructor;return kr(bu(e,new r(t),0,1),r.precision)};lt.equals=lt.eq=function(t){return!this.cmp(t)};lt.exponent=function(){return An(this)};lt.greaterThan=lt.gt=function(t){return this.cmp(t)>0};lt.greaterThanOrEqualTo=lt.gte=function(t){return this.cmp(t)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(t){return this.cmp(t)<0};lt.lessThanOrEqualTo=lt.lte=function(t){return this.cmp(t)<1};lt.logarithm=lt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ea))throw Error(uo+"NaN");if(r.s<1)throw Error(uo+(r.s?"NaN":"-Infinity"));return r.eq(Ea)?new n(0):(Yr=!1,e=bu(Rv(r,a),Rv(t,a),a),Yr=!0,kr(e,i))};lt.minus=lt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yK(e,t):vK(e,(t.s=-t.s,t))};lt.modulo=lt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(uo+"NaN");return r.s?(Yr=!1,e=bu(r,t,0,1).times(t),Yr=!0,r.minus(e)):kr(new n(r),i)};lt.naturalExponential=lt.exp=function(){return gK(this)};lt.naturalLogarithm=lt.ln=function(){return Rv(this)};lt.negated=lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};lt.plus=lt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vK(e,t):yK(e,(t.s=-t.s,t))};lt.precision=lt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(of+t);if(e=An(i)+1,n=i.d.length-1,r=n*Hr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};lt.squareRoot=lt.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(uo+"NaN")}for(t=An(s),Yr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=fs(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=fp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(bu(s,a,o+2)).times(.5),fs(a.d).slice(0,o)===(e=fs(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(kr(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Yr=!0,kr(n,r)};lt.times=lt.mul=function(t){var e,r,n,i,a,o,s,l,u,f=this,d=f.constructor,p=f.d,m=(t=new d(t)).d;if(!f.s||!t.s)return new d(0);for(t.s*=f.s,r=f.e+t.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+m[n]*p[i-n-1]+e,a[i--]=s%ei|0,e=s/ei|0;a[i]=(a[i]+e)%ei|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Yr?kr(t,d.precision):t};lt.toDecimalPlaces=lt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Es(t,0,cp),e===void 0?e=n.rounding:Es(e,0,8),kr(r,t+An(r)+1,e))};lt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=vf(n,!0):(Es(t,0,cp),e===void 0?e=i.rounding:Es(e,0,8),n=kr(new i(n),t+1,e),r=vf(n,!0,t+1)),r};lt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?vf(i):(Es(t,0,cp),e===void 0?e=a.rounding:Es(e,0,8),n=kr(new a(i),t+An(i)+1,e),r=vf(n.abs(),!1,t+An(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};lt.toInteger=lt.toint=function(){var t=this,e=t.constructor;return kr(new e(t),An(t)+1,e.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Ea);if(s=new l(s),!s.s){if(t.s<1)throw Error(uo+"Infinity");return s}if(s.eq(Ea))return s;if(n=l.precision,t.eq(Ea))return kr(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=f<0?-f:f)<=mK){for(i=new l(Ea),e=Math.ceil(n/Hr+4),Yr=!1;r%2&&(i=i.times(s),I5(i.d,e)),r=fp(r/2),r!==0;)s=s.times(s),I5(s.d,e);return Yr=!0,t.s<0?new l(Ea).div(i):kr(i,n)}}else if(a<0)throw Error(uo+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Yr=!1,i=t.times(Rv(s,n+u)),Yr=!0,i=gK(i),i.s=a,i};lt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=An(i),n=vf(i,r<=a.toExpNeg||r>=a.toExpPos)):(Es(t,1,cp),e===void 0?e=a.rounding:Es(e,0,8),i=kr(new a(i),t,e),r=An(i),n=vf(i,t<=r||r<=a.toExpNeg,t)),n};lt.toSignificantDigits=lt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Es(t,1,cp),e===void 0?e=n.rounding:Es(e,0,8)),kr(new n(r),t,e)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=An(t),r=t.constructor;return vf(t,e<=r.toExpNeg||e>=r.toExpPos)};function vK(t,e){var r,n,i,a,o,s,l,u,f=t.constructor,d=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Yr?kr(e,d):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/Hr),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/ei|0,l[a]%=ei;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Yr?kr(e,d):e}function Es(t,e,r){if(t!==~~t||t<e||t>r)throw Error(of+t)}function fs(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Hr-n.length,r&&(a+=hl(r)),a+=n;o=t[e],n=o+"",r=Hr-n.length,r&&(a+=hl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var bu=(function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%ei|0,o=a/ei|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*ei+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,f,d,p,m,y,g,b,E,N,_,S,x,A,T,O,C=n.constructor,R=n.s==i.s?1:-1,I=n.d,P=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(uo+"Division by zero");for(l=n.e-i.e,T=P.length,x=I.length,m=new C(R),y=m.d=[],u=0;P[u]==(I[u]||0);)++u;if(P[u]>(I[u]||0)&&--l,a==null?N=a=C.precision:o?N=a+(An(n)-An(i))+1:N=a,N<0)return new C(0);if(N=N/Hr+2|0,u=0,T==1)for(f=0,P=P[0],N++;(u<x||f)&&N--;u++)_=f*ei+(I[u]||0),y[u]=_/P|0,f=_%P|0;else{for(f=ei/(P[0]+1)|0,f>1&&(P=t(P,f),I=t(I,f),T=P.length,x=I.length),S=T,g=I.slice(0,T),b=g.length;b<T;)g[b++]=0;O=P.slice(),O.unshift(0),A=P[0],P[1]>=ei/2&&++A;do f=0,s=e(P,g,T,b),s<0?(E=g[0],T!=b&&(E=E*ei+(g[1]||0)),f=E/A|0,f>1?(f>=ei&&(f=ei-1),d=t(P,f),p=d.length,b=g.length,s=e(d,g,p,b),s==1&&(f--,r(d,T<p?O:P,p))):(f==0&&(s=f=1),d=P.slice()),p=d.length,p<b&&d.unshift(0),r(g,d,b),s==-1&&(b=g.length,s=e(P,g,T,b),s<1&&(f++,r(g,T<b?O:P,b))),b=g.length):s===0&&(f++,g=[0]),y[u++]=f,s&&g[0]?g[b++]=I[S]||0:(g=[I[S]],b=1);while((S++<x||g[0]!==void 0)&&N--)}return y[0]||y.shift(),m.e=l,kr(m,o?a+An(m)+1:a)}})();function gK(t,e){var r,n,i,a,o,s,l=0,u=0,f=t.constructor,d=f.precision;if(An(t)>16)throw Error(kM+An(t));if(!t.s)return new f(Ea);for(Yr=!1,s=d,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(jc(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new f(Ea),f.precision=s;;){if(i=kr(i.times(t),s),r=r.times(++l),o=a.plus(bu(i,r,s)),fs(o.d).slice(0,s)===fs(a.d).slice(0,s)){for(;u--;)a=kr(a.times(a),s);return f.precision=d,e==null?(Yr=!0,kr(a,d)):a}a=o}}function An(t){for(var e=t.e*Hr,r=t.d[0];r>=10;r/=10)e++;return e}function ND(t,e,r){if(e>t.LN10.sd())throw Yr=!0,r&&(t.precision=r),Error(uo+"LN10 precision limit exceeded");return kr(new t(t.LN10),e)}function hl(t){for(var e="";t--;)e+="0";return e}function Rv(t,e){var r,n,i,a,o,s,l,u,f,d=1,p=10,m=t,y=m.d,g=m.constructor,b=g.precision;if(m.s<1)throw Error(uo+(m.s?"NaN":"-Infinity"));if(m.eq(Ea))return new g(0);if(e==null?(Yr=!1,u=b):u=e,m.eq(10))return e==null&&(Yr=!0),ND(g,u);if(u+=p,g.precision=u,r=fs(y),n=r.charAt(0),a=An(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=fs(m.d),n=r.charAt(0),d++;a=An(m),n>1?(m=new g("0."+r),a++):m=new g(n+"."+r.slice(1))}else return l=ND(g,u+2,b).times(a+""),m=Rv(new g(n+"."+r.slice(1)),u-p).plus(l),g.precision=b,e==null?(Yr=!0,kr(m,b)):m;for(s=o=m=bu(m.minus(Ea),m.plus(Ea),u),f=kr(m.times(m),u),i=3;;){if(o=kr(o.times(f),u),l=s.plus(bu(o,new g(i),u)),fs(l.d).slice(0,u)===fs(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(ND(g,u+2,b).times(a+""))),s=bu(s,new g(d),u),g.precision=b,e==null?(Yr=!0,kr(s,b)):s;s=l,i+=2}}function M5(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=fp(r/Hr),t.d=[],n=(r+1)%Hr,r<0&&(n+=Hr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Hr;n<i;)t.d.push(+e.slice(n,n+=Hr));e=e.slice(n),n=Hr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Yr&&(t.e>o1||t.e<-o1))throw Error(kM+r)}else t.s=0,t.e=0,t.d=[0];return t}function kr(t,e,r){var n,i,a,o,s,l,u,f,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Hr,i=e,u=d[f=0];else{if(f=Math.ceil((n+1)/Hr),a=d.length,f>=a)return t;for(u=a=d[f],o=1;a>=10;a/=10)o++;n%=Hr,i=n-Hr+o}if(r!==void 0&&(a=jc(10,o-i-1),s=u/a%10|0,l=e<0||d[f+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/jc(10,o-i):0:d[f-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(a=An(t),d.length=1,e=e-a-1,d[0]=jc(10,(Hr-e%Hr)%Hr),t.e=fp(-e/Hr)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=f,a=1,f--):(d.length=f+1,a=jc(10,Hr-n),d[f]=i>0?(u/jc(10,o-i)%jc(10,i)|0)*a:0),l)for(;;)if(f==0){(d[0]+=a)==ei&&(d[0]=1,++t.e);break}else{if(d[f]+=a,d[f]!=ei)break;d[f--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Yr&&(t.e>o1||t.e<-o1))throw Error(kM+An(t));return t}function yK(t,e){var r,n,i,a,o,s,l,u,f,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Yr?kr(e,m):e;if(l=t.d,d=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(f=o<0,f?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(m/Hr),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){f=l[i]<d[i];break}o=0}for(f&&(r=l,l=d,d=r,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=ei-1;--l[a],l[i]+=ei}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Yr?kr(e,m):e):new p(0)}function vf(t,e,r){var n,i=An(t),a=fs(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+hl(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+hl(-i-1)+a,r&&(n=r-o)>0&&(a+=hl(n))):i>=o?(a+=hl(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+hl(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=hl(n))),t.s<0?"-"+a:a}function I5(t,e){if(t.length>e)return t.length=e,!0}function bK(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(of+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return M5(o,a.toString())}else if(typeof a!="string")throw Error(of+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Qve.test(a))M5(o,a);else throw Error(of+a)}if(i.prototype=lt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bK,i.config=i.set=Zve,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Zve(t){if(!t||typeof t!="object")throw Error(uo+"Object expected");var e,r,n,i=["precision",1,cp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(fp(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(of+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(of+r+": "+n);return this}var $M=bK(Yve);Ea=new $M(1);const Pr=$M;function Jve(t){return nge(t)||rge(t)||tge(t)||ege()}function ege(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tge(t,e){if(t){if(typeof t=="string")return TN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TN(t,e)}}function rge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nge(t){if(Array.isArray(t))return TN(t)}function TN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ige=function(e){return e},wK={},_K=function(e){return e===wK},R5=function(e){return function r(){return arguments.length===0||arguments.length===1&&_K(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},age=function t(e,r){return e===1?r:R5(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==wK}).length;return o>=e?r.apply(void 0,i):t(e-o,R5(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(d){return _K(d)?l.shift():d});return r.apply(void 0,Jve(f).concat(l))}))})},t_=function(e){return age(e.length,e)},DN=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},oge=t_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),sge=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return ige;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},NN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},xK=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function uge(t){var e;return t===0?e=1:e=Math.floor(new Pr(t).abs().log(10).toNumber())+1,e}function lge(t,e,r){for(var n=new Pr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var cge=t_(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),fge=t_(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),hge=t_(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const r_={rangeStep:lge,getDigitCount:uge,interpolateNumber:cge,uninterpolateNumber:fge,uninterpolateTruncation:hge};function CN(t){return mge(t)||pge(t)||AK(t)||dge()}function dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mge(t){if(Array.isArray(t))return ON(t)}function Pv(t,e){return yge(t)||gge(t,e)||AK(t,e)||vge()}function vge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AK(t,e){if(t){if(typeof t=="string")return ON(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ON(t,e)}}function ON(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function yge(t){if(Array.isArray(t))return t}function EK(t){var e=Pv(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function SK(t,e,r){if(t.lte(0))return new Pr(0);var n=r_.getDigitCount(t.toNumber()),i=new Pr(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Pr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Pr(Math.ceil(l))}function bge(t,e,r){var n=1,i=new Pr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Pr(10).pow(r_.getDigitCount(t)-1),i=new Pr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Pr(Math.floor(t)))}else t===0?i=new Pr(Math.floor((e-1)/2)):r||(i=new Pr(Math.floor(t)));var o=Math.floor((e-1)/2),s=sge(oge(function(l){return i.add(new Pr(l-o).mul(n)).toNumber()}),DN);return s(0,e)}function TK(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Pr(0),tickMin:new Pr(0),tickMax:new Pr(0)};var a=SK(new Pr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Pr(0):(o=new Pr(t).add(e).div(2),o=o.sub(new Pr(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Pr(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?TK(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new Pr(s).mul(a)),tickMax:o.add(new Pr(l).mul(a))})}function wge(t){var e=Pv(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=EK([r,n]),l=Pv(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(CN(DN(0,i-1).map(function(){return 1/0}))):[].concat(CN(DN(0,i-1).map(function(){return-1/0})),[f]);return r>n?NN(d):d}if(u===f)return bge(u,i,a);var p=TK(u,f,o,a),m=p.step,y=p.tickMin,g=p.tickMax,b=r_.rangeStep(y,g.add(new Pr(.1).mul(m)),m);return r>n?NN(b):b}function _ge(t,e){var r=Pv(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=EK([n,i]),s=Pv(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var f=Math.max(e,2),d=SK(new Pr(u).sub(l).div(f-1),a,0),p=[].concat(CN(r_.rangeStep(new Pr(l),new Pr(u).sub(new Pr(.99).mul(d)),d)),[u]);return n>i?NN(p):p}var xge=xK(wge),Age=xK(_ge),Ege="Invariant failed";function gf(t,e){throw new Error(Ege)}var Sge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s1.apply(this,arguments)}function Tge(t,e){return Oge(t)||Cge(t,e)||Nge(t,e)||Dge()}function Dge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nge(t,e){if(t){if(typeof t=="string")return P5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P5(t,e)}}function P5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Oge(t){if(Array.isArray(t))return t}function Mge(t,e){if(t==null)return{};var r=Ige(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ige(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CK(n.key),n)}}function Bge(t,e,r){return e&&Pge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fge(t,e,r){return e=u1(e),kge(t,DK()?Reflect.construct(e,r||[],u1(t).constructor):e.apply(t,r))}function kge(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ge(t)}function $ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DK=function(){return!!t})()}function u1(t){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u1(t)}function Lge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MN(t,e)}function MN(t,e){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MN(t,e)}function NK(t,e,r){return e=CK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CK(t){var e=qge(t,"string");return Nd(e)=="symbol"?e:e+""}function qge(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dg=(function(t){function e(){return Rge(this,e),Fge(this,e,arguments)}return Lge(e,t),Bge(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,p=Mge(n,Sge),m=bt(p,!1);this.props.direction==="x"&&f.type!=="number"&&gf();var y=l.map(function(g){var b=u(g,s),E=b.x,N=b.y,_=b.value,S=b.errorVal;if(!S)return null;var x=[],A,T;if(Array.isArray(S)){var O=Tge(S,2);A=O[0],T=O[1]}else A=T=S;if(a==="vertical"){var C=f.scale,R=N+i,I=R+o,P=R-o,F=C(_-A),z=C(_+T);x.push({x1:z,y1:I,x2:z,y2:P}),x.push({x1:F,y1:R,x2:z,y2:R}),x.push({x1:F,y1:I,x2:F,y2:P})}else if(a==="horizontal"){var U=d.scale,k=E+i,V=k-o,Y=k+o,H=U(_-A),j=U(_+T);x.push({x1:V,y1:j,x2:Y,y2:j}),x.push({x1:k,y1:H,x2:k,y2:j}),x.push({x1:V,y1:H,x2:Y,y2:H})}return we.createElement(hr,s1({className:"recharts-errorBar",key:"bar-".concat(x.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},m),x.map(function(Z){return we.createElement("line",s1({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return we.createElement(hr,{className:"recharts-errorBars"},y)}}])})(we.Component);NK(Dg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NK(Dg,"displayName","ErrorBar");function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function B5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B5(Object(r),!0).forEach(function(n){Uge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Uge(t,e,r){return e=jge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jge(t){var e=zge(t,"string");return Bv(e)=="symbol"?e:e+""}function zge(t,e){if(Bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OK=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=wa(r,cs);if(!o)return null;var s=cs.defaultProps,l=s!==void 0?Bc(Bc({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(f,d){var p=d.item,m=d.props,y=m.sectors||m.data||[];return f.concat(y.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(f){var d=f.item,p=d.type.defaultProps,m=p!==void 0?Bc(Bc({},p),d.props):{},y=m.dataKey,g=m.name,b=m.legendType,E=m.hide;return{inactive:E,dataKey:y,type:l.iconType||b||"square",color:LM(d),value:g||y,payload:m}}),Bc(Bc(Bc({},l),cs.getWithHeight(o,i)),{},{payload:u,item:o})};function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function F5(t){return Kge(t)||Gge(t)||Hge(t)||Vge()}function Vge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hge(t,e){if(t){if(typeof t=="string")return IN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IN(t,e)}}function Gge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kge(t){if(Array.isArray(t))return IN(t)}function IN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(r),!0).forEach(function(n){ud(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ud(t,e,r){return e=Xge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xge(t){var e=Wge(t,"string");return Fv(e)=="symbol"?e:e+""}function Wge(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kn(t,e,r){return $t(t)||$t(e)?r:$n(e)?Na(t,e,r):Nt(e)?e(t):r}function nv(t,e,r,n){var i=Kve(t,function(s){return kn(s,e)});if(r==="number"){var a=i.filter(function(s){return rt(s)||parseFloat(s)});return a.length?[e_(a),Jw(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!$t(s)}):i;return o.map(function(s){return $n(s)||s instanceof Date?s:""})}var Yge=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if($i(d-f)!==$i(p-d)){var y=[];if($i(p-d)===$i(l[1]-l[0])){m=p;var g=d+l[1]-l[0];y[0]=Math.min(g,(g+f)/2),y[1]=Math.max(g,(g+f)/2)}else{m=f;var b=p+l[1]-l[0];y[0]=Math.min(d,(b+d)/2),y[1]=Math.max(d,(b+d)/2)}var E=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>E[0]&&e<=E[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var N=Math.min(f,p),_=Math.max(f,p);if(e>(N+d)/2&&e<=(_+d)/2){o=i[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},LM=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},Qge=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var f=a[s[l]].stackGroups,d=Object.keys(f),p=0,m=d.length;p<m;p++){var y=f[d[p]],g=y.items,b=y.cateAxisId,E=g.filter(function(T){return yu(T.type).indexOf("Bar")>=0});if(E&&E.length){var N=E[0].type.defaultProps,_=N!==void 0?on(on({},N),E[0].props):E[0].props,S=_.barSize,x=_[b];o[x]||(o[x]=[]);var A=$t(S)?r:S;o[x].push({item:E[0],stackList:E.slice(1),barSize:$t(A)?void 0:Li(A,n,0)})}}return o},Zge=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=Li(r,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var p=!1,m=i/l,y=o.reduce(function(S,x){return S+x.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&m>0&&(p=!0,m*=.9,y=l*m);var g=(i-y)/2>>0,b={offset:g-u,size:0};f=o.reduce(function(S,x){var A={item:x.item,position:{offset:b.offset+b.size+u,size:p?m:x.barSize}},T=[].concat(F5(S),[A]);return b=T[T.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(O){T.push({item:O,position:b})}),T},d)}else{var E=Li(n,i,0,!0);i-2*E-(l-1)*u<=0&&(u=0);var N=(i-2*E-(l-1)*u)/l;N>1&&(N>>=0);var _=s===+s?Math.min(N,s):N;f=o.reduce(function(S,x,A){var T=[].concat(F5(S),[{item:x.item,position:{offset:E+(N+u)*A+(N-_)/2,size:_}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(O){T.push({item:O,position:T[T.length-1].position})}),T},d)}return f},Jge=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=OK({children:a,legendWidth:l});if(u){var f=i||{},d=f.width,p=f.height,m=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&rt(e[m]))return on(on({},e),{},ud({},m,e[m]+(d||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&rt(e[y]))return on(on({},e),{},ud({},y,e[y]+(p||0)))}return e},eye=function(e,r,n){return $t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},MK=function(e,r,n,i,a){var o=r.props.children,s=Ca(o,Dg).filter(function(u){return eye(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var d=kn(f,n);if($t(d))return u;var p=Array.isArray(d)?[e_(d),Jw(d)]:[d,d],m=l.reduce(function(y,g){var b=kn(f,g,0),E=p[0]-Math.abs(Array.isArray(b)?b[0]:b),N=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(E,y[0]),Math.max(N,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},tye=function(e,r,n,i,a){var o=r.map(function(s){return MK(e,s,n,a,i)}).filter(function(s){return!$t(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},IK=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&MK(e,l,u,i)||nv(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var f=0,d=u.length;f<d;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},RK=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},PK=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},mu=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&s?.length>=2?$i(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(d){var p=a?a.indexOf(d):d;return{coordinate:i(p)+u,value:d,offset:u}});return f.filter(function(d){return!wg(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,p){return{coordinate:i(d)+u,value:d,index:p,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,p){return{coordinate:i(d)+u,value:a?a[d]:d,index:p,offset:u}})},CD=new WeakMap,_0=function(e,r){if(typeof r!="function")return e;CD.has(e)||CD.set(e,new WeakMap);var n=CD.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},BK=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Nv(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:r1(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:rv(),realScaleType:"point"}:a==="category"?{scale:Nv(),realScaleType:"band"}:{scale:r1(),realScaleType:"linear"};if(df(i)){var l="scale".concat(Lw(i));return{scale:(x5[l]||rv)(),realScaleType:x5[l]?l:"point"}}return Nt(i)?{scale:i}:{scale:rv(),realScaleType:"point"}},$5=1e-4,FK=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-$5,o=Math.max(i[0],i[1])+$5,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},rye=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},nye=function(e,r){if(!r||r.length!==2||!rt(r[0])||!rt(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!rt(e[0])||e[0]<n)&&(a[0]=n),(!rt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},iye=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=wg(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},aye=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=wg(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},oye={sign:iye,expand:Kce,none:wd,silhouette:Xce,wiggle:Wce,positive:aye},sye=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=oye[n],o=Gce().keys(i).value(function(s,l){return+kn(s,l,0)}).order(uN).offset(a);return o(e)},uye=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(d,p){var m,y=(m=p.type)!==null&&m!==void 0&&m.defaultProps?on(on({},p.type.defaultProps),p.props):p.props,g=y.stackId,b=y.hide;if(b)return d;var E=y[n],N=d[E]||{hasStack:!1,stackGroups:{}};if($n(g)){var _=N.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};_.items.push(p),N.hasStack=!0,N.stackGroups[g]=_}else N.stackGroups[sp("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return on(on({},d),{},ud({},E,N))},l),f={};return Object.keys(u).reduce(function(d,p){var m=u[p];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,b){var E=m.stackGroups[b];return on(on({},g),{},ud({},b,{numericAxisId:n,cateAxisId:i,items:E.items,stackedData:sye(e,E.items,a)}))},y)}return on(on({},d),{},ud({},p,m))},f)},kK=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=xge(u,a,s);return e.domain([e_(f),Jw(f)]),{niceTicks:f}}if(a&&i==="number"){var d=e.domain(),p=Age(d,a,s);return{niceTicks:p}}return null};function L5(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$t(i[e.dataKey])){var s=$b(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=kn(i,$t(o)?e.dataKey:o);return $t(l)?null:e.scale(l)}var q5=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=kn(o,r.dataKey,r.domain[s]);return $t(l)?null:r.scale(l)-a/2+i},lye=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},cye=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,a=i.stackId;if($n(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},fye=function(e){return e.reduce(function(r,n){return[e_(n.concat([r[0]]).filter(rt)),Jw(n.concat([r[1]]).filter(rt))]},[1/0,-1/0])},$K=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,f){var d=fye(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},U5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RN=function(e,r,n){if(Nt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(rt(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(U5.test(e[0])){var a=+U5.exec(e[0])[1];i[0]=r[0]-a}else Nt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(rt(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(j5.test(e[1])){var o=+j5.exec(e[1])[1];i[1]=r[1]+o}else Nt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},l1=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=dM(r,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},z5=function(e,r,n){return!e||!e.length||Tg(e,Na(n,"type.defaultProps.domain"))?r:e},LK=function(e,r){var n=e.type.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,f=n.hide;return on(on({},bt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:LM(e),value:kn(r,i),type:l,payload:r,chartType:u,hide:f})};function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}function V5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(r),!0).forEach(function(n){qK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qK(t,e,r){return e=hye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hye(t){var e=dye(t,"string");return kv(e)=="symbol"?e:e+""}function dye(t,e){if(kv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pye(t,e){return yye(t)||gye(t,e)||vye(t,e)||mye()}function mye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vye(t,e){if(t){if(typeof t=="string")return H5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H5(t,e)}}function H5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function yye(t){if(Array.isArray(t))return t}var c1=Math.PI/180,bye=function(e){return e*180/Math.PI},Vr=function(e,r,n,i){return{x:e+Math.cos(-c1*i)*n,y:r+Math.sin(-c1*i)*n}},UK=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wye=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,f=Li(e.cx,o,o/2),d=Li(e.cy,s,s/2),p=UK(o,s,n),m=Li(e.innerRadius,p,0),y=Li(e.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(b,E){var N=r[E],_=N.domain,S=N.reversed,x;if($t(N.range))i==="angleAxis"?x=[l,u]:i==="radiusAxis"&&(x=[m,y]),S&&(x=[x[1],x[0]]);else{x=N.range;var A=x,T=pye(A,2);l=T[0],u=T[1]}var O=BK(N,a),C=O.realScaleType,R=O.scale;R.domain(_).range(x),FK(R);var I=kK(R,uu(uu({},N),{},{realScaleType:C})),P=uu(uu(uu({},N),I),{},{range:x,radius:y,realScaleType:C,scale:R,cx:f,cy:d,innerRadius:m,outerRadius:y,startAngle:l,endAngle:u});return uu(uu({},b),{},qK({},E,P))},{})},_ye=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},xye=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=_ye({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:bye(u),angleInRadian:u}},Aye=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Eye=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},G5=function(e,r){var n=e.x,i=e.y,a=xye({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=Aye(r),d=f.startAngle,p=f.endAngle,m=s,y;if(d<=p){for(;m>p;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=p}else{for(;m>d;)m-=360;for(;m<p;)m+=360;y=m>=p&&m<=d}return y?uu(uu({},r),{},{radius:o,angle:Eye(m,r)}):null},jK=function(e){return!Ne.isValidElement(e)&&!Nt(e)&&typeof e!="boolean"?e.className:""};function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}var Sye=["offset"];function Tye(t){return Oye(t)||Cye(t)||Nye(t)||Dye()}function Dye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nye(t,e){if(t){if(typeof t=="string")return PN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PN(t,e)}}function Cye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oye(t){if(Array.isArray(t))return PN(t)}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mye(t,e){if(t==null)return{};var r=Iye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Iye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K5(Object(r),!0).forEach(function(n){Rye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rye(t,e,r){return e=Pye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pye(t){var e=Bye(t,"string");return $v(e)=="symbol"?e:e+""}function Bye(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lv.apply(this,arguments)}var Fye=function(e){var r=e.value,n=e.formatter,i=$t(e.children)?r:e.children;return Nt(n)?n(i):i},kye=function(e,r){var n=$i(r-e),i=Math.min(Math.abs(r-e),360);return n*i},$ye=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,f=l.cy,d=l.innerRadius,p=l.outerRadius,m=l.startAngle,y=l.endAngle,g=l.clockWise,b=(d+p)/2,E=kye(m,y),N=E>=0?1:-1,_,S;i==="insideStart"?(_=m+N*o,S=g):i==="insideEnd"?(_=y-N*o,S=!g):i==="end"&&(_=y+N*o,S=g),S=E<=0?S:!S;var x=Vr(u,f,b,_),A=Vr(u,f,b,_+(S?1:-1)*359),T="M".concat(x.x,",").concat(x.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(S?0:1,`,
    `).concat(A.x,",").concat(A.y),O=$t(e.id)?sp("recharts-radial-line-"):e.id;return we.createElement("text",Lv({},n,{dominantBaseline:"central",className:Ht("recharts-radial-bar-label",s)}),we.createElement("defs",null,we.createElement("path",{id:O,d:T})),we.createElement("textPath",{xlinkHref:"#".concat(O)},r))},Lye=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,f=a.startAngle,d=a.endAngle,p=(f+d)/2;if(i==="outside"){var m=Vr(o,s,u+n,p),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,E=Vr(o,s,b,p),N=E.x,_=E.y;return{x:N,y:_,textAnchor:"middle",verticalAnchor:"middle"}},qye=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,f=o.height,d=f>=0?1:-1,p=d*i,m=d>0?"end":"start",y=d>0?"start":"end",g=u>=0?1:-1,b=g*i,E=g>0?"end":"start",N=g>0?"start":"end";if(a==="top"){var _={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return Rn(Rn({},_),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:s+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:y};return Rn(Rn({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:u}:{})}if(a==="left"){var x={x:s-b,y:l+f/2,textAnchor:E,verticalAnchor:"middle"};return Rn(Rn({},x),n?{width:Math.max(x.x-n.x,0),height:f}:{})}if(a==="right"){var A={x:s+u+b,y:l+f/2,textAnchor:N,verticalAnchor:"middle"};return Rn(Rn({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:f}:{})}var T=n?{width:u,height:f}:{};return a==="insideLeft"?Rn({x:s+b,y:l+f/2,textAnchor:N,verticalAnchor:"middle"},T):a==="insideRight"?Rn({x:s+u-b,y:l+f/2,textAnchor:E,verticalAnchor:"middle"},T):a==="insideTop"?Rn({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:y},T):a==="insideBottom"?Rn({x:s+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:m},T):a==="insideTopLeft"?Rn({x:s+b,y:l+p,textAnchor:N,verticalAnchor:y},T):a==="insideTopRight"?Rn({x:s+u-b,y:l+p,textAnchor:E,verticalAnchor:y},T):a==="insideBottomLeft"?Rn({x:s+b,y:l+f-p,textAnchor:N,verticalAnchor:m},T):a==="insideBottomRight"?Rn({x:s+u-b,y:l+f-p,textAnchor:E,verticalAnchor:m},T):op(a)&&(rt(a.x)||Xc(a.x))&&(rt(a.y)||Xc(a.y))?Rn({x:s+Li(a.x,u),y:l+Li(a.y,f),textAnchor:"end",verticalAnchor:"end"},T):Rn({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Uye=function(e){return"cx"in e&&rt(e.cx)};function ti(t){var e=t.offset,r=e===void 0?5:e,n=Mye(t,Sye),i=Rn({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,f=i.className,d=f===void 0?"":f,p=i.textBreakAll;if(!a||$t(s)&&$t(l)&&!Ne.isValidElement(u)&&!Nt(u))return null;if(Ne.isValidElement(u))return Ne.cloneElement(u,i);var m;if(Nt(u)){if(m=Ne.createElement(u,i),Ne.isValidElement(m))return m}else m=Fye(i);var y=Uye(a),g=bt(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return $ye(i,m,g);var b=y?Lye(i):qye(i);return we.createElement(mf,Lv({className:Ht("recharts-label",d)},g,b,{breakAll:p}),m)}ti.displayName="Label";var zK=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,d=e.x,p=e.y,m=e.top,y=e.left,g=e.width,b=e.height,E=e.clockWise,N=e.labelViewBox;if(N)return N;if(rt(g)&&rt(b)){if(rt(d)&&rt(p))return{x:d,y:p,width:g,height:b};if(rt(m)&&rt(y))return{x:m,y,width:g,height:b}}return rt(d)&&rt(p)?{x:d,y:p,width:0,height:0}:rt(r)&&rt(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:E}:e.viewBox?e.viewBox:{}},jye=function(e,r){return e?e===!0?we.createElement(ti,{key:"label-implicit",viewBox:r}):$n(e)?we.createElement(ti,{key:"label-implicit",viewBox:r,value:e}):Ne.isValidElement(e)?e.type===ti?Ne.cloneElement(e,{key:"label-implicit",viewBox:r}):we.createElement(ti,{key:"label-implicit",content:e,viewBox:r}):Nt(e)?we.createElement(ti,{key:"label-implicit",content:e,viewBox:r}):op(e)?we.createElement(ti,Lv({viewBox:r},e,{key:"label-implicit"})):null:null},zye=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=zK(e),o=Ca(i,ti).map(function(l,u){return Ne.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=jye(e.label,r||a);return[s].concat(Tye(o))};ti.parseViewBox=zK;ti.renderCallByParent=zye;var OD,X5;function Vye(){if(X5)return OD;X5=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return OD=t,OD}var Hye=Vye();const Gye=pr(Hye);function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}var Kye=["valueAccessor"],Xye=["data","dataKey","clockWise","id","textBreakAll"];function Wye(t){return Jye(t)||Zye(t)||Qye(t)||Yye()}function Yye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qye(t,e){if(t){if(typeof t=="string")return BN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BN(t,e)}}function Zye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jye(t){if(Array.isArray(t))return BN(t)}function BN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f1.apply(this,arguments)}function W5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Y5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(r),!0).forEach(function(n){e0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e0e(t,e,r){return e=t0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t0e(t){var e=r0e(t,"string");return qv(e)=="symbol"?e:e+""}function r0e(t,e){if(qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q5(t,e){if(t==null)return{};var r=n0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function n0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var i0e=function(e){return Array.isArray(e.value)?Gye(e.value):e.value};function bs(t){var e=t.valueAccessor,r=e===void 0?i0e:e,n=Q5(t,Kye),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=Q5(n,Xye);return!i||!i.length?null:we.createElement(hr,{className:"recharts-label-list"},i.map(function(f,d){var p=$t(a)?r(f,d):kn(f&&f.payload,a),m=$t(s)?{}:{id:"".concat(s,"-").concat(d)};return we.createElement(ti,f1({},bt(f,!0),u,m,{parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:ti.parseViewBox($t(o)?f:Y5(Y5({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}bs.displayName="LabelList";function a0e(t,e){return t?t===!0?we.createElement(bs,{key:"labelList-implicit",data:e}):we.isValidElement(t)||Nt(t)?we.createElement(bs,{key:"labelList-implicit",data:e,content:t}):op(t)?we.createElement(bs,f1({data:e},t,{key:"labelList-implicit"})):null:null}function o0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ca(n,bs).map(function(o,s){return Ne.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=a0e(t.label,e);return[a].concat(Wye(i))}bs.renderCallByParent=o0e;function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function FN(){return FN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FN.apply(this,arguments)}function Z5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(r),!0).forEach(function(n){s0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function s0e(t,e,r){return e=u0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u0e(t){var e=l0e(t,"string");return Uv(e)=="symbol"?e:e+""}function l0e(t,e){if(Uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c0e=function(e,r){var n=$i(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},x0=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(s?1:-1)+i,d=Math.asin(l/f)/c1,p=u?a:a+o*d,m=Vr(r,n,f,p),y=Vr(r,n,i,p),g=u?a-o*d:a,b=Vr(r,n,f*Math.cos(d*c1),g);return{center:m,circleTangency:y,lineTangency:b,theta:d}},VK=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=c0e(o,s),u=o+l,f=Vr(r,n,a,o),d=Vr(r,n,a,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Vr(r,n,i,o),y=Vr(r,n,i,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},f0e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,d=$i(f-u),p=x0({cx:r,cy:n,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),m=p.circleTangency,y=p.lineTangency,g=p.theta,b=x0({cx:r,cy:n,radius:a,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:l}),E=b.circleTangency,N=b.lineTangency,_=b.theta,S=l?Math.abs(u-f):Math.abs(u-f)-g-_;if(S<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):VK({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var x="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var A=x0({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=A.circleTangency,O=A.lineTangency,C=A.theta,R=x0({cx:r,cy:n,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=R.circleTangency,P=R.lineTangency,F=R.theta,z=l?Math.abs(u-f):Math.abs(u-f)-C-F;if(z<0&&o===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},h0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HK=function(e){var r=J5(J5({},h0e),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,p=r.className;if(o<a||f===d)return null;var m=Ht("recharts-sector",p),y=o-a,g=Li(s,y,0,!0),b;return g>0&&Math.abs(f-d)<360?b=f0e({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):b=VK({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:d}),we.createElement("path",FN({},bt(r,!0),{className:m,d:b,role:"img"}))};function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function kN(){return kN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kN.apply(this,arguments)}function e8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(r),!0).forEach(function(n){d0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d0e(t,e,r){return e=p0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p0e(t){var e=m0e(t,"string");return jv(e)=="symbol"?e:e+""}function m0e(t,e){if(jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r8={curveBasisClosed:Bce,curveBasisOpen:Fce,curveBasis:Pce,curveBumpX:wce,curveBumpY:_ce,curveLinearClosed:kce,curveLinear:Uw,curveMonotoneX:$ce,curveMonotoneY:Lce,curveNatural:qce,curveStep:Uce,curveStepAfter:zce,curveStepBefore:jce},A0=function(e){return e.x===+e.x&&e.y===+e.y},Im=function(e){return e.x},Rm=function(e){return e.y},v0e=function(e,r){if(Nt(e))return e;var n="curve".concat(Lw(e));return(n==="curveMonotone"||n==="curveBump")&&r?r8["".concat(n).concat(r==="vertical"?"Y":"X")]:r8[n]||Uw},g0e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=v0e(n,s),d=u?a.filter(function(g){return A0(g)}):a,p;if(Array.isArray(o)){var m=u?o.filter(function(g){return A0(g)}):o,y=d.map(function(g,b){return t8(t8({},g),{},{base:m[b]})});return s==="vertical"?p=p0().y(Rm).x1(Im).x0(function(g){return g.base.x}):p=p0().x(Im).y1(Rm).y0(function(g){return g.base.y}),p.defined(A0).curve(f),p(y)}return s==="vertical"&&rt(o)?p=p0().y(Rm).x1(Im).x0(o):rt(o)?p=p0().x(Im).y1(Rm).y0(o):p=zH().x(Im).y(Rm),p.defined(A0).curve(f),p(d)},h1=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?g0e(e):i;return Ne.createElement("path",kN({},bt(e,!1),Lb(e),{className:Ht("recharts-curve",r),d:o,ref:a}))},MD={exports:{}},ID,n8;function y0e(){if(n8)return ID;n8=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ID=t,ID}var RD,i8;function b0e(){if(i8)return RD;i8=1;var t=y0e();function e(){}function r(){}return r.resetWarningCache=e,RD=function(){function n(o,s,l,u,f,d){if(d!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},RD}var a8;function w0e(){return a8||(a8=1,MD.exports=b0e()()),MD.exports}var _0e=w0e();const br=pr(_0e);var x0e=Object.getOwnPropertyNames,A0e=Object.getOwnPropertySymbols,E0e=Object.prototype.hasOwnProperty;function o8(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function E0(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function s8(t){return x0e(t).concat(A0e(t))}var S0e=Object.hasOwn||(function(t,e){return E0e.call(t,e)});function Of(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var T0e="__v",D0e="__o",N0e="_owner",u8=Object.getOwnPropertyDescriptor,l8=Object.keys;function C0e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function O0e(t,e){return Of(t.getTime(),e.getTime())}function M0e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function I0e(t,e){return t===e}function c8(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),f=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var p=o.value,m=s.value;if(r.equals(p[0],m[0],l,d,t,e,r)&&r.equals(p[1],m[1],p[0],m[0],t,e,r)){f=i[d]=!0;break}d++}if(!f)return!1;l++}return!0}var R0e=Of;function P0e(t,e,r){var n=l8(t),i=n.length;if(l8(e).length!==i)return!1;for(;i-- >0;)if(!GK(t,e,r,n[i]))return!1;return!0}function Pm(t,e,r){var n=s8(t),i=n.length;if(s8(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!GK(t,e,r,a)||(o=u8(t,a),s=u8(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function B0e(t,e){return Of(t.valueOf(),e.valueOf())}function F0e(t,e){return t.source===e.source&&t.flags===e.flags}function f8(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function k0e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function $0e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function GK(t,e,r,n){return(n===N0e||n===D0e||n===T0e)&&(t.$$typeof||e.$$typeof)?!0:S0e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var L0e="[object Arguments]",q0e="[object Boolean]",U0e="[object Date]",j0e="[object Error]",z0e="[object Map]",V0e="[object Number]",H0e="[object Object]",G0e="[object RegExp]",K0e="[object Set]",X0e="[object String]",W0e="[object URL]",Y0e=Array.isArray,h8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,d8=Object.assign,Q0e=Object.prototype.toString.call.bind(Object.prototype.toString);function Z0e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,d=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(y,g,b){if(y===g)return!0;if(y==null||g==null)return!1;var E=typeof y;if(E!==typeof g)return!1;if(E!=="object")return E==="number"?o(y,g,b):E==="function"?i(y,g,b):!1;var N=y.constructor;if(N!==g.constructor)return!1;if(N===Object)return s(y,g,b);if(Y0e(y))return e(y,g,b);if(h8!=null&&h8(y))return d(y,g,b);if(N===Date)return r(y,g,b);if(N===RegExp)return u(y,g,b);if(N===Map)return a(y,g,b);if(N===Set)return f(y,g,b);var _=Q0e(y);return _===U0e?r(y,g,b):_===G0e?u(y,g,b):_===z0e?a(y,g,b):_===K0e?f(y,g,b):_===H0e?typeof y.then!="function"&&typeof g.then!="function"&&s(y,g,b):_===W0e?p(y,g,b):_===j0e?n(y,g,b):_===L0e?s(y,g,b):_===q0e||_===V0e||_===X0e?l(y,g,b):!1}}function J0e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Pm:C0e,areDatesEqual:O0e,areErrorsEqual:M0e,areFunctionsEqual:I0e,areMapsEqual:n?o8(c8,Pm):c8,areNumbersEqual:R0e,areObjectsEqual:n?Pm:P0e,arePrimitiveWrappersEqual:B0e,areRegExpsEqual:F0e,areSetsEqual:n?o8(f8,Pm):f8,areTypedArraysEqual:n?Pm:k0e,areUrlsEqual:$0e};if(r&&(i=d8({},i,r(i))),e){var a=E0(i.areArraysEqual),o=E0(i.areMapsEqual),s=E0(i.areObjectsEqual),l=E0(i.areSetsEqual);i=d8({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function ebe(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function tbe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var f=n(),d=f.cache,p=d===void 0?e?new WeakMap:void 0:d,m=f.meta;return r(l,u,{cache:p,equals:i,meta:m,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var rbe=Yl();Yl({strict:!0});Yl({circular:!0});Yl({circular:!0,strict:!0});Yl({createInternalComparator:function(){return Of}});Yl({strict:!0,createInternalComparator:function(){return Of}});Yl({circular:!0,createInternalComparator:function(){return Of}});Yl({circular:!0,createInternalComparator:function(){return Of},strict:!0});function Yl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=J0e(t),l=Z0e(s),u=n?n(l):ebe(l);return tbe({circular:r,comparator:l,createState:i,equals:u,strict:o})}function nbe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function p8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):nbe(i)};requestAnimationFrame(n)}function $N(t){"@babel/helpers - typeof";return $N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$N(t)}function ibe(t){return ube(t)||sbe(t)||obe(t)||abe()}function abe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function obe(t,e){if(t){if(typeof t=="string")return m8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m8(t,e)}}function m8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ube(t){if(Array.isArray(t))return t}function lbe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=ibe(o),l=s[0],u=s.slice(1);if(typeof l=="number"){p8(i.bind(null,u),l);return}i(l),p8(i.bind(null,u));return}$N(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function v8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(r),!0).forEach(function(n){KK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KK(t,e,r){return e=cbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cbe(t){var e=fbe(t,"string");return zv(e)==="symbol"?e:String(e)}function fbe(t,e){if(zv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hbe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},dbe=function(e){return e},pbe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},iv=function(e,r){return Object.keys(r).reduce(function(n,i){return g8(g8({},n),{},KK({},i,e(i,r[i])))},{})},y8=function(e,r,n){return e.map(function(i){return"".concat(pbe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function mbe(t,e){return ybe(t)||gbe(t,e)||XK(t,e)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ybe(t){if(Array.isArray(t))return t}function bbe(t){return xbe(t)||_be(t)||XK(t)||wbe()}function wbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XK(t,e){if(t){if(typeof t=="string")return LN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LN(t,e)}}function _be(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xbe(t){if(Array.isArray(t))return LN(t)}function LN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var d1=1e-4,WK=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},YK=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},b8=function(e,r){return function(n){var i=WK(e,r);return YK(i,n)}},Abe=function(e,r){return function(n){var i=WK(e,r),a=[].concat(bbe(i.map(function(o,s){return o*s}).slice(1)),[0]);return YK(a,n)}},w8=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=mbe(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var d=b8(i,o),p=b8(a,s),m=Abe(i,o),y=function(E){return E>1?1:E<0?0:E},g=function(E){for(var N=E>1?1:E,_=N,S=0;S<8;++S){var x=d(_)-N,A=m(_);if(Math.abs(x-N)<d1||A<d1)return p(_);_=y(_-x/A)}return p(_)};return g.isStepper=!1,g},Ebe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(f,d,p){var m=-(f-d)*n,y=p*a,g=p+(m-y)*s/1e3,b=p*s/1e3+f;return Math.abs(b-d)<d1&&Math.abs(g)<d1?[d,0]:[b,g]};return l.isStepper=!0,l.dt=s,l},Sbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return w8(i);case"spring":return Ebe();default:if(i.split("(")[0]==="cubic-bezier")return w8(i)}return typeof i=="function"?i:null};function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function _8(t){return Nbe(t)||Dbe(t)||QK(t)||Tbe()}function Tbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nbe(t){if(Array.isArray(t))return UN(t)}function x8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(r),!0).forEach(function(n){qN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qN(t,e,r){return e=Cbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cbe(t){var e=Obe(t,"string");return Vv(e)==="symbol"?e:String(e)}function Obe(t,e){if(Vv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mbe(t,e){return Pbe(t)||Rbe(t,e)||QK(t,e)||Ibe()}function Ibe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QK(t,e){if(t){if(typeof t=="string")return UN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UN(t,e)}}function UN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Pbe(t){if(Array.isArray(t))return t}var p1=function(e,r,n){return e+(r-e)*n},jN=function(e){var r=e.from,n=e.to;return r!==n},Bbe=function t(e,r,n){var i=iv(function(a,o){if(jN(o)){var s=e(o.from,o.to,o.velocity),l=Mbe(s,2),u=l[0],f=l[1];return li(li({},o),{},{from:u,velocity:f})}return o},r);return n<1?iv(function(a,o){return jN(o)?li(li({},o),{},{velocity:p1(o.velocity,i[a].velocity,n),from:p1(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const Fbe=(function(t,e,r,n,i){var a=hbe(t,e),o=a.reduce(function(b,E){return li(li({},b),{},qN({},E,[t[E],e[E]]))},{}),s=a.reduce(function(b,E){return li(li({},b),{},qN({},E,{from:t[E],velocity:0,to:e[E]}))},{}),l=-1,u,f,d=function(){return null},p=function(){return iv(function(E,N){return N.from},s)},m=function(){return!Object.values(s).filter(jN).length},y=function(E){u||(u=E);var N=E-u,_=N/r.dt;s=Bbe(r,s,_),i(li(li(li({},t),e),p())),u=E,m()||(l=requestAnimationFrame(d))},g=function(E){f||(f=E);var N=(E-f)/n,_=iv(function(x,A){return p1.apply(void 0,_8(A).concat([r(N)]))},o);if(i(li(li(li({},t),e),_)),N<1)l=requestAnimationFrame(d);else{var S=iv(function(x,A){return p1.apply(void 0,_8(A).concat([r(1)]))},o);i(li(li(li({},t),e),S))}};return d=r.isStepper?y:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}var kbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $be(t,e){if(t==null)return{};var r=Lbe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lbe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function PD(t){return zbe(t)||jbe(t)||Ube(t)||qbe()}function qbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ube(t,e){if(t){if(typeof t=="string")return zN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zN(t,e)}}function jbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zbe(t){if(Array.isArray(t))return zN(t)}function zN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){Vm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vm(t,e,r){return e=ZK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZK(n.key),n)}}function Gbe(t,e,r){return e&&Hbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZK(t){var e=Kbe(t,"string");return Cd(e)==="symbol"?e:String(e)}function Kbe(t,e){if(Cd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VN(t,e)}function VN(t,e){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VN(t,e)}function Wbe(t){var e=Ybe();return function(){var n=m1(t),i;if(e){var a=m1(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return HN(this,i)}}function HN(t,e){if(e&&(Cd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GN(t)}function GN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ybe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m1(t){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m1(t)}var Ss=(function(t){Xbe(r,t);var e=Wbe(r);function r(n,i){var a;Vbe(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,f=o.to,d=o.steps,p=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(GN(a)),a.changeStyle=a.changeStyle.bind(GN(a)),!s||m<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:f}),HN(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof p=="function")return a.state={style:u},HN(a);a.state={style:l?Vm({},l,u):u}}else a.state={style:{}};return a}return Gbe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,f=a.to,d=a.from,p=this.state.style;if(s){if(!o){var m={style:l?Vm({},l,f):f};this.state&&p&&(l&&p[l]!==f||!l&&p!==f)&&this.setState(m);return}if(!(rbe(i.to,f)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?d:i.to;if(this.state&&p){var b={style:l?Vm({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(b)}this.runAnimation(_o(_o({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,d=i.onAnimationEnd,p=i.onAnimationStart,m=Fbe(o,s,Sbe(u),l,this.changeStyle),y=function(){a.stopJSAnimation=m()};this.manager.start([p,f,y,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,d=u.duration,p=d===void 0?0:d,m=function(g,b,E){if(E===0)return g;var N=b.duration,_=b.easing,S=_===void 0?"ease":_,x=b.style,A=b.properties,T=b.onAnimationEnd,O=E>0?o[E-1]:b,C=A||Object.keys(x);if(typeof S=="function"||S==="spring")return[].concat(PD(g),[a.runJSAnimation.bind(a,{from:O.style,to:x,duration:N,easing:S}),N]);var R=y8(C,N,S),I=_o(_o(_o({},O.style),x),{},{transition:R});return[].concat(PD(g),[I,N,T]).filter(dbe)};return this.manager.start([l].concat(PD(o.reduce(m,[f,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=lbe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,p=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var g=s?Vm({},s,l):l,b=y8(Object.keys(g),o,u);y.start([f,a,_o(_o({},g),{},{transition:b}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=$be(i,kbe),u=Ne.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||u===0||o<=0)return a;var d=function(m){var y=m.props,g=y.style,b=g===void 0?{}:g,E=y.className,N=Ne.cloneElement(m,_o(_o({},l),{},{style:_o(_o({},b),f),className:E}));return N};return u===1?d(Ne.Children.only(a)):we.createElement("div",null,Ne.Children.map(a,function(p){return d(p)}))}}]),r})(Ne.PureComponent);Ss.displayName="Animate";Ss.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ss.propTypes={from:br.oneOfType([br.object,br.string]),to:br.oneOfType([br.object,br.string]),attributeName:br.string,duration:br.number,begin:br.number,easing:br.oneOfType([br.string,br.func]),steps:br.arrayOf(br.shape({duration:br.number.isRequired,style:br.object.isRequired,easing:br.oneOfType([br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),br.func]),properties:br.arrayOf("string"),onAnimationEnd:br.func})),children:br.oneOfType([br.node,br.func]),isActive:br.bool,canBegin:br.bool,onAnimationEnd:br.func,shouldReAnimate:br.bool,onAnimationStart:br.func,onAnimationReStart:br.func};function Fn(){return Fn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fn.apply(null,arguments)}function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function v1(){return v1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1.apply(this,arguments)}function Qbe(t,e){return t1e(t)||e1e(t,e)||Jbe(t,e)||Zbe()}function Zbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jbe(t,e){if(t){if(typeof t=="string")return E8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E8(t,e)}}function E8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function e1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function t1e(t){if(Array.isArray(t))return t}function S8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S8(Object(r),!0).forEach(function(n){r1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r1e(t,e,r){return e=n1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n1e(t){var e=i1e(t,"string");return Hv(e)=="symbol"?e:e+""}function i1e(t,e){if(Hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D8=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],p=0,m=4;p<m;p++)d[p]=a[p]>o?o:a[p];f="M".concat(e,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(r)),f+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*d[1])),f+="L ".concat(e+n,",").concat(r+i-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),f+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*d[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);f="M ".concat(e,",").concat(r+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(r,`
            L `).concat(e+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*y,`
            L `).concat(e+n,",").concat(r+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-l*y,",").concat(r+i,`
            L `).concat(e+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*y," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},a1e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),d=Math.min(o,o+l),p=Math.max(o,o+l);return n>=u&&n<=f&&i>=d&&i<=p}return!1},o1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qM=function(e){var r=T8(T8({},o1e),e),n=Ne.useRef(),i=Ne.useState(-1),a=Qbe(i,2),o=a[0],s=a[1];Ne.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,u=r.y,f=r.width,d=r.height,p=r.radius,m=r.className,y=r.animationEasing,g=r.animationDuration,b=r.animationBegin,E=r.isAnimationActive,N=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var _=Ht("recharts-rectangle",m);return N?we.createElement(Ss,{canBegin:o>0,from:{width:f,height:d,x:l,y:u},to:{width:f,height:d,x:l,y:u},duration:g,animationEasing:y,isActive:N},function(S){var x=S.width,A=S.height,T=S.x,O=S.y;return we.createElement(Ss,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:E,easing:y},we.createElement("path",v1({},bt(r,!0),{className:_,d:D8(T,O,x,A,p),ref:n})))}):we.createElement("path",v1({},bt(r,!0),{className:_,d:D8(l,u,f,d,p)}))},s1e=["points","className","baseLinePoints","connectNulls"];function Wh(){return Wh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wh.apply(this,arguments)}function u1e(t,e){if(t==null)return{};var r=l1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function N8(t){return d1e(t)||h1e(t)||f1e(t)||c1e()}function c1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f1e(t,e){if(t){if(typeof t=="string")return KN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(t,e)}}function h1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function d1e(t){if(Array.isArray(t))return KN(t)}function KN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var C8=function(e){return e&&e.x===+e.x&&e.y===+e.y},p1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){C8(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),C8(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},av=function(e,r){var n=p1e(e);r&&(n=[n.reduce(function(a,o){return[].concat(N8(a),N8(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},m1e=function(e,r,n){var i=av(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(av(r.reverse(),n).slice(1))},v1e=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=u1e(e,s1e);if(!r||!r.length)return null;var s=Ht("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=m1e(r,i,a);return we.createElement("g",{className:s},we.createElement("path",Wh({},bt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?we.createElement("path",Wh({},bt(o,!0),{fill:"none",d:av(r,a)})):null,l?we.createElement("path",Wh({},bt(o,!0),{fill:"none",d:av(i,a)})):null)}var f=av(r,a);return we.createElement("path",Wh({},bt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:s,d:f}))};function XN(){return XN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XN.apply(this,arguments)}var n_=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Ht("recharts-dot",a);return r===+r&&n===+n&&i===+i?Ne.createElement("circle",XN({},bt(e,!1),Lb(e),{className:o,cx:r,cy:n,r:i})):null};function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}var g1e=["x","y","top","left","width","height","className"];function WN(){return WN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WN.apply(this,arguments)}function O8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(r),!0).forEach(function(n){b1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b1e(t,e,r){return e=w1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w1e(t){var e=_1e(t,"string");return Gv(e)=="symbol"?e:e+""}function _1e(t,e){if(Gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x1e(t,e){if(t==null)return{};var r=A1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function A1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var E1e=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},S1e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,f=e.width,d=f===void 0?0:f,p=e.height,m=p===void 0?0:p,y=e.className,g=x1e(e,g1e),b=y1e({x:n,y:a,top:s,left:u,width:d,height:m},g);return!rt(n)||!rt(a)||!rt(d)||!rt(m)||!rt(s)||!rt(u)?null:we.createElement("path",WN({},bt(b,!0),{className:Ht("recharts-cross",y),d:E1e(n,a,d,m,s,u)}))},BD,M8;function T1e(){if(M8)return BD;M8=1;var t=Zw(),e=dK(),r=Cs();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return BD=n,BD}var D1e=T1e();const N1e=pr(D1e);var FD,I8;function C1e(){if(I8)return FD;I8=1;var t=Zw(),e=Cs(),r=pK();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return FD=n,FD}var O1e=C1e();const M1e=pr(O1e);var I1e=["cx","cy","angle","ticks","axisLine"],R1e=["ticks","tick","angle","tickFormatter","stroke"];function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ov.apply(this,arguments)}function R8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(r),!0).forEach(function(n){i_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P8(t,e){if(t==null)return{};var r=P1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function P1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function B1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eX(n.key),n)}}function F1e(t,e,r){return e&&B8(t.prototype,e),r&&B8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function k1e(t,e,r){return e=g1(e),$1e(t,JK()?Reflect.construct(e,r||[],g1(t).constructor):e.apply(t,r))}function $1e(t,e){if(e&&(Od(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L1e(t)}function L1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JK=function(){return!!t})()}function g1(t){return g1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g1(t)}function q1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YN(t,e)}function YN(t,e){return YN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YN(t,e)}function i_(t,e,r){return e=eX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eX(t){var e=U1e(t,"string");return Od(e)=="symbol"?e:e+""}function U1e(t,e){if(Od(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a_=(function(t){function e(){return B1e(this,e),k1e(this,e,arguments)}return q1e(e,t),F1e(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Vr(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=N1e(s,function(f){return f.coordinate||0}),u=M1e(s,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=P8(n,I1e),f=s.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),d=Vr(i,a,f[0],o),p=Vr(i,a,f[1],o),m=Fc(Fc(Fc({},bt(u,!1)),{},{fill:"none"},bt(l,!1)),{},{x1:d.x,y1:d.y,x2:p.x,y2:p.y});return we.createElement("line",ov({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,f=P8(i,R1e),d=this.getTickTextAnchor(),p=bt(f,!1),m=bt(o,!1),y=a.map(function(g,b){var E=n.getTickValueCoord(g),N=Fc(Fc(Fc(Fc({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(E.x,", ").concat(E.y,")")},p),{},{stroke:"none",fill:u},m),{},{index:b},E),{},{payload:g});return we.createElement(hr,ov({className:Ht("recharts-polar-radius-axis-tick",jK(o)),key:"tick-".concat(g.coordinate)},pf(n.props,g,b)),e.renderTickItem(o,N,l?l(g.value,b):g.value))});return we.createElement(hr,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:we.createElement(hr,{className:Ht("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ti.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return we.isValidElement(n)?o=we.cloneElement(n,i):Nt(n)?o=n(i):o=we.createElement(mf,ov({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(Ne.PureComponent);i_(a_,"displayName","PolarRadiusAxis");i_(a_,"axisType","radiusAxis");i_(a_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vc.apply(this,arguments)}function F8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(r),!0).forEach(function(n){o_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rX(n.key),n)}}function z1e(t,e,r){return e&&k8(t.prototype,e),r&&k8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function V1e(t,e,r){return e=y1(e),H1e(t,tX()?Reflect.construct(e,r||[],y1(t).constructor):e.apply(t,r))}function H1e(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G1e(t)}function G1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tX=function(){return!!t})()}function y1(t){return y1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y1(t)}function K1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QN(t,e)}function QN(t,e){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QN(t,e)}function o_(t,e,r){return e=rX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rX(t){var e=X1e(t,"string");return Md(e)=="symbol"?e:e+""}function X1e(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var W1e=Math.PI/180,$8=1e-5,s_=(function(t){function e(){return j1e(this,e),V1e(this,e,arguments)}return K1e(e,t),z1e(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,f=u||8,d=Vr(a,o,s,n.coordinate),p=Vr(a,o,s+(l==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*W1e),o;return a>$8?o=i==="outer"?"start":"end":a<-$8?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=kc(kc({},bt(this.props,!1)),{},{fill:"none"},bt(s,!1));if(l==="circle")return we.createElement(n_,Vc({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var f=this.props.ticks,d=f.map(function(p){return Vr(i,a,o,p.coordinate)});return we.createElement(v1e,Vc({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,f=bt(this.props,!1),d=bt(o,!1),p=kc(kc({},f),{},{fill:"none"},bt(s,!1)),m=a.map(function(y,g){var b=n.getTickLineCoord(y),E=n.getTickTextAnchor(y),N=kc(kc(kc({textAnchor:E},f),{},{stroke:"none",fill:u},d),{},{index:g,payload:y,x:b.x2,y:b.y2});return we.createElement(hr,Vc({className:Ht("recharts-polar-angle-axis-tick",jK(o)),key:"tick-".concat(y.coordinate)},pf(n.props,y,g)),s&&we.createElement("line",Vc({className:"recharts-polar-angle-axis-tick-line"},p,b)),o&&e.renderTickItem(o,N,l?l(y.value,g):y.value))});return we.createElement(hr,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:we.createElement(hr,{className:Ht("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return we.isValidElement(n)?o=we.cloneElement(n,i):Nt(n)?o=n(i):o=we.createElement(mf,Vc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(Ne.PureComponent);o_(s_,"displayName","PolarAngleAxis");o_(s_,"axisType","angleAxis");o_(s_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var kD,L8;function Y1e(){if(L8)return kD;L8=1;var t=hG(),e=t(Object.getPrototypeOf,Object);return kD=e,kD}var $D,q8;function Q1e(){if(q8)return $D;q8=1;var t=Mu(),e=Y1e(),r=Iu(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var d=e(f);if(d===null)return!0;var p=s.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return $D=u,$D}var Z1e=Q1e();const J1e=pr(Z1e);var LD,U8;function ewe(){if(U8)return LD;U8=1;var t=Mu(),e=Iu(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return LD=n,LD}var twe=ewe();const rwe=pr(twe);function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function b1(){return b1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b1.apply(this,arguments)}function nwe(t,e){return swe(t)||owe(t,e)||awe(t,e)||iwe()}function iwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function awe(t,e){if(t){if(typeof t=="string")return j8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j8(t,e)}}function j8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function owe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function swe(t){if(Array.isArray(t))return t}function z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z8(Object(r),!0).forEach(function(n){uwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uwe(t,e,r){return e=lwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lwe(t){var e=cwe(t,"string");return Kv(e)=="symbol"?e:e+""}function cwe(t,e){if(Kv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H8=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},fwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hwe=function(e){var r=V8(V8({},fwe),e),n=Ne.useRef(),i=Ne.useState(-1),a=nwe(i,2),o=a[0],s=a[1];Ne.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&s(_)}catch{}},[]);var l=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,p=r.height,m=r.className,y=r.animationEasing,g=r.animationDuration,b=r.animationBegin,E=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||p!==+p||f===0&&d===0||p===0)return null;var N=Ht("recharts-trapezoid",m);return E?we.createElement(Ss,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:f,lowerWidth:d,height:p,x:l,y:u},duration:g,animationEasing:y,isActive:E},function(_){var S=_.upperWidth,x=_.lowerWidth,A=_.height,T=_.x,O=_.y;return we.createElement(Ss,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:y},we.createElement("path",b1({},bt(r,!0),{className:N,d:H8(T,O,S,x,A),ref:n})))}):we.createElement("g",null,we.createElement("path",b1({},bt(r,!0),{className:N,d:H8(l,u,f,d,p)})))},dwe=["option","shapeType","propTransformer","activeClassName","isActive"];function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function pwe(t,e){if(t==null)return{};var r=mwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function G8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G8(Object(r),!0).forEach(function(n){vwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vwe(t,e,r){return e=gwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gwe(t){var e=ywe(t,"string");return Xv(e)=="symbol"?e:e+""}function ywe(t,e){if(Xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bwe(t,e){return w1(w1({},e),t)}function wwe(t,e){return t==="symbols"}function K8(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return we.createElement(qM,r);case"trapezoid":return we.createElement(hwe,r);case"sector":return we.createElement(HK,r);case"symbols":if(wwe(e))return we.createElement(aM,r);break;default:return null}}function _we(t){return Ne.isValidElement(t)?t.props:t}function nX(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?bwe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=pwe(t,dwe),u;if(Ne.isValidElement(e))u=Ne.cloneElement(e,w1(w1({},l),_we(e)));else if(Nt(e))u=e(l);else if(J1e(e)&&!rwe(e)){var f=i(e,l);u=we.createElement(K8,{shapeType:r,elementProps:f})}else{var d=l;u=we.createElement(K8,{shapeType:r,elementProps:d})}return s?we.createElement(hr,{className:o},u):u}function u_(t,e){return e!=null&&"trapezoids"in t.props}function l_(t,e){return e!=null&&"sectors"in t.props}function Wv(t,e){return e!=null&&"points"in t.props}function xwe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Awe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Ewe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Swe(t,e){var r;return u_(t,e)?r=xwe:l_(t,e)?r=Awe:Wv(t,e)&&(r=Ewe),r}function Twe(t,e){var r;return u_(t,e)?r="trapezoids":l_(t,e)?r="sectors":Wv(t,e)&&(r="points"),r}function Dwe(t,e){if(u_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(l_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Wv(t,e)?e.payload:{}}function Nwe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Twe(r,e),a=Dwe(r,e),o=n.filter(function(l,u){var f=Tg(a,l),d=r.props[i].filter(function(y){var g=Swe(r,e);return g(y,e)}),p=r.props[i].indexOf(d[d.length-1]),m=u===p;return f&&m}),s=n.indexOf(o[o.length-1]);return s}var sb;function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function Yh(){return Yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yh.apply(this,arguments)}function X8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(r),!0).forEach(function(n){ro(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aX(n.key),n)}}function Owe(t,e,r){return e&&W8(t.prototype,e),r&&W8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mwe(t,e,r){return e=_1(e),Iwe(t,iX()?Reflect.construct(e,r||[],_1(t).constructor):e.apply(t,r))}function Iwe(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rwe(t)}function Rwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!t})()}function _1(t){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_1(t)}function Pwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZN(t,e)}function ZN(t,e){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ZN(t,e)}function ro(t,e,r){return e=aX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aX(t){var e=Bwe(t,"string");return Id(e)=="symbol"?e:e+""}function Bwe(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Os=(function(t){function e(r){var n;return Cwe(this,e),n=Mwe(this,e,[r]),ro(n,"pieRef",null),ro(n,"sectorRefs",[]),ro(n,"id",sp("recharts-pie-")),ro(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Nt(i)&&i()}),ro(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Nt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Pwe(e,t),Owe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,f=bt(this.props,!1),d=bt(o,!1),p=bt(s,!1),m=o&&o.offsetRadius||20,y=n.map(function(g,b){var E=(g.startAngle+g.endAngle)/2,N=Vr(g.cx,g.cy,g.outerRadius+m,E),_=Ur(Ur(Ur(Ur({},f),g),{},{stroke:"none"},d),{},{index:b,textAnchor:e.getTextAnchor(N.x,g.cx)},N),S=Ur(Ur(Ur(Ur({},f),g),{},{fill:"none",stroke:g.fill},p),{},{index:b,points:[Vr(g.cx,g.cy,g.outerRadius,E),N]}),x=l;return $t(l)&&$t(u)?x="value":$t(l)&&(x=u),we.createElement(hr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,S,"line"),e.renderLabelItem(o,_,kn(g,x)))});return we.createElement(hr,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(u,f){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var d=i.isActiveIndex(f),p=l&&i.hasActiveIndex()?l:null,m=d?o:p,y=Ur(Ur({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return we.createElement(hr,Yh({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},pf(i.props,u,f),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(f)}),we.createElement(nX,Yh({option:m,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state,p=d.prevSectors,m=d.prevIsAnimationActive;return we.createElement(Ss,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,b=[],E=a&&a[0],N=E.startAngle;return a.forEach(function(_,S){var x=p&&p[S],A=S>0?Na(_,"paddingAngle",0):0;if(x){var T=xa(x.endAngle-x.startAngle,_.endAngle-_.startAngle),O=Ur(Ur({},_),{},{startAngle:N+A,endAngle:N+T(g)+A});b.push(O),N=O.endAngle}else{var C=_.endAngle,R=_.startAngle,I=xa(0,C-R),P=I(g),F=Ur(Ur({},_),{},{startAngle:N+A,endAngle:N+P+A});b.push(F),N=F.endAngle}}),we.createElement(hr,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Tg(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,f=i.cy,d=i.innerRadius,p=i.outerRadius,m=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!rt(u)||!rt(f)||!rt(d)||!rt(p))return null;var g=Ht("recharts-pie",s);return we.createElement(hr,{tabIndex:this.props.rootTabIndex,className:g,ref:function(E){n.pieRef=E}},this.renderSectors(),l&&this.renderLabels(o),ti.renderCallByParent(this.props,null,!1),(!m||y)&&bs.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(we.isValidElement(n))return we.cloneElement(n,i);if(Nt(n))return n(i);var o=Ht("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return we.createElement(h1,Yh({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(we.isValidElement(n))return we.cloneElement(n,i);var o=a;if(Nt(n)&&(o=n(i),we.isValidElement(o)))return o;var s=Ht("recharts-pie-label-text",typeof n!="boolean"&&!Nt(n)?n.className:"");return we.createElement(mf,Yh({},i,{alignmentBaseline:"middle",className:s}),o)}}])})(Ne.PureComponent);sb=Os;ro(Os,"displayName","Pie");ro(Os,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Df.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ro(Os,"parseDeltaAngle",function(t,e){var r=$i(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ro(Os,"getRealPieData",function(t){var e=t.data,r=t.children,n=bt(t,!1),i=Ca(r,To);return e&&e.length?e.map(function(a,o){return Ur(Ur(Ur({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Ur(Ur({},n),a.props)}):[]});ro(Os,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=UK(i,a),s=n+Li(t.cx,i,i/2),l=r+Li(t.cy,a,a/2),u=Li(t.innerRadius,o,0),f=Li(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:f,maxRadius:d}});ro(Os,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ur(Ur({},e.type.defaultProps),e.props):e.props,i=sb.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,p=n.tooltipType,m=Math.abs(n.minAngle),y=sb.parseCoordinateOfPie(n,r),g=sb.parseDeltaAngle(o,s),b=Math.abs(g),E=u;$t(u)&&$t(d)?(Mo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E="value"):$t(u)&&(Mo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E=d);var N=i.filter(function(O){return kn(O,E,0)!==0}).length,_=(b>=360?N:N-1)*l,S=b-N*m-_,x=i.reduce(function(O,C){var R=kn(C,E,0);return O+(rt(R)?R:0)},0),A;if(x>0){var T;A=i.map(function(O,C){var R=kn(O,E,0),I=kn(O,f,C),P=(rt(R)?R:0)/x,F;C?F=T.endAngle+$i(g)*l*(R!==0?1:0):F=o;var z=F+$i(g)*((R!==0?m:0)+P*S),U=(F+z)/2,k=(y.innerRadius+y.outerRadius)/2,V=[{name:I,value:R,payload:O,dataKey:E,type:p}],Y=Vr(y.cx,y.cy,k,U);return T=Ur(Ur(Ur({percent:P,cornerRadius:a,name:I,tooltipPayload:V,midAngle:U,middleRadius:k,tooltipPosition:Y},O),y),{},{value:kn(O,E),startAngle:F,endAngle:z,payload:O,paddingAngle:$i(g)*l}),T})}return Ur(Ur({},y),{},{sectors:A,data:i})});var qD,Y8;function Fwe(){if(Y8)return qD;Y8=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var s=-1,l=e(t((i-n)/(a||1)),0),u=Array(l);l--;)u[o?l:++s]=n,n+=a;return u}return qD=r,qD}var UD,Q8;function oX(){if(Q8)return UD;Q8=1;var t=NG(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return UD=n,UD}var jD,Z8;function kwe(){if(Z8)return jD;Z8=1;var t=Fwe(),e=Hw(),r=oX();function n(i){return function(a,o,s){return s&&typeof s!="number"&&e(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),t(a,o,s,i)}}return jD=n,jD}var zD,J8;function $we(){if(J8)return zD;J8=1;var t=kwe(),e=t();return zD=e,zD}var Lwe=$we();const x1=pr(Lwe);function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function eL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(r),!0).forEach(function(n){sX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sX(t,e,r){return e=qwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qwe(t){var e=Uwe(t,"string");return Yv(e)=="symbol"?e:e+""}function Uwe(t,e){if(Yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jwe=["Webkit","Moz","O","ms"],zwe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=jwe.reduce(function(a,o){return tL(tL({},a),{},sX({},o+n,r))},{});return i[e]=r,i};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A1.apply(this,arguments)}function rL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(r),!0).forEach(function(n){ba(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lX(n.key),n)}}function Hwe(t,e,r){return e&&nL(t.prototype,e),r&&nL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gwe(t,e,r){return e=E1(e),Kwe(t,uX()?Reflect.construct(e,r||[],E1(t).constructor):e.apply(t,r))}function Kwe(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xwe(t)}function Xwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uX=function(){return!!t})()}function E1(t){return E1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E1(t)}function Wwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JN(t,e)}function JN(t,e){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JN(t,e)}function ba(t,e,r){return e=lX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lX(t){var e=Ywe(t,"string");return Rd(e)=="symbol"?e:e+""}function Ywe(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qwe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=rv().domain(x1(0,l)).range([a,a+o-s]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},iL=function(e){return e.changedTouches&&!!e.changedTouches.length},Pd=(function(t){function e(r){var n;return Vwe(this,e),n=Gwe(this,e,[r]),ba(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ba(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ba(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),ba(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ba(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ba(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ba(n,"handleSlideDragStart",function(i){var a=iL(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Wwe(e,t),Hwe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,d=Math.min(i,a),p=Math.max(i,a),m=e.getIndexInRange(o,d),y=e.getIndexInRange(o,p);return{startIndex:m-m%l,endIndex:y===f?f:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=kn(a[n],s,n);return Nt(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,d=l.travellerWidth,p=l.startIndex,m=l.endIndex,y=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+f-d-s,u+f-d-o):g<0&&(g=Math.max(g,u-o,u-s));var b=this.getIndex({startX:o+g,endX:s+g});(b.startIndex!==p||b.endIndex!==m)&&y&&y(b),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=iL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],f=this.props,d=f.x,p=f.width,m=f.travellerWidth,y=f.onChange,g=f.gap,b=f.data,E={startX:this.state.startX,endX:this.state.endX},N=n.pageX-a;N>0?N=Math.min(N,d+p-m-u):N<0&&(N=Math.max(N,d-u)),E[o]=u+N;var _=this.getIndex(E),S=_.startIndex,x=_.endIndex,A=function(){var O=b.length-1;return o==="startX"&&(s>l?S%g===0:x%g===0)||s<l&&x===O||o==="endX"&&(s>l?x%g===0:S%g===0)||s>l&&x===O};this.setState(ba(ba({},o,u+N),"brushMoveStartX",n.pageX),function(){y&&A()&&y(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],d=s.indexOf(f);if(d!==-1){var p=d+n;if(!(p===-1||p>=s.length)){var m=s[p];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(ba({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return we.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,f=n.padding,d=Ne.Children.only(u);return d?we.cloneElement(d,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,f=l.travellerWidth,d=l.height,p=l.traveller,m=l.ariaLabel,y=l.data,g=l.startIndex,b=l.endIndex,E=Math.max(n,this.props.x),N=VD(VD({},bt(this.props,!1)),{},{x:E,y:u,width:f,height:d}),_=m||"Min value: ".concat((a=y[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[b])===null||o===void 0?void 0:o.name);return we.createElement(hr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),s.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,N))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,f=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return we.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,p=f.endX,m=5,y={pointerEvents:"none",fill:u};return we.createElement(hr,{className:"recharts-brush-texts"},we.createElement(mf,A1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-m,y:o+s/2},y),this.getTextOfTick(i)),we.createElement(mf,A1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+m,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,f=n.height,d=n.alwaysShowText,p=this.state,m=p.startX,y=p.endX,g=p.isTextActive,b=p.isSlideMoving,E=p.isTravellerMoving,N=p.isTravellerFocused;if(!i||!i.length||!rt(s)||!rt(l)||!rt(u)||!rt(f)||u<=0||f<=0)return null;var _=Ht("recharts-brush",a),S=we.Children.count(o)===1,x=zwe("userSelect","none");return we.createElement(hr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||b||E||N||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return we.createElement(we.Fragment,null,we.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),we.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),we.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return we.isValidElement(n)?a=we.cloneElement(n,i):Nt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return VD({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?Qwe({data:a,width:o,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])})(Ne.PureComponent);ba(Pd,"displayName","Brush");ba(Pd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var HD,aL;function Zwe(){if(aL)return HD;aL=1;var t=hM();function e(r,n){var i;return t(r,function(a,o,s){return i=n(a,o,s),!i}),!!i}return HD=e,HD}var GD,oL;function Jwe(){if(oL)return GD;oL=1;var t=aG(),e=Cs(),r=Zwe(),n=ua(),i=Hw();function a(o,s,l){var u=n(o)?t:r;return l&&i(o,s,l)&&(s=void 0),u(o,e(s,3))}return GD=a,GD}var e_e=Jwe();const t_e=pr(e_e);var ws=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},KD,sL;function r_e(){if(sL)return KD;sL=1;var t=AG();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return KD=e,KD}var XD,uL;function n_e(){if(uL)return XD;uL=1;var t=r_e(),e=_G(),r=Cs();function n(i,a){var o={};return a=r(a,3),e(i,function(s,l,u){t(o,l,a(s,l,u))}),o}return XD=n,XD}var i_e=n_e();const a_e=pr(i_e);var WD,lL;function o_e(){if(lL)return WD;lL=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return WD=t,WD}var YD,cL;function s_e(){if(cL)return YD;cL=1;var t=hM();function e(r,n){var i=!0;return t(r,function(a,o,s){return i=!!n(a,o,s),i}),i}return YD=e,YD}var QD,fL;function u_e(){if(fL)return QD;fL=1;var t=o_e(),e=s_e(),r=Cs(),n=ua(),i=Hw();function a(o,s,l){var u=n(o)?t:e;return l&&i(o,s,l)&&(s=void 0),u(o,r(s,3))}return QD=a,QD}var l_e=u_e();const cX=pr(l_e);var c_e=["x","y"];function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function eC(){return eC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eC.apply(this,arguments)}function hL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(r),!0).forEach(function(n){f_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f_e(t,e,r){return e=h_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h_e(t){var e=d_e(t,"string");return Qv(e)=="symbol"?e:e+""}function d_e(t,e){if(Qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p_e(t,e){if(t==null)return{};var r=m_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function v_e(t,e){var r=t.x,n=t.y,i=p_e(t,c_e),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),f=parseInt(u,10),d="".concat(e.width||i.width),p=parseInt(d,10);return Bm(Bm(Bm(Bm(Bm({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function dL(t){return we.createElement(nX,eC({shapeType:"rectangle",propTransformer:v_e,activeClassName:"recharts-active-bar"},t))}var g_e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=rt(n)||Ule(n);return a?e(n,i):(a||gf(),r)}},y_e=["value","background"],fX;function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function b_e(t,e){if(t==null)return{};var r=w_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function S1(){return S1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S1.apply(this,arguments)}function pL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(r),!0).forEach(function(n){xl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function __e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dX(n.key),n)}}function x_e(t,e,r){return e&&mL(t.prototype,e),r&&mL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function A_e(t,e,r){return e=T1(e),E_e(t,hX()?Reflect.construct(e,r||[],T1(t).constructor):e.apply(t,r))}function E_e(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S_e(t)}function S_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hX=function(){return!!t})()}function T1(t){return T1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T1(t)}function T_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tC(t,e)}function tC(t,e){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tC(t,e)}function xl(t,e,r){return e=dX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dX(t){var e=D_e(t,"string");return Bd(e)=="symbol"?e:e+""}function D_e(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eo=(function(t){function e(){var r;__e(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=A_e(this,e,[].concat(i)),xl(r,"state",{isAnimationFinished:!1}),xl(r,"id",sp("recharts-bar-")),xl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),xl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return T_e(e,t),x_e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,f=bt(this.props,!1);return n&&n.map(function(d,p){var m=p===l,y=m?u:o,g=wn(wn(wn({},f),d),{},{isActive:m,option:y,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return we.createElement(hr,S1({className:"recharts-bar-rectangle"},pf(i.props,d,p),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value,"-").concat(p)}),we.createElement(dL,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,d=i.animationId,p=this.state.prevData;return we.createElement(Ss,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=a.map(function(b,E){var N=p&&p[E];if(N){var _=xa(N.x,b.x),S=xa(N.y,b.y),x=xa(N.width,b.width),A=xa(N.height,b.height);return wn(wn({},b),{},{x:_(y),y:S(y),width:x(y),height:A(y)})}if(o==="horizontal"){var T=xa(0,b.height),O=T(y);return wn(wn({},b),{},{y:b.y+b.height-O,height:O})}var C=xa(0,b.width),R=C(y);return wn(wn({},b),{},{width:R})});return we.createElement(hr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Tg(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=bt(this.props.background,!1);return a.map(function(u,f){u.value;var d=u.background,p=b_e(u,y_e);if(!d)return null;var m=wn(wn(wn(wn(wn({},p),{},{fill:"#eee"},d),l),pf(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return we.createElement(dL,S1({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,d=Ca(f,Dg);if(!d)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,m=function(b,E){var N=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:N,errorVal:kn(b,E)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return we.createElement(hr,y,d.map(function(g){return we.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,f=n.top,d=n.width,p=n.height,m=n.isAnimationActive,y=n.background,g=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,E=Ht("recharts-bar",o),N=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,S=N||_,x=$t(g)?this.id:g;return we.createElement(hr,{className:E},N||_?we.createElement("defs",null,we.createElement("clipPath",{id:"clipPath-".concat(x)},we.createElement("rect",{x:N?u:u-d/2,y:_?f:f-p/2,width:N?d:d*2,height:_?p:p*2}))):null,we.createElement(hr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(x,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,x),(!m||b)&&bs.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(Ne.PureComponent);fX=eo;xl(eo,"displayName","Bar");xl(eo,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Df.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xl(eo,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,d=t.displayedData,p=t.offset,m=rye(n,r);if(!m)return null;var y=e.layout,g=r.type.defaultProps,b=g!==void 0?wn(wn({},g),r.props):r.props,E=b.dataKey,N=b.children,_=b.minPointSize,S=y==="horizontal"?o:a,x=u?S.scale.domain():null,A=lye({numericAxis:S}),T=Ca(N,To),O=d.map(function(C,R){var I,P,F,z,U,k;u?I=nye(u[f+R],x):(I=kn(C,E),Array.isArray(I)||(I=[A,I]));var V=g_e(_,fX.defaultProps.minPointSize)(I[1],R);if(y==="horizontal"){var Y,H=[o.scale(I[0]),o.scale(I[1])],j=H[0],Z=H[1];P=q5({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:C,index:R}),F=(Y=Z??j)!==null&&Y!==void 0?Y:void 0,z=m.size;var $=j-Z;if(U=Number.isNaN($)?0:$,k={x:P,y:o.y,width:z,height:o.height},Math.abs(V)>0&&Math.abs(U)<Math.abs(V)){var W=$i(U||V)*(Math.abs(V)-Math.abs(U));F-=W,U+=W}}else{var K=[a.scale(I[0]),a.scale(I[1])],ge=K[0],me=K[1];if(P=ge,F=q5({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:C,index:R}),z=me-ge,U=m.size,k={x:a.x,y:F,width:a.width,height:U},Math.abs(V)>0&&Math.abs(z)<Math.abs(V)){var Ee=$i(z||V)*(Math.abs(V)-Math.abs(z));z+=Ee}}return wn(wn(wn({},C),{},{x:P,y:F,width:z,height:U,value:u?I:I[1],payload:C,background:k},T&&T[R]&&T[R].props),{},{tooltipPayload:[LK(r,C)],tooltipPosition:{x:P+z/2,y:F+U/2}})});return wn({data:O,layout:y},p)});function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function N_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pX(n.key),n)}}function C_e(t,e,r){return e&&vL(t.prototype,e),r&&vL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(r),!0).forEach(function(n){c_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c_(t,e,r){return e=pX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pX(t){var e=O_e(t,"string");return Zv(e)=="symbol"?e:e+""}function O_e(t,e){if(Zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mX=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!wa(u,eo);return f.reduce(function(m,y){var g=r[y],b=g.orientation,E=g.domain,N=g.padding,_=N===void 0?{}:N,S=g.mirror,x=g.reversed,A="".concat(b).concat(S?"Mirror":""),T,O,C,R,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=E[1]-E[0],F=1/0,z=g.categoricalDomain.sort(Vle);if(z.forEach(function(K,ge){ge>0&&(F=Math.min((K||0)-(z[ge-1]||0),F))}),Number.isFinite(F)){var U=F/P,k=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(T=U*k/2),g.padding==="no-gap"){var V=Li(e.barCategoryGap,U*k),Y=U*k/2;T=Y-V-(Y-V)/k*V}}}i==="xAxis"?O=[n.left+(_.left||0)+(T||0),n.left+n.width-(_.right||0)-(T||0)]:i==="yAxis"?O=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(T||0),n.top+n.height-(_.bottom||0)-(T||0)]:O=g.range,x&&(O=[O[1],O[0]]);var H=BK(g,a,p),j=H.scale,Z=H.realScaleType;j.domain(E).range(O),FK(j);var $=kK(j,Eo(Eo({},g),{},{realScaleType:Z}));i==="xAxis"?(I=b==="top"&&!S||b==="bottom"&&S,C=n.left,R=d[A]-I*g.height):i==="yAxis"&&(I=b==="left"&&!S||b==="right"&&S,C=d[A]-I*g.width,R=n.top);var W=Eo(Eo(Eo({},g),$),{},{realScaleType:Z,x:C,y:R,scale:j,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return W.bandSize=l1(W,$),!g.hide&&i==="xAxis"?d[A]+=(I?-1:1)*W.height:g.hide||(d[A]+=(I?-1:1)*W.width),Eo(Eo({},m),{},c_({},y,W))},{})},vX=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},M_e=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return vX({x:r,y:n},{x:i,y:a})},gX=(function(){function t(e){N_e(this,t),this.scale=e}return C_e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();c_(gX,"EPS",1e-4);var UM=function(e){var r=Object.keys(e).reduce(function(n,i){return Eo(Eo({},n),{},c_({},i,gX.create(e[i])))},{});return Eo(Eo({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return a_e(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return cX(i,function(a,o){return r[o].isInRange(a)})}})};function I_e(t){return(t%180+180)%180}var R_e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=I_e(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},ZD,yL;function P_e(){if(yL)return ZD;yL=1;var t=Cs(),e=_g(),r=zw();function n(i){return function(a,o,s){var l=Object(a);if(!e(a)){var u=t(o,3);a=r(a),o=function(d){return u(l[d],d,l)}}var f=i(a,o,s);return f>-1?l[u?a[f]:f]:void 0}}return ZD=n,ZD}var JD,bL;function B_e(){if(bL)return JD;bL=1;var t=oX();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return JD=e,JD}var e2,wL;function F_e(){if(wL)return e2;wL=1;var t=vG(),e=Cs(),r=B_e(),n=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var u=s==null?0:r(s);return u<0&&(u=n(l+u,0)),t(a,e(o,3),u)}return e2=i,e2}var t2,_L;function k_e(){if(_L)return t2;_L=1;var t=P_e(),e=F_e(),r=t(e);return t2=r,t2}var $_e=k_e();const L_e=pr($_e);var q_e=IH();const U_e=pr(q_e);var j_e=U_e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),jM=Ne.createContext(void 0),zM=Ne.createContext(void 0),yX=Ne.createContext(void 0),bX=Ne.createContext({}),wX=Ne.createContext(void 0),_X=Ne.createContext(0),xX=Ne.createContext(0),xL=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,f=j_e(a);return we.createElement(jM.Provider,{value:n},we.createElement(zM.Provider,{value:i},we.createElement(bX.Provider,{value:a},we.createElement(yX.Provider,{value:f},we.createElement(wX.Provider,{value:o},we.createElement(_X.Provider,{value:u},we.createElement(xX.Provider,{value:l},s)))))))},z_e=function(){return Ne.useContext(wX)},AX=function(e){var r=Ne.useContext(jM);r==null&&gf();var n=r[e];return n==null&&gf(),n},V_e=function(){var e=Ne.useContext(jM);return bl(e)},H_e=function(){var e=Ne.useContext(zM),r=L_e(e,function(n){return cX(n.domain,Number.isFinite)});return r||bl(e)},EX=function(e){var r=Ne.useContext(zM);r==null&&gf();var n=r[e];return n==null&&gf(),n},G_e=function(){var e=Ne.useContext(yX);return e},K_e=function(){return Ne.useContext(bX)},VM=function(){return Ne.useContext(xX)},HM=function(){return Ne.useContext(_X)};function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function X_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TX(n.key),n)}}function Y_e(t,e,r){return e&&W_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q_e(t,e,r){return e=D1(e),Z_e(t,SX()?Reflect.construct(e,r||[],D1(t).constructor):e.apply(t,r))}function Z_e(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J_e(t)}function J_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SX=function(){return!!t})()}function D1(t){return D1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D1(t)}function exe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rC(t,e)}function rC(t,e){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rC(t,e)}function AL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(r),!0).forEach(function(n){GM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GM(t,e,r){return e=TX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TX(t){var e=txe(t,"string");return Fd(e)=="symbol"?e:e+""}function txe(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rxe(t,e){return oxe(t)||axe(t,e)||ixe(t,e)||nxe()}function nxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ixe(t,e){if(t){if(typeof t=="string")return SL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SL(t,e)}}function SL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function axe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function oxe(t){if(Array.isArray(t))return t}function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nC.apply(this,arguments)}var sxe=function(e,r){var n;return we.isValidElement(e)?n=we.cloneElement(e,r):Nt(e)?n=e(r):n=we.createElement("line",nC({},r,{className:"recharts-reference-line-line"})),n},uxe=function(e,r,n,i,a,o,s,l,u){var f=a.x,d=a.y,p=a.width,m=a.height;if(n){var y=u.y,g=e.y.apply(y,{position:o});if(ws(u,"discard")&&!e.y.isInRange(g))return null;var b=[{x:f+p,y:g},{x:f,y:g}];return l==="left"?b.reverse():b}if(r){var E=u.x,N=e.x.apply(E,{position:o});if(ws(u,"discard")&&!e.x.isInRange(N))return null;var _=[{x:N,y:d+m},{x:N,y:d}];return s==="top"?_.reverse():_}if(i){var S=u.segment,x=S.map(function(A){return e.apply(A,{position:o})});return ws(u,"discard")&&t_e(x,function(A){return!e.isInRange(A)})?null:x}return null};function lxe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=z_e(),f=AX(i),d=EX(a),p=G_e();if(!u||!p)return null;Mo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=UM({x:f.scale,y:d.scale}),y=$n(e),g=$n(r),b=n&&n.length===2,E=uxe(m,y,g,b,p,t.position,f.orientation,d.orientation,t);if(!E)return null;var N=rxe(E,2),_=N[0],S=_.x,x=_.y,A=N[1],T=A.x,O=A.y,C=ws(t,"hidden")?"url(#".concat(u,")"):void 0,R=EL(EL({clipPath:C},bt(t,!0)),{},{x1:S,y1:x,x2:T,y2:O});return we.createElement(hr,{className:Ht("recharts-reference-line",s)},sxe(o,R),ti.renderCallByParent(t,M_e({x1:S,y1:x,x2:T,y2:O})))}var KM=(function(t){function e(){return X_e(this,e),Q_e(this,e,arguments)}return exe(e,t),Y_e(e,[{key:"render",value:function(){return we.createElement(lxe,this.props)}}])})(we.Component);GM(KM,"displayName","ReferenceLine");GM(KM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iC.apply(this,arguments)}function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function TL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(r),!0).forEach(function(n){f_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NX(n.key),n)}}function hxe(t,e,r){return e&&fxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dxe(t,e,r){return e=N1(e),pxe(t,DX()?Reflect.construct(e,r||[],N1(t).constructor):e.apply(t,r))}function pxe(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mxe(t)}function mxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DX=function(){return!!t})()}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N1(t)}function vxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aC(t,e)}function aC(t,e){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aC(t,e)}function f_(t,e,r){return e=NX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NX(t){var e=gxe(t,"string");return kd(e)=="symbol"?e:e+""}function gxe(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yxe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=UM({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return ws(e,"discard")&&!o.isInRange(s)?null:s},h_=(function(t){function e(){return cxe(this,e),dxe(this,e,arguments)}return vxe(e,t),hxe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=$n(i),f=$n(a);if(Mo(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=yxe(this.props);if(!d)return null;var p=d.x,m=d.y,y=this.props,g=y.shape,b=y.className,E=ws(this.props,"hidden")?"url(#".concat(l,")"):void 0,N=DL(DL({clipPath:E},bt(this.props,!0)),{},{cx:p,cy:m});return we.createElement(hr,{className:Ht("recharts-reference-dot",b)},e.renderDot(g,N),ti.renderCallByParent(this.props,{x:p-o,y:m-o,width:2*o,height:2*o}))}}])})(we.Component);f_(h_,"displayName","ReferenceDot");f_(h_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});f_(h_,"renderDot",function(t,e){var r;return we.isValidElement(t)?r=we.cloneElement(t,e):Nt(t)?r=t(e):r=we.createElement(n_,iC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function oC(){return oC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oC.apply(this,arguments)}function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function NL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(r),!0).forEach(function(n){d_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OX(n.key),n)}}function _xe(t,e,r){return e&&wxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xxe(t,e,r){return e=C1(e),Axe(t,CX()?Reflect.construct(e,r||[],C1(t).constructor):e.apply(t,r))}function Axe(t,e){if(e&&($d(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Exe(t)}function Exe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CX=function(){return!!t})()}function C1(t){return C1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C1(t)}function Sxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sC(t,e)}function sC(t,e){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sC(t,e)}function d_(t,e,r){return e=OX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OX(t){var e=Txe(t,"string");return $d(e)=="symbol"?e:e+""}function Txe(t,e){if($d(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dxe=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,f=a.xAxis,d=a.yAxis;if(!f||!d)return null;var p=UM({x:f.scale,y:d.scale}),m={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return ws(a,"discard")&&(!p.isInRange(m)||!p.isInRange(y))?null:vX(m,y)},p_=(function(t){function e(){return bxe(this,e),xxe(this,e,arguments)}return Sxe(e,t),_xe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,f=n.clipPathId;Mo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=$n(i),p=$n(a),m=$n(o),y=$n(s),g=this.props.shape;if(!d&&!p&&!m&&!y&&!g)return null;var b=Dxe(d,p,m,y,this.props);if(!b&&!g)return null;var E=ws(this.props,"hidden")?"url(#".concat(f,")"):void 0;return we.createElement(hr,{className:Ht("recharts-reference-area",l)},e.renderRect(g,CL(CL({clipPath:E},bt(this.props,!0)),b)),ti.renderCallByParent(this.props,b))}}])})(we.Component);d_(p_,"displayName","ReferenceArea");d_(p_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});d_(p_,"renderRect",function(t,e){var r;return we.isValidElement(t)?r=we.cloneElement(t,e):Nt(t)?r=t(e):r=we.createElement(qM,oC({},e,{className:"recharts-reference-area-rect"})),r});function MX(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Nxe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return R_e(n,r)}function Cxe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function O1(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Oxe(t,e){return MX(t,e+1)}function Mxe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,f=o,d=function(){var y=n?.[l];if(y===void 0)return{v:MX(n,u)};var g=l,b,E=function(){return b===void 0&&(b=r(y,g)),b},N=y.coordinate,_=l===0||O1(t,N,E,f,s);_||(l=0,f=o,u+=1),_&&(f=N+t*(E()/2+i),l+=u)},p;u<=a.length;)if(p=d(),p)return p.v;return[]}function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function OL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(r),!0).forEach(function(n){Ixe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ixe(t,e,r){return e=Rxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rxe(t){var e=Pxe(t,"string");return Jv(e)=="symbol"?e:e+""}function Pxe(t,e){if(Jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bxe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(p){var m=a[p],y,g=function(){return y===void 0&&(y=r(m,p)),y};if(p===o-1){var b=t*(m.coordinate+t*g()/2-l);a[p]=m=Ai(Ai({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else a[p]=m=Ai(Ai({},m),{},{tickCoord:m.coordinate});var E=O1(t,m.tickCoord,g,s,l);E&&(l=m.tickCoord-t*(g()/2+i),a[p]=Ai(Ai({},m),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function Fxe(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var f=n[s-1],d=r(f,s-1),p=t*(f.coordinate+t*d/2-u);o[s-1]=f=Ai(Ai({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var m=O1(t,f.tickCoord,function(){return d},l,u);m&&(u=f.tickCoord-t*(d/2+i),o[s-1]=Ai(Ai({},f),{},{isShow:!0}))}for(var y=a?s-1:s,g=function(N){var _=o[N],S,x=function(){return S===void 0&&(S=r(_,N)),S};if(N===0){var A=t*(_.coordinate-t*x()/2-l);o[N]=_=Ai(Ai({},_),{},{tickCoord:A<0?_.coordinate-A*t:_.coordinate})}else o[N]=_=Ai(Ai({},_),{},{tickCoord:_.coordinate});var T=O1(t,_.tickCoord,x,l,u);T&&(l=_.tickCoord+t*(x()/2+i),o[N]=Ai(Ai({},_),{},{isShow:!0}))},b=0;b<y;b++)g(b);return o}function XM(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(rt(l)||Df.isSsr)return Oxe(i,typeof l=="number"&&rt(l)?l:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",y=f&&m==="width"?tv(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(_,S){var x=Nt(u)?u(_.value,S):_.value;return m==="width"?Nxe(tv(x,{fontSize:e,letterSpacing:r}),y,d):tv(x,{fontSize:e,letterSpacing:r})[m]},b=i.length>=2?$i(i[1].coordinate-i[0].coordinate):1,E=Cxe(a,b,m);return l==="equidistantPreserveStart"?Mxe(b,E,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=Fxe(b,E,g,i,o,l==="preserveStartEnd"):p=Bxe(b,E,g,i,o),p.filter(function(N){return N.isShow}))}var kxe=["viewBox"],$xe=["viewBox"],Lxe=["ticks"];function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qh.apply(this,arguments)}function ML(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(r),!0).forEach(function(n){WM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r2(t,e){if(t==null)return{};var r=qxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RX(n.key),n)}}function jxe(t,e,r){return e&&IL(t.prototype,e),r&&IL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zxe(t,e,r){return e=M1(e),Vxe(t,IX()?Reflect.construct(e,r||[],M1(t).constructor):e.apply(t,r))}function Vxe(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hxe(t)}function Hxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IX=function(){return!!t})()}function M1(t){return M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M1(t)}function Gxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uC(t,e)}function uC(t,e){return uC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uC(t,e)}function WM(t,e,r){return e=RX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RX(t){var e=Kxe(t,"string");return Ld(e)=="symbol"?e:e+""}function Kxe(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hp=(function(t){function e(r){var n;return Uxe(this,e),n=zxe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Gxe(e,t),jxe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=r2(n,kxe),s=this.props,l=s.viewBox,u=r2(s,$xe);return!od(a,l)||!od(o,u)||!od(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,d=i.mirror,p=i.tickMargin,m,y,g,b,E,N,_=d?-1:1,S=n.tickSize||f,x=rt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=y=n.coordinate,b=o+ +!d*l,g=b-_*S,N=g-_*p,E=x;break;case"left":g=b=n.coordinate,y=a+ +!d*s,m=y-_*S,E=m-_*p,N=x;break;case"right":g=b=n.coordinate,y=a+ +d*s,m=y+_*S,E=m+_*p,N=x;break;default:m=y=n.coordinate,b=o+ +d*l,g=b+_*S,N=g+_*p,E=x;break}return{line:{x1:m,y1:g,x2:y,y2:b},tick:{x:E,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,f=n.axisLine,d=In(In(In({},bt(this.props,!1)),bt(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);d=In(In({},d),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);d=In(In({},d),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return we.createElement("line",Qh({},d,{className:Ht("recharts-cartesian-axis-line",Na(f,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,d=s.tickFormatter,p=s.unit,m=XM(In(In({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=bt(this.props,!1),E=bt(f,!1),N=In(In({},b),{},{fill:"none"},bt(l,!1)),_=m.map(function(S,x){var A=o.getTickLineCoord(S),T=A.line,O=A.tick,C=In(In(In(In({textAnchor:y,verticalAnchor:g},b),{},{stroke:"none",fill:u},E),O),{},{index:x,payload:S,visibleTicksCount:m.length,tickFormatter:d});return we.createElement(hr,Qh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},pf(o.props,S,x)),l&&we.createElement("line",Qh({},N,T,{className:Ht("recharts-cartesian-axis-tick-line",Na(l,"className"))})),f&&e.renderTickItem(f,C,"".concat(Nt(d)?d(S.value,x):S.value).concat(p||"")))});return we.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var d=this.props,p=d.ticks,m=r2(d,Lxe),y=p;return Nt(l)&&(y=p&&p.length>0?l(this.props):l(m)),o<=0||s<=0||!y||!y.length?null:we.createElement(hr,{className:Ht("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),ti.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=Ht(i.className,"recharts-cartesian-axis-tick-value");return we.isValidElement(n)?o=we.cloneElement(n,In(In({},i),{},{className:s})):Nt(n)?o=n(In(In({},i),{},{className:s})):o=we.createElement(mf,Qh({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(Ne.Component);WM(hp,"displayName","CartesianAxis");WM(hp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Xxe=["x1","y1","x2","y2","key"],Wxe=["offset"];function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function RL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(r),!0).forEach(function(n){Yxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yxe(t,e,r){return e=Qxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qxe(t){var e=Zxe(t,"string");return yf(e)=="symbol"?e:e+""}function Zxe(t,e){if(yf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qc(){return Qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qc.apply(this,arguments)}function PL(t,e){if(t==null)return{};var r=Jxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Jxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var eAe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return we.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function PX(t,e){var r;if(we.isValidElement(t))r=we.cloneElement(t,e);else if(Nt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=PL(e,Xxe),u=bt(l,!1);u.offset;var f=PL(u,Wxe);r=we.createElement("line",Qc({},f,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function tAe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Ti(Ti({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return PX(i,u)});return we.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function rAe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Ti(Ti({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return PX(i,u)});return we.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function nAe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==f[0]&&f.unshift(0);var d=f.map(function(p,m){var y=!f[m+1],g=y?i+o-p:f[m+1]-p;if(g<=0)return null;var b=m%e.length;return we.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:g,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return we.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function iAe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==f[0]&&f.unshift(0);var d=f.map(function(p,m){var y=!f[m+1],g=y?a+s-p:f[m+1]-p;if(g<=0)return null;var b=m%n.length;return we.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:g,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return we.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var aAe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return PK(XM(Ti(Ti(Ti({},hp.defaultProps),n),{},{ticks:mu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},oAe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return PK(XM(Ti(Ti(Ti({},hp.defaultProps),n),{},{ticks:mu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},Rh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Hm(t){var e,r,n,i,a,o,s=VM(),l=HM(),u=K_e(),f=Ti(Ti({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Rh.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Rh.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Rh.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Rh.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Rh.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Rh.verticalFill,x:rt(t.x)?t.x:u.left,y:rt(t.y)?t.y:u.top,width:rt(t.width)?t.width:u.width,height:rt(t.height)?t.height:u.height}),d=f.x,p=f.y,m=f.width,y=f.height,g=f.syncWithTicks,b=f.horizontalValues,E=f.verticalValues,N=V_e(),_=H_e();if(!rt(m)||m<=0||!rt(y)||y<=0||!rt(d)||d!==+d||!rt(p)||p!==+p)return null;var S=f.verticalCoordinatesGenerator||aAe,x=f.horizontalCoordinatesGenerator||oAe,A=f.horizontalPoints,T=f.verticalPoints;if((!A||!A.length)&&Nt(x)){var O=b&&b.length,C=x({yAxis:_?Ti(Ti({},_),{},{ticks:O?b:_.ticks}):void 0,width:s,height:l,offset:u},O?!0:g);Mo(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(yf(C),"]")),Array.isArray(C)&&(A=C)}if((!T||!T.length)&&Nt(S)){var R=E&&E.length,I=S({xAxis:N?Ti(Ti({},N),{},{ticks:R?E:N.ticks}):void 0,width:s,height:l,offset:u},R?!0:g);Mo(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(yf(I),"]")),Array.isArray(I)&&(T=I)}return we.createElement("g",{className:"recharts-cartesian-grid"},we.createElement(eAe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),we.createElement(tAe,Qc({},f,{offset:u,horizontalPoints:A,xAxis:N,yAxis:_})),we.createElement(rAe,Qc({},f,{offset:u,verticalPoints:T,xAxis:N,yAxis:_})),we.createElement(nAe,Qc({},f,{horizontalPoints:A})),we.createElement(iAe,Qc({},f,{verticalPoints:T})))}Hm.displayName="CartesianGrid";var sAe=["type","layout","connectNulls","ref"],uAe=["key"];function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function BL(t,e){if(t==null)return{};var r=lAe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sv.apply(this,arguments)}function FL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(r),!0).forEach(function(n){So(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ph(t){return dAe(t)||hAe(t)||fAe(t)||cAe()}function cAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(t,e){if(t){if(typeof t=="string")return lC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lC(t,e)}}function hAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dAe(t){if(Array.isArray(t))return lC(t)}function lC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FX(n.key),n)}}function mAe(t,e,r){return e&&kL(t.prototype,e),r&&kL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vAe(t,e,r){return e=I1(e),gAe(t,BX()?Reflect.construct(e,r||[],I1(t).constructor):e.apply(t,r))}function gAe(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yAe(t)}function yAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BX=function(){return!!t})()}function I1(t){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(t)}function bAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cC(t,e)}function cC(t,e){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cC(t,e)}function So(t,e,r){return e=FX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FX(t){var e=wAe(t,"string");return qd(e)=="symbol"?e:e+""}function wAe(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Al=(function(t){function e(){var r;pAe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=vAe(this,e,[].concat(i)),So(r,"state",{isAnimationFinished:!0,totalLength:0}),So(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),So(r,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(E,N){return E+N});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var f=Math.floor(o/u),d=o%u,p=s-o,m=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>d){m=[].concat(Ph(l.slice(0,y)),[d-g]);break}var b=m.length%2===0?[0,p]:[p];return[].concat(Ph(e.repeat(l,f)),Ph(m),b).map(function(E){return"".concat(E,"px")}).join(", ")}),So(r,"id",sp("recharts-line-")),So(r,"pathRef",function(o){r.mainCurve=o}),So(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),So(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return bAe(e,t),mAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,d=Ca(f,Dg);if(!d)return null;var p=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:kn(g.payload,b)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return we.createElement(hr,m,d.map(function(y){return we.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,f=s.dataKey,d=bt(this.props,!1),p=bt(l,!0),m=u.map(function(g,b){var E=ya(ya(ya({key:"dot-".concat(b),r:3},d),p),{},{index:b,cx:g.x,cy:g.y,value:g.value,dataKey:f,payload:g.payload,points:u});return e.renderDotItem(l,E)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return we.createElement(hr,sv({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,u=s.layout,f=s.connectNulls;s.ref;var d=BL(s,sAe),p=ya(ya(ya({},bt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:f});return we.createElement(h1,sv({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,p=o.animationEasing,m=o.animationId,y=o.animateNewValues,g=o.width,b=o.height,E=this.state,N=E.prevPoints,_=E.totalLength;return we.createElement(Ss,{begin:f,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var x=S.t;if(N){var A=N.length/s.length,T=s.map(function(P,F){var z=Math.floor(F*A);if(N[z]){var U=N[z],k=xa(U.x,P.x),V=xa(U.y,P.y);return ya(ya({},P),{},{x:k(x),y:V(x)})}if(y){var Y=xa(g*2,P.x),H=xa(b/2,P.y);return ya(ya({},P),{},{x:Y(x),y:H(x)})}return ya(ya({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(T,n,i)}var O=xa(0,_),C=O(x),R;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});R=a.getStrokeDasharray(C,_,I)}else R=a.generateSimpleStrokeDasharray(_,C);return a.renderCurveStatically(s,n,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return s&&o&&o.length&&(!u&&f>0||!Tg(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,f=i.yAxis,d=i.top,p=i.left,m=i.width,y=i.height,g=i.isAnimationActive,b=i.id;if(a||!s||!s.length)return null;var E=this.state.isAnimationFinished,N=s.length===1,_=Ht("recharts-line",l),S=u&&u.allowDataOverflow,x=f&&f.allowDataOverflow,A=S||x,T=$t(b)?this.id:b,O=(n=bt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=O.r,R=C===void 0?3:C,I=O.strokeWidth,P=I===void 0?2:I,F=Jle(o)?o:{},z=F.clipDot,U=z===void 0?!0:z,k=R*2+P;return we.createElement(hr,{className:_},S||x?we.createElement("defs",null,we.createElement("clipPath",{id:"clipPath-".concat(T)},we.createElement("rect",{x:S?p:p-m/2,y:x?d:d-y/2,width:S?m:m*2,height:x?y:y*2})),!U&&we.createElement("clipPath",{id:"clipPath-dots-".concat(T)},we.createElement("rect",{x:p-k/2,y:d-k/2,width:m+k,height:y+k}))):null,!N&&this.renderCurve(A,T),this.renderErrorBar(A,T),(N||o)&&this.renderDots(A,U,T),(!g||E)&&bs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Ph(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Ph(o),Ph(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(we.isValidElement(n))a=we.cloneElement(n,i);else if(Nt(n))a=n(i);else{var o=i.key,s=BL(i,uAe),l=Ht("recharts-line-dot",typeof n!="boolean"?n.className:"");a=we.createElement(n_,sv({key:o},s,{className:l}))}return a}}])})(Ne.PureComponent);So(Al,"displayName","Line");So(Al,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Df.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});So(Al,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,f=e.layout,d=l.map(function(p,m){var y=kn(p,o);return f==="horizontal"?{x:L5({axis:r,ticks:i,bandSize:s,entry:p,index:m}),y:$t(y)?null:n.scale(y),value:y,payload:p}:{x:$t(y)?null:r.scale(y),y:L5({axis:n,ticks:a,bandSize:s,entry:p,index:m}),value:y,payload:p}});return ya({points:d,layout:f},u)});function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function _Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LX(n.key),n)}}function AAe(t,e,r){return e&&xAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EAe(t,e,r){return e=R1(e),SAe(t,kX()?Reflect.construct(e,r||[],R1(t).constructor):e.apply(t,r))}function SAe(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TAe(t)}function TAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kX=function(){return!!t})()}function R1(t){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R1(t)}function DAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fC(t,e)}function fC(t,e){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fC(t,e)}function $X(t,e,r){return e=LX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LX(t){var e=NAe(t,"string");return Ud(e)=="symbol"?e:e+""}function NAe(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hC(){return hC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hC.apply(this,arguments)}function CAe(t){var e=t.xAxisId,r=VM(),n=HM(),i=AX(e);return i==null?null:Ne.createElement(hp,hC({},i,{className:Ht("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return mu(o,!0)}}))}var El=(function(t){function e(){return _Ae(this,e),EAe(this,e,arguments)}return DAe(e,t),AAe(e,[{key:"render",value:function(){return Ne.createElement(CAe,this.props)}}])})(Ne.Component);$X(El,"displayName","XAxis");$X(El,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function OAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jX(n.key),n)}}function IAe(t,e,r){return e&&MAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RAe(t,e,r){return e=P1(e),PAe(t,qX()?Reflect.construct(e,r||[],P1(t).constructor):e.apply(t,r))}function PAe(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BAe(t)}function BAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qX=function(){return!!t})()}function P1(t){return P1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P1(t)}function FAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dC(t,e)}function dC(t,e){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dC(t,e)}function UX(t,e,r){return e=jX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jX(t){var e=kAe(t,"string");return jd(e)=="symbol"?e:e+""}function kAe(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pC(){return pC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pC.apply(this,arguments)}var $Ae=function(e){var r=e.yAxisId,n=VM(),i=HM(),a=EX(r);return a==null?null:Ne.createElement(hp,pC({},a,{className:Ht("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return mu(s,!0)}}))},cu=(function(t){function e(){return OAe(this,e),RAe(this,e,arguments)}return FAe(e,t),IAe(e,[{key:"render",value:function(){return Ne.createElement($Ae,this.props)}}])})(Ne.Component);UX(cu,"displayName","YAxis");UX(cu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $L(t){return jAe(t)||UAe(t)||qAe(t)||LAe()}function LAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qAe(t,e){if(t){if(typeof t=="string")return mC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mC(t,e)}}function UAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jAe(t){if(Array.isArray(t))return mC(t)}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vC=function(e,r,n,i,a){var o=Ca(e,KM),s=Ca(e,h_),l=[].concat($L(o),$L(s)),u=Ca(e,p_),f="".concat(i,"Id"),d=i[0],p=r;if(l.length&&(p=l.reduce(function(g,b){if(b.props[f]===n&&ws(b.props,"extendDomain")&&rt(b.props[d])){var E=b.props[d];return[Math.min(g[0],E),Math.max(g[1],E)]}return g},p)),u.length){var m="".concat(d,"1"),y="".concat(d,"2");p=u.reduce(function(g,b){if(b.props[f]===n&&ws(b.props,"extendDomain")&&rt(b.props[m])&&rt(b.props[y])){var E=b.props[m],N=b.props[y];return[Math.min(g[0],E,N),Math.max(g[1],E,N)]}return g},p)}return a&&a.length&&(p=a.reduce(function(g,b){return rt(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},p)),p},n2={exports:{}},LL;function zAe(){return LL||(LL=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function a(l,u,f,d,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,d||l,p),y=r?r+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)e.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,y=new Array(m);p<m;p++)y[p]=d[p].fn;return y},s.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,f,d,p,m,y){var g=r?r+u:u;if(!this._events[g])return!1;var b=this._events[g],E=arguments.length,N,_;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,d),!0;case 4:return b.fn.call(b.context,f,d,p),!0;case 5:return b.fn.call(b.context,f,d,p,m),!0;case 6:return b.fn.call(b.context,f,d,p,m,y),!0}for(_=1,N=new Array(E-1);_<E;_++)N[_-1]=arguments[_];b.fn.apply(b.context,N)}else{var S=b.length,x;for(_=0;_<S;_++)switch(b[_].once&&this.removeListener(u,b[_].fn,void 0,!0),E){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,f);break;case 3:b[_].fn.call(b[_].context,f,d);break;case 4:b[_].fn.call(b[_].context,f,d,p);break;default:if(!N)for(x=1,N=new Array(E-1);x<E;x++)N[x-1]=arguments[x];b[_].fn.apply(b[_].context,N)}}return!0},s.prototype.on=function(u,f,d){return a(this,u,f,d,!1)},s.prototype.once=function(u,f,d){return a(this,u,f,d,!0)},s.prototype.removeListener=function(u,f,d,p){var m=r?r+u:u;if(!this._events[m])return this;if(!f)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===f&&(!p||y.once)&&(!d||y.context===d)&&o(this,m);else{for(var g=0,b=[],E=y.length;g<E;g++)(y[g].fn!==f||p&&!y[g].once||d&&y[g].context!==d)&&b.push(y[g]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(n2)),n2.exports}var VAe=zAe();const HAe=pr(VAe);var i2=new HAe,a2="recharts.syncMouseEvents";function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function GAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zX(n.key),n)}}function XAe(t,e,r){return e&&KAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o2(t,e,r){return e=zX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zX(t){var e=WAe(t,"string");return eg(e)=="symbol"?e:e+""}function WAe(t,e){if(eg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var YAe=(function(){function t(){GAe(this,t),o2(this,"activeIndex",0),o2(this,"coordinateList",[]),o2(this,"layout","horizontal")}return XAe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,p=r.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+l+u,p=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])})();function QAe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&rt(n)&&rt(i))return!0}return!1}function ZAe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function VX(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Vr(e,r,n,i),s=Vr(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function JAe(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,d=e.angle,p=Vr(s,l,u,d),m=Vr(s,l,f,d);n=p.x,i=p.y,a=m.x,o=m.y}else return VX(e);return[{x:n,y:i},{x:a,y:o}]}function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function qL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function S0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(r),!0).forEach(function(n){eEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eEe(t,e,r){return e=tEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tEe(t){var e=rEe(t,"string");return tg(e)=="symbol"?e:e+""}function rEe(t,e){if(tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nEe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,d=t.layout,p=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var y,g=h1;if(p==="ScatterChart")y=o,g=S1e;else if(p==="BarChart")y=ZAe(d,o,l,f),g=qM;else if(d==="radial"){var b=VX(o),E=b.cx,N=b.cy,_=b.radius,S=b.startAngle,x=b.endAngle;y={cx:E,cy:N,startAngle:S,endAngle:x,innerRadius:_,outerRadius:_},g=HK}else y={points:JAe(d,o,l)},g=h1;var A=S0(S0(S0(S0({stroke:"#ccc",pointerEvents:"none"},l),y),bt(m,!1)),{},{payload:s,payloadIndex:u,className:Ht("recharts-tooltip-cursor",m.className)});return Ne.isValidElement(m)?Ne.cloneElement(m,A):Ne.createElement(g,A)}var iEe=["item"],aEe=["children","className","width","height","style","compact","title","desc"];function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zh.apply(this,arguments)}function UL(t,e){return uEe(t)||sEe(t,e)||GX(t,e)||oEe()}function oEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function uEe(t){if(Array.isArray(t))return t}function jL(t,e){if(t==null)return{};var r=lEe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KX(n.key),n)}}function hEe(t,e,r){return e&&fEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dEe(t,e,r){return e=B1(e),pEe(t,HX()?Reflect.construct(e,r||[],B1(t).constructor):e.apply(t,r))}function pEe(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mEe(t)}function mEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HX=function(){return!!t})()}function B1(t){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B1(t)}function vEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gC(t,e)}function gC(t,e){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gC(t,e)}function Vd(t){return bEe(t)||yEe(t)||GX(t)||gEe()}function gEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GX(t,e){if(t){if(typeof t=="string")return yC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yC(t,e)}}function yEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bEe(t){if(Array.isArray(t))return yC(t)}function yC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zL(Object(r),!0).forEach(function(n){Et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Et(t,e,r){return e=KX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KX(t){var e=wEe(t,"string");return zd(e)=="symbol"?e:e+""}function wEe(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Ee={xAxis:["bottom","top"],yAxis:["left","right"]},xEe={width:"100%",height:"100%"},XX={x:0,y:0};function T0(t){return t}var AEe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},EEe=function(e,r,n,i){var a=r.find(function(f){return f&&f.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Le(Le(Le({},i),Vr(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Le(Le(Le({},i),Vr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return XX},m_=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Vd(s),Vd(u)):s},[]);return o.length>0?o:e&&e.length&&rt(i)&&rt(a)?e.slice(i,a+1):[]};function WX(t){return t==="number"?[0,"auto"]:void 0}var bC=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=m_(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?s:d;p=$b(m,o.dataKey,i)}else p=d&&d[n]||s[n];return p?[].concat(Vd(l),[LK(u,p)]):l},[])},VL=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=AEe(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=Yge(o,s,u,l);if(f>=0&&u){var d=u[f]&&u[f].value,p=bC(e,r,f,d),m=EEe(n,s,f,a);return{activeTooltipIndex:f,activeLabel:d,activePayload:p,activeCoordinate:m}}return null},SEe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,d=e.children,p=e.stackOffset,m=RK(f,a);return n.reduce(function(y,g){var b,E=g.type.defaultProps!==void 0?Le(Le({},g.type.defaultProps),g.props):g.props,N=E.type,_=E.dataKey,S=E.allowDataOverflow,x=E.allowDuplicatedCategory,A=E.scale,T=E.ticks,O=E.includeHidden,C=E[o];if(y[C])return y;var R=m_(e.data,{graphicalItems:i.filter(function($){var W,K=o in $.props?$.props[o]:(W=$.type.defaultProps)===null||W===void 0?void 0:W[o];return K===C}),dataStartIndex:l,dataEndIndex:u}),I=R.length,P,F,z;QAe(E.domain,S,N)&&(P=RN(E.domain,null,S),m&&(N==="number"||A!=="auto")&&(z=nv(R,_,"category")));var U=WX(N);if(!P||P.length===0){var k,V=(k=E.domain)!==null&&k!==void 0?k:U;if(_){if(P=nv(R,_,N),N==="category"&&m){var Y=zle(P);x&&Y?(F=P,P=x1(0,I)):x||(P=z5(V,P,g).reduce(function($,W){return $.indexOf(W)>=0?$:[].concat(Vd($),[W])},[]))}else if(N==="category")x?P=P.filter(function($){return $!==""&&!$t($)}):P=z5(V,P,g).reduce(function($,W){return $.indexOf(W)>=0||W===""||$t(W)?$:[].concat(Vd($),[W])},[]);else if(N==="number"){var H=tye(R,i.filter(function($){var W,K,ge=o in $.props?$.props[o]:(W=$.type.defaultProps)===null||W===void 0?void 0:W[o],me="hide"in $.props?$.props.hide:(K=$.type.defaultProps)===null||K===void 0?void 0:K.hide;return ge===C&&(O||!me)}),_,a,f);H&&(P=H)}m&&(N==="number"||A!=="auto")&&(z=nv(R,_,"category"))}else m?P=x1(0,I):s&&s[C]&&s[C].hasStack&&N==="number"?P=p==="expand"?[0,1]:$K(s[C].stackGroups,l,u):P=IK(R,i.filter(function($){var W=o in $.props?$.props[o]:$.type.defaultProps[o],K="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return W===C&&(O||!K)}),N,f,!0);if(N==="number")P=vC(d,P,C,a,T),V&&(P=RN(V,P,S));else if(N==="category"&&V){var j=V,Z=P.every(function($){return j.indexOf($)>=0});Z&&(P=j)}}return Le(Le({},y),{},Et({},C,Le(Le({},E),{},{axisType:a,domain:P,categoricalDomain:z,duplicateDomain:F,originalDomain:(b=E.domain)!==null&&b!==void 0?b:U,isCategorical:m,layout:f})))},{})},TEe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,d=e.children,p=m_(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),m=p.length,y=RK(f,a),g=-1;return n.reduce(function(b,E){var N=E.type.defaultProps!==void 0?Le(Le({},E.type.defaultProps),E.props):E.props,_=N[o],S=WX("number");if(!b[_]){g++;var x;return y?x=x1(0,m):s&&s[_]&&s[_].hasStack?(x=$K(s[_].stackGroups,l,u),x=vC(d,x,_,a)):(x=RN(S,IK(p,n.filter(function(A){var T,O,C=o in A.props?A.props[o]:(T=A.type.defaultProps)===null||T===void 0?void 0:T[o],R="hide"in A.props?A.props.hide:(O=A.type.defaultProps)===null||O===void 0?void 0:O.hide;return C===_&&!R}),"number",f),i.defaultProps.allowDataOverflow),x=vC(d,x,_,a)),Le(Le({},b),{},Et({},_,Le(Le({axisType:a},i.defaultProps),{},{hide:!0,orientation:Na(_Ee,"".concat(a,".").concat(g%2),null),domain:x,originalDomain:S,isCategorical:y,layout:f})))}return b},{})},DEe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.children,d="".concat(i,"Id"),p=Ca(f,a),m={};return p&&p.length?m=SEe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=TEe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},NEe=function(e){var r=bl(e),n=mu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:dM(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:l1(r,n)}},HL=function(e){var r=e.children,n=e.defaultShowTooltip,i=wa(r,Pd),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},CEe=function(e){return!e||!e.length?!1:e.some(function(r){var n=yu(r&&r.type);return n&&n.indexOf("Bar")>=0})},GL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},OEe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,f=n.height,d=n.children,p=n.margin||{},m=wa(d,Pd),y=wa(d,cs),g=Object.keys(l).reduce(function(x,A){var T=l[A],O=T.orientation;return!T.mirror&&!T.hide?Le(Le({},x),{},Et({},O,x[O]+T.width)):x},{left:p.left||0,right:p.right||0}),b=Object.keys(o).reduce(function(x,A){var T=o[A],O=T.orientation;return!T.mirror&&!T.hide?Le(Le({},x),{},Et({},O,Na(x,"".concat(O))+T.height)):x},{top:p.top||0,bottom:p.bottom||0}),E=Le(Le({},b),g),N=E.bottom;m&&(E.bottom+=m.props.height||Pd.defaultProps.height),y&&r&&(E=Jge(E,i,n,r));var _=u-E.left-E.right,S=f-E.top-E.bottom;return Le(Le({brushBottom:N},E),{},{width:Math.max(_,0),height:Math.max(S,0)})},MEe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},YM=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,d=e.defaultProps,p=function(E,N){var _=N.graphicalItems,S=N.stackGroups,x=N.offset,A=N.updateId,T=N.dataStartIndex,O=N.dataEndIndex,C=E.barSize,R=E.layout,I=E.barGap,P=E.barCategoryGap,F=E.maxBarSize,z=GL(R),U=z.numericAxisName,k=z.cateAxisName,V=CEe(_),Y=[];return _.forEach(function(H,j){var Z=m_(E.data,{graphicalItems:[H],dataStartIndex:T,dataEndIndex:O}),$=H.type.defaultProps!==void 0?Le(Le({},H.type.defaultProps),H.props):H.props,W=$.dataKey,K=$.maxBarSize,ge=$["".concat(U,"Id")],me=$["".concat(k,"Id")],Ee={},J=l.reduce(function(ce,be){var Q=N["".concat(be.axisType,"Map")],oe=$["".concat(be.axisType,"Id")];Q&&Q[oe]||be.axisType==="zAxis"||gf();var de=Q[oe];return Le(Le({},ce),{},Et(Et({},be.axisType,de),"".concat(be.axisType,"Ticks"),mu(de)))},Ee),ee=J[k],ue=J["".concat(k,"Ticks")],le=S&&S[ge]&&S[ge].hasStack&&cye(H,S[ge].stackGroups),ie=yu(H.type).indexOf("Bar")>=0,Te=l1(ee,ue),he=[],Ce=V&&Qge({barSize:C,stackGroups:S,totalSize:MEe(J,k)});if(ie){var je,We,xe=$t(K)?F:K,ze=(je=(We=l1(ee,ue,!0))!==null&&We!==void 0?We:xe)!==null&&je!==void 0?je:0;he=Zge({barGap:I,barCategoryGap:P,bandSize:ze!==Te?ze:Te,sizeList:Ce[me],maxBarSize:xe}),ze!==Te&&(he=he.map(function(ce){return Le(Le({},ce),{},{position:Le(Le({},ce.position),{},{offset:ce.position.offset-ze/2})})}))}var te=H&&H.type&&H.type.getComposedData;te&&Y.push({props:Le(Le({},te(Le(Le({},J),{},{displayedData:Z,props:E,dataKey:W,item:H,bandSize:Te,barPosition:he,offset:x,stackedData:le,layout:R,dataStartIndex:T,dataEndIndex:O}))),{},Et(Et(Et({key:H.key||"item-".concat(j)},U,J[U]),k,J[k]),"animationId",A)),childIndex:rce(H,E.children),item:H})}),Y},m=function(E,N){var _=E.props,S=E.dataStartIndex,x=E.dataEndIndex,A=E.updateId;if(!nk({props:_}))return null;var T=_.children,O=_.layout,C=_.stackOffset,R=_.data,I=_.reverseStackOrder,P=GL(O),F=P.numericAxisName,z=P.cateAxisName,U=Ca(T,n),k=uye(R,U,"".concat(F,"Id"),"".concat(z,"Id"),C,I),V=l.reduce(function($,W){var K="".concat(W.axisType,"Map");return Le(Le({},$),{},Et({},K,DEe(_,Le(Le({},W),{},{graphicalItems:U,stackGroups:W.axisType===F&&k,dataStartIndex:S,dataEndIndex:x}))))},{}),Y=OEe(Le(Le({},V),{},{props:_,graphicalItems:U}),N?.legendBBox);Object.keys(V).forEach(function($){V[$]=f(_,V[$],Y,$.replace("Map",""),r)});var H=V["".concat(z,"Map")],j=NEe(H),Z=p(_,Le(Le({},V),{},{dataStartIndex:S,dataEndIndex:x,updateId:A,graphicalItems:U,stackGroups:k,offset:Y}));return Le(Le({formattedGraphicalItems:Z,graphicalItems:U,offset:Y,stackGroups:k},j),V)},y=(function(b){function E(N){var _,S,x;return cEe(this,E),x=dEe(this,E,[N]),Et(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(x,"accessibilityManager",new YAe),Et(x,"handleLegendBBoxUpdate",function(A){if(A){var T=x.state,O=T.dataStartIndex,C=T.dataEndIndex,R=T.updateId;x.setState(Le({legendBBox:A},m({props:x.props,dataStartIndex:O,dataEndIndex:C,updateId:R},Le(Le({},x.state),{},{legendBBox:A}))))}}),Et(x,"handleReceiveSyncEvent",function(A,T,O){if(x.props.syncId===A){if(O===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(T)}}),Et(x,"handleBrushChange",function(A){var T=A.startIndex,O=A.endIndex;if(T!==x.state.dataStartIndex||O!==x.state.dataEndIndex){var C=x.state.updateId;x.setState(function(){return Le({dataStartIndex:T,dataEndIndex:O},m({props:x.props,dataStartIndex:T,dataEndIndex:O,updateId:C},x.state))}),x.triggerSyncEvent({dataStartIndex:T,dataEndIndex:O})}}),Et(x,"handleMouseEnter",function(A){var T=x.getMouseInfo(A);if(T){var O=Le(Le({},T),{},{isTooltipActive:!0});x.setState(O),x.triggerSyncEvent(O);var C=x.props.onMouseEnter;Nt(C)&&C(O,A)}}),Et(x,"triggeredAfterMouseMove",function(A){var T=x.getMouseInfo(A),O=T?Le(Le({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(O),x.triggerSyncEvent(O);var C=x.props.onMouseMove;Nt(C)&&C(O,A)}),Et(x,"handleItemMouseEnter",function(A){x.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Et(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),Et(x,"handleMouseMove",function(A){A.persist(),x.throttleTriggeredAfterMouseMove(A)}),Et(x,"handleMouseLeave",function(A){x.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};x.setState(T),x.triggerSyncEvent(T);var O=x.props.onMouseLeave;Nt(O)&&O(T,A)}),Et(x,"handleOuterEvent",function(A){var T=tce(A),O=Na(x.props,"".concat(T));if(T&&Nt(O)){var C,R;/.*touch.*/i.test(T)?R=x.getMouseInfo(A.changedTouches[0]):R=x.getMouseInfo(A),O((C=R)!==null&&C!==void 0?C:{},A)}}),Et(x,"handleClick",function(A){var T=x.getMouseInfo(A);if(T){var O=Le(Le({},T),{},{isTooltipActive:!0});x.setState(O),x.triggerSyncEvent(O);var C=x.props.onClick;Nt(C)&&C(O,A)}}),Et(x,"handleMouseDown",function(A){var T=x.props.onMouseDown;if(Nt(T)){var O=x.getMouseInfo(A);T(O,A)}}),Et(x,"handleMouseUp",function(A){var T=x.props.onMouseUp;if(Nt(T)){var O=x.getMouseInfo(A);T(O,A)}}),Et(x,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Et(x,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&x.handleMouseDown(A.changedTouches[0])}),Et(x,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&x.handleMouseUp(A.changedTouches[0])}),Et(x,"handleDoubleClick",function(A){var T=x.props.onDoubleClick;if(Nt(T)){var O=x.getMouseInfo(A);T(O,A)}}),Et(x,"handleContextMenu",function(A){var T=x.props.onContextMenu;if(Nt(T)){var O=x.getMouseInfo(A);T(O,A)}}),Et(x,"triggerSyncEvent",function(A){x.props.syncId!==void 0&&i2.emit(a2,x.props.syncId,A,x.eventEmitterSymbol)}),Et(x,"applySyncEvent",function(A){var T=x.props,O=T.layout,C=T.syncMethod,R=x.state.updateId,I=A.dataStartIndex,P=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)x.setState(Le({dataStartIndex:I,dataEndIndex:P},m({props:x.props,dataStartIndex:I,dataEndIndex:P,updateId:R},x.state)));else if(A.activeTooltipIndex!==void 0){var F=A.chartX,z=A.chartY,U=A.activeTooltipIndex,k=x.state,V=k.offset,Y=k.tooltipTicks;if(!V)return;if(typeof C=="function")U=C(Y,A);else if(C==="value"){U=-1;for(var H=0;H<Y.length;H++)if(Y[H].value===A.activeLabel){U=H;break}}var j=Le(Le({},V),{},{x:V.left,y:V.top}),Z=Math.min(F,j.x+j.width),$=Math.min(z,j.y+j.height),W=Y[U]&&Y[U].value,K=bC(x.state,x.props.data,U),ge=Y[U]?{x:O==="horizontal"?Y[U].coordinate:Z,y:O==="horizontal"?$:Y[U].coordinate}:XX;x.setState(Le(Le({},A),{},{activeLabel:W,activeCoordinate:ge,activePayload:K,activeTooltipIndex:U}))}else x.setState(A)}),Et(x,"renderCursor",function(A){var T,O=x.state,C=O.isTooltipActive,R=O.activeCoordinate,I=O.activePayload,P=O.offset,F=O.activeTooltipIndex,z=O.tooltipAxisBandSize,U=x.getTooltipEventType(),k=(T=A.props.active)!==null&&T!==void 0?T:C,V=x.props.layout,Y=A.key||"_recharts-cursor";return we.createElement(nEe,{key:Y,activeCoordinate:R,activePayload:I,activeTooltipIndex:F,chartName:r,element:A,isActive:k,layout:V,offset:P,tooltipAxisBandSize:z,tooltipEventType:U})}),Et(x,"renderPolarAxis",function(A,T,O){var C=Na(A,"type.axisType"),R=Na(x.state,"".concat(C,"Map")),I=A.type.defaultProps,P=I!==void 0?Le(Le({},I),A.props):A.props,F=R&&R[P["".concat(C,"Id")]];return Ne.cloneElement(A,Le(Le({},F),{},{className:Ht(C,F.className),key:A.key||"".concat(T,"-").concat(O),ticks:mu(F,!0)}))}),Et(x,"renderPolarGrid",function(A){var T=A.props,O=T.radialLines,C=T.polarAngles,R=T.polarRadius,I=x.state,P=I.radiusAxisMap,F=I.angleAxisMap,z=bl(P),U=bl(F),k=U.cx,V=U.cy,Y=U.innerRadius,H=U.outerRadius;return Ne.cloneElement(A,{polarAngles:Array.isArray(C)?C:mu(U,!0).map(function(j){return j.coordinate}),polarRadius:Array.isArray(R)?R:mu(z,!0).map(function(j){return j.coordinate}),cx:k,cy:V,innerRadius:Y,outerRadius:H,key:A.key||"polar-grid",radialLines:O})}),Et(x,"renderLegend",function(){var A=x.state.formattedGraphicalItems,T=x.props,O=T.children,C=T.width,R=T.height,I=x.props.margin||{},P=C-(I.left||0)-(I.right||0),F=OK({children:O,formattedGraphicalItems:A,legendWidth:P,legendContent:u});if(!F)return null;var z=F.item,U=jL(F,iEe);return Ne.cloneElement(z,Le(Le({},U),{},{chartWidth:C,chartHeight:R,margin:I,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),Et(x,"renderTooltip",function(){var A,T=x.props,O=T.children,C=T.accessibilityLayer,R=wa(O,Ji);if(!R)return null;var I=x.state,P=I.isTooltipActive,F=I.activeCoordinate,z=I.activePayload,U=I.activeLabel,k=I.offset,V=(A=R.props.active)!==null&&A!==void 0?A:P;return Ne.cloneElement(R,{viewBox:Le(Le({},k),{},{x:k.left,y:k.top}),active:V,label:U,payload:V?z:[],coordinate:F,accessibilityLayer:C})}),Et(x,"renderBrush",function(A){var T=x.props,O=T.margin,C=T.data,R=x.state,I=R.offset,P=R.dataStartIndex,F=R.dataEndIndex,z=R.updateId;return Ne.cloneElement(A,{key:A.key||"_recharts-brush",onChange:_0(x.handleBrushChange,A.props.onChange),data:C,x:rt(A.props.x)?A.props.x:I.left,y:rt(A.props.y)?A.props.y:I.top+I.height+I.brushBottom-(O.bottom||0),width:rt(A.props.width)?A.props.width:I.width,startIndex:P,endIndex:F,updateId:"brush-".concat(z)})}),Et(x,"renderReferenceElement",function(A,T,O){if(!A)return null;var C=x,R=C.clipPathId,I=x.state,P=I.xAxisMap,F=I.yAxisMap,z=I.offset,U=A.type.defaultProps||{},k=A.props,V=k.xAxisId,Y=V===void 0?U.xAxisId:V,H=k.yAxisId,j=H===void 0?U.yAxisId:H;return Ne.cloneElement(A,{key:A.key||"".concat(T,"-").concat(O),xAxis:P[Y],yAxis:F[j],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:R})}),Et(x,"renderActivePoints",function(A){var T=A.item,O=A.activePoint,C=A.basePoint,R=A.childIndex,I=A.isRange,P=[],F=T.props.key,z=T.item.type.defaultProps!==void 0?Le(Le({},T.item.type.defaultProps),T.item.props):T.item.props,U=z.activeDot,k=z.dataKey,V=Le(Le({index:R,dataKey:k,cx:O.x,cy:O.y,r:4,fill:LM(T.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},bt(U,!1)),Lb(U));return P.push(E.renderActiveDot(U,V,"".concat(F,"-activePoint-").concat(R))),C?P.push(E.renderActiveDot(U,Le(Le({},V),{},{cx:C.x,cy:C.y}),"".concat(F,"-basePoint-").concat(R))):I&&P.push(null),P}),Et(x,"renderGraphicChild",function(A,T,O){var C=x.filterFormatItem(A,T,O);if(!C)return null;var R=x.getTooltipEventType(),I=x.state,P=I.isTooltipActive,F=I.tooltipAxis,z=I.activeTooltipIndex,U=I.activeLabel,k=x.props.children,V=wa(k,Ji),Y=C.props,H=Y.points,j=Y.isRange,Z=Y.baseLine,$=C.item.type.defaultProps!==void 0?Le(Le({},C.item.type.defaultProps),C.item.props):C.item.props,W=$.activeDot,K=$.hide,ge=$.activeBar,me=$.activeShape,Ee=!!(!K&&P&&V&&(W||ge||me)),J={};R!=="axis"&&V&&V.props.trigger==="click"?J={onClick:_0(x.handleItemMouseEnter,A.props.onClick)}:R!=="axis"&&(J={onMouseLeave:_0(x.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:_0(x.handleItemMouseEnter,A.props.onMouseEnter)});var ee=Ne.cloneElement(A,Le(Le({},C.props),J));function ue(be){return typeof F.dataKey=="function"?F.dataKey(be.payload):null}if(Ee)if(z>=0){var le,ie;if(F.dataKey&&!F.allowDuplicatedCategory){var Te=typeof F.dataKey=="function"?ue:"payload.".concat(F.dataKey.toString());le=$b(H,Te,U),ie=j&&Z&&$b(Z,Te,U)}else le=H?.[z],ie=j&&Z&&Z[z];if(me||ge){var he=A.props.activeIndex!==void 0?A.props.activeIndex:z;return[Ne.cloneElement(A,Le(Le(Le({},C.props),J),{},{activeIndex:he})),null,null]}if(!$t(le))return[ee].concat(Vd(x.renderActivePoints({item:C,activePoint:le,basePoint:ie,childIndex:z,isRange:j})))}else{var Ce,je=(Ce=x.getItemByXY(x.state.activeCoordinate))!==null&&Ce!==void 0?Ce:{graphicalItem:ee},We=je.graphicalItem,xe=We.item,ze=xe===void 0?A:xe,te=We.childIndex,ce=Le(Le(Le({},C.props),J),{},{activeIndex:te});return[Ne.cloneElement(ze,ce),null,null]}return j?[ee,null,null]:[ee,null]}),Et(x,"renderCustomized",function(A,T,O){return Ne.cloneElement(A,Le(Le({key:"recharts-customized-".concat(O)},x.props),x.state))}),Et(x,"renderMap",{CartesianGrid:{handler:T0,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:T0},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:T0},YAxis:{handler:T0},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((_=N.id)!==null&&_!==void 0?_:sp("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=CG(x.triggeredAfterMouseMove,(S=N.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return vEe(E,b),hEe(E,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,x=_.data,A=_.height,T=_.layout,O=wa(S,Ji);if(O){var C=O.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=bC(this.state,x,C,R),P=this.state.tooltipTicks[C].coordinate,F=(this.state.offset.top+A)/2,z=T==="horizontal",U=z?{x:P,y:F}:{y:P,x:F},k=this.state.formattedGraphicalItems.find(function(Y){var H=Y.item;return H.type.name==="Scatter"});k&&(U=Le(Le({},U),k.props.points[C].tooltipPosition),I=k.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:R,activePayload:I,activeCoordinate:U};this.setState(V),this.renderCursor(O),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var x,A;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(_){tN([wa(_.children,Ji)],[wa(this.props.children,Ji)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=wa(this.props.children,Ji);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,x=S.getBoundingClientRect(),A=jde(x),T={chartX:Math.round(_.pageX-A.left),chartY:Math.round(_.pageY-A.top)},O=x.width/S.offsetWidth||1,C=this.inRange(T.chartX,T.chartY,O);if(!C)return null;var R=this.state,I=R.xAxisMap,P=R.yAxisMap,F=this.getTooltipEventType(),z=VL(this.state,this.props.data,this.props.layout,C);if(F!=="axis"&&I&&P){var U=bl(I).scale,k=bl(P).scale,V=U&&U.invert?U.invert(T.chartX):null,Y=k&&k.invert?k.invert(T.chartY):null;return Le(Le({},T),{},{xValue:V,yValue:Y},z)}return z?Le(Le({},T),z):null}},{key:"inRange",value:function(_,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,T=_/x,O=S/x;if(A==="horizontal"||A==="vertical"){var C=this.state.offset,R=T>=C.left&&T<=C.left+C.width&&O>=C.top&&O<=C.top+C.height;return R?{x:T,y:O}:null}var I=this.state,P=I.angleAxisMap,F=I.radiusAxisMap;if(P&&F){var z=bl(P);return G5({x:T,y:O},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),x=wa(_,Ji),A={};x&&S==="axis"&&(x.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Lb(this.props,this.handleOuterEvent);return Le(Le({},T),A)}},{key:"addListener",value:function(){i2.on(a2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){i2.removeListener(a2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,x){for(var A=this.state.formattedGraphicalItems,T=0,O=A.length;T<O;T++){var C=A[T];if(C.item===_||C.props.key===_.key||S===yu(C.item.type)&&x===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,x=S.left,A=S.top,T=S.height,O=S.width;return we.createElement("defs",null,we.createElement("clipPath",{id:_},we.createElement("rect",{x,y:A,height:T,width:O})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,x){var A=UL(x,2),T=A[0],O=A[1];return Le(Le({},S),{},Et({},T,O.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,x){var A=UL(x,2),T=A[0],O=A[1];return Le(Le({},S),{},Et({},T,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,x=S.formattedGraphicalItems,A=S.activeItem;if(x&&x.length)for(var T=0,O=x.length;T<O;T++){var C=x[T],R=C.props,I=C.item,P=I.type.defaultProps!==void 0?Le(Le({},I.type.defaultProps),I.props):I.props,F=yu(I.type);if(F==="Bar"){var z=(R.data||[]).find(function(Y){return a1e(_,Y)});if(z)return{graphicalItem:C,payload:z}}else if(F==="RadialBar"){var U=(R.data||[]).find(function(Y){return G5(_,Y)});if(U)return{graphicalItem:C,payload:U}}else if(u_(C,A)||l_(C,A)||Wv(C,A)){var k=Nwe({graphicalItem:C,activeTooltipItem:A,itemData:P.data}),V=P.activeIndex===void 0?k:P.activeIndex;return{graphicalItem:Le(Le({},C),{},{childIndex:V}),payload:Wv(C,A)?P.data[k]:C.props.data[k]}}}return null}},{key:"render",value:function(){var _=this;if(!nk(this))return null;var S=this.props,x=S.children,A=S.className,T=S.width,O=S.height,C=S.style,R=S.compact,I=S.title,P=S.desc,F=jL(S,aEe),z=bt(F,!1);if(R)return we.createElement(xL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},we.createElement(nN,Zh({},z,{width:T,height:O,title:I,desc:P}),this.renderClipPath(),ak(x,this.renderMap)));if(this.props.accessibilityLayer){var U,k;z.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,z.role=(k=this.props.role)!==null&&k!==void 0?k:"application",z.onKeyDown=function(Y){_.accessibilityManager.keyboardEvent(Y)},z.onFocus=function(){_.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return we.createElement(xL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},we.createElement("div",Zh({className:Ht("recharts-wrapper",A),style:Le({position:"relative",cursor:"default",width:T,height:O},C)},V,{ref:function(H){_.container=H}}),we.createElement(nN,Zh({},z,{width:T,height:O,title:I,desc:P,style:xEe}),this.renderClipPath(),ak(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(Ne.Component);Et(y,"displayName",r),Et(y,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Et(y,"getDerivedStateFromProps",function(b,E){var N=b.dataKey,_=b.data,S=b.children,x=b.width,A=b.height,T=b.layout,O=b.stackOffset,C=b.margin,R=E.dataStartIndex,I=E.dataEndIndex;if(E.updateId===void 0){var P=HL(b);return Le(Le(Le({},P),{},{updateId:0},m(Le(Le({props:b},P),{},{updateId:0}),E)),{},{prevDataKey:N,prevData:_,prevWidth:x,prevHeight:A,prevLayout:T,prevStackOffset:O,prevMargin:C,prevChildren:S})}if(N!==E.prevDataKey||_!==E.prevData||x!==E.prevWidth||A!==E.prevHeight||T!==E.prevLayout||O!==E.prevStackOffset||!od(C,E.prevMargin)){var F=HL(b),z={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},U=Le(Le({},VL(E,_,T)),{},{updateId:E.updateId+1}),k=Le(Le(Le({},F),z),U);return Le(Le(Le({},k),m(Le({props:b},k),E)),{},{prevDataKey:N,prevData:_,prevWidth:x,prevHeight:A,prevLayout:T,prevStackOffset:O,prevMargin:C,prevChildren:S})}if(!tN(S,E.prevChildren)){var V,Y,H,j,Z=wa(S,Pd),$=Z&&(V=(Y=Z.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&V!==void 0?V:R,W=Z&&(H=(j=Z.props)===null||j===void 0?void 0:j.endIndex)!==null&&H!==void 0?H:I,K=$!==R||W!==I,ge=!$t(_),me=ge&&!K?E.updateId:E.updateId+1;return Le(Le({updateId:me},m(Le(Le({props:b},E),{},{updateId:me,dataStartIndex:$,dataEndIndex:W}),E)),{},{prevChildren:S,dataStartIndex:$,dataEndIndex:W})}return null}),Et(y,"renderActiveDot",function(b,E,N){var _;return Ne.isValidElement(b)?_=Ne.cloneElement(b,E):Nt(b)?_=b(E):_=we.createElement(n_,E),we.createElement(hr,{className:"recharts-active-dot",key:N},_)});var g=Ne.forwardRef(function(E,N){return we.createElement(y,Zh({},E,{ref:N}))});return g.displayName=y.displayName,g},IEe=YM({chartName:"LineChart",GraphicalChild:Al,axisComponents:[{axisType:"xAxis",AxisComp:El},{axisType:"yAxis",AxisComp:cu}],formatAxisMap:mX}),s2=YM({chartName:"BarChart",GraphicalChild:eo,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:El},{axisType:"yAxis",AxisComp:cu}],formatAxisMap:mX}),YX=YM({chartName:"PieChart",GraphicalChild:Os,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:s_},{axisType:"radiusAxis",AxisComp:a_}],formatAxisMap:wye,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),QX={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Ui(t,e){if(F1(t,e))return t[e];throw typeof t[e]=="function"&&QM(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Hd(t,e,r){if(F1(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function F1(t,e){return!PEe(t)&&!Array.isArray(t)?!1:ut(BEe,e)?!0:!(e in Object.prototype||e in Function.prototype)}function REe(t,e){if(!QM(t,e))throw new Error('No access to method "'+e+'"');return t[e]}function QM(t,e){return t==null||typeof t[e]!="function"||ut(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:ut(FEe,e)?!0:!(e in Object.prototype||e in Function.prototype)}function PEe(t){return typeof t=="object"&&t&&t.constructor===Object}var BEe={length:!0,name:!0},FEe={toString:!0,valueOf:!0,toLocaleString:!0};class v_{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return Ui(this.wrappedObject,e)}set(e,r){return Hd(this.wrappedObject,e,r),this}has(e){return F1(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return JX(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){F1(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class ZX{constructor(e,r,n){this.a=e,this.b=r,this.bKeys=n,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,r){return this.bKeys.has(e)?this.b.set(e,r):this.a.set(e,r),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return JX(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function JX(t,e){return{next:()=>{var r=t.next();return r.done?r:{value:e(r.value),done:!1}}}}function rg(){return new Map}function ld(t){if(!t)return rg();if(rW(t))return t;if(y_(t))return new v_(t);throw new Error("createMap can create maps from objects or Maps")}function kEe(t){if(t instanceof v_)return t.wrappedObject;var e={};for(var r of t.keys()){var n=t.get(r);Hd(e,r,n)}return e}function Bt(t){return typeof t=="number"}function Ft(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function uv(t){return typeof t=="bigint"}function wu(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function Ng(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function _a(t){return t&&t.constructor.prototype.isUnit===!0||!1}function Di(t){return typeof t=="string"}var Sr=Array.isArray;function gt(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function lo(t){return Array.isArray(t)||gt(t)}function k1(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Zc(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function ZM(t){return t&&t.constructor.prototype.isRange===!0||!1}function g_(t){return t&&t.constructor.prototype.isIndex===!0||!1}function $Ee(t){return typeof t=="boolean"}function LEe(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function eW(t){return t&&t.constructor.prototype.isHelp===!0||!1}function tW(t){return typeof t=="function"}function qEe(t){return t instanceof Date}function UEe(t){return t instanceof RegExp}function y_(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!wu(t)&&!Ng(t))}function rW(t){return t?t instanceof Map||t instanceof v_||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function jEe(t){return t===null}function zEe(t){return t===void 0}function bf(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ja(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function VEe(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function HEe(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function GEe(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function er(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function wC(t){return er(t)||fn(t)&&t.args.length===1&&er(t.args[0])&&"-+~".includes(t.op)}function Cg(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ul(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function dp(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function wr(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function b_(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function fn(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Cu(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function KEe(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function XEe(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function ri(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function nW(t){return t&&t.constructor.prototype.isChain===!0||!1}function Dr(t){var e=typeof t;return e==="object"?t===null?"null":Ft(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function Ct(t){var e=typeof t;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return Ct(r)});if(t instanceof Date)return new Date(t.valueOf());if(Ft(t))return t;if(y_(t))return WEe(t,Ct);if(e==="function")return t;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function WEe(t,e){var r={};for(var n in t)ut(t,n)&&(r[n]=e(t[n]));return r}function iW(t,e){for(var r in e)ut(e,r)&&(t[r]=e[r]);return t}function Ou(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!Ou(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Ou(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function YEe(t,e,r){var n=!0,i;Object.defineProperty(t,e,{get:function(){return n&&(i=r(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function ut(t,e){return t&&Object.hasOwnProperty.call(t,e)}function QEe(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=t[i];a!==void 0&&(r[i]=a)}return r}var ZEe=["Matrix","Array"],JEe=["number","BigNumber","Fraction"],$e=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(QX)};Fn($e,QX,{MATRIX_OPTIONS:ZEe,NUMBER_OPTIONS:JEe});function KL(){return!0}function Wa(){return!1}function Bh(){}const XL="Argument is not a typed-function.";function aW(){function t(Q){return typeof Q=="object"&&Q!==null&&Q.constructor===Object}const e=[{name:"number",test:function(Q){return typeof Q=="number"}},{name:"string",test:function(Q){return typeof Q=="string"}},{name:"boolean",test:function(Q){return typeof Q=="boolean"}},{name:"Function",test:function(Q){return typeof Q=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Q){return Q instanceof Date}},{name:"RegExp",test:function(Q){return Q instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(Q){return Q===null}},{name:"undefined",test:function(Q){return Q===void 0}}],r={name:"any",test:KL,isAny:!0};let n,i,a=0,o={createCount:0};function s(Q){const oe=n.get(Q);if(oe)return oe;let de='Unknown type "'+Q+'"';const ye=Q.toLowerCase();let _e;for(_e of i)if(_e.toLowerCase()===ye){de+='. Did you mean "'+_e+'" ?';break}throw new TypeError(de)}function l(Q){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const de=oe?s(oe).index:i.length,ye=[];for(let Re=0;Re<Q.length;++Re){if(!Q[Re]||typeof Q[Re].name!="string"||typeof Q[Re].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const qe=Q[Re].name;if(n.has(qe))throw new TypeError('Duplicate type name "'+qe+'"');ye.push(qe),n.set(qe,{name:qe,test:Q[Re].test,isAny:Q[Re].isAny,index:de+Re,conversionsTo:[]})}const _e=i.slice(de);i=i.slice(0,de).concat(ye).concat(_e);for(let Re=de+ye.length;Re<i.length;++Re)n.get(i[Re]).index=Re}function u(){n=new Map,i=[],a=0,l([r],!1)}u(),l(e);function f(){let Q;for(Q of i)n.get(Q).conversionsTo=[];a=0}function d(Q){const oe=i.filter(de=>{const ye=n.get(de);return!ye.isAny&&ye.test(Q)});return oe.length?oe:["any"]}function p(Q){return Q&&typeof Q=="function"&&"_typedFunctionData"in Q}function m(Q,oe,de){if(!p(Q))throw new TypeError(XL);const ye=de&&de.exact,_e=Array.isArray(oe)?oe.join(","):oe,Re=S(_e),qe=b(Re);if(!ye||qe in Q.signatures){const Rt=Q._typedFunctionData.signatureMap.get(qe);if(Rt)return Rt}const Qe=Re.length;let Je;if(ye){Je=[];let Rt;for(Rt in Q.signatures)Je.push(Q._typedFunctionData.signatureMap.get(Rt))}else Je=Q._typedFunctionData.signatures;for(let Rt=0;Rt<Qe;++Rt){const st=Re[Rt],Gt=[];let q;for(q of Je){const pe=O(q.params,Rt);if(!(!pe||st.restParam&&!pe.restParam)){if(!pe.hasAny){const Ie=_(pe);if(st.types.some(He=>!Ie.has(He.name)))continue}Gt.push(q)}}if(Je=Gt,Je.length===0)break}let Ye;for(Ye of Je)if(Ye.params.length<=Qe)return Ye;throw new TypeError("Signature not found (signature: "+(Q.name||"unnamed")+"("+b(Re,", ")+"))")}function y(Q,oe,de){return m(Q,oe,de).implementation}function g(Q,oe){const de=s(oe);if(de.test(Q))return Q;const ye=de.conversionsTo;if(ye.length===0)throw new Error("There are no conversions to "+oe+" defined.");for(let _e=0;_e<ye.length;_e++)if(s(ye[_e].from).test(Q))return ye[_e].convert(Q);throw new Error("Cannot convert "+Q+" to "+oe)}function b(Q){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Q.map(de=>de.name).join(oe)}function E(Q){const oe=Q.indexOf("...")===0,ye=(oe?Q.length>3?Q.slice(3):"any":Q).split("|").map(Qe=>s(Qe.trim()));let _e=!1,Re=oe?"...":"";return{types:ye.map(function(Qe){return _e=Qe.isAny||_e,Re+=Qe.name+"|",{name:Qe.name,typeIndex:Qe.index,test:Qe.test,isAny:Qe.isAny,conversion:null,conversionIndex:-1}}),name:Re.slice(0,-1),hasAny:_e,hasConversion:!1,restParam:oe}}function N(Q){const oe=Q.types.map(qe=>qe.name),de=V(oe);let ye=Q.hasAny,_e=Q.name;const Re=de.map(function(qe){const Qe=s(qe.from);return ye=Qe.isAny||ye,_e+="|"+qe.from,{name:qe.from,typeIndex:Qe.index,test:Qe.test,isAny:Qe.isAny,conversion:qe,conversionIndex:qe.index}});return{types:Q.types.concat(Re),name:_e,hasAny:ye,hasConversion:Re.length>0,restParam:Q.restParam}}function _(Q){return Q.typeSet||(Q.typeSet=new Set,Q.types.forEach(oe=>Q.typeSet.add(oe.name))),Q.typeSet}function S(Q){const oe=[];if(typeof Q!="string")throw new TypeError("Signatures must be strings");const de=Q.trim();if(de==="")return oe;const ye=de.split(",");for(let _e=0;_e<ye.length;++_e){const Re=E(ye[_e].trim());if(Re.restParam&&_e!==ye.length-1)throw new SyntaxError('Unexpected rest parameter "'+ye[_e]+'": only allowed for the last parameter');if(Re.types.length===0)return null;oe.push(Re)}return oe}function x(Q){const oe=ee(Q);return oe?oe.restParam:!1}function A(Q){if(!Q||Q.types.length===0)return KL;if(Q.types.length===1)return s(Q.types[0].name).test;if(Q.types.length===2){const oe=s(Q.types[0].name).test,de=s(Q.types[1].name).test;return function(_e){return oe(_e)||de(_e)}}else{const oe=Q.types.map(function(de){return s(de.name).test});return function(ye){for(let _e=0;_e<oe.length;_e++)if(oe[_e](ye))return!0;return!1}}}function T(Q){let oe,de,ye;if(x(Q)){oe=J(Q).map(A);const _e=oe.length,Re=A(ee(Q)),qe=function(Qe){for(let Je=_e;Je<Qe.length;Je++)if(!Re(Qe[Je]))return!1;return!0};return function(Je){for(let Ye=0;Ye<oe.length;Ye++)if(!oe[Ye](Je[Ye]))return!1;return qe(Je)&&Je.length>=_e+1}}else return Q.length===0?function(Re){return Re.length===0}:Q.length===1?(de=A(Q[0]),function(Re){return de(Re[0])&&Re.length===1}):Q.length===2?(de=A(Q[0]),ye=A(Q[1]),function(Re){return de(Re[0])&&ye(Re[1])&&Re.length===2}):(oe=Q.map(A),function(Re){for(let qe=0;qe<oe.length;qe++)if(!oe[qe](Re[qe]))return!1;return Re.length===oe.length})}function O(Q,oe){return oe<Q.length?Q[oe]:x(Q)?ee(Q):null}function C(Q,oe){const de=O(Q,oe);return de?_(de):new Set}function R(Q){return Q.conversion===null||Q.conversion===void 0}function I(Q,oe){const de=new Set;return Q.forEach(ye=>{const _e=C(ye.params,oe);let Re;for(Re of _e)de.add(Re)}),de.has("any")?["any"]:Array.from(de)}function P(Q,oe,de){let ye,_e;const Re=Q||"unnamed";let qe=de,Qe;for(Qe=0;Qe<oe.length;Qe++){const st=[];if(qe.forEach(Gt=>{const q=O(Gt.params,Qe),pe=A(q);(Qe<Gt.params.length||x(Gt.params))&&pe(oe[Qe])&&st.push(Gt)}),st.length===0){if(_e=I(qe,Qe),_e.length>0){const Gt=d(oe[Qe]);return ye=new TypeError("Unexpected type of argument in function "+Re+" (expected: "+_e.join(" or ")+", actual: "+Gt.join(" | ")+", index: "+Qe+")"),ye.data={category:"wrongType",fn:Re,index:Qe,actual:Gt,expected:_e},ye}}else qe=st}const Je=qe.map(function(st){return x(st.params)?1/0:st.params.length});if(oe.length<Math.min.apply(null,Je))return _e=I(qe,Qe),ye=new TypeError("Too few arguments in function "+Re+" (expected: "+_e.join(" or ")+", index: "+oe.length+")"),ye.data={category:"tooFewArgs",fn:Re,index:oe.length,expected:_e},ye;const Ye=Math.max.apply(null,Je);if(oe.length>Ye)return ye=new TypeError("Too many arguments in function "+Re+" (expected: "+Ye+", actual: "+oe.length+")"),ye.data={category:"tooManyArgs",fn:Re,index:oe.length,expectedLength:Ye},ye;const Rt=[];for(let st=0;st<oe.length;++st)Rt.push(d(oe[st]).join("|"));return ye=new TypeError('Arguments of type "'+Rt.join(", ")+'" do not match any of the defined signatures of function '+Re+"."),ye.data={category:"mismatch",actual:Rt},ye}function F(Q){let oe=i.length+1;for(let de=0;de<Q.types.length;de++)R(Q.types[de])&&(oe=Math.min(oe,Q.types[de].typeIndex));return oe}function z(Q){let oe=a+1;for(let de=0;de<Q.types.length;de++)R(Q.types[de])||(oe=Math.min(oe,Q.types[de].conversionIndex));return oe}function U(Q,oe){if(Q.hasAny){if(!oe.hasAny)return 1}else if(oe.hasAny)return-1;if(Q.restParam){if(!oe.restParam)return 1}else if(oe.restParam)return-1;if(Q.hasConversion){if(!oe.hasConversion)return 1}else if(oe.hasConversion)return-1;const de=F(Q)-F(oe);if(de<0)return-1;if(de>0)return 1;const ye=z(Q)-z(oe);return ye<0?-1:ye>0?1:0}function k(Q,oe){const de=Q.params,ye=oe.params,_e=ee(de),Re=ee(ye),qe=x(de),Qe=x(ye);if(qe&&_e.hasAny){if(!Qe||!Re.hasAny)return 1}else if(Qe&&Re.hasAny)return-1;let Je=0,Ye=0,Rt;for(Rt of de)Rt.hasAny&&++Je,Rt.hasConversion&&++Ye;let st=0,Gt=0;for(Rt of ye)Rt.hasAny&&++st,Rt.hasConversion&&++Gt;if(Je!==st)return Je-st;if(qe&&_e.hasConversion){if(!Qe||!Re.hasConversion)return 1}else if(Qe&&Re.hasConversion)return-1;if(Ye!==Gt)return Ye-Gt;if(qe){if(!Qe)return 1}else if(Qe)return-1;const q=(de.length-ye.length)*(qe?-1:1);if(q!==0)return q;const pe=[];let Ie=0;for(let ht=0;ht<de.length;++ht){const dt=U(de[ht],ye[ht]);pe.push(dt),Ie+=dt}if(Ie!==0)return Ie;let He;for(He of pe)if(He!==0)return He;return 0}function V(Q){if(Q.length===0)return[];const oe=Q.map(s);Q.length>1&&oe.sort((_e,Re)=>_e.index-Re.index);let de=oe[0].conversionsTo;if(Q.length===1)return de;de=de.concat([]);const ye=new Set(Q);for(let _e=1;_e<oe.length;++_e){let Re;for(Re of oe[_e].conversionsTo)ye.has(Re.from)||(de.push(Re),ye.add(Re.from))}return de}function Y(Q,oe){let de=oe;if(Q.some(_e=>_e.hasConversion)){const _e=x(Q),Re=Q.map(H);de=function(){const Qe=[],Je=_e?arguments.length-1:arguments.length;for(let Ye=0;Ye<Je;Ye++)Qe[Ye]=Re[Ye](arguments[Ye]);return _e&&(Qe[Je]=arguments[Je].map(Re[Je])),oe.apply(this,Qe)}}let ye=de;if(x(Q)){const _e=Q.length-1;ye=function(){return de.apply(this,ue(arguments,0,_e).concat([ue(arguments,_e)]))}}return ye}function H(Q){let oe,de,ye,_e;const Re=[],qe=[];switch(Q.types.forEach(function(Qe){Qe.conversion&&(Re.push(s(Qe.conversion.from).test),qe.push(Qe.conversion.convert))}),qe.length){case 0:return function(Je){return Je};case 1:return oe=Re[0],ye=qe[0],function(Je){return oe(Je)?ye(Je):Je};case 2:return oe=Re[0],de=Re[1],ye=qe[0],_e=qe[1],function(Je){return oe(Je)?ye(Je):de(Je)?_e(Je):Je};default:return function(Je){for(let Ye=0;Ye<qe.length;Ye++)if(Re[Ye](Je))return qe[Ye](Je);return Je}}}function j(Q){function oe(de,ye,_e){if(ye<de.length){const Re=de[ye];let qe=[];if(Re.restParam){const Qe=Re.types.filter(R);Qe.length<Re.types.length&&qe.push({types:Qe,name:"..."+Qe.map(Je=>Je.name).join("|"),hasAny:Qe.some(Je=>Je.isAny),hasConversion:!1,restParam:!0}),qe.push(Re)}else qe=Re.types.map(function(Qe){return{types:[Qe],name:Qe.name,hasAny:Qe.isAny,hasConversion:Qe.conversion,restParam:!1}});return ie(qe,function(Qe){return oe(de,ye+1,_e.concat([Qe]))})}else return[_e]}return oe(Q,0,[])}function Z(Q,oe){const de=Math.max(Q.length,oe.length);for(let Qe=0;Qe<de;Qe++){const Je=C(Q,Qe),Ye=C(oe,Qe);let Rt=!1,st;for(st of Ye)if(Je.has(st)){Rt=!0;break}if(!Rt)return!1}const ye=Q.length,_e=oe.length,Re=x(Q),qe=x(oe);return Re?qe?ye===_e:_e>=ye:qe?ye>=_e:ye===_e}function $(Q){return Q.map(oe=>We(oe)?Ce(oe.referToSelf.callback):je(oe)?he(oe.referTo.references,oe.referTo.callback):oe)}function W(Q,oe,de){const ye=[];let _e;for(_e of Q){let Re=de[_e];if(typeof Re!="number")throw new TypeError('No definition for referenced signature "'+_e+'"');if(Re=oe[Re],typeof Re!="function")return!1;ye.push(Re)}return ye}function K(Q,oe,de){const ye=$(Q),_e=new Array(ye.length).fill(!1);let Re=!0;for(;Re;){Re=!1;let qe=!0;for(let Qe=0;Qe<ye.length;++Qe){if(_e[Qe])continue;const Je=ye[Qe];if(We(Je))ye[Qe]=Je.referToSelf.callback(de),ye[Qe].referToSelf=Je.referToSelf,_e[Qe]=!0,qe=!1;else if(je(Je)){const Ye=W(Je.referTo.references,ye,oe);Ye?(ye[Qe]=Je.referTo.callback.apply(this,Ye),ye[Qe].referTo=Je.referTo,_e[Qe]=!0,qe=!1):Re=!0}}if(qe&&Re)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ye}function ge(Q){const oe=/\bthis(\(|\.signatures\b)/;Object.keys(Q).forEach(de=>{const ye=Q[de];if(oe.test(ye.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function me(Q,oe){if(o.createCount++,Object.keys(oe).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&ge(oe);const de=[],ye=[],_e={},Re=[];let qe;for(qe in oe){if(!Object.prototype.hasOwnProperty.call(oe,qe))continue;const Qt=S(qe);if(!Qt)continue;de.forEach(function(Jr){if(Z(Jr,Qt))throw new TypeError('Conflicting signatures "'+b(Jr)+'" and "'+b(Qt)+'".')}),de.push(Qt);const Dn=ye.length;ye.push(oe[qe]);const Wo=Qt.map(N);let Ri;for(Ri of j(Wo)){const Jr=b(Ri);Re.push({params:Ri,name:Jr,fn:Dn}),Ri.every(ks=>!ks.hasConversion)&&(_e[Jr]=Dn)}}Re.sort(k);const Qe=K(ye,_e,Xo);let Je;for(Je in _e)Object.prototype.hasOwnProperty.call(_e,Je)&&(_e[Je]=Qe[_e[Je]]);const Ye=[],Rt=new Map;for(Je of Re)Rt.has(Je.name)||(Je.fn=Qe[Je.fn],Ye.push(Je),Rt.set(Je.name,Je));const st=Ye[0]&&Ye[0].params.length<=2&&!x(Ye[0].params),Gt=Ye[1]&&Ye[1].params.length<=2&&!x(Ye[1].params),q=Ye[2]&&Ye[2].params.length<=2&&!x(Ye[2].params),pe=Ye[3]&&Ye[3].params.length<=2&&!x(Ye[3].params),Ie=Ye[4]&&Ye[4].params.length<=2&&!x(Ye[4].params),He=Ye[5]&&Ye[5].params.length<=2&&!x(Ye[5].params),ht=st&&Gt&&q&&pe&&Ie&&He;for(let Qt=0;Qt<Ye.length;++Qt)Ye[Qt].test=T(Ye[Qt].params);const dt=st?A(Ye[0].params[0]):Wa,xr=Gt?A(Ye[1].params[0]):Wa,Bs=q?A(Ye[2].params[0]):Wa,Ia=pe?A(Ye[3].params[0]):Wa,oc=Ie?A(Ye[4].params[0]):Wa,Vo=He?A(Ye[5].params[0]):Wa,Fu=st?A(Ye[0].params[1]):Wa,Ho=Gt?A(Ye[1].params[1]):Wa,Uf=q?A(Ye[2].params[1]):Wa,Lr=pe?A(Ye[3].params[1]):Wa,un=Ie?A(Ye[4].params[1]):Wa,rn=He?A(Ye[5].params[1]):Wa;for(let Qt=0;Qt<Ye.length;++Qt)Ye[Qt].implementation=Y(Ye[Qt].params,Ye[Qt].fn);const Xi=st?Ye[0].implementation:Bh,sc=Gt?Ye[1].implementation:Bh,Sp=q?Ye[2].implementation:Bh,Go=pe?Ye[3].implementation:Bh,jf=Ie?Ye[4].implementation:Bh,Fs=He?Ye[5].implementation:Bh,Ko=st?Ye[0].params.length:-1,mo=Gt?Ye[1].params.length:-1,Ra=q?Ye[2].params.length:-1,Pa=pe?Ye[3].params.length:-1,ii=Ie?Ye[4].params.length:-1,Zr=He?Ye[5].params.length:-1,uc=ht?6:0,ku=Ye.length,la=Ye.map(Qt=>Qt.test),vo=Ye.map(Qt=>Qt.implementation),zf=function(){for(let Dn=uc;Dn<ku;Dn++)if(la[Dn](arguments))return vo[Dn].apply(this,arguments);return o.onMismatch(Q,arguments,Ye)};function Xo(Qt,Dn){return arguments.length===Ko&&dt(Qt)&&Fu(Dn)?Xi.apply(this,arguments):arguments.length===mo&&xr(Qt)&&Ho(Dn)?sc.apply(this,arguments):arguments.length===Ra&&Bs(Qt)&&Uf(Dn)?Sp.apply(this,arguments):arguments.length===Pa&&Ia(Qt)&&Lr(Dn)?Go.apply(this,arguments):arguments.length===ii&&oc(Qt)&&un(Dn)?jf.apply(this,arguments):arguments.length===Zr&&Vo(Qt)&&rn(Dn)?Fs.apply(this,arguments):zf.apply(this,arguments)}try{Object.defineProperty(Xo,"name",{value:Q})}catch{}return Xo.signatures=_e,Xo._typedFunctionData={signatures:Ye,signatureMap:Rt},Xo}function Ee(Q,oe,de){throw P(Q,oe,de)}function J(Q){return ue(Q,0,Q.length-1)}function ee(Q){return Q[Q.length-1]}function ue(Q,oe,de){return Array.prototype.slice.call(Q,oe,de)}function le(Q,oe){for(let de=0;de<Q.length;de++)if(oe(Q[de]))return Q[de]}function ie(Q,oe){return Array.prototype.concat.apply([],Q.map(oe))}function Te(){const Q=J(arguments).map(de=>b(S(de))),oe=ee(arguments);if(typeof oe!="function")throw new TypeError("Callback function expected as last argument");return he(Q,oe)}function he(Q,oe){return{referTo:{references:Q,callback:oe}}}function Ce(Q){if(typeof Q!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:Q}}}function je(Q){return Q&&typeof Q.referTo=="object"&&Array.isArray(Q.referTo.references)&&typeof Q.referTo.callback=="function"}function We(Q){return Q&&typeof Q.referToSelf=="object"&&typeof Q.referToSelf.callback=="function"}function xe(Q,oe){if(!Q)return oe;if(oe&&oe!==Q){const de=new Error("Function names do not match (expected: "+Q+", actual: "+oe+")");throw de.data={actual:oe,expected:Q},de}return Q}function ze(Q){let oe;for(const de in Q)Object.prototype.hasOwnProperty.call(Q,de)&&(p(Q[de])||typeof Q[de].signature=="string")&&(oe=xe(oe,Q[de].name));return oe}function te(Q,oe){let de;for(de in oe)if(Object.prototype.hasOwnProperty.call(oe,de)){if(de in Q&&oe[de]!==Q[de]){const ye=new Error('Signature "'+de+'" is defined twice');throw ye.data={signature:de,sourceFunction:oe[de],destFunction:Q[de]},ye}Q[de]=oe[de]}}const ce=o;o=function(Q){const oe=typeof Q=="string",de=oe?1:0;let ye=oe?Q:"";const _e={};for(let Re=de;Re<arguments.length;++Re){const qe=arguments[Re];let Qe={},Je;if(typeof qe=="function"?(Je=qe.name,typeof qe.signature=="string"?Qe[qe.signature]=qe:p(qe)&&(Qe=qe.signatures)):t(qe)&&(Qe=qe,oe||(Je=ze(qe))),Object.keys(Qe).length===0){const Ye=new TypeError("Argument to 'typed' at index "+Re+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Ye.data={index:Re,argument:qe},Ye}oe||(ye=xe(ye,Je)),te(_e,Qe)}return me(ye||"",_e)},o.create=aW,o.createCount=ce.createCount,o.onMismatch=Ee,o.throwMismatchError=Ee,o.createError=P,o.clear=u,o.clearConversions=f,o.addTypes=l,o._findType=s,o.referTo=Te,o.referToSelf=Ce,o.convert=g,o.findSignature=m,o.find=y,o.isTypedFunction=p,o.warnAgainstDeprecatedThis=!0,o.addType=function(Q,oe){let de="any";oe!==!1&&n.has("Object")&&(de="Object"),o.addTypes([Q],de)};function be(Q){if(!Q||typeof Q.from!="string"||typeof Q.to!="string"||typeof Q.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(Q.to===Q.from)throw new SyntaxError('Illegal to define conversion from "'+Q.from+'" to itself.')}return o.addConversion=function(Q){let oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};be(Q);const de=s(Q.to),ye=de.conversionsTo.find(_e=>_e.from===Q.from);if(ye)if(oe&&oe.override)o.removeConversion({from:ye.from,to:Q.to,convert:ye.convert});else throw new Error('There is already a conversion from "'+Q.from+'" to "'+de.name+'"');de.conversionsTo.push({from:Q.from,convert:Q.convert,index:a++})},o.addConversions=function(Q,oe){Q.forEach(de=>o.addConversion(de,oe))},o.removeConversion=function(Q){be(Q);const oe=s(Q.to),de=le(oe.conversionsTo,_e=>_e.from===Q.from);if(!de)throw new Error("Attempt to remove nonexistent conversion from "+Q.from+" to "+Q.to);if(de.convert!==Q.convert)throw new Error("Conversion to remove does not match existing conversion");const ye=oe.conversionsTo.indexOf(de);oe.conversionsTo.splice(ye,1)},o.resolve=function(Q,oe){if(!p(Q))throw new TypeError(XL);const de=Q._typedFunctionData.signatures;for(let ye=0;ye<de.length;++ye)if(de[ye].test(oe))return de[ye];return null},o}const $1=aW();function ne(t,e,r,n){function i(a){var o=QEe(a,e.map(rSe));return eSe(t,e,a),r(o)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function eSe(t,e,r){var n=e.filter(a=>!tSe(a)).every(a=>r[a]!==void 0);if(!n){var i=e.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function tSe(t){return t&&t[0]==="?"}function rSe(t){return t&&t[0]==="?"?t.slice(1):t}function ft(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function Ql(t,e){if(e.number==="bigint")try{BigInt(t)}catch{return e.numberFallback}return e.number}var Sl=Math.sign||function(t){return t>0?1:t<0?-1:0},nSe=Math.log2||function(e){return Math.log(e)/Math.LN2},iSe=Math.log10||function(e){return Math.log(e)/Math.LN10},aSe=Math.log1p||function(t){return Math.log(t+1)},oSe=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},sSe=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function u2(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!ft(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!ft(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),a="i".concat(r)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(i).concat(t.toString(e)).concat(a)}function sf(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:r,precision:n,wordSize:i}=oW(e);switch(r){case"fixed":return sW(t,n);case"exponential":return uW(t,n);case"engineering":return uSe(t,n);case"bin":return u2(t,2,i);case"oct":return u2(t,8,i);case"hex":return u2(t,16,i);case"auto":return lSe(t,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function oW(t){var e="auto",r,n;if(t!==void 0)if(Bt(t))r=t;else if(Ft(t))r=t.toNumber();else if(y_(t))t.precision!==void 0&&(r=WL(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(n=WL(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:r,wordSize:n}}function Og(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function uSe(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Og(t),n=w_(r,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Bt(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var s=Math.abs(i-o)-(a.length-1),l=0;l<s;l++)a.push(0);for(var u=Math.abs(i-o),f=1;u>0;)f++,u--;var d=a.slice(f).join(""),p=Bt(e)&&d.length||d.match(/[1-9]/)?"."+d:"",m=a.slice(0,f).join("")+p+"e"+(i>=0?"+":"")+o.toString();return n.sign+m}function sW(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Og(t),n=typeof e=="number"?w_(r,r.exponent+1+e):r,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(cd(o-i.length))),a<0&&(i=cd(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function uW(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Og(t),n=e?w_(r,e):r,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(cd(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function lSe(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=YL(r?.lowerExp,-3),i=YL(r?.upperExp,5),a=Og(t),o=e?w_(a,e):a;if(o.exponent<n||o.exponent>=i)return uW(t,e);var s=o.coefficients,l=o.exponent;s.length<e&&(s=s.concat(cd(e-s.length))),s=s.concat(cd(l-s.length+1+(s.length<e?e-s.length:0))),s=cd(-l).concat(s);var u=l>0?l:0;return u<s.length-1&&s.splice(u+1,0,"."),o.sign+s.join("")}function w_(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function cd(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function cSe(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function vi(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(t)||isNaN(e)?!1:!isFinite(t)||!isFinite(e)?t===e:t===e?!0:Math.abs(t-e)<=Math.max(r*Math.max(Math.abs(t),Math.abs(e)),n)}var fSe=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},hSe=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},dSe=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},pSe=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},mSe=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},vSe=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function gSe(t,e){var r=!0,n=e>0?!0:e<0?!1:1/e===1/0;return r^n?-t:t}function WL(t,e){if(Bt(t))return t;if(Ft(t))return t.toNumber();e()}function YL(t,e){return Bt(t)?t:Ft(t)?t.toNumber():e}var lW=function(){return lW=$1.create,$1},ySe=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],bSe=ne("typed",ySe,function(e){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=e,o=lW();return o.clear(),o.addTypes([{name:"number",test:Bt},{name:"Complex",test:wu},{name:"BigNumber",test:Ft},{name:"bigint",test:uv},{name:"Fraction",test:Ng},{name:"Unit",test:_a},{name:"identifier",test:s=>Di&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Di},{name:"Chain",test:nW},{name:"Array",test:Sr},{name:"Matrix",test:gt},{name:"DenseMatrix",test:k1},{name:"SparseMatrix",test:Zc},{name:"Range",test:ZM},{name:"Index",test:g_},{name:"boolean",test:$Ee},{name:"ResultSet",test:LEe},{name:"Help",test:eW},{name:"function",test:tW},{name:"Date",test:qEe},{name:"RegExp",test:UEe},{name:"null",test:jEe},{name:"undefined",test:zEe},{name:"AccessorNode",test:bf},{name:"ArrayNode",test:Ja},{name:"AssignmentNode",test:VEe},{name:"BlockNode",test:HEe},{name:"ConditionalNode",test:GEe},{name:"ConstantNode",test:er},{name:"FunctionNode",test:Ul},{name:"FunctionAssignmentNode",test:Cg},{name:"IndexNode",test:dp},{name:"Node",test:wr},{name:"ObjectNode",test:b_},{name:"OperatorNode",test:fn},{name:"ParenthesisNode",test:Cu},{name:"RangeNode",test:KEe},{name:"RelationalNode",test:XEe},{name:"SymbolNode",test:ri},{name:"Map",test:rW},{name:"Object",test:y_}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||D0(l),cSe(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return n||N0(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||N0(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||D0(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return a||C0(l),new a(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||N0(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||C0(l);var u=new a(l);if(u.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(l){var u=Number(l);if(isNaN(u))throw new Error('Cannot convert "'+l+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(l){r||D0(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){a||C0(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||N0(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||D0(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||C0(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||wSe(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(s,l,u)=>{var f=o.createError(s,l,u);if(["wrongType","mismatch"].includes(f.data.category)&&l.length===1&&lo(l[0])&&u.some(p=>!p.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=f.data,d}throw f},o.onMismatch=(s,l,u)=>{var f=o.createError(s,l,u);if(["wrongType","mismatch"].includes(f.data.category)&&l.length===1&&lo(l[0])&&u.some(p=>!p.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=f.data,d}throw f},o});function D0(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function N0(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function wSe(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function C0(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var _Se="ResultSet",xSe=[],ASe=ne(_Se,xSe,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Jh=9e15,Zl=1e9,_C="0123456789abcdef",L1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",q1="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",xC={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Jh,maxE:Jh,crypto:!1},cW,vu,It=!0,__="[DecimalError] ",jl=__+"Invalid argument: ",fW=__+"Precision limit exceeded",hW=__+"crypto unavailable",dW="[object Decimal]",Oi=Math.floor,Bn=Math.pow,ESe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,SSe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,TSe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,pW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Io=1e7,_t=7,DSe=9007199254740991,NSe=L1.length-1,AC=q1.length-1,Ze={toStringTag:dW};Ze.absoluteValue=Ze.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),vt(t)};Ze.ceil=function(){return vt(new this.constructor(this),this.e+1,2)};Ze.clampedTo=Ze.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(jl+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};Ze.comparedTo=Ze.cmp=function(t){var e,r,n,i,a=this,o=a.d,s=(t=new a.constructor(t)).d,l=a.s,u=t.s;if(!o||!s)return!l||!u?NaN:l!==u?l:o===s?0:!o^l<0?1:-1;if(!o[0]||!s[0])return o[0]?l:s[0]?-u:0;if(l!==u)return l;if(a.e!==t.e)return a.e>t.e^l<0?1:-1;for(n=o.length,i=s.length,e=0,r=n<i?n:i;e<r;++e)if(o[e]!==s[e])return o[e]>s[e]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};Ze.cosine=Ze.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+_t,n.rounding=1,r=CSe(n,bW(n,r)),n.precision=t,n.rounding=e,vt(vu==2||vu==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};Ze.cubeRoot=Ze.cbrt=function(){var t,e,r,n,i,a,o,s,l,u,f=this,d=f.constructor;if(!f.isFinite()||f.isZero())return new d(f);for(It=!1,a=f.s*Bn(f.s*f,1/3),!a||Math.abs(a)==1/0?(r=hi(f.d),t=f.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=Bn(r,1/3),t=Oi((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new d(r),n.s=f.s):n=new d(a.toString()),o=(t=d.precision)+3;;)if(s=n,l=s.times(s).times(s),u=l.plus(f),n=$r(u.plus(f).times(s),u.plus(l),o+2,1),hi(s.d).slice(0,o)===(r=hi(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(vt(s,t+1,0),s.times(s).times(s).eq(f))){n=s;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(vt(n,t+1,1),e=!n.times(n).times(n).eq(f));break}return It=!0,vt(n,t,d.rounding,e)};Ze.decimalPlaces=Ze.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-Oi(this.e/_t))*_t,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};Ze.dividedBy=Ze.div=function(t){return $r(this,new this.constructor(t))};Ze.dividedToIntegerBy=Ze.divToInt=function(t){var e=this,r=e.constructor;return vt($r(e,new r(t),0,1,1),r.precision,r.rounding)};Ze.equals=Ze.eq=function(t){return this.cmp(t)===0};Ze.floor=function(){return vt(new this.constructor(this),this.e+1,3)};Ze.greaterThan=Ze.gt=function(t){return this.cmp(t)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(t){var e=this.cmp(t);return e==1||e===0};Ze.hyperbolicCosine=Ze.cosh=function(){var t,e,r,n,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(t=Math.ceil(i/3),e=(1/A_(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=Gd(o,1,a.times(e),new o(1),!0);for(var l,u=t,f=new o(8);u--;)l=a.times(a),a=s.minus(l.times(f.minus(l.times(f))));return vt(a,o.precision=r,o.rounding=n,!0)};Ze.hyperbolicSine=Ze.sinh=function(){var t,e,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Gd(a,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/A_(5,t)),i=Gd(a,2,i,i,!0);for(var o,s=new a(5),l=new a(16),u=new a(20);t--;)o=i.times(i),i=i.times(s.plus(o.times(l.times(o).plus(u))))}return a.precision=e,a.rounding=r,vt(i,e,r,!0)};Ze.hyperbolicTangent=Ze.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,$r(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};Ze.inverseCosine=Ze.acos=function(){var t=this,e=t.constructor,r=t.abs().cmp(1),n=e.precision,i=e.rounding;return r!==-1?r===0?t.isNeg()?hs(e,n,i):new e(0):new e(NaN):t.isZero()?hs(e,n+4,i).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=i,t.times(2))};Ze.inverseHyperbolicCosine=Ze.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,It=!1,r=r.times(r).minus(1).sqrt().plus(r),It=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};Ze.inverseHyperbolicSine=Ze.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,It=!1,r=r.times(r).plus(1).sqrt().plus(r),It=!0,n.precision=t,n.rounding=e,r.ln())};Ze.inverseHyperbolicTangent=Ze.atanh=function(){var t,e,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,e=a.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?vt(new a(i),t,e,!0):(a.precision=r=n-i.e,i=$r(i.plus(1),new a(1).minus(i),r+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=e,i.times(.5))):new a(NaN)};Ze.inverseSine=Ze.asin=function(){var t,e,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),r=a.precision,n=a.rounding,e!==-1?e===0?(t=hs(a,r+4,n).times(.5),t.s=i.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};Ze.inverseTangent=Ze.atan=function(){var t,e,r,n,i,a,o,s,l,u=this,f=u.constructor,d=f.precision,p=f.rounding;if(u.isFinite()){if(u.isZero())return new f(u);if(u.abs().eq(1)&&d+4<=AC)return o=hs(f,d+4,p).times(.25),o.s=u.s,o}else{if(!u.s)return new f(NaN);if(d+4<=AC)return o=hs(f,d+4,p).times(.5),o.s=u.s,o}for(f.precision=s=d+10,f.rounding=1,r=Math.min(28,s/_t+2|0),t=r;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(It=!1,e=Math.ceil(s/_t),n=1,l=u.times(u),o=new f(u),i=u;t!==-1;)if(i=i.times(l),a=o.minus(i.div(n+=2)),i=i.times(l),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===a.d[t]&&t--;);return r&&(o=o.times(2<<r-1)),It=!0,vt(o,f.precision=d,f.rounding=p,!0)};Ze.isFinite=function(){return!!this.d};Ze.isInteger=Ze.isInt=function(){return!!this.d&&Oi(this.e/_t)>this.d.length-2};Ze.isNaN=function(){return!this.s};Ze.isNegative=Ze.isNeg=function(){return this.s<0};Ze.isPositive=Ze.isPos=function(){return this.s>0};Ze.isZero=function(){return!!this.d&&this.d[0]===0};Ze.lessThan=Ze.lt=function(t){return this.cmp(t)<0};Ze.lessThanOrEqualTo=Ze.lte=function(t){return this.cmp(t)<1};Ze.logarithm=Ze.log=function(t){var e,r,n,i,a,o,s,l,u=this,f=u.constructor,d=f.precision,p=f.rounding,m=5;if(t==null)t=new f(10),e=!0;else{if(t=new f(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new f(NaN);e=t.eq(10)}if(r=u.d,u.s<0||!r||!r[0]||u.eq(1))return new f(r&&!r[0]?-1/0:u.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(It=!1,s=d+m,o=Tl(u,s),n=e?U1(f,s+10):Tl(t,s),l=$r(o,n,s,1),ng(l.d,i=d,p))do if(s+=10,o=Tl(u,s),n=e?U1(f,s+10):Tl(t,s),l=$r(o,n,s,1),!a){+hi(l.d).slice(i+1,i+15)+1==1e14&&(l=vt(l,d+1,0));break}while(ng(l.d,i+=10,p));return It=!0,vt(l,d,p)};Ze.minus=Ze.sub=function(t){var e,r,n,i,a,o,s,l,u,f,d,p,m=this,y=m.constructor;if(t=new y(t),!m.d||!t.d)return!m.s||!t.s?t=new y(NaN):m.d?t.s=-t.s:t=new y(t.d||m.s!==t.s?m:NaN),t;if(m.s!=t.s)return t.s=-t.s,m.plus(t);if(u=m.d,p=t.d,s=y.precision,l=y.rounding,!u[0]||!p[0]){if(p[0])t.s=-t.s;else if(u[0])t=new y(m);else return new y(l===3?-0:0);return It?vt(t,s,l):t}if(r=Oi(t.e/_t),f=Oi(m.e/_t),u=u.slice(),a=f-r,a){for(d=a<0,d?(e=u,a=-a,o=p.length):(e=p,r=f,o=u.length),n=Math.max(Math.ceil(s/_t),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=u.length,o=p.length,d=n<o,d&&(o=n),n=0;n<o;n++)if(u[n]!=p[n]){d=u[n]<p[n];break}a=0}for(d&&(e=u,u=p,p=e,t.s=-t.s),o=u.length,n=p.length-o;n>0;--n)u[o++]=0;for(n=p.length;n>a;){if(u[--n]<p[n]){for(i=n;i&&u[--i]===0;)u[i]=Io-1;--u[i],u[n]+=Io}u[n]-=p[n]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=x_(u,r),It?vt(t,s,l):t):new y(l===3?-0:0)};Ze.modulo=Ze.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?vt(new n(r),n.precision,n.rounding):(It=!1,n.modulo==9?(e=$r(r,t.abs(),0,3,1),e.s*=t.s):e=$r(r,t,0,n.modulo,1),e=e.times(t),It=!0,r.minus(e))};Ze.naturalExponential=Ze.exp=function(){return EC(this)};Ze.naturalLogarithm=Ze.ln=function(){return Tl(this)};Ze.negated=Ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s,vt(t)};Ze.plus=Ze.add=function(t){var e,r,n,i,a,o,s,l,u,f,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return!d.s||!t.s?t=new p(NaN):d.d||(t=new p(t.d||d.s===t.s?d:NaN)),t;if(d.s!=t.s)return t.s=-t.s,d.minus(t);if(u=d.d,f=t.d,s=p.precision,l=p.rounding,!u[0]||!f[0])return f[0]||(t=new p(d)),It?vt(t,s,l):t;if(a=Oi(d.e/_t),n=Oi(t.e/_t),u=u.slice(),i=a-n,i){for(i<0?(r=u,i=-i,o=f.length):(r=f,n=a,o=u.length),a=Math.ceil(s/_t),o=a>o?a+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=u.length,i=f.length,o-i<0&&(i=o,r=f,f=u,u=r),e=0;i;)e=(u[--i]=u[i]+f[i]+e)/Io|0,u[i]%=Io;for(e&&(u.unshift(e),++n),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=x_(u,n),It?vt(t,s,l):t};Ze.precision=Ze.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(jl+t);return r.d?(e=mW(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};Ze.round=function(){var t=this,e=t.constructor;return vt(new e(t),t.e+1,e.rounding)};Ze.sine=Ze.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+_t,n.rounding=1,r=MSe(n,bW(n,r)),n.precision=t,n.rounding=e,vt(vu>2?r.neg():r,t,e,!0)):new n(NaN)};Ze.squareRoot=Ze.sqrt=function(){var t,e,r,n,i,a,o=this,s=o.d,l=o.e,u=o.s,f=o.constructor;if(u!==1||!s||!s[0])return new f(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);for(It=!1,u=Math.sqrt(+o),u==0||u==1/0?(e=hi(s),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=Oi((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),n=new f(e)):n=new f(u.toString()),r=(l=f.precision)+3;;)if(a=n,n=a.plus($r(o,a,r+2,1)).times(.5),hi(a.d).slice(0,r)===(e=hi(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(vt(a,l+1,0),a.times(a).eq(o))){n=a;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(vt(n,l+1,1),t=!n.times(n).eq(o));break}return It=!0,vt(n,l,f.rounding,t)};Ze.tangent=Ze.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=$r(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,vt(vu==2||vu==4?r.neg():r,t,e,!0)):new n(NaN)};Ze.times=Ze.mul=function(t){var e,r,n,i,a,o,s,l,u,f=this,d=f.constructor,p=f.d,m=(t=new d(t)).d;if(t.s*=f.s,!p||!p[0]||!m||!m[0])return new d(!t.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?t.s/0:t.s*0);for(r=Oi(f.e/_t)+Oi(t.e/_t),l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+m[n]*p[i-n-1]+e,a[i--]=s%Io|0,e=s/Io|0;a[i]=(a[i]+e)%Io|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=x_(a,r),It?vt(t,d.precision,d.rounding):t};Ze.toBinary=function(t,e){return JM(this,2,t,e)};Ze.toDecimalPlaces=Ze.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(sa(t,0,Zl),e===void 0?e=n.rounding:sa(e,0,8),vt(r,t+r.e+1,e))};Ze.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ts(n,!0):(sa(t,0,Zl),e===void 0?e=i.rounding:sa(e,0,8),n=vt(new i(n),t+1,e),r=Ts(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};Ze.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?r=Ts(i):(sa(t,0,Zl),e===void 0?e=a.rounding:sa(e,0,8),n=vt(new a(i),t+i.e+1,e),r=Ts(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};Ze.toFraction=function(t){var e,r,n,i,a,o,s,l,u,f,d,p,m=this,y=m.d,g=m.constructor;if(!y)return new g(m);if(u=r=new g(1),n=l=new g(0),e=new g(n),a=e.e=mW(y)-m.e-1,o=a%_t,e.d[0]=Bn(10,o<0?_t+o:o),t==null)t=a>0?e:u;else{if(s=new g(t),!s.isInt()||s.lt(u))throw Error(jl+s);t=s.gt(e)?a>0?e:u:s}for(It=!1,s=new g(hi(y)),f=g.precision,g.precision=a=y.length*_t*2;d=$r(s,e,0,1,1),i=r.plus(d.times(n)),i.cmp(t)!=1;)r=n,n=i,i=u,u=l.plus(d.times(i)),l=i,i=e,e=s.minus(d.times(i)),s=i;return i=$r(t.minus(r),n,0,1,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=m.s,p=$r(u,n,a,1).minus(m).abs().cmp($r(l,r,a,1).minus(m).abs())<1?[u,n]:[l,r],g.precision=f,It=!0,p};Ze.toHexadecimal=Ze.toHex=function(t,e){return JM(this,16,t,e)};Ze.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:sa(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(It=!1,r=$r(r,t,0,e,1).times(t),It=!0,vt(r)):(t.s=r.s,r=t),r};Ze.toNumber=function(){return+this};Ze.toOctal=function(t,e){return JM(this,8,t,e)};Ze.toPower=Ze.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=+(t=new l(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new l(Bn(+s,u));if(s=new l(s),s.eq(1))return s;if(n=l.precision,a=l.rounding,t.eq(1))return vt(s,n,a);if(e=Oi(t.e/_t),e>=t.d.length-1&&(r=u<0?-u:u)<=DSe)return i=vW(l,s,r,n),t.s<0?new l(1).div(i):vt(i,n,a);if(o=s.s,o<0){if(e<t.d.length-1)return new l(NaN);if((t.d[e]&1)==0&&(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return r=Bn(+s,u),e=r==0||!isFinite(r)?Oi(u*(Math.log("0."+hi(s.d))/Math.LN10+s.e+1)):new l(r+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(It=!1,l.rounding=s.s=1,r=Math.min(12,(e+"").length),i=EC(t.times(Tl(s,n+r)),n),i.d&&(i=vt(i,n+5,1),ng(i.d,n,a)&&(e=n+10,i=vt(EC(t.times(Tl(s,e+r)),e),e+5,1),+hi(i.d).slice(n+1,n+15)+1==1e14&&(i=vt(i,n+1,0)))),i.s=o,It=!0,l.rounding=a,vt(i,n,a))};Ze.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ts(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(sa(t,1,Zl),e===void 0?e=i.rounding:sa(e,0,8),n=vt(new i(n),t,e),r=Ts(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};Ze.toSignificantDigits=Ze.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(sa(t,1,Zl),e===void 0?e=n.rounding:sa(e,0,8)),vt(new n(r),t,e)};Ze.toString=function(){var t=this,e=t.constructor,r=Ts(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};Ze.truncated=Ze.trunc=function(){return vt(new this.constructor(this),this.e+1,1)};Ze.valueOf=Ze.toJSON=function(){var t=this,e=t.constructor,r=Ts(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function hi(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=_t-n.length,r&&(a+=dl(r)),a+=n;o=t[e],n=o+"",r=_t-n.length,r&&(a+=dl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function sa(t,e,r){if(t!==~~t||t<e||t>r)throw Error(jl+t)}function ng(t,e,r,n){var i,a,o,s;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=_t,i=0):(i=Math.ceil((e+1)/_t),e%=_t),a=Bn(10,_t-e),s=t[i]%a|0,n==null?e<3?(e==0?s=s/100|0:e==1&&(s=s/10|0),o=r<4&&s==99999||r>3&&s==49999||s==5e4||s==0):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(t[i+1]/a/100|0)==Bn(10,e-2)-1||(s==a/2||s==0)&&(t[i+1]/a/100|0)==0:e<4?(e==0?s=s/1e3|0:e==1?s=s/100|0:e==2&&(s=s/10|0),o=(n||r<4)&&s==9999||!n&&r>3&&s==4999):o=((n||r<4)&&s+1==a||!n&&r>3&&s+1==a/2)&&(t[i+1]/a/1e3|0)==Bn(10,e-3)-1,o}function ub(t,e,r){for(var n,i=[0],a,o=0,s=t.length;o<s;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=_C.indexOf(t.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function CSe(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/A_(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=Gd(t,1,e.times(i),new t(1));for(var a=r;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=r,e}var $r=(function(){function t(n,i,a){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*i+s,n[l]=o%a|0,s=o/a|0;return s&&n.unshift(s),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a,o){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,s,l){var u,f,d,p,m,y,g,b,E,N,_,S,x,A,T,O,C,R,I,P,F=n.constructor,z=n.s==i.s?1:-1,U=n.d,k=i.d;if(!U||!U[0]||!k||!k[0])return new F(!n.s||!i.s||(U?k&&U[0]==k[0]:!k)?NaN:U&&U[0]==0||!k?z*0:z/0);for(l?(m=1,f=n.e-i.e):(l=Io,m=_t,f=Oi(n.e/m)-Oi(i.e/m)),I=k.length,C=U.length,E=new F(z),N=E.d=[],d=0;k[d]==(U[d]||0);d++);if(k[d]>(U[d]||0)&&f--,a==null?(A=a=F.precision,o=F.rounding):s?A=a+(n.e-i.e)+1:A=a,A<0)N.push(1),y=!0;else{if(A=A/m+2|0,d=0,I==1){for(p=0,k=k[0],A++;(d<C||p)&&A--;d++)T=p*l+(U[d]||0),N[d]=T/k|0,p=T%k|0;y=p||d<C}else{for(p=l/(k[0]+1)|0,p>1&&(k=t(k,p,l),U=t(U,p,l),I=k.length,C=U.length),O=I,_=U.slice(0,I),S=_.length;S<I;)_[S++]=0;P=k.slice(),P.unshift(0),R=k[0],k[1]>=l/2&&++R;do p=0,u=e(k,_,I,S),u<0?(x=_[0],I!=S&&(x=x*l+(_[1]||0)),p=x/R|0,p>1?(p>=l&&(p=l-1),g=t(k,p,l),b=g.length,S=_.length,u=e(g,_,b,S),u==1&&(p--,r(g,I<b?P:k,b,l))):(p==0&&(u=p=1),g=k.slice()),b=g.length,b<S&&g.unshift(0),r(_,g,S,l),u==-1&&(S=_.length,u=e(k,_,I,S),u<1&&(p++,r(_,I<S?P:k,S,l))),S=_.length):u===0&&(p++,_=[0]),N[d++]=p,u&&_[0]?_[S++]=U[O]||0:(_=[U[O]],S=1);while((O++<C||_[0]!==void 0)&&A--);y=_[0]!==void 0}N[0]||N.shift()}if(m==1)E.e=f,cW=y;else{for(d=1,p=N[0];p>=10;p/=10)d++;E.e=d+f*m-1,vt(E,s?a+E.e+1:a,o,y)}return E}})();function vt(t,e,r,n){var i,a,o,s,l,u,f,d,p,m=t.constructor;e:if(e!=null){if(d=t.d,!d)return t;for(i=1,s=d[0];s>=10;s/=10)i++;if(a=e-i,a<0)a+=_t,o=e,f=d[p=0],l=f/Bn(10,i-o-1)%10|0;else if(p=Math.ceil((a+1)/_t),s=d.length,p>=s)if(n){for(;s++<=p;)d.push(0);f=l=0,i=1,a%=_t,o=a-_t+1}else break e;else{for(f=s=d[p],i=1;s>=10;s/=10)i++;a%=_t,o=a-_t+i,l=o<0?0:f/Bn(10,i-o-1)%10|0}if(n=n||e<0||d[p+1]!==void 0||(o<0?f:f%Bn(10,i-o-1)),u=r<4?(l||n)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(a>0?o>0?f/Bn(10,i-o):0:d[p-1])%10&1||r==(t.s<0?8:7)),e<1||!d[0])return d.length=0,u?(e-=t.e+1,d[0]=Bn(10,(_t-e%_t)%_t),t.e=-e||0):d[0]=t.e=0,t;if(a==0?(d.length=p,s=1,p--):(d.length=p+1,s=Bn(10,_t-a),d[p]=o>0?(f/Bn(10,i-o)%Bn(10,o)|0)*s:0),u)for(;;)if(p==0){for(a=1,o=d[0];o>=10;o/=10)a++;for(o=d[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(t.e++,d[0]==Io&&(d[0]=1));break}else{if(d[p]+=s,d[p]!=Io)break;d[p--]=0,s=1}for(a=d.length;d[--a]===0;)d.pop()}return It&&(t.e>m.maxE?(t.d=null,t.e=NaN):t.e<m.minE&&(t.e=0,t.d=[0])),t}function Ts(t,e,r){if(!t.isFinite())return yW(t);var n,i=t.e,a=hi(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+dl(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+dl(-i-1)+a,r&&(n=r-o)>0&&(a+=dl(n))):i>=o?(a+=dl(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+dl(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=dl(n))),a}function x_(t,e){var r=t[0];for(e*=_t;r>=10;r/=10)e++;return e}function U1(t,e,r){if(e>NSe)throw It=!0,r&&(t.precision=r),Error(fW);return vt(new t(L1),e,1,!0)}function hs(t,e,r){if(e>AC)throw Error(fW);return vt(new t(q1),e,r,!0)}function mW(t){var e=t.length-1,r=e*_t+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function dl(t){for(var e="";t--;)e+="0";return e}function vW(t,e,r,n){var i,a=new t(1),o=Math.ceil(n/_t+4);for(It=!1;;){if(r%2&&(a=a.times(e),ZL(a.d,o)&&(i=!0)),r=Oi(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}e=e.times(e),ZL(e.d,o)}return It=!0,a}function QL(t){return t.d[t.d.length-1]&1}function gW(t,e,r){for(var n,i,a=new t(e[0]),o=0;++o<e.length;){if(i=new t(e[o]),!i.s){a=i;break}n=a.cmp(i),(n===r||n===0&&a.s===r)&&(a=i)}return a}function EC(t,e){var r,n,i,a,o,s,l,u=0,f=0,d=0,p=t.constructor,m=p.rounding,y=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(It=!1,l=y):l=e,s=new p(.03125);t.e>-2;)t=t.times(s),d+=5;for(n=Math.log(Bn(2,d))/Math.LN10*2+5|0,l+=n,r=a=o=new p(1),p.precision=l;;){if(a=vt(a.times(t),l,1),r=r.times(++f),s=o.plus($r(a,r,l,1)),hi(s.d).slice(0,l)===hi(o.d).slice(0,l)){for(i=d;i--;)o=vt(o.times(o),l,1);if(e==null)if(u<3&&ng(o.d,l-n,m,u))p.precision=l+=10,r=a=s=new p(1),f=0,u++;else return vt(o,p.precision=y,m,It=!0);else return p.precision=y,o}o=s}}function Tl(t,e){var r,n,i,a,o,s,l,u,f,d,p,m=1,y=10,g=t,b=g.d,E=g.constructor,N=E.rounding,_=E.precision;if(g.s<0||!b||!b[0]||!g.e&&b[0]==1&&b.length==1)return new E(b&&!b[0]?-1/0:g.s!=1?NaN:b?0:g);if(e==null?(It=!1,f=_):f=e,E.precision=f+=y,r=hi(b),n=r.charAt(0),Math.abs(a=g.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=hi(g.d),n=r.charAt(0),m++;a=g.e,n>1?(g=new E("0."+r),a++):g=new E(n+"."+r.slice(1))}else return u=U1(E,f+2,_).times(a+""),g=Tl(new E(n+"."+r.slice(1)),f-y).plus(u),E.precision=_,e==null?vt(g,_,N,It=!0):g;for(d=g,l=o=g=$r(g.minus(1),g.plus(1),f,1),p=vt(g.times(g),f,1),i=3;;){if(o=vt(o.times(p),f,1),u=l.plus($r(o,new E(i),f,1)),hi(u.d).slice(0,f)===hi(l.d).slice(0,f))if(l=l.times(2),a!==0&&(l=l.plus(U1(E,f+2,_).times(a+""))),l=$r(l,new E(m),f,1),e==null)if(ng(l.d,f-y,N,s))E.precision=f+=y,u=o=g=$r(d.minus(1),d.plus(1),f,1),p=vt(g.times(g),f,1),i=s=1;else return vt(l,E.precision=_,N,It=!0);else return E.precision=_,l;l=u,i+=2}}function yW(t){return String(t.s*t.s/0)}function lb(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%_t,r<0&&(n+=_t),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=_t;n<i;)t.d.push(+e.slice(n,n+=_t));e=e.slice(n),n=_t-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),It&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function OSe(t,e){var r,n,i,a,o,s,l,u,f;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),pW.test(e))return lb(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(SSe.test(e))r=16,e=e.toLowerCase();else if(ESe.test(e))r=2;else if(TSe.test(e))r=8;else throw Error(jl+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=t.constructor,o&&(e=e.replace(".",""),s=e.length,a=s-a,i=vW(n,new n(r),a,a*2)),u=ub(e,r,Io),f=u.length-1,a=f;u[a]===0;--a)u.pop();return a<0?new n(t.s*0):(t.e=x_(u,f),t.d=u,It=!1,o&&(t=$r(t,i,s*4)),l&&(t=t.times(Math.abs(l)<54?Bn(2,l):zl.pow(2,l))),It=!0,t)}function MSe(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:Gd(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/A_(5,r)),e=Gd(t,2,e,e);for(var i,a=new t(5),o=new t(16),s=new t(20);r--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(s))));return e}function Gd(t,e,r,n,i){var a,o,s,l,u=t.precision,f=Math.ceil(u/_t);for(It=!1,l=r.times(r),s=new t(n);;){if(o=$r(s.times(l),new t(e++*e++),u,1),s=i?n.plus(o):n.minus(o),n=$r(o.times(l),new t(e++*e++),u,1),o=s.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===s.d[a]&&a--;);if(a==-1)break}a=s,s=n,n=o,o=a}return It=!0,o.d.length=f+1,o}function A_(t,e){for(var r=t;--e;)r*=t;return r}function bW(t,e){var r,n=e.s<0,i=hs(t,t.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return vu=n?4:1,e;if(r=e.divToInt(i),r.isZero())vu=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(a))return vu=QL(r)?n?2:3:n?4:1,e;vu=QL(r)?n?1:4:n?3:2}return e.minus(i).abs()}function JM(t,e,r,n){var i,a,o,s,l,u,f,d,p,m=t.constructor,y=r!==void 0;if(y?(sa(r,1,Zl),n===void 0?n=m.rounding:sa(n,0,8)):(r=m.precision,n=m.rounding),!t.isFinite())f=yW(t);else{for(f=Ts(t),o=f.indexOf("."),y?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,o>=0&&(f=f.replace(".",""),p=new m(1),p.e=f.length-o,p.d=ub(Ts(p),10,i),p.e=p.d.length),d=ub(f,10,i),a=l=d.length;d[--l]==0;)d.pop();if(!d[0])f=y?"0p+0":"0";else{if(o<0?a--:(t=new m(t),t.d=d,t.e=a,t=$r(t,p,r,n,0,i),d=t.d,a=t.e,u=cW),o=d[r],s=i/2,u=u||d[r+1]!==void 0,u=n<4?(o!==void 0||u)&&(n===0||n===(t.s<0?3:2)):o>s||o===s&&(n===4||u||n===6&&d[r-1]&1||n===(t.s<0?8:7)),d.length=r,u)for(;++d[--r]>i-1;)d[r]=0,r||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,f="";o<l;o++)f+=_C.charAt(d[o]);if(y){if(l>1)if(e==16||e==8){for(o=e==16?4:3,--l;l%o;l++)f+="0";for(d=ub(f,i,e),l=d.length;!d[l-1];--l);for(o=1,f="1.";o<l;o++)f+=_C.charAt(d[o])}else f=f.charAt(0)+"."+f.slice(1);f=f+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)f="0"+f;f="0."+f}else if(++a>l)for(a-=l;a--;)f+="0";else a<l&&(f=f.slice(0,a)+"."+f.slice(a))}f=(e==16?"0x":e==2?"0b":e==8?"0o":"")+f}return t.s<0?"-"+f:f}function ZL(t,e){if(t.length>e)return t.length=e,!0}function ISe(t){return new this(t).abs()}function RSe(t){return new this(t).acos()}function PSe(t){return new this(t).acosh()}function BSe(t,e){return new this(t).plus(e)}function FSe(t){return new this(t).asin()}function kSe(t){return new this(t).asinh()}function $Se(t){return new this(t).atan()}function LSe(t){return new this(t).atanh()}function qSe(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,a=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=hs(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?hs(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=hs(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan($r(t,e,a,1)),e=hs(this,a,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan($r(t,e,a,1)),r}function USe(t){return new this(t).cbrt()}function jSe(t){return vt(t=new this(t),t.e+1,2)}function zSe(t,e,r){return new this(t).clamp(e,r)}function VSe(t){if(!t||typeof t!="object")throw Error(__+"Object expected");var e,r,n,i=t.defaults===!0,a=["precision",1,Zl,"rounding",0,8,"toExpNeg",-Jh,0,"toExpPos",0,Jh,"maxE",0,Jh,"minE",-Jh,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],i&&(this[r]=xC[r]),(n=t[r])!==void 0)if(Oi(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(jl+r+": "+n);if(r="crypto",i&&(this[r]=xC[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(hW);else this[r]=!1;else throw Error(jl+r+": "+n);return this}function HSe(t){return new this(t).cos()}function GSe(t){return new this(t).cosh()}function wW(t){var e,r,n;function i(a){var o,s,l,u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,JL(a)){u.s=a.s,It?!a.d||a.e>i.maxE?(u.e=NaN,u.d=null):a.e<i.minE?(u.e=0,u.d=[0]):(u.e=a.e,u.d=a.d.slice()):(u.e=a.e,u.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){u.s=1/a<0?-1:1,u.e=0,u.d=[0];return}if(a<0?(a=-a,u.s=-1):u.s=1,a===~~a&&a<1e7){for(o=0,s=a;s>=10;s/=10)o++;It?o>i.maxE?(u.e=NaN,u.d=null):o<i.minE?(u.e=0,u.d=[0]):(u.e=o,u.d=[a]):(u.e=o,u.d=[a]);return}if(a*0!==0){a||(u.s=NaN),u.e=NaN,u.d=null;return}return lb(u,a.toString())}if(l==="string")return(s=a.charCodeAt(0))===45?(a=a.slice(1),u.s=-1):(s===43&&(a=a.slice(1)),u.s=1),pW.test(a)?lb(u,a):OSe(u,a);if(l==="bigint")return a<0?(a=-a,u.s=-1):u.s=1,lb(u,a.toString());throw Error(jl+a)}if(i.prototype=Ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=VSe,i.clone=wW,i.isDecimal=JL,i.abs=ISe,i.acos=RSe,i.acosh=PSe,i.add=BSe,i.asin=FSe,i.asinh=kSe,i.atan=$Se,i.atanh=LSe,i.atan2=qSe,i.cbrt=USe,i.ceil=jSe,i.clamp=zSe,i.cos=HSe,i.cosh=GSe,i.div=KSe,i.exp=XSe,i.floor=WSe,i.hypot=YSe,i.ln=QSe,i.log=ZSe,i.log10=eTe,i.log2=JSe,i.max=tTe,i.min=rTe,i.mod=nTe,i.mul=iTe,i.pow=aTe,i.random=oTe,i.round=sTe,i.sign=uTe,i.sin=lTe,i.sinh=cTe,i.sqrt=fTe,i.sub=hTe,i.sum=dTe,i.tan=pTe,i.tanh=mTe,i.trunc=vTe,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function KSe(t,e){return new this(t).div(e)}function XSe(t){return new this(t).exp()}function WSe(t){return vt(t=new this(t),t.e+1,3)}function YSe(){var t,e,r=new this(0);for(It=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return It=!0,new this(1/0);r=e}return It=!0,r.sqrt()}function JL(t){return t instanceof zl||t&&t.toStringTag===dW||!1}function QSe(t){return new this(t).ln()}function ZSe(t,e){return new this(t).log(e)}function JSe(t){return new this(t).log(2)}function eTe(t){return new this(t).log(10)}function tTe(){return gW(this,arguments,-1)}function rTe(){return gW(this,arguments,1)}function nTe(t,e){return new this(t).mod(e)}function iTe(t,e){return new this(t).mul(e)}function aTe(t,e){return new this(t).pow(e)}function oTe(t){var e,r,n,i,a=0,o=new this(1),s=[];if(t===void 0?t=this.precision:sa(t,1,Zl),n=Math.ceil(t/_t),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(s.push(i%1e7),a+=4);a=n/4}else throw Error(hW);else for(;a<n;)s[a++]=Math.random()*1e7|0;for(n=s[--a],t%=_t,n&&t&&(i=Bn(10,_t-t),s[a]=(n/i|0)*i);s[a]===0;a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;s[0]===0;r-=_t)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<_t&&(r-=_t-n)}return o.e=r,o.d=s,o}function sTe(t){return vt(t=new this(t),t.e+1,this.rounding)}function uTe(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function lTe(t){return new this(t).sin()}function cTe(t){return new this(t).sinh()}function fTe(t){return new this(t).sqrt()}function hTe(t,e){return new this(t).sub(e)}function dTe(){var t=0,e=arguments,r=new this(e[t]);for(It=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return It=!0,vt(r,this.precision,this.rounding)}function pTe(t){return new this(t).tan()}function mTe(t){return new this(t).tanh()}function vTe(t){return vt(t=new this(t),t.e+1,1)}Ze[Symbol.for("nodejs.util.inspect.custom")]=Ze.toString;Ze[Symbol.toStringTag]="Decimal";var zl=Ze.constructor=wW(xC);L1=new zl(L1);q1=new zl(q1);var gTe="BigNumber",yTe=["?on","config"],bTe=ne(gTe,yTe,t=>{var{on:e,config:r}=t,n=zl.clone({precision:r.precision,modulo:zl.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const xi=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},Ya=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},wTe=function(t){const e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;const r=t*t;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},l2=function(t,e){return t=Math.abs(t),e=Math.abs(e),t<e&&([t,e]=[e,t]),t<1e8?Math.sqrt(t*t+e*e):(e/=t,t*Math.sqrt(1+e*e))},Fh=function(){throw SyntaxError("Invalid Param")};function c2(t,e){const r=Math.abs(t),n=Math.abs(e);return t===0?Math.log(n):e===0?Math.log(r):r<3e3&&n<3e3?Math.log(t*t+e*e)*.5:(t=t*.5,e=e*.5,.5*Math.log(t*t+e*e)+Math.LN2)}const _Te={re:0,im:0},zc=function(t,e){const r=_Te;if(t==null)r.re=r.im=0;else if(e!==void 0)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return ke.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return ke.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi)}else t.length===2?(r.re=t[0],r.im=t[1]):Fh();break;case"string":r.im=r.re=0;const n=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,a=0;n===null&&Fh();for(let o=0;o<n.length;o++){const s=n[o];s===" "||s==="	"||s===`
`||(s==="+"?i++:s==="-"?a++:s==="i"||s==="I"?(i+a===0&&Fh(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((a%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((a%2?"-":"")+"1"),i=a=0):((i+a===0||isNaN(s))&&Fh(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((a%2?"-":"")+s),o++):r.re+=parseFloat((a%2?"-":"")+s),i=a=0))}i+a>0&&Fh();break;case"number":r.im=0,r.re=t;break;default:Fh()}return isNaN(r.re)||isNaN(r.im),r};function ke(t,e){if(!(this instanceof ke))return new ke(t,e);const r=zc(t,e);this.re=r.re,this.im=r.im}ke.prototype={re:0,im:0,sign:function(){const t=l2(this.re,this.im);return new ke(this.re/t,this.im/t)},add:function(t,e){const r=zc(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?ke.NAN:ke.INFINITY:new ke(this.re+r.re,this.im+r.im)},sub:function(t,e){const r=zc(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?ke.NAN:ke.INFINITY:new ke(this.re-r.re,this.im-r.im)},mul:function(t,e){const r=zc(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||i&&a?ke.NAN:n||i?ke.INFINITY:r.im===0&&this.im===0?new ke(this.re*r.re,0):new ke(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){const r=zc(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(a&&o||n&&i)return ke.NAN;if(o||n)return ke.INFINITY;if(a||i)return ke.ZERO;if(r.im===0)return new ke(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const s=r.re/r.im,l=r.re*s+r.im;return new ke((this.re*s+this.im)/l,(this.im*s-this.re)/l)}else{const s=r.im/r.re,l=r.im*s+r.re;return new ke((this.re+this.im*s)/l,(this.im-this.re*s)/l)}},pow:function(t,e){const r=zc(t,e),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return ke.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new ke(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new ke(Math.pow(this.im,r.re),0);case 1:return new ke(0,Math.pow(this.im,r.re));case 2:return new ke(-Math.pow(this.im,r.re),0);case 3:return new ke(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return ke.ZERO;const a=Math.atan2(this.im,this.re),o=c2(this.re,this.im);let s=Math.exp(r.re*o-r.im*a),l=r.im*o+r.re*a;return new ke(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){const t=this.re,e=this.im;if(e===0)return t>=0?new ke(Math.sqrt(t),0):new ke(0,Math.sqrt(-t));const r=l2(t,e);let n=Math.sqrt(.5*(r+Math.abs(t))),i=Math.abs(e)/(2*n);return t>=0?new ke(n,e<0?-i:i):new ke(i,e<0?-n:n)},exp:function(){const t=Math.exp(this.re);return this.im===0?new ke(t,0):new ke(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,e=this.im;return new ke(Math.expm1(t)*Math.cos(e)+wTe(e),Math.exp(t)*Math.sin(e))},log:function(){const t=this.re,e=this.im;return e===0&&t>0?new ke(Math.log(t),0):new ke(c2(t,e),Math.atan2(e,t))},abs:function(){return l2(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,e=this.im;return new ke(Math.sin(t)*xi(e),Math.cos(t)*Ya(e))},cos:function(){const t=this.re,e=this.im;return new ke(Math.cos(t)*xi(e),-Math.sin(t)*Ya(e))},tan:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)+xi(e);return new ke(Math.sin(t)/r,Ya(e)/r)},cot:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)-xi(e);return new ke(-Math.sin(t)/r,Ya(e)/r)},sec:function(){const t=this.re,e=this.im,r=.5*xi(2*e)+.5*Math.cos(2*t);return new ke(Math.cos(t)*xi(e)/r,Math.sin(t)*Ya(e)/r)},csc:function(){const t=this.re,e=this.im,r=.5*xi(2*e)-.5*Math.cos(2*t);return new ke(Math.sin(t)*xi(e)/r,-Math.cos(t)*Ya(e)/r)},asin:function(){const t=this.re,e=this.im,r=new ke(e*e-t*t+1,-2*t*e).sqrt(),n=new ke(r.re-e,r.im+t).log();return new ke(n.im,-n.re)},acos:function(){const t=this.re,e=this.im,r=new ke(e*e-t*t+1,-2*t*e).sqrt(),n=new ke(r.re-e,r.im+t).log();return new ke(Math.PI/2-n.im,n.re)},atan:function(){const t=this.re,e=this.im;if(t===0){if(e===1)return new ke(0,1/0);if(e===-1)return new ke(0,-1/0)}const r=t*t+(1-e)*(1-e),n=new ke((1-e*e-t*t)/r,-2*t/r).log();return new ke(-.5*n.im,.5*n.re)},acot:function(){const t=this.re,e=this.im;if(e===0)return new ke(Math.atan2(1,t),0);const r=t*t+e*e;return r!==0?new ke(t/r,-e/r).atan():new ke(t!==0?t/0:0,e!==0?-e/0:0).atan()},asec:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new ke(0,1/0);const r=t*t+e*e;return r!==0?new ke(t/r,-e/r).acos():new ke(t!==0?t/0:0,e!==0?-e/0:0).acos()},acsc:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new ke(Math.PI/2,1/0);const r=t*t+e*e;return r!==0?new ke(t/r,-e/r).asin():new ke(t!==0?t/0:0,e!==0?-e/0:0).asin()},sinh:function(){const t=this.re,e=this.im;return new ke(Ya(t)*Math.cos(e),xi(t)*Math.sin(e))},cosh:function(){const t=this.re,e=this.im;return new ke(xi(t)*Math.cos(e),Ya(t)*Math.sin(e))},tanh:function(){const t=2*this.re,e=2*this.im,r=xi(t)+Math.cos(e);return new ke(Ya(t)/r,Math.sin(e)/r)},coth:function(){const t=2*this.re,e=2*this.im,r=xi(t)-Math.cos(e);return new ke(Ya(t)/r,-Math.sin(e)/r)},csch:function(){const t=this.re,e=this.im,r=Math.cos(2*e)-xi(2*t);return new ke(-2*Ya(t)*Math.cos(e)/r,2*xi(t)*Math.sin(e)/r)},sech:function(){const t=this.re,e=this.im,r=Math.cos(2*e)+xi(2*t);return new ke(2*xi(t)*Math.cos(e)/r,-2*Ya(t)*Math.sin(e)/r)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;const e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){const t=this.acos();if(t.im<=0){const e=t.re;t.re=-t.im,t.im=e}else{const e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){const t=this.re,e=this.im,r=t>1&&e===0,n=1-t,i=1+t,a=n*n+e*e,o=a!==0?new ke((i*n-e*e)/a,(e*n+i*e)/a):new ke(t!==-1?t/0:0,e!==0?e/0:0),s=o.re;return o.re=c2(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,r&&(o.im=-o.im),o},acoth:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new ke(0,Math.PI/2);const r=t*t+e*e;return r!==0?new ke(t/r,-e/r).atanh():new ke(t!==0?t/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const t=this.re,e=this.im;if(e===0)return new ke(t!==0?Math.log(t+Math.sqrt(t*t+1)):1/0,0);const r=t*t+e*e;return r!==0?new ke(t/r,-e/r).asinh():new ke(t!==0?t/0:0,e!==0?-e/0:0).asinh()},asech:function(){const t=this.re,e=this.im;if(this.isZero())return ke.INFINITY;const r=t*t+e*e;return r!==0?new ke(t/r,-e/r).acosh():new ke(t!==0?t/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return ke.INFINITY;if(this.isInfinite())return ke.ZERO;const t=this.re,e=this.im,r=t*t+e*e;return new ke(t/r,-e/r)},conjugate:function(){return new ke(this.re,-this.im)},neg:function(){return new ke(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new ke(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new ke(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new ke(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){const r=zc(t,e);return Math.abs(r.re-this.re)<=ke.EPSILON&&Math.abs(r.im-this.im)<=ke.EPSILON},clone:function(){return new ke(this.re,this.im)},toString:function(){let t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<ke.EPSILON&&(t=0),Math.abs(e)<ke.EPSILON&&(e=0),e===0?r+t:(t!==0?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),e!==1&&(r+=e),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};ke.ZERO=new ke(0,0);ke.ONE=new ke(1,0);ke.I=new ke(0,1);ke.PI=new ke(Math.PI,0);ke.E=new ke(Math.E,0);ke.INFINITY=new ke(1/0,1/0);ke.NAN=new ke(NaN,NaN);ke.EPSILON=1e-15;var xTe="Complex",ATe=[],ETe=ne(xTe,ATe,()=>(Object.defineProperty(ke,"name",{value:"Complex"}),ke.prototype.constructor=ke,ke.prototype.type="Complex",ke.prototype.isComplex=!0,ke.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ke.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ke.prototype.format=function(t){var e="",r=this.im,n=this.re,i=sf(this.re,t),a=sf(this.im,t),o=Bt(t)?t:t?t.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=a+"i":r<0?r===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+a+"i",e},ke.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return ke(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Bt(r)){if(_a(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Bt(n))return new ke({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ke.prototype.valueOf=ke.prototype.toString,ke.fromJSON=function(t){return new ke(t)},ke.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},ke),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const pt=BigInt(0),Kt=BigInt(1),Zn=BigInt(2),lv=BigInt(3),ed=BigInt(5),ea=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const STe=2e3,it={s:Kt,n:pt,d:Kt};function ou(t,e){try{t=BigInt(t)}catch{throw cl()}return t*e}function xo(t){return typeof t=="bigint"?t:Math.floor(t)}function Wr(t,e){if(e===pt)throw eI();const r=Object.create(Za.prototype);r.s=t<pt?-Kt:Kt,t=t<pt?-t:t;const n=Hc(t,e);return r.n=t/n,r.d=e/n,r}const TTe=[Zn*Zn,Zn,Zn*Zn,Zn,Zn*Zn,Zn*lv,Zn,Zn*lv];function kh(t){const e=Object.create(null);if(t<=Kt)return e[t]=Kt,e;const r=n=>{e[n]=(e[n]||pt)+Kt};for(;t%Zn===pt;)r(Zn),t/=Zn;for(;t%lv===pt;)r(lv),t/=lv;for(;t%ed===pt;)r(ed),t/=ed;for(let n=0,i=Zn+ed;i*i<=t;){for(;t%i===pt;)r(i),t/=i;i+=TTe[n],n=n+1&7}return t>Kt&&r(t),e}const Qn=function(t,e){let r=pt,n=Kt,i=Kt;if(t!=null)if(e!==void 0){if(typeof t=="bigint")r=t;else{if(isNaN(t))throw cl();if(t%1!==0)throw e9();r=BigInt(t)}if(typeof e=="bigint")n=e;else{if(isNaN(e))throw cl();if(e%1!==0)throw e9();n=BigInt(e)}i=r*n}else if(typeof t=="object"){if("d"in t&&"n"in t)r=BigInt(t.n),n=BigInt(t.d),"s"in t&&(r*=BigInt(t.s));else if(0 in t)r=BigInt(t[0]),1 in t&&(n=BigInt(t[1]));else if(typeof t=="bigint")r=t;else throw cl();i=r*n}else if(typeof t=="number"){if(isNaN(t))throw cl();if(t<0&&(i=-Kt,t=-t),t%1===0)r=BigInt(t);else{let a=1,o=0,s=1,l=1,u=1,f=1e7;for(t>=1&&(a=10**Math.floor(1+Math.log10(t)),t/=a);s<=f&&u<=f;){let d=(o+l)/(s+u);if(t===d){s+u<=f?(r=o+l,n=s+u):u>s?(r=l,n=u):(r=o,n=s);break}else t>d?(o+=l,s+=u):(l+=o,u+=s),s>f?(r=l,n=u):(r=o,n=s)}r=BigInt(r)*BigInt(a),n=BigInt(n)}}else if(typeof t=="string"){let a=0,o=pt,s=pt,l=pt,u=Kt,f=Kt,d=t.replace(/_/g,"").match(/\d+|./g);if(d===null)throw cl();if(d[a]==="-"?(i=-Kt,a++):d[a]==="+"&&a++,d.length===a+1?s=ou(d[a++],i):d[a+1]==="."||d[a]==="."?(d[a]!=="."&&(o=ou(d[a++],i)),a++,(a+1===d.length||d[a+1]==="("&&d[a+3]===")"||d[a+1]==="'"&&d[a+3]==="'")&&(s=ou(d[a],i),u=ea**BigInt(d[a].length),a++),(d[a]==="("&&d[a+2]===")"||d[a]==="'"&&d[a+2]==="'")&&(l=ou(d[a+1],i),f=ea**BigInt(d[a+1].length)-Kt,a+=3)):d[a+1]==="/"||d[a+1]===":"?(s=ou(d[a],i),u=ou(d[a+2],Kt),a+=3):d[a+3]==="/"&&d[a+1]===" "&&(o=ou(d[a],i),s=ou(d[a+2],i),u=ou(d[a+4],Kt),a+=5),d.length<=a)n=u*f,i=r=l+n*o+f*s;else throw cl()}else if(typeof t=="bigint")r=t,i=t,n=Kt;else throw cl();if(n===pt)throw eI();it.s=i<pt?-Kt:Kt,it.n=r<pt?-r:r,it.d=n<pt?-n:n};function DTe(t,e,r){let n=Kt;for(;e>pt;t=t*t%r,e>>=Kt)e&Kt&&(n=n*t%r);return n}function NTe(t,e){for(;e%Zn===pt;e/=Zn);for(;e%ed===pt;e/=ed);if(e===Kt)return pt;let r=ea%e,n=1;for(;r!==Kt;n++)if(r=r*ea%e,n>STe)return pt;return BigInt(n)}function CTe(t,e,r){let n=Kt,i=DTe(ea,r,e);for(let a=0;a<300;a++){if(n===i)return BigInt(a);n=n*ea%e,i=i*ea%e}return 0}function Hc(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function Za(t,e){if(Qn(t,e),this instanceof Za)t=Hc(it.d,it.n),this.s=it.s,this.n=it.n/t,this.d=it.d/t;else return Wr(it.s*it.n,it.d)}const eI=function(){return new Error("Division by Zero")},cl=function(){return new Error("Invalid argument")},e9=function(){return new Error("Parameters must be integer")};Za.prototype={s:Kt,n:pt,d:Kt,abs:function(){return Wr(this.n,this.d)},neg:function(){return Wr(-this.s*this.n,this.d)},add:function(t,e){return Qn(t,e),Wr(this.s*this.n*it.d+it.s*this.d*it.n,this.d*it.d)},sub:function(t,e){return Qn(t,e),Wr(this.s*this.n*it.d-it.s*this.d*it.n,this.d*it.d)},mul:function(t,e){return Qn(t,e),Wr(this.s*it.s*this.n*it.n,this.d*it.d)},div:function(t,e){return Qn(t,e),Wr(this.s*it.s*this.n*it.d,this.d*it.n)},clone:function(){return Wr(this.s*this.n,this.d)},mod:function(t,e){if(t===void 0)return Wr(this.s*this.n%this.d,Kt);if(Qn(t,e),pt===it.n*this.d)throw eI();return Wr(this.s*(it.d*this.n)%(it.n*this.d),it.d*this.d)},gcd:function(t,e){return Qn(t,e),Wr(Hc(it.n,this.n)*Hc(it.d,this.d),it.d*this.d)},lcm:function(t,e){return Qn(t,e),it.n===pt&&this.n===pt?Wr(pt,Kt):Wr(it.n*this.n,Hc(it.n,this.n)*Hc(it.d,this.d))},inverse:function(){return Wr(this.s*this.d,this.n)},pow:function(t,e){if(Qn(t,e),it.d===Kt)return it.s<pt?Wr((this.s*this.d)**it.n,this.n**it.n):Wr((this.s*this.n)**it.n,this.d**it.n);if(this.s<pt)return null;let r=kh(this.n),n=kh(this.d),i=Kt,a=Kt;for(let o in r)if(o!=="1"){if(o==="0"){i=pt;break}if(r[o]*=it.n,r[o]%it.d===pt)r[o]/=it.d;else return null;i*=BigInt(o)**r[o]}for(let o in n)if(o!=="1"){if(n[o]*=it.n,n[o]%it.d===pt)n[o]/=it.d;else return null;a*=BigInt(o)**n[o]}return it.s<pt?Wr(a,i):Wr(i,a)},log:function(t,e){if(Qn(t,e),this.s<=pt||it.s<=pt)return null;const r=Object.create(null),n=kh(it.n),i=kh(it.d),a=kh(this.n),o=kh(this.d);for(const u in i)n[u]=(n[u]||pt)-i[u];for(const u in o)a[u]=(a[u]||pt)-o[u];for(const u in n)u!=="1"&&(r[u]=!0);for(const u in a)u!=="1"&&(r[u]=!0);let s=null,l=null;for(const u in r){const f=n[u]||pt,d=a[u]||pt;if(f===pt){if(d!==pt)return null;continue}let p=d,m=f;const y=Hc(p,m);if(p/=y,m/=y,s===null&&l===null)s=p,l=m;else if(p*l!==s*m)return null}return s!==null&&l!==null?Wr(s,l):null},equals:function(t,e){return Qn(t,e),this.s*this.n*it.d===it.s*it.n*this.d},lt:function(t,e){return Qn(t,e),this.s*this.n*it.d<it.s*it.n*this.d},lte:function(t,e){return Qn(t,e),this.s*this.n*it.d<=it.s*it.n*this.d},gt:function(t,e){return Qn(t,e),this.s*this.n*it.d>it.s*it.n*this.d},gte:function(t,e){return Qn(t,e),this.s*this.n*it.d>=it.s*it.n*this.d},compare:function(t,e){Qn(t,e);let r=this.s*this.n*it.d-it.s*it.n*this.d;return(pt<r)-(r<pt)},ceil:function(t){return t=ea**BigInt(t||0),Wr(xo(this.s*t*this.n/this.d)+(t*this.n%this.d>pt&&this.s>=pt?Kt:pt),t)},floor:function(t){return t=ea**BigInt(t||0),Wr(xo(this.s*t*this.n/this.d)-(t*this.n%this.d>pt&&this.s<pt?Kt:pt),t)},round:function(t){return t=ea**BigInt(t||0),Wr(xo(this.s*t*this.n/this.d)+this.s*((this.s>=pt?Kt:pt)+Zn*(t*this.n%this.d)>this.d?Kt:pt),t)},roundTo:function(t,e){Qn(t,e);const r=this.n*it.d,n=this.d*it.n,i=r%n;let a=xo(r/n);return i+i>=n&&a++,Wr(this.s*a*it.n,it.d)},divisible:function(t,e){return Qn(t,e),it.n===pt?!1:this.n*it.d%(it.n*this.d)===pt},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t=15){let e=this.n,r=this.d,n=NTe(e,r),i=CTe(e,r,n),a=this.s<pt?"-":"";if(a+=xo(e/r),e%=r,e*=ea,e&&(a+="."),n){for(let o=i;o--;)a+=xo(e/r),e%=r,e*=ea;a+="(";for(let o=n;o--;)a+=xo(e/r),e%=r,e*=ea;a+=")"}else for(let o=t;e&&o--;)a+=xo(e/r),e%=r,e*=ea;return a},toFraction:function(t=!1){let e=this.n,r=this.d,n=this.s<pt?"-":"";if(r===Kt)n+=e;else{const i=xo(e/r);t&&i>pt&&(n+=i,n+=" ",e%=r),n+=e,n+="/",n+=r}return n},toLatex:function(t=!1){let e=this.n,r=this.d,n=this.s<pt?"-":"";if(r===Kt)n+=e;else{const i=xo(e/r);t&&i>pt&&(n+=i,e%=r),n+="\\frac{",n+=e,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let t=this.n,e=this.d;const r=[];for(;e;){r.push(xo(t/e));const n=t%e;t=e,e=n}return r},simplify:function(t=.001){const e=BigInt(Math.ceil(1/t)),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let a=Wr(n[i-1],Kt);for(let s=i-2;s>=0;s--)a=a.inverse().add(n[s]);let o=a.sub(r);if(o.n*e<o.d)return a.mul(this.s)}return this}};var OTe="Fraction",MTe=[],ITe=ne(OTe,MTe,()=>(Object.defineProperty(Za,"name",{value:"Fraction"}),Za.prototype.constructor=Za,Za.prototype.type="Fraction",Za.prototype.isFraction=!0,Za.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Za.fromJSON=function(t){return new Za(t)},Za),{isClass:!0}),RTe="Range",PTe=[],BTe=ne(RTe,PTe,()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=r!=null,o=n!=null;if(i){if(Ft(e))e=e.toNumber();else if(typeof e!="number"&&!uv(e))throw new TypeError("Parameter start must be a number or bigint")}if(a){if(Ft(r))r=r.toNumber();else if(typeof r!="number"&&!uv(r))throw new TypeError("Parameter end must be a number or bigint")}if(o){if(Ft(n))n=n.toNumber();else if(typeof n!="number"&&!uv(n))throw new TypeError("Parameter step must be a number or bigint")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(r):0,this.step=o?parseFloat(n):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var r=e.split(":"),n=r.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,r=this.start,n=this.step,i=this.end,a=i-r;return Sl(n)===Sl(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var r=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;r<i;)e(r,[a],this),r+=n,a++;else if(n<0)for(;r>i;)e(r,[a],this),r+=n,a++},t.prototype.map=function(e){var r=[];return this.forEach(function(n,i,a){r[i[0]]=e(n,i,a)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,n){e[n[0]]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=sf(this.start,e);return this.step!==1&&(r+=":"+sf(this.step,e)),r+=":"+sf(this.end,e),r},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0}),FTe="Matrix",kTe=[],$Te=ne(FTe,kTe,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function f2(t,e,r){var n=t.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!ft(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),a="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function LTe(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=oW(e);switch(r){case"fixed":return UTe(t,n);case"exponential":return t9(t,n);case"engineering":return qTe(t,n);case"bin":return f2(t,2,i);case"oct":return f2(t,8,i);case"hex":return f2(t,16,i);case"auto":{var a=r9(e?.lowerExp,-3),o=r9(e?.upperExp,5);if(t.isZero())return"0";var s,l=t.toSignificantDigits(n),u=l.e;return u>=a&&u<o?s=l.toFixed():s=t9(t,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var f=arguments[2],d=arguments[4];return f!=="."?f+d:d})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function qTe(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.includes("e")){var o=t.constructor;a=new o(a).toFixed()}return a+"e"+(r>=0?"+":"")+n.toString()}function t9(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function UTe(t,e){return t.toFixed(e)}function r9(t,e){return Bt(t)?t:Ft(t)?t.toNumber():e}function jTe(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function Ut(t,e){var r=zTe(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function zTe(t,e){if(typeof t=="number")return sf(t,e);if(Ft(t))return LTe(t,e);if(VTe(t))return!e||e.fraction!=="decimal"?"".concat(t.s*t.n,"/").concat(t.d):t.toString();if(Array.isArray(t))return _W(t,e);if(Di(t))return td(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>td(n)+": "+Ut(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function td(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);r+=i in n9?n9[i]:i,n++}return'"'+r+'"'}var n9={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function no(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function _W(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=_W(t[i],e);return r+="]",r}else return Ut(t,e)}function VTe(t){return t&&typeof t=="object"&&typeof t.s=="bigint"&&typeof t.n=="bigint"&&typeof t.d=="bigint"||!1}function SC(t,e){if(!Di(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Dr(t)+", index: 0)");if(!Di(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Dr(e)+", index: 1)");return t===e?0:t>e?1:-1}function jt(t,e,r){if(!(this instanceof jt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}jt.prototype=new RangeError;jt.prototype.constructor=RangeError;jt.prototype.name="DimensionError";jt.prototype.isDimensionError=!0;function ko(t,e,r){if(!(this instanceof ko))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}ko.prototype=new RangeError;ko.prototype.constructor=RangeError;ko.prototype.name="IndexError";ko.prototype.isIndexError=!0;function Dt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function xW(t,e,r){var n,i=t.length;if(i!==e[r])throw new jt(i,e[r]);if(r<e.length-1){var a=r+1;for(n=0;n<i;n++){var o=t[n];if(!Array.isArray(o))throw new jt(e.length-1,e.length,"<");xW(t[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new jt(e.length+1,e.length,">")}function i9(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new jt(t.length,0)}else xW(t,e,0)}function j1(t,e){var r=t.isMatrix?t._size:Dt(t),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==r[a])throw new jt(i,r[a])})}function Rr(t,e){if(t!==void 0){if(!Bt(t)||!ft(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new ko(t,e)}}function Kd(t){for(var e=0;e<t._dimensions.length;++e){var r=t._dimensions[e];if(r._data&&Sr(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(Di(r)&&r.length===0)return!0}return!1}function Xd(t,e,r){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!Bt(i)||!ft(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ut(e)+")")}),(Bt(t)||Ft(t))&&(t=[t]);var n=r!==void 0?r:0;return TC(t,e,0,n),t}function TC(t,e,r,n){var i,a,o=t.length,s=e[r],l=Math.min(o,s);if(t.length=s,r<e.length-1){var u=r+1;for(i=0;i<l;i++)a=t[i],Array.isArray(a)||(a=[a],t[i]=a),TC(a,e,u,n);for(i=l;i<s;i++)a=[],t[i]=a,TC(a,e,u,n)}else{for(i=0;i<l;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=l;i<s;i++)t[i]=n}}function tI(t,e){var r=or(t,!0),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new jt(0,n,"!=");e=rI(e,n);var i=AW(e);if(n!==i)throw new jt(i,n,"!=");try{return HTe(r,e)}catch(a){throw a instanceof jt?new jt(i,n,"!="):a}}function rI(t,e){var r=AW(t),n=t.slice(),i=-1,a=t.indexOf(i),o=t.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=a>=0,l=e%r===0;if(s)if(l)n[a]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function AW(t){return t.reduce((e,r)=>e*r,1)}function HTe(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=r.length/a,s=0;s<o;s++)n.push(r.slice(s*a,(s+1)*a));r=n}return r}function z1(t,e){for(var r=Dt(t);Array.isArray(t)&&t.length===1;)t=t[0],r.shift();for(var n=r.length;r[n-1]===1;)n--;return n<r.length&&(t=EW(t,n,0),r.length=n),t}function EW(t,e,r){var n,i;if(r<e){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=EW(t[n],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function SW(t,e,r,n){var i=n||Dt(t);if(r)for(var a=0;a<r;a++)t=[t],i.unshift(1);for(t=TW(t,e,0);i.length<e;)i.push(1);return t}function TW(t,e,r){var n,i;if(Array.isArray(t)){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=TW(t[n],e,a)}else for(var o=r;o<e;o++)t=[t];return t}function or(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(t))return t;if(typeof e!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return e?i(t):n(t),r;function n(a){for(var o=0;o<a.length;o++){var s=a[o];Array.isArray(s)?n(s):r.push(s)}}function i(a){if(Array.isArray(a[0]))for(var o=0;o<a.length;o++)i(a[o]);else for(var s=0;s<a.length;s++)r.push(a[s])}}function Rl(t,e){return Array.prototype.map.call(t,e)}function DW(t,e){Array.prototype.forEach.call(t,e)}function a9(t,e){if(Dt(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function o9(t,e){if(Dt(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r=>e.test(r))}function s9(t,e){return Array.prototype.join.call(t,e)}function Wd(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e}function V1(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function E_(t,e){for(var r,n=0,i=0;i<t.length;i++){var a=t[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var s=o?E_(a,e):e(a);if(r===void 0)r=s;else if(r!==s)return"mixed"}return r}function NW(t,e,r,n){if(n<r){if(t.length!==e.length)throw new jt(t.length,e.length);for(var i=[],a=0;a<t.length;a++)i[a]=NW(t[a],e[a],r,n+1);return i}else return t.concat(e)}function CW(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(r,n){return NW(r,n,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function nI(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.map(p=>p.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var s=e[o],l=n[o],u=0;u<l;u++){var f=i-l+u;s[u]>a[f]&&(a[f]=s[u])}for(var d=0;d<e.length;d++)OW(e[d],a);return a}function OW(t,e){for(var r=e.length,n=t.length,i=0;i<n;i++){var a=r-n+i;if(t[i]<e[a]&&t[i]>1||t[i]>e[a])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(n," with size ").concat(t[i]," to size ").concat(e[a]))}}function Jc(t,e){var r=Dt(t);if(Ou(r,e))return t;OW(r,e);var n=nI(r,e),i=n.length,a=[...Array(i-r.length).fill(1),...r],o=KTe(t);r.length<i&&(o=tI(o,a),r=Dt(o));for(var s=0;s<i;s++)r[s]<n[s]&&(o=GTe(o,n[s],s),r=Dt(o));return o}function GTe(t,e,r){return CW(...Array(e).fill(t),r)}function iI(t,e){if(!Array.isArray(t))throw new Error("Array expected");var r=Dt(t);if(e.length!==r.length)throw new jt(e.length,r.length);for(var n=0;n<e.length;n++)Rr(e[n],r[n]);return e.reduce((i,a)=>i[a],t)}function DC(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return[];if(r)return a(t);var n=[];return i(t,0);function i(o,s){if(Array.isArray(o)){for(var l=o.length,u=Array(l),f=0;f<l;f++)n[s]=f,u[f]=i(o[f],s+1);return u}else return e(o,n.slice(0,s),t)}function a(o){if(Array.isArray(o)){for(var s=o.length,l=Array(s),u=0;u<s;u++)l[u]=a(o[u]);return l}else return e(o)}}function MW(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return;if(r){a(t);return}var n=[];i(t,0);function i(o,s){if(Array.isArray(o))for(var l=o.length,u=0;u<l;u++)n[s]=u,i(o[u],s+1);else e(o,n.slice(0,s),t)}function a(o){if(Array.isArray(o))for(var s=o.length,l=0;l<s;l++)a(o[l]);else e(o)}}function KTe(t){return Fn([],t)}function wf(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if($1.isTypedFunction(t)){var i;if(n)i=1;else{var a=(e.isMatrix?e.size():Dt(e)).map(()=>0),o=e.isMatrix?e.get(a):iI(e,a);i=YTe(t,o,a,e)}var s;if(e.isMatrix&&e.dataType!=="mixed"&&e.dataType!==void 0){var l=XTe(t,i);s=l!==void 0?l:t}else s=t;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];return u9(s,d.slice(0,i),r,t.name)}}:{isUnary:!1,fn:function(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];return u9(s,d,r,t.name)}}}return n===void 0?{isUnary:WTe(t),fn:t}:{isUnary:n,fn:t}}function XTe(t,e){var r=[];if(Object.entries(t.signatures).forEach(n=>{var[i,a]=n;i.split(",").length===e&&r.push(a)}),r.length===1)return r[0]}function WTe(t){if(t.length!==1)return!1;var e=t.toString();if(/arguments/.test(e))return!1;var r=e.match(/\(.*?\)/);return!/\.\.\./.test(r)}function YTe(t,e,r,n){for(var i=[e,r,n],a=3;a>0;a--){var o=i.slice(0,a);if($1.resolve(t,o)!==null)return a}}function u9(t,e,r,n){try{return t(...e)}catch(i){QTe(i,e,r,n)}}function QTe(t,e,r,n){var i;if(t instanceof TypeError&&((i=t.data)===null||i===void 0?void 0:i.category)==="wrongType"){var a=[];throw a.push("value: ".concat(Dr(e[0]))),e.length>=2&&a.push("index: ".concat(Dr(e[1]))),e.length>=3&&a.push("array: ".concat(Dr(e[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(a.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(t.message))}var ZTe="DenseMatrix",JTe=["Matrix"],eDe=ne(ZTe,JTe,t=>{var{Matrix:e}=t;function r(f,d){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!Di(d))throw new Error("Invalid datatype: "+d);if(gt(f))f.type==="DenseMatrix"?(this._data=Ct(f._data),this._size=Ct(f._size),this._datatype=d||f._datatype):(this._data=f.toArray(),this._size=f.size(),this._datatype=d||f._datatype);else if(f&&Sr(f.data)&&Sr(f.size))this._data=f.data,this._size=f.size,i9(this._data,this._size),this._datatype=d||f.datatype;else if(Sr(f))this._data=u(f),this._size=Dt(this._data),i9(this._data,this._size),this._datatype=d;else{if(f)throw new TypeError("Unsupported type of data ("+Dr(f)+")");this._data=[],this._size=[0],this._datatype=d}}r.prototype=new e,r.prototype.createDenseMatrix=function(f,d){return new r(f,d)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return E_(this._data,Dr)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(f,d){return new r(f,d)},r.prototype.subset=function(f,d,p){switch(arguments.length){case 1:return n(this,f);case 2:case 3:return a(this,f,d,p);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(f){return iI(this._data,f)},r.prototype.set=function(f,d,p){if(!Sr(f))throw new TypeError("Array expected");if(f.length<this._size.length)throw new jt(f.length,this._size.length,"<");var m,y,g,b=f.map(function(N){return N+1});l(this,b,p);var E=this._data;for(m=0,y=f.length-1;m<y;m++)g=f[m],Rr(g,E.length),E=E[g];return g=f[f.length-1],Rr(g,E.length),E[g]=d,this};function n(f,d){if(!g_(d))throw new TypeError("Invalid index");var p=d.isScalar();if(p)return f.get(d.min());var m=d.size();if(m.length!==f._size.length)throw new jt(m.length,f._size.length);for(var y=d.min(),g=d.max(),b=0,E=f._size.length;b<E;b++)Rr(y[b],f._size[b]),Rr(g[b],f._size[b]);var N=new r([]),_=i(f._data,d);return N._size=_.size,N._datatype=f._datatype,N._data=_.data,N}function i(f,d){var p=d.size().length-1,m=Array(p);return{data:y(f),size:m};function y(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=d.dimension(b);return m[b]=E.size()[0],b<p?E.map(N=>(Rr(N,g.length),y(g[N],b+1))).valueOf():E.map(N=>(Rr(N,g.length),g[N])).valueOf()}}function a(f,d,p,m){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var y=d.size(),g=d.isScalar(),b;if(gt(p)?(b=p.size(),p=p.valueOf()):b=Dt(p),g){if(b.length!==0)throw new TypeError("Scalar expected");f.set(d.min(),p,m)}else{if(!Ou(b,y))try{b.length===0?p=Jc([p],y):p=Jc(p,y),b=Dt(p)}catch{}if(y.length<f._size.length)throw new jt(y.length,f._size.length,"<");if(b.length<y.length){for(var E=0,N=0;y[E]===1&&b[E]===1;)E++;for(;y[E]===1;)N++,E++;p=SW(p,y.length,N,b)}if(!Ou(y,b))throw new jt(y,b,">");var _=d.max().map(function(S){return S+1});l(f,_,m),o(f._data,d,p)}return f}function o(f,d,p){var m=d.size().length-1;y(f,p);function y(g,b){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,N=d.dimension(E);E<m?N.forEach((_,S)=>{Rr(_,g.length),y(g[_],b[S[0]],E+1)}):N.forEach((_,S)=>{Rr(_,g.length),g[_]=b[S[0]]})}}r.prototype.resize=function(f,d,p){if(!lo(f))throw new TypeError("Array or Matrix expected");var m=f.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g),y=p?this.clone():this;return s(y,m,d)};function s(f,d,p){if(d.length===0){for(var m=f._data;Sr(m);)m=m[0];return m}return f._size=d.slice(0),f._data=Xd(f._data,f._size,p),f}r.prototype.reshape=function(f,d){var p=d?this.clone():this;p._data=tI(p._data,f);var m=p._size.reduce((y,g)=>y*g);return p._size=rI(f,m),p};function l(f,d,p){for(var m=f._size.slice(0),y=!1;m.length<d.length;)m.push(0),y=!0;for(var g=0,b=d.length;g<b;g++)d[g]>m[g]&&(m[g]=d[g],y=!0);y&&s(f,m,p)}r.prototype.clone=function(){var f=new r({data:Ct(this._data),size:Ct(this._size),datatype:this._datatype});return f},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(f){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,m=p._size.length-1;if(m<0)return p.clone();var y=wf(f,p,"map",d),g=y.fn,b=p.create(void 0,p._datatype);if(b._size=p._size,d||y.isUnary)return b._data=A(p._data),b;if(m===0){for(var E=p.valueOf(),N=Array(E.length),_=0;_<E.length;_++)N[_]=g(E[_],[_],p);return b._data=N,b}var S=[];return b._data=x(p._data),b;function x(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=Array(T.length);if(O<m)for(var R=0;R<T.length;R++)S[O]=R,C[R]=x(T[R],O+1);else for(var I=0;I<T.length;I++)S[O]=I,C[I]=g(T[I],S.slice(),p);return C}function A(T){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=Array(T.length);if(O<m)for(var R=0;R<T.length;R++)C[R]=A(T[R],O+1);else for(var I=0;I<T.length;I++)C[I]=g(T[I]);return C}},r.prototype.forEach=function(f){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,m=p._size.length-1;if(m<0)return;var y=wf(f,p,"map",d),g=y.fn;if(d||y.isUnary){_(p._data);return}if(m===0){for(var b=0;b<p._data.length;b++)g(p._data[b],[b],p);return}var E=[];N(p._data);function N(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<m)for(var A=0;A<S.length;A++)E[x]=A,N(S[A],x+1);else for(var T=0;T<S.length;T++)E[x]=T,g(S[T],E.slice(),p)}function _(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<m)for(var A=0;A<S.length;A++)_(S[A],x+1);else for(var T=0;T<S.length;T++)g(S[T])}},r.prototype[Symbol.iterator]=function*(){var f=this._size.length-1;if(!(f<0)){if(f===0){for(var d=0;d<this._data.length;d++)yield{value:this._data[d],index:[d]};return}for(var p=Array(f+1).fill(0),m=this._size.reduce((N,_)=>N*_,1),y=0;y<m;y++){for(var g=this._data,b=0;b<f;b++)g=g[p[b]];yield{value:g[p[f]],index:p.slice()};for(var E=f;E>=0&&(p[E]++,!(p[E]<this._size[E]));E--)p[E]=0}}},r.prototype.rows=function(){var f=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)f.push(new r([m],this._datatype));return f},r.prototype.columns=function(){var f=this,d=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,y=function(E){var N=m.map(_=>[_[E]]);d.push(new r(N,f._datatype))},g=0;g<p[1];g++)y(g);return d},r.prototype.toArray=function(){return Ct(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(f){return Ut(this._data,f)},r.prototype.toString=function(){return Ut(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(f){if(f){if(Ft(f)&&(f=f.toNumber()),!Bt(f)||!ft(f))throw new TypeError("The parameter k must be an integer number")}else f=0;for(var d=f>0?f:0,p=f<0?-f:0,m=this._size[0],y=this._size[1],g=Math.min(m-p,y-d),b=[],E=0;E<g;E++)b[E]=this._data[E+p][E+d];return new r({data:b,size:[g],datatype:this._datatype})},r.diagonal=function(f,d,p,m){if(!Sr(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(T){if(Ft(T)&&(T=T.toNumber()),!Bt(T)||!ft(T)||T<1)throw new Error("Size values must be positive integers");return T}),p){if(Ft(p)&&(p=p.toNumber()),!Bt(p)||!ft(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var y=p>0?p:0,g=p<0?-p:0,b=f[0],E=f[1],N=Math.min(b-g,E-y),_;if(Sr(d)){if(d.length!==N)throw new Error("Invalid value array length");_=function(O){return d[O]}}else if(gt(d)){var S=d.size();if(S.length!==1||S[0]!==N)throw new Error("Invalid matrix length");_=function(O){return d.get([O])}}else _=function(){return d};m||(m=Ft(_(0))?_(0).mul(0):0);var x=[];if(f.length>0){x=Xd(x,f,m);for(var A=0;A<N;A++)x[A+g][A+y]=_(A)}return new r({data:x,size:[b,E]})},r.fromJSON=function(f){return new r(f)},r.prototype.swapRows=function(f,d){if(!Bt(f)||!ft(f)||!Bt(d)||!ft(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Rr(f,this._size[0]),Rr(d,this._size[0]),r._swapRows(f,d,this._data),this},r._swapRows=function(f,d,p){var m=p[f];p[f]=p[d],p[d]=m};function u(f){return gt(f)?u(f.valueOf()):Sr(f)?f.map(u):f}return r},{isClass:!0}),l9="clone",tDe=["typed"],rDe=ne(l9,tDe,t=>{var{typed:e}=t;return e(l9,{any:Ct})});function IW(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}function pp(t){for(var e=0;e<t.length;e++)if(lo(t[e]))return!0;return!1}function Vl(t,e){gt(t)?t.forEach(r=>e(r),!1,!0):MW(t,e,!0)}function kt(t,e,r){if(!r)return gt(t)?t.map(i=>e(i),!1,!0):DC(t,e,!0);var n=i=>i===0?i:e(i);return gt(t)?t.map(i=>n(i),!1,!0):DC(t,n,!0)}function S_(t,e,r){var n=Array.isArray(t)?Dt(t):t.size();if(e<0||e>=n.length)throw new ko(e,n.length);return gt(t)?t.create(H1(t.valueOf(),e,r),t.datatype()):H1(t,e,r)}function H1(t,e,r){var n,i,a,o;if(e<=0)if(Array.isArray(t[0])){for(o=IW(t),i=[],n=0;n<o.length;n++)i[n]=H1(o[n],e-1,r);return i}else{for(a=t[0],n=1;n<t.length;n++)a=r(a,t[n]);return a}else{for(i=[],n=0;n<t.length;n++)i[n]=H1(t[n],e-1,r);return i}}function c9(t,e,r,n,i,a,o,s,l,u,f){var d=t._values,p=t._index,m=t._ptr,y,g,b,E;if(n)for(g=m[e],b=m[e+1],y=g;y<b;y++)E=p[y],r[E]!==a?(r[E]=a,o.push(E),n[E]=d[y]):(n[E]=s(n[E],d[y]),i[E]=a);else for(g=m[e],b=m[e+1],y=g;y<b;y++)E=p[y],r[E]!==a?(r[E]=a,o.push(E)):i[E]=a}var f9="isInteger",nDe=["typed"],iDe=ne(f9,nDe,t=>{var{typed:e}=t;return e(f9,{number:ft,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":e.referToSelf(r=>n=>kt(n,r))})}),$o="number",mp="number, number";function RW(t){return Math.abs(t)}RW.signature=$o;function PW(t,e){return t+e}PW.signature=mp;function BW(t,e){return t-e}BW.signature=mp;function FW(t,e){return t*e}FW.signature=mp;function kW(t){return-t}kW.signature=$o;function $W(t){return t}$W.signature=$o;function Gm(t){return oSe(t)}Gm.signature=$o;function LW(t){return t*t*t}LW.signature=$o;function qW(t){return Math.exp(t)}qW.signature=$o;function UW(t){return sSe(t)}UW.signature=$o;function jW(t,e){if(!ft(t)||!ft(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}jW.signature=mp;function h9(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function G1(t){return iSe(t)}G1.signature=$o;function NC(t){return nSe(t)}NC.signature=$o;function d9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function CC(t){return Sl(t)}CC.signature=$o;function zW(t){return t*t}zW.signature=$o;function VW(t,e){var r,n,i,a=0,o=1,s=1,l=0;if(!ft(t)||!ft(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),i=t-n*e,r=a,a=o-n*a,o=r,r=s,s=l-n*s,l=r,t=e,e=i;var u;return t<0?u=[-t,-o,-l]:u=[t,t?o:0,l],u}VW.signature=mp;function HW(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}HW.signature=mp;function Fm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!ft(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(sW(t,e))}var aDe="number",vp="number, number";function GW(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function bitAnd");return t&e}GW.signature=vp;function KW(t){if(!ft(t))throw new Error("Integer expected in function bitNot");return~t}KW.signature=aDe;function XW(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function bitOr");return t|e}XW.signature=vp;function WW(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function bitXor");return t^e}WW.signature=vp;function YW(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function leftShift");return t<<e}YW.signature=vp;function QW(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function rightArithShift");return t>>e}QW.signature=vp;function ZW(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}ZW.signature=vp;function gu(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return gu(t,r)*gu(r+1,e)}function JW(t,e){if(!ft(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!ft(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,i=e<r?r+1:e+1,a=2,o=e<r?e:r,s=i;s<=t;++s)for(n*=s;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=gu(a,o)),n}JW.signature="number, number";var oDe=Math.PI,sDe=2*Math.PI,uDe=Math.E,lDe=1.618033988749895,cDe="number",aI="number, number";function eY(t){return!t}eY.signature=cDe;function OC(t,e){return!!(t||e)}OC.signature=aI;function MC(t,e){return!!t!=!!e}MC.signature=aI;function IC(t,e){return!!(t&&e)}IC.signature=aI;function K1(t){var e;if(ft(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:gu(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*K1(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,n=r*t,i=n*t,a=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*t))}--t,e=fd[0];for(var o=1;o<fd.length;++o)e+=fd[o]/(t+o);var s=t+tY+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*e}K1.signature="number";var tY=4.7421875,fd=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],rY=.9189385332046728,fDe=5,hDe=7,p9=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function X1(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-X1(1-t);t=t-1;for(var e=t+fDe+.5,r=p9[0],n=hDe-1;n>=1;n--)r+=p9[n]/(t+n);return rY+(t+.5)*Math.log(e)-e+Math.log(r)}X1.signature="number";var Mi="number";function nY(t){return fSe(t)}nY.signature=Mi;function iY(t){return Math.atan(1/t)}iY.signature=Mi;function aY(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}aY.signature=Mi;function oY(t){return Math.asin(1/t)}oY.signature=Mi;function sY(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}sY.signature=Mi;function uY(t){return Math.acos(1/t)}uY.signature=Mi;function lY(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}lY.signature=Mi;function cY(t){return hSe(t)}cY.signature=Mi;function fY(t){return dSe(t)}fY.signature=Mi;function hY(t){return 1/Math.tan(t)}hY.signature=Mi;function dY(t){var e=Math.exp(2*t);return(e+1)/(e-1)}dY.signature=Mi;function pY(t){return 1/Math.sin(t)}pY.signature=Mi;function mY(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*Sl(t)}mY.signature=Mi;function vY(t){return 1/Math.cos(t)}vY.signature=Mi;function gY(t){return 2/(Math.exp(t)+Math.exp(-t))}gY.signature=Mi;function yY(t){return mSe(t)}yY.signature=Mi;var oI="number";function bY(t){return t<0}bY.signature=oI;function wY(t){return t>0}wY.signature=oI;function _Y(t){return Number.isNaN(t)}_Y.signature=oI;function co(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return t.isNaN()||e.isNaN()?!1:!t.isFinite()||!e.isFinite()?t.eq(e):t.eq(e)?!0:t.minus(e).abs().lte(t.constructor.max(t.constructor.max(t.abs(),e.abs()).mul(r),n))}var m9="isNegative",dDe=["typed","config"],pDe=ne(m9,dDe,t=>{var{typed:e,config:r}=t;return e(m9,{number:n=>vi(n,0,r.relTol,r.absTol)?!1:bY(n),BigNumber:n=>co(n,new n.constructor(0),r.relTol,r.absTol)?!1:n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n<0n,Fraction:n=>n.s<0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>kt(i,n))})}),v9="isNumeric",mDe=["typed"],vDe=ne(v9,mDe,t=>{var{typed:e}=t;return e(v9,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(r=>n=>kt(n,r))})}),g9="hasNumericValue",gDe=["typed","isNumeric"],yDe=ne(g9,gDe,t=>{var{typed:e,isNumeric:r}=t;return e(g9,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return r(i)}})}),y9="isPositive",bDe=["typed","config"],wDe=ne(y9,bDe,t=>{var{typed:e,config:r}=t;return e(y9,{number:n=>vi(n,0,r.relTol,r.absTol)?!1:wY(n),BigNumber:n=>co(n,new n.constructor(0),r.relTol,r.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0n&&n.n>0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>kt(i,n))})}),b9="isZero",_De=["typed","equalScalar"],xDe=ne(b9,_De,t=>{var{typed:e,equalScalar:r}=t;return e(b9,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>kt(i,n))})}),w9="isNaN",ADe=["typed"],EDe=ne(w9,ADe,t=>{var{typed:e}=t;return e(w9,{number:_Y,BigNumber:function(n){return n.isNaN()},bigint:function(n){return!1},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":e.referToSelf(r=>n=>kt(n,r))})}),_9="typeOf",SDe=["typed"],TDe=ne(_9,SDe,t=>{var{typed:e}=t;return e(_9,{any:Dr})});function DDe(t,e,r,n){return vi(t.re,e.re,r,n)&&vi(t.im,e.im,r,n)}var gp=ne("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),W1="equalScalar",NDe=["typed","config"],CDe=ne(W1,NDe,t=>{var{typed:e,config:r}=t,n=gp({typed:e});return e(W1,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return vi(a,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||co(a,o,r.relTol,r.absTol)},"bigint, bigint":function(a,o){return a===o},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return DDe(a,o,r.relTol,r.absTol)}},n)});ne(W1,["typed","config"],t=>{var{typed:e,config:r}=t;return e(W1,{"number, number":function(i,a){return vi(i,a,r.relTol,r.absTol)}})});var ODe="SparseMatrix",MDe=["typed","equalScalar","Matrix"],IDe=ne(ODe,MDe,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(g,b){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(b&&!Di(b))throw new Error("Invalid datatype: "+b);if(gt(g))a(this,g,b);else if(g&&Sr(g.index)&&Sr(g.ptr)&&Sr(g.size))this._values=g.values,this._index=g.index,this._ptr=g.ptr,this._size=g.size,this._datatype=b||g.datatype;else if(Sr(g))o(this,g,b);else{if(g)throw new TypeError("Unsupported type of data ("+Dr(g)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=b}}function a(g,b,E){b.type==="SparseMatrix"?(g._values=b._values?Ct(b._values):void 0,g._index=Ct(b._index),g._ptr=Ct(b._ptr),g._size=Ct(b._size),g._datatype=E||b._datatype):o(g,b.valueOf(),E||b._datatype)}function o(g,b,E){g._values=[],g._index=[],g._ptr=[],g._datatype=E;var N=b.length,_=0,S=r,x=0;if(Di(E)&&(S=e.find(r,[E,E])||r,x=e.convert(0,E)),N>0){var A=0;do{g._ptr.push(g._index.length);for(var T=0;T<N;T++){var O=b[T];if(Sr(O)){if(A===0&&_<O.length&&(_=O.length),A<O.length){var C=O[A];S(C,x)||(g._values.push(C),g._index.push(T))}}else A===0&&_<1&&(_=1),S(O,x)||(g._values.push(O),g._index.push(T))}A++}while(A<_)}g._ptr.push(g._index.length),g._size=[N,_]}i.prototype=new n,i.prototype.createSparseMatrix=function(g,b){return new i(g,b)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return E_(this._values,Dr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(g,b){return new i(g,b)},i.prototype.density=function(){var g=this._size[0],b=this._size[1];return g!==0&&b!==0?this._index.length/(g*b):0},i.prototype.subset=function(g,b,E){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,g);case 2:case 3:return l(this,g,b,E);default:throw new SyntaxError("Wrong number of arguments")}};function s(g,b){if(!g_(b))throw new TypeError("Invalid index");var E=b.isScalar();if(E)return g.get(b.min());var N=b.size();if(N.length!==g._size.length)throw new jt(N.length,g._size.length);var _,S,x,A,T=b.min(),O=b.max();for(_=0,S=g._size.length;_<S;_++)Rr(T[_],g._size[_]),Rr(O[_],g._size[_]);var C=g._values,R=g._index,I=g._ptr,P=b.dimension(0),F=b.dimension(1),z=[],U=[];P.forEach(function(H,j){U[H]=j[0],z[H]=!0});var k=C?[]:void 0,V=[],Y=[];return F.forEach(function(H){for(Y.push(V.length),x=I[H],A=I[H+1];x<A;x++)_=R[x],z[_]===!0&&(V.push(U[_]),k&&k.push(C[x]))}),Y.push(V.length),new i({values:k,index:V,ptr:Y,size:N,datatype:g._datatype})}function l(g,b,E,N){if(!b||b.isIndex!==!0)throw new TypeError("Invalid index");var _=b.size(),S=b.isScalar(),x;if(gt(E)?(x=E.size(),E=E.toArray()):x=Dt(E),S){if(x.length!==0)throw new TypeError("Scalar expected");g.set(b.min(),E,N)}else{if(_.length!==1&&_.length!==2)throw new jt(_.length,g._size.length,"<");if(x.length<_.length){for(var A=0,T=0;_[A]===1&&x[A]===1;)A++;for(;_[A]===1;)T++,A++;E=SW(E,_.length,T,x)}if(!Ou(_,x))throw new jt(_,x,">");if(_.length===1){var O=b.dimension(0);O.forEach(function(I,P){Rr(I),g.set([I,0],E[P[0]],N)})}else{var C=b.dimension(0),R=b.dimension(1);C.forEach(function(I,P){Rr(I),R.forEach(function(F,z){Rr(F),g.set([I,F],E[P[0]][z[0]],N)})})}}return g}i.prototype.get=function(g){if(!Sr(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new jt(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var b=g[0],E=g[1];Rr(b,this._size[0]),Rr(E,this._size[1]);var N=u(b,this._ptr[E],this._ptr[E+1],this._index);return N<this._ptr[E+1]&&this._index[N]===b?this._values[N]:0},i.prototype.set=function(g,b,E){if(!Sr(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new jt(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var N=g[0],_=g[1],S=this._size[0],x=this._size[1],A=r,T=0;Di(this._datatype)&&(A=e.find(r,[this._datatype,this._datatype])||r,T=e.convert(0,this._datatype)),(N>S-1||_>x-1)&&(p(this,Math.max(N+1,S),Math.max(_+1,x),E),S=this._size[0],x=this._size[1]),Rr(N,S),Rr(_,x);var O=u(N,this._ptr[_],this._ptr[_+1],this._index);return O<this._ptr[_+1]&&this._index[O]===N?A(b,T)?f(O,_,this._values,this._index,this._ptr):this._values[O]=b:A(b,T)||d(O,N,_,b,this._values,this._index,this._ptr),this};function u(g,b,E,N){if(E-b===0)return E;for(var _=b;_<E;_++)if(N[_]===g)return _;return b}function f(g,b,E,N,_){E.splice(g,1),N.splice(g,1);for(var S=b+1;S<_.length;S++)_[S]--}function d(g,b,E,N,_,S,x){_.splice(g,0,N),S.splice(g,0,b);for(var A=E+1;A<x.length;A++)x[A]++}i.prototype.resize=function(g,b,E){if(!lo(g))throw new TypeError("Array or Matrix expected");var N=g.valueOf().map(S=>Array.isArray(S)&&S.length===1?S[0]:S);if(N.length!==2)throw new Error("Only two dimensions matrix are supported");N.forEach(function(S){if(!Bt(S)||!ft(S)||S<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ut(N)+")")});var _=E?this.clone():this;return p(_,N[0],N[1],b)};function p(g,b,E,N){var _=N||0,S=r,x=0;Di(g._datatype)&&(S=e.find(r,[g._datatype,g._datatype])||r,x=e.convert(0,g._datatype),_=e.convert(_,g._datatype));var A=!S(_,x),T=g._size[0],O=g._size[1],C,R,I;if(E>O){for(R=O;R<E;R++)if(g._ptr[R]=g._values.length,A)for(C=0;C<T;C++)g._values.push(_),g._index.push(C);g._ptr[E]=g._values.length}else E<O&&(g._ptr.splice(E+1,O-E),g._values.splice(g._ptr[E],g._values.length),g._index.splice(g._ptr[E],g._index.length));if(O=E,b>T){if(A){var P=0;for(R=0;R<O;R++){g._ptr[R]=g._ptr[R]+P,I=g._ptr[R+1]+P;var F=0;for(C=T;C<b;C++,F++)g._values.splice(I+F,0,_),g._index.splice(I+F,0,C),P++}g._ptr[O]=g._values.length}}else if(b<T){var z=0;for(R=0;R<O;R++){g._ptr[R]=g._ptr[R]-z;var U=g._ptr[R],k=g._ptr[R+1]-z;for(I=U;I<k;I++)C=g._index[I],C>b-1&&(g._values.splice(I,1),g._index.splice(I,1),z++)}g._ptr[R]=g._values.length}return g._size[0]=b,g._size[1]=E,g}i.prototype.reshape=function(g,b){if(!Sr(g))throw new TypeError("Array expected");if(g.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");g.forEach(function(H){if(!Bt(H)||!ft(H)||H<=-2||H===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ut(g)+")")});var E=this._size[0]*this._size[1];g=rI(g,E);var N=g[0]*g[1];if(E!==N)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var _=b?this.clone():this;if(this._size[0]===g[0]&&this._size[1]===g[1])return _;for(var S=[],x=0;x<_._ptr.length;x++)for(var A=0;A<_._ptr[x+1]-_._ptr[x];A++)S.push(x);for(var T=_._values.slice(),O=_._index.slice(),C=0;C<_._index.length;C++){var R=O[C],I=S[C],P=R*_._size[1]+I;S[C]=P%g[1],O[C]=Math.floor(P/g[1])}_._values.length=0,_._index.length=0,_._ptr.length=g[1]+1,_._size=g.slice();for(var F=0;F<_._ptr.length;F++)_._ptr[F]=0;for(var z=0;z<T.length;z++){var U=O[z],k=S[z],V=T[z],Y=u(U,_._ptr[k],_._ptr[k+1],_._index);d(Y,U,k,V,_._values,_._index,_._ptr)}return _},i.prototype.clone=function(){var g=new i({values:this._values?Ct(this._values):void 0,index:Ct(this._index),ptr:Ct(this._ptr),size:Ct(this._size),datatype:this._datatype});return g},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(g,b){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var E=this,N=this._size[0],_=this._size[1],S=wf(g,E,"map"),x=function(T,O,C){return S.fn(T,[O,C],E)};return m(this,0,N-1,0,_-1,x,b)};function m(g,b,E,N,_,S,x){var A=[],T=[],O=[],C=r,R=0;Di(g._datatype)&&(C=e.find(r,[g._datatype,g._datatype])||r,R=e.convert(0,g._datatype));for(var I=function(W,K,ge){var me=S(W,K,ge);C(me,R)||(A.push(me),T.push(K))},P=N;P<=_;P++){O.push(A.length);var F=g._ptr[P],z=g._ptr[P+1];if(x)for(var U=F;U<z;U++){var k=g._index[U];k>=b&&k<=E&&I(g._values[U],k-b,P-N)}else{for(var V={},Y=F;Y<z;Y++){var H=g._index[Y];V[H]=g._values[Y]}for(var j=b;j<=E;j++){var Z=j in V?V[j]:0;I(Z,j-b,P-N)}}}return O.push(A.length),new i({values:A,index:T,ptr:O,size:[E-b+1,_-N+1]})}i.prototype.forEach=function(g,b){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var E=this,N=this._size[0],_=this._size[1],S=wf(g,E,"forEach"),x=0;x<_;x++){var A=this._ptr[x],T=this._ptr[x+1];if(b)for(var O=A;O<T;O++){var C=this._index[O];S.fn(this._values[O],[C,x],E)}else{for(var R={},I=A;I<T;I++){var P=this._index[I];R[P]=this._values[I]}for(var F=0;F<N;F++){var z=F in R?R[F]:0;S.fn(z,[F,x],E)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var g=this._size[1],b=0;b<g;b++)for(var E=this._ptr[b],N=this._ptr[b+1],_=E;_<N;_++){var S=this._index[_];yield{value:this._values[_],index:[S,b]}}},i.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(g,b,E,N,_){var S=N[0],x=N[1],A=[],T,O;for(T=0;T<S;T++)for(A[T]=[],O=0;O<x;O++)A[T][O]=0;for(O=0;O<x;O++)for(var C=E[O],R=E[O+1],I=C;I<R;I++)T=b[I],A[T][O]=g?_?Ct(g[I]):g[I]:1;return A}return i.prototype.format=function(g){for(var b=this._size[0],E=this._size[1],N=this.density(),_="Sparse Matrix ["+Ut(b,g)+" x "+Ut(E,g)+"] density: "+Ut(N,g)+`
`,S=0;S<E;S++)for(var x=this._ptr[S],A=this._ptr[S+1],T=x;T<A;T++){var O=this._index[T];_+=`
    (`+Ut(O,g)+", "+Ut(S,g)+") ==> "+(this._values?Ut(this._values[T],g):"X")}return _},i.prototype.toString=function(){return Ut(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(g){if(g){if(Ft(g)&&(g=g.toNumber()),!Bt(g)||!ft(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var b=g>0?g:0,E=g<0?-g:0,N=this._size[0],_=this._size[1],S=Math.min(N-E,_-b),x=[],A=[],T=[];T[0]=0;for(var O=b;O<_&&x.length<S;O++)for(var C=this._ptr[O],R=this._ptr[O+1],I=C;I<R;I++){var P=this._index[I];if(P===O-b+E){x.push(this._values[I]),A[x.length-1]=P-E;break}}return T.push(x.length),new i({values:x,index:A,ptr:T,size:[S,1]})},i.fromJSON=function(g){return new i(g)},i.diagonal=function(g,b,E,N,_){if(!Sr(g))throw new TypeError("Array expected, size parameter");if(g.length!==2)throw new Error("Only two dimensions matrix are supported");if(g=g.map(function(H){if(Ft(H)&&(H=H.toNumber()),!Bt(H)||!ft(H)||H<1)throw new Error("Size values must be positive integers");return H}),E){if(Ft(E)&&(E=E.toNumber()),!Bt(E)||!ft(E))throw new TypeError("The parameter k must be an integer number")}else E=0;var S=r,x=0;Di(_)&&(S=e.find(r,[_,_])||r,x=e.convert(0,_));var A=E>0?E:0,T=E<0?-E:0,O=g[0],C=g[1],R=Math.min(O-T,C-A),I;if(Sr(b)){if(b.length!==R)throw new Error("Invalid value array length");I=function(j){return b[j]}}else if(gt(b)){var P=b.size();if(P.length!==1||P[0]!==R)throw new Error("Invalid matrix length");I=function(j){return b.get([j])}}else I=function(){return b};for(var F=[],z=[],U=[],k=0;k<C;k++){U.push(F.length);var V=k-A;if(V>=0&&V<R){var Y=I(V);S(Y,x)||(z.push(V+T),F.push(Y))}}return U.push(F.length),new i({values:F,index:z,ptr:U,size:[O,C]})},i.prototype.swapRows=function(g,b){if(!Bt(g)||!ft(g)||!Bt(b)||!ft(b))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Rr(g,this._size[0]),Rr(b,this._size[0]),i._swapRows(g,b,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(g,b,E,N,_){for(var S=N[g],x=N[g+1],A=S;A<x;A++)_(E[A],b[A])},i._swapRows=function(g,b,E,N,_,S){for(var x=0;x<E;x++){var A=S[x],T=S[x+1],O=u(g,A,T,_),C=u(b,A,T,_);if(O<T&&C<T&&_[O]===g&&_[C]===b){if(N){var R=N[O];N[O]=N[C],N[C]=R}continue}if(O<T&&_[O]===g&&(C>=T||_[C]!==b)){var I=N?N[O]:void 0;_.splice(C,0,b),N&&N.splice(C,0,I),_.splice(C<=O?O+1:O,1),N&&N.splice(C<=O?O+1:O,1);continue}if(C<T&&_[C]===b&&(O>=T||_[O]!==g)){var P=N?N[C]:void 0;_.splice(O,0,g),N&&N.splice(O,0,P),_.splice(O<=C?C+1:C,1),N&&N.splice(O<=C?C+1:C,1)}}},i},{isClass:!0}),RDe="number",PDe=["typed"];function BDe(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:i}}else return null}function FDe(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);r+=i/Math.pow(t.radix,n+1)}var a=e+r;if(isNaN(a))throw new SyntaxError('String "'+t.input+'" is not a valid number');return a}var kDe=ne(RDe,PDe,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=BDe(i);if(a)return FDe(a);var o=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),i=s[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>kt(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),$De="bigint",LDe=["typed"],qDe=ne($De,LDe,t=>{var{typed:e}=t,r=e("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":e.referToSelf(n=>i=>kt(i,n))});return r.fromJSON=function(n){return BigInt(n.value)},r}),x9="string",UDe=["typed"],jDe=ne(x9,UDe,t=>{var{typed:e}=t;return e(x9,{"":function(){return""},number:sf,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(r=>n=>kt(n,r)),any:function(n){return String(n)}})}),A9="boolean",zDe=["typed"],VDe=ne(A9,zDe,t=>{var{typed:e}=t;return e(A9,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(r=>n=>kt(n,r))})}),HDe="bignumber",GDe=["typed","BigNumber"],KDe=ne(HDe,GDe,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],s=r(a[1]),l=new r(2).pow(Number(o));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new r(2).pow(Number(o)-1);return s.gte(u)?s.sub(l):s}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new r(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new r(0)},"Array | Matrix":e.referToSelf(n=>i=>kt(i,n))})}),XDe="complex",WDe=["typed","Complex"],YDe=ne(XDe,WDe,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,a){return new r(i,a)},"BigNumber, BigNumber":function(i,a){return new r(i.toNumber(),a.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>kt(i,n))})}),QDe="fraction",ZDe=["typed","Fraction"],JDe=ne(QDe,ZDe,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,a){return new r(i,a)},"bigint, bigint":function(i,a){return new r(i,a)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>kt(i,n))})}),E9="matrix",e2e=["typed","Matrix","DenseMatrix","SparseMatrix"],t2e=ne(E9,e2e,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(E9,{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,l){return a([],s,l)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,s,l){if(s==="dense"||s==="default"||s===void 0)return new n(o,l);if(s==="sparse")return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),S9="matrixFromFunction",r2e=["typed","matrix","isZero"],n2e=ne(S9,r2e,t=>{var{typed:e,matrix:r,isZero:n}=t;return e(S9,{"Array | Matrix, function, string, string":function(o,s,l,u){return i(o,s,l,u)},"Array | Matrix, function, string":function(o,s,l){return i(o,s,l)},"Matrix, function":function(o,s){return i(o,s,"dense")},"Array, function":function(o,s){return i(o,s,"dense").toArray()},"Array | Matrix, string, function":function(o,s,l){return i(o,l,s)},"Array | Matrix, string, string, function":function(o,s,l,u){return i(o,u,s,l)}});function i(a,o,s,l){var u;return l!==void 0?u=r(s,l):u=r(s),u.resize(a),u.forEach(function(f,d){var p=o(d);n(p)||u.set(d,p)}),u}}),T9="matrixFromRows",i2e=["typed","matrix","flatten","size"],a2e=ne(T9,i2e,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(T9,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(u=>u.toArray())))}});function a(s){if(s.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(s[0]),u=[];for(var f of s){var d=o(f);if(d!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(d|0));u.push(n(f))}return u}function o(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),D9="matrixFromColumns",o2e=["typed","matrix","flatten","size"],s2e=ne(D9,o2e,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(D9,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(u=>u.toArray())))}});function a(s){if(s.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(s[0]),u=[],f=0;f<l;f++)u[f]=[];for(var d of s){var p=o(d);if(p!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(p|0));for(var m=n(d),y=0;y<l;y++)u[y].push(m[y])}return u}function o(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),N9="splitUnit",u2e=["typed"],l2e=ne(N9,u2e,t=>{var{typed:e}=t;return e(N9,{"Unit, Array":function(n,i){return n.splitUnit(i)}})}),C9="unaryMinus",c2e=["typed"],f2e=ne(C9,c2e,t=>{var{typed:e}=t;return e(C9,{number:kW,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:e.referToSelf(r=>n=>{var i=n.clone();return i.value=e.find(r,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(r=>n=>kt(n,r,!0))})}),O9="unaryPlus",h2e=["typed","config","numeric"],d2e=ne(O9,h2e,t=>{var{typed:e,config:r,numeric:n}=t;return e(O9,{number:$W,Complex:function(a){return a},BigNumber:function(a){return a},bigint:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>kt(a,i,!0)),boolean:function(a){return n(a?1:0,r.number)},string:function(a){return n(a,Ql(a,r))}})}),M9="abs",p2e=["typed"],m2e=ne(M9,p2e,t=>{var{typed:e}=t;return e(M9,{number:RW,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":e.referToSelf(r=>n=>kt(n,r,!0))})}),I9="mapSlices",v2e=["typed","isInteger"],RC=ne(I9,v2e,t=>{var{typed:e,isInteger:r}=t;return e(I9,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!r(a))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(i)?Dt(i):i.size();if(a<0||a>=s.length)throw new ko(a,s.length);return gt(i)?i.create(Y1(i.valueOf(),a,o),i.datatype()):Y1(i,a,o)}})},{formerly:"apply"});function Y1(t,e,r){var n,i,a;if(e<=0)if(Array.isArray(t[0])){for(a=g2e(t),i=[],n=0;n<a.length;n++)i[n]=Y1(a[n],e-1,r);return i}else return r(t);else{for(i=[],n=0;n<t.length;n++)i[n]=Y1(t[n],e-1,r);return i}}function g2e(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}var R9="addScalar",y2e=["typed"],b2e=ne(R9,y2e,t=>{var{typed:e}=t;return e(R9,{"number, number":PW,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),P9="subtractScalar",w2e=["typed"],_2e=ne(P9,w2e,t=>{var{typed:e}=t;return e(P9,{"number, number":BW,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),B9="cbrt",x2e=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],A2e=ne(B9,x2e,t=>{var{config:e,typed:r,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:s,Fraction:l}=t;return r(B9,{number:Gm,Complex:u,"Complex, boolean":u,BigNumber:function(p){return p.cbrt()},Unit:f});function u(d,p){var m=d.arg()/3,y=d.abs(),g=new o(Gm(y),0).mul(new o(0,m).exp());if(p){var b=[g,new o(Gm(y),0).mul(new o(0,m+Math.PI*2/3).exp()),new o(Gm(y),0).mul(new o(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?b:a(b)}else return g}function f(d){if(d.value&&wu(d.value)){var p=d.clone();return p.value=1,p=p.pow(1/3),p.value=u(d.value),p}else{var m=n(d.value);m&&(d.value=i(d.value));var y;Ft(d.value)?y=new s(1).div(3):Ng(d.value)?y=new l(1,3):y=1/3;var g=d.pow(y);return m&&(g.value=i(g.value)),g}}}),E2e="matAlgo11xS0s",S2e=["typed","equalScalar"],gi=ne(E2e,S2e,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,s){var l=i._values,u=i._index,f=i._ptr,d=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=d[0],y=d[1],g,b=r,E=0,N=o;typeof p=="string"&&(g=p,b=e.find(r,[g,g]),E=e.convert(0,g),a=e.convert(a,g),N=e.find(o,[g,g]));for(var _=[],S=[],x=[],A=0;A<y;A++){x[A]=S.length;for(var T=f[A],O=f[A+1],C=T;C<O;C++){var R=u[C],I=s?N(a,l[C]):N(l[C],a);b(I,E)||(S.push(R),_.push(I))}}return x[y]=S.length,i.createSparseMatrix({values:_,index:S,ptr:x,size:[m,y],datatype:g})}}),T2e="matAlgo12xSfs",D2e=["typed","DenseMatrix"],jn=ne(T2e,D2e,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,s){var l=i._values,u=i._index,f=i._ptr,d=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=d[0],y=d[1],g,b=o;typeof p=="string"&&(g=p,a=e.convert(a,g),b=e.find(o,[g,g]));for(var E=[],N=[],_=[],S=0;S<y;S++){for(var x=S+1,A=f[S],T=f[S+1],O=A;O<T;O++){var C=u[O];N[C]=l[O],_[C]=x}for(var R=0;R<m;R++)S===0&&(E[R]=[]),_[R]===x?E[R][S]=s?b(a,N[R]):b(N[R],a):E[R][S]=s?b(a,0):b(0,a)}return new r({data:E,size:[m,y],datatype:g})}}),N2e="matAlgo14xDs",C2e=["typed"],Lo=ne(N2e,C2e,t=>{var{typed:e}=t;return function(i,a,o,s){var l=i._data,u=i._size,f=i._datatype,d,p=o;typeof f=="string"&&(d=f,a=e.convert(a,d),p=e.find(o,[d,d]));var m=u.length>0?r(p,0,u,u[0],l,a,s):[];return i.createDenseMatrix({data:m,size:Ct(u),datatype:d})};function r(n,i,a,o,s,l,u){var f=[];if(i===a.length-1)for(var d=0;d<o;d++)f[d]=u?n(l,s[d]):n(s[d],l);else for(var p=0;p<o;p++)f[p]=r(n,i+1,a,a[i+1],s[p],l,u);return f}}),PC="ceil",O2e=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],M2e=new zl(10),I2e=ne(PC,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;function i(a){var o=Math.ceil(a),s=n(a);return o===s?o:vi(a,s,r.relTol,r.absTol)&&!vi(a,o,r.relTol,r.absTol)?s:o}return e(PC,{number:i,"number, number":function(o,s){if(!ft(s))throw new RangeError("number of decimals in function ceil must be an integer");if(s<0||s>15)throw new RangeError("number of decimals in ceil number must be in range 0-15");var l=10**s;return i(o*l)/l}})}),R2e=ne(PC,O2e,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=t,l=gi({typed:e,equalScalar:a}),u=jn({typed:e,DenseMatrix:s}),f=Lo({typed:e}),d=I2e({typed:e,config:r,round:n});function p(m){var y=(E,N)=>co(E,N,r.relTol,r.absTol),g=m.ceil(),b=n(m);return g.eq(b)?g:y(m,b)&&!y(m,g)?b:g}return e("ceil",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(y){return y.ceil()},"Complex, number":function(y,g){return y.ceil(g)},"Complex, BigNumber":function(y,g){return y.ceil(g.toNumber())},BigNumber:p,"BigNumber, BigNumber":function(y,g){var b=M2e.pow(g);return p(y.mul(b)).div(b)},bigint:m=>m,"bigint, number":(m,y)=>m,"bigint, BigNumber":(m,y)=>m,Fraction:function(y){return y.ceil()},"Fraction, number":function(y,g){return y.ceil(g)},"Fraction, BigNumber":function(y,g){return y.ceil(g.toNumber())},"Unit, number, Unit":e.referToSelf(m=>function(y,g,b){var E=y.toNumeric(b);return b.multiply(m(E,g))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(y,g,b)=>m(y,g.toNumber(),b)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(y,g,b)=>kt(y,E=>m(E,g,b),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(y,g)=>m(y,0,g)),"Array | Matrix":e.referToSelf(m=>y=>kt(y,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(y,g)=>kt(y,b=>m(b,g),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(y,g)=>l(y,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(y,g)=>f(y,g,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(y,g)=>f(i(g),y,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(y,g)=>a(y,0)?o(g.size(),g.storage()):g.storage()==="dense"?f(g,y,m,!0):u(g,y,m,!0))})}),F9="cube",P2e=["typed"],B2e=ne(F9,P2e,t=>{var{typed:e}=t;return e(F9,{number:LW,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},bigint:function(n){return n*n*n},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})}),k9="exp",F2e=["typed"],k2e=ne(k9,F2e,t=>{var{typed:e}=t;return e(k9,{number:qW,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),$9="expm1",$2e=["typed","Complex"],L2e=ne($9,$2e,t=>{var{typed:e,Complex:r}=t;return e($9,{number:UW,Complex:function(i){var a=Math.exp(i.re);return new r(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),BC="fix",q2e=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],U2e=ne(BC,["typed","ceil","floor"],t=>{var{typed:e,ceil:r,floor:n}=t;return e(BC,{number:function(a){return a>0?n(a):r(a)},"number, number":function(a,o){return a>0?n(a,o):r(a,o)}})}),j2e=ne(BC,q2e,t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:s,DenseMatrix:l}=t,u=jn({typed:e,DenseMatrix:l}),f=Lo({typed:e}),d=U2e({typed:e,ceil:i,floor:a});return e("fix",{number:d.signatures.number,"number, number | BigNumber":d.signatures["number,number"],Complex:function(m){return new r(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,y){return new r(m.re>0?a(m.re,y):i(m.re,y),m.im>0?a(m.im,y):i(m.im,y))},"Complex, BigNumber":function(m,y){var g=y.toNumber();return new r(m.re>0?a(m.re,g):i(m.re,g),m.im>0?a(m.im,g):i(m.im,g))},BigNumber:function(m){return m.isNegative()?i(m):a(m)},"BigNumber, number | BigNumber":function(m,y){return m.isNegative()?i(m,y):a(m,y)},bigint:p=>p,"bigint, number":(p,m)=>p,"bigint, BigNumber":(p,m)=>p,Fraction:function(m){return m.s<0n?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,y){return m.s<0n?i(m,y):a(m,y)},"Unit, number, Unit":e.referToSelf(p=>function(m,y,g){var b=m.toNumeric(g);return g.multiply(p(b,y))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(m,y,g)=>p(m,y.toNumber(),g)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(p=>(m,y,g)=>kt(m,b=>p(b,y,g),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(p=>(m,y)=>p(m,0,y)),"Array | Matrix":e.referToSelf(p=>m=>kt(m,p,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(p=>(m,y)=>kt(m,g=>p(g,y),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,y)=>f(n(y),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,y)=>o(m,0)?s(y.size(),y.storage()):y.storage()==="dense"?f(y,m,p,!0):u(y,m,p,!0))})}),FC="floor",z2e=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],V2e=new zl(10),H2e=ne(FC,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;function i(a){var o=Math.floor(a),s=n(a);return o===s?o:vi(a,s,r.relTol,r.absTol)&&!vi(a,o,r.relTol,r.absTol)?s:o}return e(FC,{number:i,"number, number":function(o,s){if(!ft(s))throw new RangeError("number of decimals in function floor must be an integer");if(s<0||s>15)throw new RangeError("number of decimals in floor number must be in range 0 - 15");var l=10**s;return i(o*l)/l}})}),xY=ne(FC,z2e,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=t,l=gi({typed:e,equalScalar:a}),u=jn({typed:e,DenseMatrix:s}),f=Lo({typed:e}),d=H2e({typed:e,config:r,round:n});function p(m){var y=(E,N)=>co(E,N,r.relTol,r.absTol),g=m.floor(),b=n(m);return g.eq(b)?g:y(m,b)&&!y(m,g)?b:g}return e("floor",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(y){return y.floor()},"Complex, number":function(y,g){return y.floor(g)},"Complex, BigNumber":function(y,g){return y.floor(g.toNumber())},BigNumber:p,"BigNumber, BigNumber":function(y,g){var b=V2e.pow(g);return p(y.mul(b)).div(b)},bigint:m=>m,"bigint, number":(m,y)=>m,"bigint, BigNumber":(m,y)=>m,Fraction:function(y){return y.floor()},"Fraction, number":function(y,g){return y.floor(g)},"Fraction, BigNumber":function(y,g){return y.floor(g.toNumber())},"Unit, number, Unit":e.referToSelf(m=>function(y,g,b){var E=y.toNumeric(b);return b.multiply(m(E,g))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(y,g,b)=>m(y,g.toNumber(),b)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(y,g,b)=>kt(y,E=>m(E,g,b),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(y,g)=>m(y,0,g)),"Array | Matrix":e.referToSelf(m=>y=>kt(y,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(y,g)=>kt(y,b=>m(b,g),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(y,g)=>l(y,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(y,g)=>f(y,g,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(y,g)=>f(i(g),y,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(y,g)=>a(y,0)?o(g.size(),g.storage()):g.storage()==="dense"?f(g,y,m,!0):u(g,y,m,!0))})}),G2e="matAlgo02xDS0",K2e=["typed","equalScalar"],qo=ne(G2e,K2e,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,s){var l=i._data,u=i._size,f=i._datatype||i.getDataType(),d=a._values,p=a._index,m=a._ptr,y=a._size,g=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(u.length!==y.length)throw new jt(u.length,y.length);if(u[0]!==y[0]||u[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+y+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var b=u[0],E=u[1],N,_=r,S=0,x=o;typeof f=="string"&&f===g&&f!=="mixed"&&(N=f,_=e.find(r,[N,N]),S=e.convert(0,N),x=e.find(o,[N,N]));for(var A=[],T=[],O=[],C=0;C<E;C++){O[C]=T.length;for(var R=m[C],I=m[C+1],P=R;P<I;P++){var F=p[P],z=s?x(d[P],l[F][C]):x(l[F][C],d[P]);_(z,S)||(T.push(F),A.push(z))}}return O[E]=T.length,a.createSparseMatrix({values:A,index:T,ptr:O,size:[b,E],datatype:f===i._datatype&&g===a._datatype?N:void 0})}}),X2e="matAlgo03xDSf",W2e=["typed"],Hi=ne(X2e,W2e,t=>{var{typed:e}=t;return function(n,i,a,o){var s=n._data,l=n._size,u=n._datatype||n.getDataType(),f=i._values,d=i._index,p=i._ptr,m=i._size,y=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==m.length)throw new jt(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=l[0],b=l[1],E,N=0,_=a;typeof u=="string"&&u===y&&u!=="mixed"&&(E=u,N=e.convert(0,E),_=e.find(a,[E,E]));for(var S=[],x=0;x<g;x++)S[x]=[];for(var A=[],T=[],O=0;O<b;O++){for(var C=O+1,R=p[O],I=p[O+1],P=R;P<I;P++){var F=d[P];A[F]=o?_(f[P],s[F][O]):_(s[F][O],f[P]),T[F]=C}for(var z=0;z<g;z++)T[z]===C?S[z][O]=A[z]:S[z][O]=o?_(N,s[z][O]):_(s[z][O],N)}return n.createDenseMatrix({data:S,size:[g,b],datatype:u===n._datatype&&y===i._datatype?E:void 0})}}),Y2e="matAlgo05xSfSf",Q2e=["typed","equalScalar"],T_=ne(Y2e,Q2e,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,f=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,y=a._ptr,g=a._size,b=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==g.length)throw new jt(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");var E=f[0],N=f[1],_,S=r,x=0,A=o;typeof d=="string"&&d===b&&d!=="mixed"&&(_=d,S=e.find(r,[_,_]),x=e.convert(0,_),A=e.find(o,[_,_]));var T=s&&p?[]:void 0,O=[],C=[],R=T?[]:void 0,I=T?[]:void 0,P=[],F=[],z,U,k,V;for(U=0;U<N;U++){C[U]=O.length;var Y=U+1;for(k=u[U],V=u[U+1];k<V;k++)z=l[k],O.push(z),P[z]=Y,R&&(R[z]=s[k]);for(k=y[U],V=y[U+1];k<V;k++)z=m[k],P[z]!==Y&&O.push(z),F[z]=Y,I&&(I[z]=p[k]);if(T)for(k=C[U];k<O.length;){z=O[k];var H=P[z],j=F[z];if(H===Y||j===Y){var Z=H===Y?R[z]:x,$=j===Y?I[z]:x,W=A(Z,$);S(W,x)?O.splice(k,1):(T.push(W),k++)}}}return C[N]=O.length,i.createSparseMatrix({values:T,index:O,ptr:C,size:[E,N],datatype:d===i._datatype&&b===a._datatype?_:void 0})}}),Z2e="matAlgo13xDD",J2e=["typed"],eNe=ne(Z2e,J2e,t=>{var{typed:e}=t;return function(i,a,o){var s=i._data,l=i._size,u=i._datatype,f=a._data,d=a._size,p=a._datatype,m=[];if(l.length!==d.length)throw new jt(l.length,d.length);for(var y=0;y<l.length;y++){if(l[y]!==d[y])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");m[y]=l[y]}var g,b=o;typeof u=="string"&&u===p&&(g=u,b=e.find(o,[g,g]));var E=m.length>0?r(b,0,m,m[0],s,f):[];return i.createDenseMatrix({data:E,size:m,datatype:g})};function r(n,i,a,o,s,l){var u=[];if(i===a.length-1)for(var f=0;f<o;f++)u[f]=n(s[f],l[f]);else for(var d=0;d<o;d++)u[d]=r(n,i+1,a,a[i+1],s[d],l[d]);return u}});function Yn(t,e){if(Ou(t.size(),e.size()))return[t,e];var r=nI(t.size(),e.size());return[t,e].map(n=>tNe(n,r))}function tNe(t,e){return Ou(t.size(),e)?t:t.create(Jc(t.valueOf(),e),t.datatype())}var rNe="matrixAlgorithmSuite",nNe=["typed","matrix"],Br=ne(rNe,nNe,t=>{var{typed:e,matrix:r}=t,n=eNe({typed:e}),i=Lo({typed:e});return function(o){var s=o.elop,l=o.SD||o.DS,u;s?(u={"DenseMatrix, DenseMatrix":(m,y)=>n(...Yn(m,y),s),"Array, Array":(m,y)=>n(...Yn(r(m),r(y)),s).valueOf(),"Array, DenseMatrix":(m,y)=>n(...Yn(r(m),y),s),"DenseMatrix, Array":(m,y)=>n(...Yn(m,r(y)),s)},o.SS&&(u["SparseMatrix, SparseMatrix"]=(m,y)=>o.SS(...Yn(m,y),s,!1)),o.DS&&(u["DenseMatrix, SparseMatrix"]=(m,y)=>o.DS(...Yn(m,y),s,!1),u["Array, SparseMatrix"]=(m,y)=>o.DS(...Yn(r(m),y),s,!1)),l&&(u["SparseMatrix, DenseMatrix"]=(m,y)=>l(...Yn(y,m),s,!0),u["SparseMatrix, Array"]=(m,y)=>l(...Yn(r(y),m),s,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(y,g)=>n(...Yn(y,g),m)),"Array, Array":e.referToSelf(m=>(y,g)=>n(...Yn(r(y),r(g)),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(y,g)=>n(...Yn(r(y),g),m)),"DenseMatrix, Array":e.referToSelf(m=>(y,g)=>n(...Yn(y,r(g)),m))},o.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(y,g)=>o.SS(...Yn(y,g),m,!1))),o.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(y,g)=>o.DS(...Yn(y,g),m,!1)),u["Array, SparseMatrix"]=e.referToSelf(m=>(y,g)=>o.DS(...Yn(r(y),g),m,!1))),l&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(y,g)=>l(...Yn(g,y),m,!0)),u["SparseMatrix, Array"]=e.referToSelf(m=>(y,g)=>l(...Yn(r(g),y),m,!0))));var f=o.scalar||"any",d=o.Ds||o.Ss;d&&(s?(u["DenseMatrix,"+f]=(m,y)=>i(m,y,s,!1),u[f+", DenseMatrix"]=(m,y)=>i(y,m,s,!0),u["Array,"+f]=(m,y)=>i(r(m),y,s,!1).valueOf(),u[f+", Array"]=(m,y)=>i(r(y),m,s,!0).valueOf()):(u["DenseMatrix,"+f]=e.referToSelf(m=>(y,g)=>i(y,g,m,!1)),u[f+", DenseMatrix"]=e.referToSelf(m=>(y,g)=>i(g,y,m,!0)),u["Array,"+f]=e.referToSelf(m=>(y,g)=>i(r(y),g,m,!1).valueOf()),u[f+", Array"]=e.referToSelf(m=>(y,g)=>i(r(g),y,m,!0).valueOf())));var p=o.sS!==void 0?o.sS:o.Ss;return s?(o.Ss&&(u["SparseMatrix,"+f]=(m,y)=>o.Ss(m,y,s,!1)),p&&(u[f+", SparseMatrix"]=(m,y)=>p(y,m,s,!0))):(o.Ss&&(u["SparseMatrix,"+f]=e.referToSelf(m=>(y,g)=>o.Ss(y,g,m,!1))),p&&(u[f+", SparseMatrix"]=e.referToSelf(m=>(y,g)=>p(g,y,m,!0)))),s&&s.signatures&&iW(u,s.signatures),u}}),L9="mod",iNe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],AY=ne(L9,iNe,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s,concat:l}=t,u=xY({typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}),f=qo({typed:e,equalScalar:a}),d=Hi({typed:e}),p=T_({typed:e,equalScalar:a}),m=gi({typed:e,equalScalar:a}),y=jn({typed:e,DenseMatrix:s}),g=Br({typed:e,matrix:i,concat:l});return e(L9,{"number, number":b,"BigNumber, BigNumber":function(N,_){return _.isZero()?N:N.sub(_.mul(u(N.div(_))))},"bigint, bigint":function(N,_){if(_===0n)return N;if(N<0){var S=N%_;return S===0n?S:S+_}return N%_},"Fraction, Fraction":function(N,_){return _.equals(0)?N:N.sub(_.mul(u(N.div(_))))}},g({SS:p,DS:d,SD:f,Ss:m,sS:y}));function b(E,N){return N===0?E:E-N*u(E/N)}}),aNe="matAlgo01xDSid",oNe=["typed"],Jl=ne(aNe,oNe,t=>{var{typed:e}=t;return function(n,i,a,o){var s=n._data,l=n._size,u=n._datatype||n.getDataType(),f=i._values,d=i._index,p=i._ptr,m=i._size,y=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==m.length)throw new jt(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=l[0],b=l[1],E=typeof u=="string"&&u!=="mixed"&&u===y?u:void 0,N=E?e.find(a,[E,E]):a,_,S,x=[];for(_=0;_<g;_++)x[_]=[];var A=[],T=[];for(S=0;S<b;S++){for(var O=S+1,C=p[S],R=p[S+1],I=C;I<R;I++)_=d[I],A[_]=o?N(f[I],s[_][S]):N(s[_][S],f[I]),T[_]=O;for(_=0;_<g;_++)T[_]===O?x[_][S]=A[_]:x[_][S]=s[_][S]}return n.createDenseMatrix({data:x,size:[g,b],datatype:u===n._datatype&&y===i._datatype?E:void 0})}}),sNe="matAlgo04xSidSid",uNe=["typed","equalScalar"],sI=ne(sNe,uNe,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,f=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,y=a._ptr,g=a._size,b=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==g.length)throw new jt(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");var E=f[0],N=f[1],_,S=r,x=0,A=o;typeof d=="string"&&d===b&&d!=="mixed"&&(_=d,S=e.find(r,[_,_]),x=e.convert(0,_),A=e.find(o,[_,_]));var T=s&&p?[]:void 0,O=[],C=[],R=s&&p?[]:void 0,I=s&&p?[]:void 0,P=[],F=[],z,U,k,V,Y;for(U=0;U<N;U++){C[U]=O.length;var H=U+1;for(V=u[U],Y=u[U+1],k=V;k<Y;k++)z=l[k],O.push(z),P[z]=H,R&&(R[z]=s[k]);for(V=y[U],Y=y[U+1],k=V;k<Y;k++)if(z=m[k],P[z]===H){if(R){var j=A(R[z],p[k]);S(j,x)?P[z]=null:R[z]=j}}else O.push(z),F[z]=H,I&&(I[z]=p[k]);if(R&&I)for(k=C[U];k<O.length;)z=O[k],P[z]===H?(T[k]=R[z],k++):F[z]===H?(T[k]=I[z],k++):O.splice(k,1)}return C[N]=O.length,i.createSparseMatrix({values:T,index:O,ptr:C,size:[E,N],datatype:d===i._datatype&&b===a._datatype?_:void 0})}}),lNe="matAlgo10xSids",cNe=["typed","DenseMatrix"],Mf=ne(lNe,cNe,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,s){var l=i._values,u=i._index,f=i._ptr,d=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=d[0],y=d[1],g,b=o;typeof p=="string"&&(g=p,a=e.convert(a,g),b=e.find(o,[g,g]));for(var E=[],N=[],_=[],S=0;S<y;S++){for(var x=S+1,A=f[S],T=f[S+1],O=A;O<T;O++){var C=u[O];N[C]=l[O],_[C]=x}for(var R=0;R<m;R++)S===0&&(E[R]=[]),_[R]===x?E[R][S]=s?b(a,N[R]):b(N[R],a):E[R][S]=a}return new r({data:E,size:[m,y],datatype:g})}});function If(t,e,r,n){if(!(this instanceof If))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}If.prototype=new Error;If.prototype.constructor=Error;If.prototype.name="ArgumentsError";If.prototype.isArgumentsError=!0;var q9="gcd",fNe=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],h2="number | BigNumber | Fraction | Matrix | Array",hNe="".concat(h2,", ").concat(h2,", ...").concat(h2);function U9(t){return!t.some(e=>Array.isArray(e))}var dNe=ne(q9,fNe,t=>{var{typed:e,matrix:r,config:n,round:i,equalScalar:a,zeros:o,BigNumber:s,DenseMatrix:l,concat:u}=t,f=AY({typed:e,config:n,round:i,matrix:r,equalScalar:a,zeros:o,DenseMatrix:l,concat:u}),d=Jl({typed:e}),p=sI({typed:e,equalScalar:a}),m=Mf({typed:e,DenseMatrix:l}),y=Br({typed:e,matrix:r,concat:u});return e(q9,{"number, number":g,"BigNumber, BigNumber":b,"Fraction, Fraction":(E,N)=>E.gcd(N)},y({SS:p,DS:d,Ss:m}),{[hNe]:e.referToSelf(E=>(N,_,S)=>{for(var x=E(N,_),A=0;A<S.length;A++)x=E(x,S[A]);return x}),Array:e.referToSelf(E=>N=>{if(N.length===1&&Array.isArray(N[0])&&U9(N[0]))return E(...N[0]);if(U9(N))return E(...N);throw new If("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(E=>N=>E(N.toArray()))});function g(E,N){if(!ft(E)||!ft(N))throw new Error("Parameters in function gcd must be integer numbers");for(var _;N!==0;)_=f(E,N),E=N,N=_;return E<0?-E:E}function b(E,N){if(!E.isInt()||!N.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var _=new s(0);!N.isZero();){var S=f(E,N);E=N,N=S}return E.lt(_)?E.neg():E}}),pNe="matAlgo06xS0S0",mNe=["typed","equalScalar"],D_=ne(pNe,mNe,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._size,u=i._datatype||i._data===void 0?i._datatype:i.getDataType(),f=a._values,d=a._size,p=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==d.length)throw new jt(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var m=l[0],y=l[1],g,b=r,E=0,N=o;typeof u=="string"&&u===p&&u!=="mixed"&&(g=u,b=e.find(r,[g,g]),E=e.convert(0,g),N=e.find(o,[g,g]));for(var _=s&&f?[]:void 0,S=[],x=[],A=_?[]:void 0,T=[],O=[],C=0;C<y;C++){x[C]=S.length;var R=C+1;if(c9(i,C,T,A,O,R,S,N),c9(a,C,T,A,O,R,S,N),A)for(var I=x[C];I<S.length;){var P=S[I];if(O[P]===R){var F=A[P];b(F,E)?S.splice(I,1):(_.push(F),I++)}else S.splice(I,1)}else for(var z=x[C];z<S.length;){var U=S[z];O[U]!==R?S.splice(z,1):z++}}return x[y]=S.length,i.createSparseMatrix({values:_,index:S,ptr:x,size:[m,y],datatype:u===i._datatype&&p===a._datatype?g:void 0})}}),j9="lcm",vNe=["typed","matrix","equalScalar","concat"],gNe=ne(j9,vNe,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=qo({typed:e,equalScalar:n}),o=D_({typed:e,equalScalar:n}),s=gi({typed:e,equalScalar:n}),l=Br({typed:e,matrix:r,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",f={};return f["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(p=>(m,y,g)=>{for(var b=p(m,y),E=0;E<g.length;E++)b=p(b,g[E]);return b}),e(j9,{"number, number":jW,"BigNumber, BigNumber":d,"Fraction, Fraction":(p,m)=>p.lcm(m)},l({SS:o,DS:a,Ss:s}),f);function d(p,m){if(!p.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(m.isZero())return m;for(var y=p.times(m);!m.isZero();){var g=m;m=p.mod(g),p=g}return y.div(p).abs()}});function uI(t,e,r,n){return function(i){if(i>0||r.predictable){if(i<=0)return NaN;var a=i.toString(16),o=a.substring(0,15);return t*(a.length-o.length)+e(+("0x"+o))}return n(i.toNumber())}}var z9="log10",yNe=["typed","config","Complex"],bNe=G1(16),wNe=ne(z9,yNe,t=>{var{typed:e,config:r,Complex:n}=t;function i(o){return o.log().div(Math.LN10)}function a(o){return i(new n(o,0))}return e(z9,{number:function(s){return s>=0||r.predictable?G1(s):a(s)},bigint:uI(bNe,G1,r,a),Complex:i,BigNumber:function(s){return!s.isNegative()||r.predictable?s.log():a(s.toNumber())},"Array | Matrix":e.referToSelf(o=>s=>kt(s,o))})}),V9="log2",_Ne=["typed","config","Complex"],xNe=ne(V9,_Ne,t=>{var{typed:e,config:r,Complex:n}=t;function i(o){return a(new n(o,0))}return e(V9,{number:function(s){return s>=0||r.predictable?NC(s):i(s)},bigint:uI(4,NC,r,i),Complex:a,BigNumber:function(s){return!s.isNegative()||r.predictable?s.log(2):i(s.toNumber())},"Array | Matrix":e.referToSelf(o=>s=>kt(s,o))});function a(o){var s=Math.sqrt(o.re*o.re+o.im*o.im);return new n(Math.log2?Math.log2(s):Math.log(s)/Math.LN2,Math.atan2(o.im,o.re)/Math.LN2)}}),ANe="multiplyScalar",ENe=["typed"],SNe=ne(ANe,ENe,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":FW,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),H9="multiply",TNe=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],DNe=ne(H9,TNe,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=t,s=gi({typed:e,equalScalar:a}),l=Lo({typed:e});function u(x,A){switch(x.length){case 1:switch(A.length){case 1:if(x[0]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(x[0]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+x[0]+") must match Matrix rows ("+A[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+A.length+" dimensions)")}break;case 2:switch(A.length){case 1:if(x[1]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+x[1]+") must match Vector length ("+A[0]+")");break;case 2:if(x[1]!==A[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+x[1]+") must match Matrix B rows ("+A[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+A.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+x.length+" dimensions)")}}function f(x,A,T){if(T===0)throw new Error("Cannot multiply two empty vectors");return o(x,A)}function d(x,A){if(A.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(x,A)}function p(x,A){var T=x._data,O=x._size,C=x._datatype||x.getDataType(),R=A._data,I=A._size,P=A._datatype||A.getDataType(),F=O[0],z=I[1],U,k=n,V=i;C&&P&&C===P&&typeof C=="string"&&C!=="mixed"&&(U=C,k=e.find(n,[U,U]),V=e.find(i,[U,U]));for(var Y=[],H=0;H<z;H++){for(var j=V(T[0],R[0][H]),Z=1;Z<F;Z++)j=k(j,V(T[Z],R[Z][H]));Y[H]=j}return x.createDenseMatrix({data:Y,size:[z],datatype:C===x._datatype&&P===A._datatype?U:void 0})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":g,"SparseMatrix, any":N}),y=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":b,"DenseMatrix, SparseMatrix":E,"SparseMatrix, DenseMatrix":_,"SparseMatrix, SparseMatrix":S});function g(x,A){var T=x._data,O=x._size,C=x._datatype||x.getDataType(),R=A._data,I=A._datatype||A.getDataType(),P=O[0],F=O[1],z,U=n,k=i;C&&I&&C===I&&typeof C=="string"&&C!=="mixed"&&(z=C,U=e.find(n,[z,z]),k=e.find(i,[z,z]));for(var V=[],Y=0;Y<P;Y++){for(var H=T[Y],j=k(H[0],R[0]),Z=1;Z<F;Z++)j=U(j,k(H[Z],R[Z]));V[Y]=j}return x.createDenseMatrix({data:V,size:[P],datatype:C===x._datatype&&I===A._datatype?z:void 0})}function b(x,A){var T=x._data,O=x._size,C=x._datatype||x.getDataType(),R=A._data,I=A._size,P=A._datatype||A.getDataType(),F=O[0],z=O[1],U=I[1],k,V=n,Y=i;C&&P&&C===P&&typeof C=="string"&&C!=="mixed"&&C!=="mixed"&&(k=C,V=e.find(n,[k,k]),Y=e.find(i,[k,k]));for(var H=[],j=0;j<F;j++){var Z=T[j];H[j]=[];for(var $=0;$<U;$++){for(var W=Y(Z[0],R[0][$]),K=1;K<z;K++)W=V(W,Y(Z[K],R[K][$]));H[j][$]=W}}return x.createDenseMatrix({data:H,size:[F,U],datatype:C===x._datatype&&P===A._datatype?k:void 0})}function E(x,A){var T=x._data,O=x._size,C=x._datatype||x.getDataType(),R=A._values,I=A._index,P=A._ptr,F=A._size,z=A._datatype||A._data===void 0?A._datatype:A.getDataType();if(!R)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var U=O[0],k=F[1],V,Y=n,H=i,j=a,Z=0;C&&z&&C===z&&typeof C=="string"&&C!=="mixed"&&(V=C,Y=e.find(n,[V,V]),H=e.find(i,[V,V]),j=e.find(a,[V,V]),Z=e.convert(0,V));for(var $=[],W=[],K=[],ge=A.createSparseMatrix({values:$,index:W,ptr:K,size:[U,k],datatype:C===x._datatype&&z===A._datatype?V:void 0}),me=0;me<k;me++){K[me]=W.length;var Ee=P[me],J=P[me+1];if(J>Ee)for(var ee=0,ue=0;ue<U;ue++){for(var le=ue+1,ie=void 0,Te=Ee;Te<J;Te++){var he=I[Te];ee!==le?(ie=H(T[ue][he],R[Te]),ee=le):ie=Y(ie,H(T[ue][he],R[Te]))}ee===le&&!j(ie,Z)&&(W.push(ue),$.push(ie))}}return K[k]=W.length,ge}function N(x,A){var T=x._values,O=x._index,C=x._ptr,R=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=A._data,P=A._datatype||A.getDataType(),F=x._size[0],z=A._size[0],U=[],k=[],V=[],Y,H=n,j=i,Z=a,$=0;R&&P&&R===P&&typeof R=="string"&&R!=="mixed"&&(Y=R,H=e.find(n,[Y,Y]),j=e.find(i,[Y,Y]),Z=e.find(a,[Y,Y]),$=e.convert(0,Y));var W=[],K=[];V[0]=0;for(var ge=0;ge<z;ge++){var me=I[ge];if(!Z(me,$))for(var Ee=C[ge],J=C[ge+1],ee=Ee;ee<J;ee++){var ue=O[ee];K[ue]?W[ue]=H(W[ue],j(me,T[ee])):(K[ue]=!0,k.push(ue),W[ue]=j(me,T[ee]))}}for(var le=k.length,ie=0;ie<le;ie++){var Te=k[ie];U[ie]=W[Te]}return V[1]=k.length,x.createSparseMatrix({values:U,index:k,ptr:V,size:[F,1],datatype:R===x._datatype&&P===A._datatype?Y:void 0})}function _(x,A){var T=x._values,O=x._index,C=x._ptr,R=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=A._data,P=A._datatype||A.getDataType(),F=x._size[0],z=A._size[0],U=A._size[1],k,V=n,Y=i,H=a,j=0;R&&P&&R===P&&typeof R=="string"&&R!=="mixed"&&(k=R,V=e.find(n,[k,k]),Y=e.find(i,[k,k]),H=e.find(a,[k,k]),j=e.convert(0,k));for(var Z=[],$=[],W=[],K=x.createSparseMatrix({values:Z,index:$,ptr:W,size:[F,U],datatype:R===x._datatype&&P===A._datatype?k:void 0}),ge=[],me=[],Ee=0;Ee<U;Ee++){W[Ee]=$.length;for(var J=Ee+1,ee=0;ee<z;ee++){var ue=I[ee][Ee];if(!H(ue,j))for(var le=C[ee],ie=C[ee+1],Te=le;Te<ie;Te++){var he=O[Te];me[he]!==J?(me[he]=J,$.push(he),ge[he]=Y(ue,T[Te])):ge[he]=V(ge[he],Y(ue,T[Te]))}}for(var Ce=W[Ee],je=$.length,We=Ce;We<je;We++){var xe=$[We];Z[We]=ge[xe]}}return W[U]=$.length,K}function S(x,A){var T=x._values,O=x._index,C=x._ptr,R=x._datatype||x._data===void 0?x._datatype:x.getDataType(),I=A._values,P=A._index,F=A._ptr,z=A._datatype||A._data===void 0?A._datatype:A.getDataType(),U=x._size[0],k=A._size[1],V=T&&I,Y,H=n,j=i;R&&z&&R===z&&typeof R=="string"&&R!=="mixed"&&(Y=R,H=e.find(n,[Y,Y]),j=e.find(i,[Y,Y]));for(var Z=V?[]:void 0,$=[],W=[],K=x.createSparseMatrix({values:Z,index:$,ptr:W,size:[U,k],datatype:R===x._datatype&&z===A._datatype?Y:void 0}),ge=V?[]:void 0,me=[],Ee,J,ee,ue,le,ie,Te,he,Ce=0;Ce<k;Ce++){W[Ce]=$.length;var je=Ce+1;for(le=F[Ce],ie=F[Ce+1],ue=le;ue<ie;ue++)if(he=P[ue],V)for(J=C[he],ee=C[he+1],Ee=J;Ee<ee;Ee++)Te=O[Ee],me[Te]!==je?(me[Te]=je,$.push(Te),ge[Te]=j(I[ue],T[Ee])):ge[Te]=H(ge[Te],j(I[ue],T[Ee]));else for(J=C[he],ee=C[he+1],Ee=J;Ee<ee;Ee++)Te=O[Ee],me[Te]!==je&&(me[Te]=je,$.push(Te));if(V)for(var We=W[Ce],xe=$.length,ze=We;ze<xe;ze++){var te=$[ze];Z[ze]=ge[te]}}return W[k]=$.length,K}return e(H9,i,{"Array, Array":e.referTo("Matrix, Matrix",x=>(A,T)=>{u(Dt(A),Dt(T));var O=x(r(A),r(T));return gt(O)?O.valueOf():O}),"Matrix, Matrix":function(A,T){var O=A.size(),C=T.size();return u(O,C),O.length===1?C.length===1?f(A,T,O[0]):d(A,T):C.length===1?m(A,T):y(A,T)},"Matrix, Array":e.referTo("Matrix,Matrix",x=>(A,T)=>x(A,r(T))),"Array, Matrix":e.referToSelf(x=>(A,T)=>x(r(A,T.storage()),T)),"SparseMatrix, any":function(A,T){return s(A,T,i,!1)},"DenseMatrix, any":function(A,T){return l(A,T,i,!1)},"any, SparseMatrix":function(A,T){return s(T,A,i,!0)},"any, DenseMatrix":function(A,T){return l(T,A,i,!0)},"Array, any":function(A,T){return l(r(A),T,i,!1).valueOf()},"any, Array":function(A,T){return l(r(T),A,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(x=>(A,T,O)=>{for(var C=x(A,T),R=0;R<O.length;R++)C=x(C,O[R]);return C})})}),G9="nthRoot",NNe=["typed","matrix","equalScalar","BigNumber","concat"],CNe=ne(G9,NNe,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,concat:a}=t,o=Jl({typed:e}),s=qo({typed:e,equalScalar:n}),l=D_({typed:e,equalScalar:n}),u=gi({typed:e,equalScalar:n}),f=Br({typed:e,matrix:r,concat:a});function d(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(G9,{number:d9,"number, number":d9,BigNumber:m=>p(m,new i(2)),"BigNumber, BigNumber":p,Complex:d,"Complex, number":d,Array:e.referTo("DenseMatrix,number",m=>y=>m(r(y),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>y=>m(y,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>y=>m(y,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(y,g)=>{if(g.density()===1)return l(y,g,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(y,g)=>{if(g.density()===1)return o(y,g,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(y,g)=>m(r(y),g)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(y,g)=>{if(g.density()===1)return u(g,y,m,!0);throw new Error("Root must be non-zero")})},f({scalar:"number | BigNumber",SD:s,Ss:u,sS:!1}));function p(m,y){var g=i.precision,b=i.clone({precision:g+2}),E=new i(0),N=new b(1),_=y.isNegative();if(_&&(y=y.neg()),y.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!y.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return _?new b(1/0):0;if(!m.isFinite())return _?E:m;var S=m.abs().pow(N.div(y));return S=m.isNeg()?S.neg():S,new i((_?N.div(S):S).toPrecision(g))}}),K9="sign",ONe=["typed","BigNumber","Fraction","complex"],MNe=ne(K9,ONe,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:i}=t;return e(K9,{number:CC,Complex:function(o){return o.im===0?n(CC(o.re)):o.sign()},BigNumber:function(o){return new r(o.cmp(0))},bigint:function(o){return o>0n?1n:o<0n?-1n:0n},Fraction:function(o){return o.n===0n?new i(0):new i(o.s)},"Array | Matrix":e.referToSelf(a=>o=>kt(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})}),INe="sqrt",RNe=["config","typed","Complex"],PNe=ne(INe,RNe,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}}),X9="square",BNe=["typed"],FNe=ne(X9,BNe,t=>{var{typed:e}=t;return e(X9,{number:zW,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},bigint:function(n){return n*n},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})}),W9="subtract",kNe=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],$Ne=ne(W9,kNe,t=>{var{typed:e,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:s}=t,l=Jl({typed:e}),u=Hi({typed:e}),f=T_({typed:e,equalScalar:n}),d=Mf({typed:e,DenseMatrix:o}),p=jn({typed:e,DenseMatrix:o}),m=Br({typed:e,matrix:r,concat:s});return e(W9,{"any, any":i},m({elop:i,SS:f,DS:l,SD:u,Ss:p,sS:d}))}),Y9="xgcd",LNe=["typed","config","matrix","BigNumber"],qNe=ne(Y9,LNe,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(Y9,{"number, number":function(s,l){var u=VW(s,l);return r.matrix==="Array"?u:n(u)},"BigNumber, BigNumber":a});function a(o,s){var l,u,f,d=new i(0),p=new i(1),m=d,y=p,g=p,b=d;if(!o.isInt()||!s.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!s.isZero();)u=o.div(s).floor(),f=o.mod(s),l=m,m=y.minus(u.times(m)),y=l,l=g,g=b.minus(u.times(g)),b=l,o=s,s=f;var E;return o.lt(d)?E=[o.neg(),y.neg(),b.neg()]:E=[o,o.isZero()?0:y,b],r.matrix==="Array"?E:n(E)}}),Q9="invmod",UNe=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],jNe=ne(Q9,UNe,t=>{var{typed:e,config:r,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:s,add:l,isInteger:u}=t;return e(Q9,{"number, number":f,"BigNumber, BigNumber":f});function f(d,p){if(!u(d)||!u(p))throw new Error("Parameters in function invmod must be integer numbers");if(d=s(d,p),a(p,0))throw new Error("Divisor must be non zero");var m=i(d,p);m=m.valueOf();var[y,g]=m;return a(y,n(1))?(g=s(g,p),o(g,n(0))&&(g=l(g,p)),g):NaN}}),zNe="matAlgo09xS0Sf",VNe=["typed","equalScalar"],EY=ne(zNe,VNe,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,f=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,y=a._ptr,g=a._size,b=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==g.length)throw new jt(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");var E=f[0],N=f[1],_,S=r,x=0,A=o;typeof d=="string"&&d===b&&d!=="mixed"&&(_=d,S=e.find(r,[_,_]),x=e.convert(0,_),A=e.find(o,[_,_]));var T=s&&p?[]:void 0,O=[],C=[],R=T?[]:void 0,I=[],P,F,z,U,k;for(F=0;F<N;F++){C[F]=O.length;var V=F+1;if(R)for(U=y[F],k=y[F+1],z=U;z<k;z++)P=m[z],I[P]=V,R[P]=p[z];for(U=u[F],k=u[F+1],z=U;z<k;z++)if(P=l[z],R){var Y=I[P]===V?R[P]:x,H=A(s[z],Y);S(H,x)||(O.push(P),T.push(H))}else O.push(P)}return C[N]=O.length,i.createSparseMatrix({values:T,index:O,ptr:C,size:[E,N],datatype:d===i._datatype&&b===a._datatype?_:void 0})}}),Z9="dotMultiply",HNe=["typed","matrix","equalScalar","multiplyScalar","concat"],GNe=ne(Z9,HNe,t=>{var{typed:e,matrix:r,equalScalar:n,multiplyScalar:i,concat:a}=t,o=qo({typed:e,equalScalar:n}),s=EY({typed:e,equalScalar:n}),l=gi({typed:e,equalScalar:n}),u=Br({typed:e,matrix:r,concat:a});return e(Z9,u({elop:i,SS:s,DS:o,Ss:l}))});function KNe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return lI(t,e,function(n,i){return n&i})}function ig(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var n=t.plus(new e(1));return n.s=-n.s||null,e.config({precision:r}),n}function XNe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var n=new r(-1);return t.isZero()||e.eq(n)||t.eq(e)?e:e.isZero()||t.eq(n)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?n:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:lI(t,e,function(i,a){return i|a})}function lI(t,e,r){var n=t.constructor,i,a,o=+(t.s<0),s=+(e.s<0);if(o){i=O0(ig(t));for(var l=0;l<i.length;++l)i[l]^=1}else i=O0(t);if(s){a=O0(ig(e));for(var u=0;u<a.length;++u)a[u]^=1}else a=O0(e);var f,d,p;i.length<=a.length?(f=i,d=a,p=o):(f=a,d=i,p=s);var m=f.length,y=d.length,g=r(o,s)^1,b=new n(g^1),E=new n(1),N=new n(2),_=n.precision;for(n.config({precision:1e9});m>0;)r(f[--m],d[--y])===g&&(b=b.plus(E)),E=E.times(N);for(;y>0;)r(p,d[--y])===g&&(b=b.plus(E)),E=E.times(N);return n.config({precision:_}),g===0&&(b.s=-b.s),b}function O0(t){for(var e=t.d,r=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var o=r.length;r.charAt(o)==="0";)o--;var s=t.e,l=r.slice(0,o+1||1),u=l.length;if(s>0)if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s));for(var f=[0],d=0;d<l.length;){for(var p=f.length;p--;)f[p]*=10;f[0]+=parseInt(l.charAt(d++));for(var m=0;m<f.length;++m)f[m]>1&&((f[m+1]===null||f[m+1]===void 0)&&(f[m+1]=0),f[m+1]+=f[m]>>1,f[m]&=1)}return f.reverse()}function WNe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var n=new r(-1);return t.eq(n)?ig(e):e.eq(n)?ig(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?n:new r(t.isNegative()===e.isNegative()?1/0:-1/0):lI(t,e,function(i,a){return i^a})}function YNe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new r(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e))}function QNe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():t.isNegative()?new r(-1):t.isFinite()?new r(0):new r(NaN)}var J9="bitAnd",ZNe=["typed","matrix","equalScalar","concat"],SY=ne(J9,ZNe,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=qo({typed:e,equalScalar:n}),o=D_({typed:e,equalScalar:n}),s=gi({typed:e,equalScalar:n}),l=Br({typed:e,matrix:r,concat:i});return e(J9,{"number, number":GW,"BigNumber, BigNumber":KNe,"bigint, bigint":(u,f)=>u&f},l({SS:o,DS:a,Ss:s}))}),eq="bitNot",JNe=["typed"],eCe=ne(eq,JNe,t=>{var{typed:e}=t;return e(eq,{number:KW,BigNumber:ig,bigint:r=>~r,"Array | Matrix":e.referToSelf(r=>n=>kt(n,r))})}),tq="bitOr",tCe=["typed","matrix","equalScalar","DenseMatrix","concat"],TY=ne(tq,tCe,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=Jl({typed:e}),s=sI({typed:e,equalScalar:n}),l=Mf({typed:e,DenseMatrix:i}),u=Br({typed:e,matrix:r,concat:a});return e(tq,{"number, number":XW,"BigNumber, BigNumber":XNe,"bigint, bigint":(f,d)=>f|d},u({SS:s,DS:o,Ss:l}))}),rCe="matAlgo07xSSf",nCe=["typed","SparseMatrix"],Ms=ne(rCe,nCe,t=>{var{typed:e,SparseMatrix:r}=t;return function(a,o,s){var l=a._size,u=a._datatype||a._data===void 0?a._datatype:a.getDataType(),f=o._size,d=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(l.length!==f.length)throw new jt(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var p=l[0],m=l[1],y,g=0,b=s;typeof u=="string"&&u===d&&u!=="mixed"&&(y=u,g=e.convert(0,y),b=e.find(s,[y,y]));for(var E=[],N=[],_=new Array(m+1).fill(0),S=[],x=[],A=[],T=[],O=0;O<m;O++){var C=O+1,R=0;n(a,O,A,S,C),n(o,O,T,x,C);for(var I=0;I<p;I++){var P=A[I]===C?S[I]:g,F=T[I]===C?x[I]:g,z=b(P,F);z!==0&&z!==!1&&(N.push(I),E.push(z),R++)}_[O+1]=_[O]+R}return new r({values:E,index:N,ptr:_,size:[p,m],datatype:u===a._datatype&&d===o._datatype?y:void 0})};function n(i,a,o,s,l){for(var u=i._values,f=i._index,d=i._ptr,p=d[a],m=d[a+1];p<m;p++){var y=f[p];o[y]=l,s[y]=u[p]}}}),rq="bitXor",iCe=["typed","matrix","DenseMatrix","concat","SparseMatrix"],aCe=ne(rq,iCe,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i,SparseMatrix:a}=t,o=Hi({typed:e}),s=Ms({typed:e,SparseMatrix:a}),l=jn({typed:e,DenseMatrix:n}),u=Br({typed:e,matrix:r,concat:i});return e(rq,{"number, number":WW,"BigNumber, BigNumber":WNe,"bigint, bigint":(f,d)=>f^d},u({SS:s,DS:o,Ss:l}))}),nq="arg",oCe=["typed"],sCe=ne(nq,oCe,t=>{var{typed:e}=t;return e(nq,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(r=>n=>kt(n,r))})}),iq="conj",uCe=["typed"],lCe=ne(iq,uCe,t=>{var{typed:e}=t;return e(iq,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:e.referToSelf(r=>n=>new n.constructor(r(n.toNumeric()),n.formatUnits())),"Array | Matrix":e.referToSelf(r=>n=>kt(n,r))})}),aq="im",cCe=["typed"],fCe=ne(aq,cCe,t=>{var{typed:e}=t;return e(aq,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>n=>kt(n,r))})}),oq="re",hCe=["typed"],dCe=ne(oq,hCe,t=>{var{typed:e}=t;return e(oq,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>n=>kt(n,r))})}),sq="not",pCe=["typed"],mCe=ne(sq,pCe,t=>{var{typed:e}=t;return e(sq,{"null | undefined":()=>!0,number:eY,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},bigint:r=>!r,Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>kt(n,r))})}),uq="or",vCe=["typed","matrix","equalScalar","DenseMatrix","concat"],DY=ne(uq,vCe,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=Hi({typed:e}),s=T_({typed:e,equalScalar:n}),l=jn({typed:e,DenseMatrix:i}),u=Br({typed:e,matrix:r,concat:a});return e(uq,{"number, number":OC,"Complex, Complex":function(d,p){return d.re!==0||d.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(d,p){return!d.isZero()&&!d.isNaN()||!p.isZero()&&!p.isNaN()},"bigint, bigint":OC,"Unit, Unit":e.referToSelf(f=>(d,p)=>f(d.value||0,p.value||0))},u({SS:s,DS:o,Ss:l}))}),lq="xor",gCe=["typed","matrix","DenseMatrix","concat","SparseMatrix"],yCe=ne(lq,gCe,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i,SparseMatrix:a}=t,o=Hi({typed:e}),s=Ms({typed:e,SparseMatrix:a}),l=jn({typed:e,DenseMatrix:n}),u=Br({typed:e,matrix:r,concat:i});return e(lq,{"number, number":MC,"Complex, Complex":function(d,p){return(d.re!==0||d.im!==0)!=(p.re!==0||p.im!==0)},"bigint, bigint":MC,"BigNumber, BigNumber":function(d,p){return(!d.isZero()&&!d.isNaN())!=(!p.isZero()&&!p.isNaN())},"Unit, Unit":e.referToSelf(f=>(d,p)=>f(d.value||0,p.value||0))},u({SS:s,DS:o,Ss:l}))}),cq="concat",bCe=["typed","matrix","isInteger"],NY=ne(cq,bCe,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e(cq,{"...Array | Matrix | number | BigNumber":function(a){var o,s=a.length,l=-1,u,f=!1,d=[];for(o=0;o<s;o++){var p=a[o];if(gt(p)&&(f=!0),Bt(p)||Ft(p)){if(o!==s-1)throw new Error("Dimension must be specified as last argument");if(u=l,l=p.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>u)throw new ko(l,u+1)}else{var m=Ct(p).valueOf(),y=Dt(m);if(d[o]=m,u=l,l=y.length-1,o>0&&l!==u)throw new jt(u+1,l+1)}}if(d.length===0)throw new SyntaxError("At least one matrix expected");for(var g=d.shift();d.length;)g=CW(g,d.shift(),l);return f?r(g):g},"...string":function(a){return a.join("")}})}),fq="column",wCe=["typed","Index","matrix","range"],CY=ne(fq,wCe,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(fq,{"Matrix, number":a,"Array, number":function(s,l){return a(n(Ct(s)),l).valueOf()}});function a(o,s){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Rr(s,o.size()[1]);var l=i(0,o.size()[0]),u=new r(l,s),f=o.subset(u);return gt(f)?f:n([[f]])}}),hq="count",_Ce=["typed","size","prod"],xCe=ne(hq,_Ce,t=>{var{typed:e,size:r,prod:n}=t;return e(hq,{string:function(a){return a.length},"Matrix | Array":function(a){return n(r(a))}})}),dq="cross",ACe=["typed","matrix","subtract","multiply"],ECe=ne(dq,ACe,t=>{var{typed:e,matrix:r,subtract:n,multiply:i}=t;return e(dq,{"Matrix, Matrix":function(s,l){return r(a(s.toArray(),l.toArray()))},"Matrix, Array":function(s,l){return r(a(s.toArray(),l))},"Array, Matrix":function(s,l){return r(a(s,l.toArray()))},"Array, Array":a});function a(o,s){var l=Math.max(Dt(o).length,Dt(s).length);o=z1(o),s=z1(s);var u=Dt(o),f=Dt(s);if(u.length!==1||f.length!==1||u[0]!==3||f[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+f.join(", ")+"])");var d=[n(i(o[1],s[2]),i(o[2],s[1])),n(i(o[2],s[0]),i(o[0],s[2])),n(i(o[0],s[1]),i(o[1],s[0]))];return l>1?[d]:d}}),pq="diag",SCe=["typed","matrix","DenseMatrix","SparseMatrix"],TCe=ne(pq,SCe,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(pq,{Array:function(u){return a(u,0,Dt(u),null)},"Array, number":function(u,f){return a(u,f,Dt(u),null)},"Array, BigNumber":function(u,f){return a(u,f.toNumber(),Dt(u),null)},"Array, string":function(u,f){return a(u,0,Dt(u),f)},"Array, number, string":function(u,f,d){return a(u,f,Dt(u),d)},"Array, BigNumber, string":function(u,f,d){return a(u,f.toNumber(),Dt(u),d)},Matrix:function(u){return a(u,0,u.size(),u.storage())},"Matrix, number":function(u,f){return a(u,f,u.size(),u.storage())},"Matrix, BigNumber":function(u,f){return a(u,f.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,f){return a(u,0,u.size(),f)},"Matrix, number, string":function(u,f,d){return a(u,f,u.size(),d)},"Matrix, BigNumber, string":function(u,f,d){return a(u,f.toNumber(),u.size(),d)}});function a(l,u,f,d){if(!ft(u))throw new TypeError("Second parameter in function diag must be an integer");var p=u>0?u:0,m=u<0?-u:0;switch(f.length){case 1:return o(l,u,d,f[0],m,p);case 2:return s(l,u,d,f,m,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(l,u,f,d,p,m){var y=[d+p,d+m];if(f&&f!=="sparse"&&f!=="dense")throw new TypeError("Unknown matrix type ".concat(f,'"'));var g=f==="sparse"?i.diagonal(y,l,u):n.diagonal(y,l,u);return f!==null?g:g.valueOf()}function s(l,u,f,d,p,m){if(gt(l)){var y=l.diagonal(u);return f!==null?f!==y.storage()?r(y,f):y:y.valueOf()}for(var g=Math.min(d[0]-p,d[1]-m),b=[],E=0;E<g;E++)b[E]=l[E+p][E+m];return f!==null?r(b):b}}),DCe="filter",NCe=["typed"],OY=ne(DCe,NCe,t=>{var{typed:e}=t;return e("filter",{"Array, function":mq,"Matrix, function":function(n,i){return n.create(mq(n.valueOf(),i),n.datatype())},"Array, RegExp":o9,"Matrix, RegExp":function(n,i){return n.create(o9(n.valueOf(),i),n.datatype())}})});function mq(t,e){var r=wf(e,t,"filter");return r.isUnary?a9(t,r.fn):a9(t,function(n,i,a){return r.fn(n,[i],a)})}var vq="flatten",CCe=["typed"],OCe=ne(vq,CCe,t=>{var{typed:e}=t;return e(vq,{Array:function(n){return or(n)},Matrix:function(n){return n.create(or(n.valueOf(),!0),n.datatype())}})}),kC="forEach",MCe=["typed"],MY=ne(kC,MCe,t=>{var{typed:e}=t;return e(kC,{"Array, function":ICe,"Matrix, function":function(n,i){n.forEach(i)}})});function ICe(t,e){var r=wf(e,t,kC);MW(t,r.fn,r.isUnary)}var gq="getMatrixDataType",RCe=["typed"],PCe=ne(gq,RCe,t=>{var{typed:e}=t;return e(gq,{Array:function(n){return E_(n,Dr)},Matrix:function(n){return n.getDataType()}})}),yq="identity",BCe=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],FCe=ne(yq,BCe,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=t;return e(yq,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(f){return n(f)},"number | BigNumber":function(f){return l(f,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(f,d){return l(f,f,d)},"number | BigNumber, number | BigNumber":function(f,d){return l(f,d,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(f,d,p){return l(f,d,p)},Array:function(f){return s(f)},"Array, string":function(f,d){return s(f,d)},Matrix:function(f){return s(f.valueOf(),f.storage())},"Matrix, string":function(f,d){return s(f.valueOf(),d)}});function s(u,f){switch(u.length){case 0:return f?n(f):[];case 1:return l(u[0],u[0],f);case 2:return l(u[0],u[1],f);default:throw new Error("Vector containing two values expected")}}function l(u,f,d){var p=Ft(u)||Ft(f)?i:null;if(Ft(u)&&(u=u.toNumber()),Ft(f)&&(f=f.toNumber()),!ft(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!ft(f)||f<1)throw new Error("Parameters in function identity must be positive integers");var m=p?new i(1):1,y=p?new p(0):0,g=[u,f];if(d){if(d==="sparse")return o.diagonal(g,m,0,y);if(d==="dense")return a.diagonal(g,m,0,y);throw new TypeError('Unknown matrix type "'.concat(d,'"'))}for(var b=Xd([],g,y),E=u<f?u:f,N=0;N<E;N++)b[N][N]=m;return b}}),bq="kron",kCe=["typed","matrix","multiplyScalar"],$Ce=ne(bq,kCe,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(bq,{"Matrix, Matrix":function(o,s){return r(i(o.toArray(),s.toArray()))},"Matrix, Array":function(o,s){return r(i(o.toArray(),s))},"Array, Matrix":function(o,s){return r(i(o,s.toArray()))},"Array, Array":i});function i(a,o){if(Dt(a).length===1&&(a=[a]),Dt(o).length===1&&(o=[o]),Dt(a).length>2||Dt(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var s=[],l=[];return a.map(function(u){return o.map(function(f){return l=[],s.push(l),u.map(function(d){return f.map(function(p){return l.push(n(d,p))})})})})&&s}}),d2="map",LCe=["typed"],IY=ne(d2,LCe,t=>{var{typed:e}=t;return e(d2,{"Array, function":n,"Matrix, function":function(a,o){return a.map(o)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,a,o)=>r([i,a,...o.slice(0,o.length-1)],o[o.length-1])});function r(i,a){if(typeof a!="function")throw new Error("Last argument must be a callback function");var o=i[0].isMatrix,s=nI(...i.map(S=>S.isMatrix?S.size():Dt(S))),l=o?(S,x)=>S.get(x):iI,u=o?i.map(S=>S.isMatrix?S.create(Jc(S.toArray(),s),S.datatype()):i[0].create(Jc(S.valueOf(),s))):i.map(S=>S.isMatrix?Jc(S.toArray(),s):Jc(S,s)),f;if(e.isTypedFunction(a)){var d=s.map(()=>0),p=u.map(S=>l(S,d)),m=_(a,p,d,u);f=E(m)}else{var y=i.length,g=N(a,y);f=E(g)}var b=(S,x)=>f([S,...u.slice(1).map(A=>l(A,x))],x);if(o)return u[0].map(b);return n(u[0],b);function E(S){switch(S){case 0:return x=>a(...x);case 1:return(x,A)=>a(...x,A);case 2:return(x,A)=>a(...x,A,...u)}}function N(S,x){return S.length>x+1?2:S.length===x+1?1:0}function _(S,x,A,T){return e.resolve(S,[...x,A,...T])!==null?2:e.resolve(S,[...x,A])!==null?1:(e.resolve(S,x)!==null,0)}}function n(i,a){var o=wf(a,i,d2);return DC(i,o.fn,o.isUnary)}}),wq="diff",qCe=["typed","matrix","subtract","number"],RY=ne(wq,qCe,t=>{var{typed:e,matrix:r,subtract:n,number:i}=t;return e(wq,{"Array | Matrix":function(f){return gt(f)?r(o(f.toArray())):o(f)},"Array | Matrix, number":function(f,d){if(!ft(d))throw new RangeError("Dimension must be a whole number");return gt(f)?r(a(f.toArray(),d)):a(f,d)},"Array, BigNumber":e.referTo("Array,number",u=>(f,d)=>u(f,i(d))),"Matrix, BigNumber":e.referTo("Matrix,number",u=>(f,d)=>u(f,i(d)))});function a(u,f){if(gt(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(f>0){var d=[];return u.forEach(p=>{d.push(a(p,f-1))}),d}else{if(f===0)return o(u);throw RangeError("Cannot have negative dimension")}}function o(u){for(var f=[],d=u.length,p=1;p<d;p++)f.push(s(u[p-1],u[p]));return f}function s(u,f){gt(u)&&(u=u.toArray()),gt(f)&&(f=f.toArray());var d=Array.isArray(u),p=Array.isArray(f);if(d&&p)return l(u,f);if(!d&&!p)return n(f,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(u,f){if(u.length!==f.length)throw RangeError("Not all sub-arrays have the same length");for(var d=[],p=u.length,m=0;m<p;m++)d.push(s(u[m],f[m]));return d}}),UCe="ones",jCe=["typed","config","matrix","BigNumber"],zCe=ne(UCe,jCe,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("ones",{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var f=u[u.length-1];if(typeof f=="string"){var d=u.pop();return a(u,d)}else return r.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var f=u.storage();return a(u.valueOf(),f)},"Array | Matrix, string":function(u,f){return a(u.valueOf(),f)}});function a(l,u){var f=o(l),d=f?new i(1):1;if(s(l),u){var p=n(u);return l.length>0?p.resize(l,d):p}else{var m=[];return l.length>0?Xd(m,l,d):m}}function o(l){var u=!1;return l.forEach(function(f,d,p){Ft(f)&&(u=!0,p[d]=f.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!ft(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function cI(){throw new Error('No "bignumber" implementation available')}function PY(){throw new Error('No "fraction" implementation available')}function BY(){throw new Error('No "matrix" implementation available')}var _q="range",VCe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],FY=ne(_q,VCe,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:f}=t;return e(_q,{string:p,"string, boolean":p,number:function(b){throw new TypeError("Too few arguments to function range(): ".concat(b))},boolean:function(b){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(b,", number|bigint|BigNumber|Fraction"))},"number, number":function(b,E){return d(m(b,E,1,!1))},"number, number, number":function(b,E,N){return d(m(b,E,N,!1))},"number, number, boolean":function(b,E,N){return d(m(b,E,1,N))},"number, number, number, boolean":function(b,E,N,_){return d(m(b,E,N,_))},"bigint, bigint|number":function(b,E){return d(m(b,E,1n,!1))},"number, bigint":function(b,E){return d(m(BigInt(b),E,1n,!1))},"bigint, bigint|number, bigint|number":function(b,E,N){return d(m(b,E,BigInt(N),!1))},"number, bigint, bigint|number":function(b,E,N){return d(m(BigInt(b),E,BigInt(N),!1))},"bigint, bigint|number, boolean":function(b,E,N){return d(m(b,E,1n,N))},"number, bigint, boolean":function(b,E,N){return d(m(BigInt(b),E,1n,N))},"bigint, bigint|number, bigint|number, boolean":function(b,E,N,_){return d(m(b,E,BigInt(N),_))},"number, bigint, bigint|number, boolean":function(b,E,N,_){return d(m(BigInt(b),E,BigInt(N),_))},"BigNumber, BigNumber":function(b,E){var N=b.constructor;return d(m(b,E,new N(1),!1))},"BigNumber, BigNumber, BigNumber":function(b,E,N){return d(m(b,E,N,!1))},"BigNumber, BigNumber, boolean":function(b,E,N){var _=b.constructor;return d(m(b,E,new _(1),N))},"BigNumber, BigNumber, BigNumber, boolean":function(b,E,N,_){return d(m(b,E,N,_))},"Fraction, Fraction":function(b,E){return d(m(b,E,1,!1))},"Fraction, Fraction, Fraction":function(b,E,N){return d(m(b,E,N,!1))},"Fraction, Fraction, boolean":function(b,E,N){return d(m(b,E,1,N))},"Fraction, Fraction, Fraction, boolean":function(b,E,N,_){return d(m(b,E,N,_))},"Unit, Unit, Unit":function(b,E,N){return d(m(b,E,N,!1))},"Unit, Unit, Unit, boolean":function(b,E,N,_){return d(m(b,E,N,_))}});function d(g){return r.matrix==="Matrix"?n?n(g):BY():g}function p(g,b){var E=y(g);if(!E)throw new SyntaxError('String "'+g+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&cI(),d(m(i(E.start),i(E.end),i(E.step)))):d(m(E.start,E.end,E.step,b))}function m(g,b,E,N){for(var _=[],S=f(E)?N?o:a:N?l:s,x=g;S(x,b);)_.push(x),x=u(x,E);return _}function y(g){var b=g.split(":"),E=b.map(function(_){return Number(_)}),N=E.some(function(_){return isNaN(_)});if(N)return null;switch(E.length){case 2:return{start:E[0],end:E[1],step:1};case 3:return{start:E[0],end:E[2],step:E[1]};default:return null}}}),xq="reshape",HCe=["typed","isInteger","matrix"],GCe=ne(xq,HCe,t=>{var{typed:e,isInteger:r}=t;return e(xq,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!r(o))throw new TypeError("Invalid size for dimension: "+o)}),tI(i,a)}})}),KCe="resize",XCe=["config","matrix"],WCe=ne(KCe,XCe,t=>{var{config:e,matrix:r}=t;return function(a,o,s){if(arguments.length!==2&&arguments.length!==3)throw new If("resize",arguments.length,2,3);if(gt(o)&&(o=o.valueOf()),Ft(o[0])&&(o=o.map(function(f){return Ft(f)?f.toNumber():f})),gt(a))return a.resize(o,s,!0);if(typeof a=="string")return n(a,o,s);var l=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return Ct(a)}else{Array.isArray(a)||(a=[a]),a=Ct(a);var u=Xd(a,o,s);return l?r(u):u}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new jt(a.length,1);var s=a[0];if(typeof s!="number"||!ft(s))throw new TypeError("Invalid size, must contain positive integers (size: "+Ut(a)+")");if(i.length>s)return i.substring(0,s);if(i.length<s){for(var l=i,u=0,f=s-i.length;u<f;u++)l+=o;return l}else return i}}),Aq="rotate",YCe=["typed","multiply","rotationMatrix"],QCe=ne(Aq,YCe,t=>{var{typed:e,multiply:r,rotationMatrix:n}=t;return e(Aq,{"Array , number | BigNumber | Complex | Unit":function(o,s){i(o,2);var l=r(n(s),o);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,s){return i(o,2),r(n(s),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){i(o,3);var u=r(n(s,l),o);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){return i(o,3),r(n(s,l),o)}});function i(a,o){var s=Array.isArray(a)?Dt(a):a.size();if(s.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s.length===2&&s[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}}),Eq="rotationMatrix",ZCe=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],JCe=ne(Eq,ZCe,t=>{var{typed:e,config:r,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:s,matrix:l,DenseMatrix:u,SparseMatrix:f,cos:d,sin:p}=t;return e(Eq,{"":function(){return r.matrix==="Matrix"?l([]):[]},string:function(_){return l(_)},"number | BigNumber | Complex | Unit":function(_){return m(_,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(_,S){return m(_,S)},"number | BigNumber | Complex | Unit, Array":function(_,S){var x=l(S);return y(x),E(_,x,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(_,S){y(S);var x=S.storage()||(r.matrix==="Matrix"?"dense":void 0);return E(_,S,x)},"number | BigNumber | Complex | Unit, Array, string":function(_,S,x){var A=l(S);return y(A),E(_,A,x)},"number | BigNumber | Complex | Unit, Matrix, string":function(_,S,x){return y(S),E(_,S,x)}});function m(N,_){var S=Ft(N),x=S?new s(-1):-1,A=d(N),T=p(N),O=[[A,n(x,T)],[T,A]];return b(O,_)}function y(N){var _=N.size();if(_.length<1||_[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function g(N){return N.reduce((_,S)=>n(_,S))}function b(N,_){if(_){if(_==="sparse")return new f(N);if(_==="dense")return new u(N);throw new TypeError('Unknown matrix type "'.concat(_,'"'))}return N}function E(N,_,S){var x=o(_);if(x===0)throw new RangeError("Rotation around zero vector");var A=Ft(N)?s:null,T=A?new A(1):1,O=A?new A(-1):-1,C=A?new A(_.get([0])/x):_.get([0])/x,R=A?new A(_.get([1])/x):_.get([1])/x,I=A?new A(_.get([2])/x):_.get([2])/x,P=d(N),F=i(T,a(P)),z=p(N),U=i(P,g([C,C,F])),k=i(g([C,R,F]),g([O,I,z])),V=i(g([C,I,F]),g([R,z])),Y=i(g([C,R,F]),g([I,z])),H=i(P,g([R,R,F])),j=i(g([R,I,F]),g([O,C,z])),Z=i(g([C,I,F]),g([O,R,z])),$=i(g([R,I,F]),g([C,z])),W=i(P,g([I,I,F])),K=[[U,k,V],[Y,H,j],[Z,$,W]];return b(K,S)}}),Sq="row",eOe=["typed","Index","matrix","range"],kY=ne(Sq,eOe,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(Sq,{"Matrix, number":a,"Array, number":function(s,l){return a(n(Ct(s)),l).valueOf()}});function a(o,s){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Rr(s,o.size()[0]);var l=i(0,o.size()[1]),u=new r(s,l),f=o.subset(u);return gt(f)?f:n([[f]])}}),Tq="size",tOe=["typed","config","?matrix"],rOe=ne(Tq,tOe,t=>{var{typed:e,config:r,matrix:n}=t;return e(Tq,{Matrix:function(a){return a.create(a.size(),"number")},Array:Dt,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([],"dense","number"):BY()}})}),Dq="squeeze",nOe=["typed"],iOe=ne(Dq,nOe,t=>{var{typed:e}=t;return e(Dq,{Array:function(n){return z1(Ct(n))},Matrix:function(n){var i=z1(n.toArray());return Array.isArray(i)?n.create(i,n.datatype()):i},any:function(n){return Ct(n)}})}),Nq="subset",aOe=["typed","matrix","zeros","add"],$Y=ne(Nq,aOe,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t;return e(Nq,{"Matrix, Index":function(s,l){return Kd(l)?r():(j1(s,l),s.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(s,l){var u=o(r(s),l);return l.isScalar()?u:u.valueOf()}}),"Object, Index":sOe,"string, Index":oOe,"Matrix, Index, any, any":function(s,l,u,f){return Kd(l)?s:(j1(s,l),s.clone().subset(l,a(u,l),f))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(s,l,u,f){var d=o(r(s),l,u,f);return d.isMatrix?d.valueOf():d}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(s,l,u){return o(r(s),l,u,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(s,l,u){return o(s,l,u,void 0)}}),"string, Index, string":Cq,"string, Index, string, string":Cq,"Object, Index, any":uOe});function a(o,s){if(typeof o=="string")throw new Error("can't boradcast a string");if(s._isScalar)return o;var l=s.size();if(l.every(u=>u>0))try{return i(o,n(l))}catch{return o}else return o}});function oOe(t,e){if(!g_(e))throw new TypeError("Index expected");if(Kd(e))return"";if(j1(Array.from(t),e),e.size().length!==1)throw new jt(e.size().length,1);var r=t.length;Rr(e.min()[0],r),Rr(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach(function(a){i+=t.charAt(a)}),i}function Cq(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Kd(e))return t;if(j1(Array.from(t),e),e.size().length!==1)throw new jt(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==r.length)throw new jt(i.size()[0],r.length);var o=t.length;Rr(e.min()[0]),Rr(e.max()[0]);for(var s=[],l=0;l<o;l++)s[l]=t.charAt(l);if(i.forEach(function(d,p){s[d]=r.charAt(p[0])}),s.length>o)for(var u=o-1,f=s.length;u<f;u++)s[u]||(s[u]=n);return s.join("")}function sOe(t,e){if(!Kd(e)){if(e.size().length!==1)throw new jt(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return Ui(t,r)}}function uOe(t,e,r){if(Kd(e))return t;if(e.size().length!==1)throw new jt(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=Ct(t);return Hd(i,n,r),i}var Oq="transpose",lOe=["typed","matrix"],cOe=ne(Oq,lOe,t=>{var{typed:e,matrix:r}=t;return e(Oq,{Array:o=>n(r(o)).valueOf(),Matrix:n,any:Ct});function n(o){var s=o.size(),l;switch(s.length){case 1:l=o.clone();break;case 2:{var u=s[0],f=s[1];if(f===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Ut(s)+")");switch(o.storage()){case"dense":l=i(o,u,f);break;case"sparse":l=a(o,u,f);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Ut(s)+")")}return l}function i(o,s,l){for(var u=o._data,f=[],d,p=0;p<l;p++){d=f[p]=[];for(var m=0;m<s;m++)d[m]=Ct(u[m][p])}return o.createDenseMatrix({data:f,size:[l,s],datatype:o._datatype})}function a(o,s,l){for(var u=o._values,f=o._index,d=o._ptr,p=u?[]:void 0,m=[],y=[],g=[],b=0;b<s;b++)g[b]=0;var E,N,_;for(E=0,N=f.length;E<N;E++)g[f[E]]++;for(var S=0,x=0;x<s;x++)y.push(S),S+=g[x],g[x]=y[x];for(y.push(S),_=0;_<l;_++)for(var A=d[_],T=d[_+1],O=A;O<T;O++){var C=g[f[O]]++;m[C]=_,u&&(p[C]=Ct(u[O]))}return o.createSparseMatrix({values:p,index:m,ptr:y,size:[l,s],datatype:o._datatype})}}),Mq="ctranspose",fOe=["typed","transpose","conj"],hOe=ne(Mq,fOe,t=>{var{typed:e,transpose:r,conj:n}=t;return e(Mq,{any:function(a){return n(r(a))}})}),Iq="zeros",dOe=["typed","config","matrix","BigNumber"],pOe=ne(Iq,dOe,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(Iq,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var f=u[u.length-1];if(typeof f=="string"){var d=u.pop();return a(u,d)}else return r.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var f=u.storage();return a(u.valueOf(),f)},"Array | Matrix, string":function(u,f){return a(u.valueOf(),f)}});function a(l,u){var f=o(l),d=f?new i(0):0;if(s(l),u){var p=n(u);return l.length>0?p.resize(l,d):p}else{var m=[];return l.length>0?Xd(m,l,d):m}}function o(l){var u=!1;return l.forEach(function(f,d,p){Ft(f)&&(u=!0,p[d]=f.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!ft(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}}),Rq="fft",mOe=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],vOe=ne(Rq,mOe,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:s,i:l,dotDivide:u,conj:f,pow:d,ceil:p,log2:m}=t;return e(Rq,{Array:y,Matrix:function(_){return _.create(y(_.valueOf()),_.datatype())}});function y(N){var _=Dt(N);return _.length===1?E(N,_[0]):g(N.map(S=>y(S,_.slice(1))),0)}function g(N,_){var S=Dt(N);if(_!==0)return new Array(S[0]).fill(0).map((A,T)=>g(N[T],_-1));if(S.length===1)return E(N);function x(A){var T=Dt(A);return new Array(T[1]).fill(0).map((O,C)=>new Array(T[0]).fill(0).map((R,I)=>A[I][C]))}return x(g(x(N),1))}function b(N){for(var _=N.length,S=o(a(i(-1,i(l,s)),_)),x=[],A=1-_;A<_;A++)x.push(d(S,a(d(A,2),2)));for(var T=d(2,p(m(_+_-1))),O=[...new Array(_).fill(0).map((k,V)=>i(N[V],x[_-1+V])),...new Array(T-_).fill(0)],C=[...new Array(_+_-1).fill(0).map((k,V)=>a(1,x[V])),...new Array(T-(_+_-1)).fill(0)],R=E(O),I=E(C),P=new Array(T).fill(0).map((k,V)=>i(R[V],I[V])),F=u(f(y(f(P))),T),z=[],U=_-1;U<_+_-1;U++)z.push(i(F[U],x[U]));return z}function E(N){var _=N.length;if(_===1)return[N[0]];if(_%2===0){for(var S=[...E(N.filter((O,C)=>C%2===0)),...E(N.filter((O,C)=>C%2===1))],x=0;x<_/2;x++){var A=S[x],T=i(S[x+_/2],o(i(i(s,l),a(-x,_))));S[x]=n(A,T),S[x+_/2]=n(A,i(-1,T))}return S}else return b(N)}}),Pq="ifft",gOe=["typed","fft","dotDivide","conj"],yOe=ne(Pq,gOe,t=>{var{typed:e,fft:r,dotDivide:n,conj:i}=t;return e(Pq,{"Array | Matrix":function(o){var s=gt(o)?o.size():Dt(o);return n(i(r(i(o))),s.reduce((l,u)=>l*u,1))}})});function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function bOe(t,e){if(ag(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wOe(t){var e=bOe(t,"string");return ag(e)=="symbol"?e:e+""}function En(t,e,r){return(e=wOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _Oe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bq(Object(r),!0).forEach(function(n){En(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var xOe="solveODE",AOe=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],EOe=ne(xOe,AOe,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,max:o,map:s,abs:l,isPositive:u,isNegative:f,larger:d,smaller:p,matrix:m,bignumber:y,unaryMinus:g}=t;function b(O){return function(C,R,I,P){var F=!(R.length===2&&(R.every(A)||R.every(_a)));if(F)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var z=R[0],U=R[1],k=d(U,z),V=P.firstStep;if(V!==void 0&&!u(V))throw new Error('"firstStep" must be positive');var Y=P.maxStep;if(Y!==void 0&&!u(Y))throw new Error('"maxStep" must be positive');var H=P.minStep;if(H&&f(H))throw new Error('"minStep" must be positive or zero');var j=[z,U,V,H,Y].filter(Q=>Q!==void 0);if(!(j.every(A)||j.every(_a)))throw new Error('Inconsistent type of "t" dependant variables');for(var Z=1,$=P.tol?P.tol:1e-4,W=P.minDelta?P.minDelta:.2,K=P.maxDelta?P.maxDelta:5,ge=P.maxIter?P.maxIter:1e4,me=[z,U,...I,Y,H].some(Ft),[Ee,J,ee,ue]=me?[y(O.a),y(O.c),y(O.b),y(O.bp)]:[O.a,O.c,O.b,O.bp],le=V?k?V:g(V):a(n(U,z),Z),ie=[z],Te=[I],he=n(ee,ue),Ce=0,je=0,We=S(k),xe=x(k);We(ie[Ce],U);){var ze=[];le=xe(ie[Ce],U,le),ze.push(C(ie[Ce],Te[Ce]));for(var te=1;te<J.length;++te)ze.push(C(r(ie[Ce],i(J[te],le)),r(Te[Ce],i(le,Ee[te],ze))));var ce=o(l(s(i(he,ze),Q=>_a(Q)?Q.value:Q)));ce<$&&$/ce>1/4&&(ie.push(r(ie[Ce],le)),Te.push(r(Te[Ce],i(le,ee,ze))),Ce++);var be=.84*($/ce)**(1/5);if(p(be,W)?be=W:d(be,K)&&(be=K),be=me?y(be):be,le=i(le,be),Y&&d(l(le),Y)?le=k?Y:g(Y):H&&p(l(le),H)&&(le=k?H:g(H)),je++,je>ge)throw new Error("Maximum number of iterations reached, try changing options")}return{t:ie,y:Te}}}function E(O,C,R,I){var P=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],F=[null,1/2,3/4,1],z=[2/9,1/3,4/9,0],U=[7/24,1/4,1/3,1/8],k={a:P,c:F,b:z,bp:U};return b(k)(O,C,R,I)}function N(O,C,R,I){var P=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],F=[null,1/5,3/10,4/5,8/9,1,1],z=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],U=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],k={a:P,c:F,b:z,bp:U};return b(k)(O,C,R,I)}function _(O,C,R,I){var P=I.method?I.method:"RK45",F={RK23:E,RK45:N};if(P.toUpperCase()in F){var z=_Oe({},I);return delete z.method,F[P.toUpperCase()](O,C,R,z)}else{var U=Object.keys(F).map(V=>'"'.concat(V,'"')),k="".concat(U.slice(0,-1).join(", ")," and ").concat(U.slice(-1));throw new Error('Unavailable method "'.concat(P,'". Available methods are ').concat(k))}}function S(O){return O?p:d}function x(O){var C=O?d:p;return function(R,I,P){var F=r(R,P);return C(F,I)?n(I,R):P}}function A(O){return Ft(O)||Bt(O)}function T(O,C,R,I){var P=_(O,C.toArray(),R.toArray(),I);return{t:m(P.t),y:m(P.y)}}return e("solveODE",{"function, Array, Array, Object":_,"function, Matrix, Matrix, Object":T,"function, Array, Array":(O,C,R)=>_(O,C,R,{}),"function, Matrix, Matrix":(O,C,R)=>T(O,C,R,{}),"function, Array, number | BigNumber | Unit":(O,C,R)=>{var I=_(O,C,[R],{});return{t:I.t,y:I.y.map(P=>P[0])}},"function, Matrix, number | BigNumber | Unit":(O,C,R)=>{var I=_(O,C.toArray(),[R],{});return{t:m(I.t),y:m(I.y.map(P=>P[0]))}},"function, Array, number | BigNumber | Unit, Object":(O,C,R,I)=>{var P=_(O,C,[R],I);return{t:P.t,y:P.y.map(F=>F[0])}},"function, Matrix, number | BigNumber | Unit, Object":(O,C,R,I)=>{var P=_(O,C.toArray(),[R],I);return{t:m(P.t),y:m(P.y.map(F=>F[0]))}}})}),SOe="erf",TOe=["typed"],DOe=ne(SOe,TOe,t=>{var{typed:e}=t;return e("name",{number:function(o){var s=Math.abs(o);return s>=OOe?Sl(o):s<=NOe?Sl(o)*r(s):s<=4?Sl(o)*(1-n(s)):Sl(o)*(1-i(s))},"Array | Matrix":e.referToSelf(a=>o=>kt(o,a))});function r(a){var o=a*a,s=su[0][4]*o,l=o,u;for(u=0;u<3;u+=1)s=(s+su[0][u])*o,l=(l+$h[0][u])*o;return a*(s+su[0][3])/(l+$h[0][3])}function n(a){var o=su[1][8]*a,s=a,l;for(l=0;l<7;l+=1)o=(o+su[1][l])*a,s=(s+$h[1][l])*a;var u=(o+su[1][7])/(s+$h[1][7]),f=parseInt(a*16)/16,d=(a-f)*(a+f);return Math.exp(-f*f)*Math.exp(-d)*u}function i(a){var o=1/(a*a),s=su[2][5]*o,l=o,u;for(u=0;u<4;u+=1)s=(s+su[2][u])*o,l=(l+$h[2][u])*o;var f=o*(s+su[2][4])/(l+$h[2][4]);f=(COe-f)/a,o=parseInt(a*16)/16;var d=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-d)*f}}),NOe=.46875,COe=.5641895835477563,su=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],$h=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],OOe=Math.pow(2,53),Fq="zeta",MOe=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],IOe=ne(Fq,MOe,t=>{var{typed:e,config:r,multiply:n,pow:i,divide:a,factorial:o,equal:s,smallerEq:l,isNegative:u,gamma:f,sin:d,subtract:p,add:m,Complex:y,BigNumber:g,pi:b}=t;return e(Fq,{number:A=>E(A,T=>T,()=>20),BigNumber:A=>E(A,T=>new g(T),()=>Math.abs(Math.log10(r.relTol))),Complex:N});function E(A,T,O){return s(A,0)?T(-.5):s(A,1)?T(NaN):isFinite(A)?_(A,T,O,C=>C):u(A)?T(NaN):T(1)}function N(A){return A.re===0&&A.im===0?new y(-.5):A.re===1?new y(NaN,NaN):A.re===1/0&&A.im===0?new y(1):A.im===1/0||A.re===-1/0?new y(NaN,NaN):_(A,T=>T,T=>Math.round(1.3*15+.9*Math.abs(T.im)),T=>T.re)}function _(A,T,O,C){var R=O(A);if(C(A)>-(R-1)/2)return x(A,T(R),T);var I=n(i(2,A),i(T(b),p(A,1)));return I=n(I,d(n(a(T(b),2),A))),I=n(I,f(p(1,A))),n(I,_(p(1,A),T,O,C))}function S(A,T){for(var O=A,C=A;l(C,T);C=m(C,1)){var R=a(n(o(m(T,p(C,1))),i(4,C)),n(o(p(T,C)),o(n(2,C))));O=m(O,R)}return n(T,O)}function x(A,T,O){for(var C=a(1,n(S(O(0),T),p(1,i(2,p(1,A))))),R=O(0),I=O(1);l(I,T);I=m(I,1))R=m(R,a(n((-1)**(I-1),S(I,T)),i(I,A)));return n(C,R)}}),kq="mode",ROe=["typed","isNaN","isNumeric"],POe=ne(kq,ROe,t=>{var{typed:e,isNaN:r,isNumeric:n}=t;return e(kq,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=or(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var s={},l=[],u=0,f=0;f<a.length;f++){var d=a[f];if(n(d)&&r(d))throw new Error("Cannot calculate mode of an array containing NaN values");d in s||(s[d]=0),s[d]++,s[d]===u?l.push(d):s[d]>u&&(u=s[d],l=[d])}return l}});function Vi(t,e,r){var n;return String(t).includes("Unexpected type")?(n=arguments.length>2?" (type: "+Dr(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).includes("complex numbers")?(n=arguments.length>2?" (type: "+Dr(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var $q="prod",BOe=["typed","config","multiplyScalar","numeric"],FOe=ne($q,BOe,t=>{var{typed:e,config:r,multiplyScalar:n,numeric:i}=t;return e($q,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(s,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(s){return a(s)}});function a(o){var s;if(Vl(o,function(l){try{s=s===void 0?l:n(s,l)}catch(u){throw Vi(u,"prod",l)}}),typeof s=="string"&&(s=i(s,Ql(s,r))),s===void 0)throw new Error("Cannot calculate prod of an empty array");return s}}),Lq="format",kOe=["typed"],$Oe=ne(Lq,kOe,t=>{var{typed:e}=t;return e(Lq,{any:Ut,"any, Object | function | number | BigNumber":Ut})}),qq="bin",LOe=["typed","format"],qOe=ne(qq,LOe,t=>{var{typed:e,format:r}=t;return e(qq,{"number | BigNumber":function(i){return r(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"bin",wordSize:a})}})}),Uq="oct",UOe=["typed","format"],jOe=ne(Uq,UOe,t=>{var{typed:e,format:r}=t;return e(Uq,{"number | BigNumber":function(i){return r(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"oct",wordSize:a})}})}),jq="hex",zOe=["typed","format"],VOe=ne(jq,zOe,t=>{var{typed:e,format:r}=t;return e(jq,{"number | BigNumber":function(i){return r(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"hex",wordSize:a})}})}),LY=/\$([\w.]+)/g,zq="print",HOe=["typed"],qY=ne(zq,HOe,t=>{var{typed:e}=t;return e(zq,{"string, Object | Array":Vq,"string, Object | Array, number | Object":Vq})});function Vq(t,e,r){return t.replace(LY,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var s=a.shift();o=s?o[s]:o+"."}return o!==void 0?Di(o)?o:Ut(o,r):n})}var Hq="to",GOe=["typed","matrix","concat"],KOe=ne(Hq,GOe,t=>{var{typed:e,matrix:r,concat:n}=t,i=Br({typed:e,matrix:r,concat:n});return e(Hq,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))}),Gq="toBest",XOe=["typed"],WOe=ne(Gq,XOe,t=>{var{typed:e}=t;return e(Gq,{Unit:r=>r.toBest(),"Unit, string":(r,n)=>r.toBest(n.split(",")),"Unit, string, Object":(r,n,i)=>r.toBest(n.split(","),i),"Unit, Array":(r,n)=>r.toBest(n),"Unit, Array, Object":(r,n,i)=>r.toBest(n,i)})}),Kq="isPrime",YOe=["typed"],QOe=ne(Kq,YOe,t=>{var{typed:e}=t;return e(Kq,{number:function(n){if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},bigint:function(n){if(n<=3n)return n>1n;if(n%2n===0n||n%3n===0n)return!1;for(var i=5n;i*i<=n;i+=6n)if(n%i===0n||n%(i+2n)===0n)return!1;return!0},BigNumber:function(n){if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(N,_,S){for(var x=1;!_.eq(0);)_.mod(2).eq(0)?(_=_.div(2),N=N.mul(N).mod(S)):(_=_.sub(1),x=N.mul(x).mod(S));return x}var s=n.constructor.clone({precision:n.toFixed(0).length*2});n=new s(n);for(var l=0,u=n.sub(1);u.mod(2).eq(0);)u=u.div(2),l+=1;var f=null;if(n.lt("3317044064679887385961981"))f=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(N=>N<n);else{var d=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));f=[];for(var p=2;p<=d;p+=1)f.push(d)}for(var m=0;m<f.length;m+=1){var y=f[m],g=o(n.sub(n).add(y),u,n);if(!g.eq(1)){for(var b=0,E=g;!E.eq(n.sub(1));b+=1,E=E.mul(E).mod(n))if(b===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(r=>n=>kt(n,r))})}),ZOe="numeric",JOe=["number","?bignumber","?fraction"],eMe=ne(ZOe,JOe,t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:r?o=>r(o):cI,bigint:o=>BigInt(o),Fraction:n?o=>n(o):PY};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var f=Dr(s);if(!(f in i))throw new TypeError("Cannot convert "+s+' of type "'+f+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===f?s:a[l](s)}}),Xq="divideScalar",tMe=["typed","numeric"],rMe=ne(Xq,tMe,t=>{var{typed:e,numeric:r}=t;return e(Xq,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"bigint, bigint":function(i,a){return i/a},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),Wq="pow",nMe=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],iMe=ne(Wq,nMe,t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:a,inv:o,number:s,fraction:l,Complex:u}=t;return e(Wq,{"number, number":f,"Complex, Complex":function(y,g){return y.pow(g)},"BigNumber, BigNumber":function(y,g){return g.isInteger()||y>=0||r.predictable?y.pow(g):new u(y.toNumber(),0).pow(g.toNumber(),0)},"bigint, bigint":(m,y)=>m**y,"Fraction, Fraction":function(y,g){var b=y.pow(g);if(b!=null)return b;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return f(y.valueOf(),g.valueOf())},"Array, number":d,"Array, BigNumber":function(y,g){return d(y,g.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(y,g){return p(y,g.toNumber())},"Unit, number | BigNumber":function(y,g){return y.pow(g)}});function f(m,y){if(r.predictable&&!ft(y)&&m<0)try{var g=l(y),b=s(g);if((y===b||Math.abs((y-b)/y)<1e-14)&&g.d%2n===1n)return(g.n%2n===0n?1:-1)*Math.pow(-m,y)}catch{}return r.predictable&&(m<-1&&y===1/0||m>-1&&m<0&&y===-1/0)?NaN:ft(y)||m>=0||r.predictable?HW(m,y):m*m<1&&y===1/0||m*m>1&&y===-1/0?0:new u(m,0).pow(y,0)}function d(m,y){if(!ft(y))throw new TypeError("For A^b, b must be an integer (value is "+y+")");var g=Dt(m);if(g.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+g.length+" dimensions)");if(g[0]!==g[1])throw new Error("For A^b, A must be square (size is "+g[0]+"x"+g[1]+")");if(y<0)try{return d(o(m),-y)}catch(N){throw N.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+y+")"):N}for(var b=n(g[0]).valueOf(),E=m;y>=1;)(y&1)===1&&(b=i(E,b)),y>>=1,E=i(E,E);return b}function p(m,y){return a(d(m.valueOf(),y))}}),Lh="Number of decimals in function round must be an integer",Yq="round",aMe=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],oMe=ne(Yq,aMe,t=>{var{typed:e,config:r,matrix:n,equalScalar:i,zeros:a,BigNumber:o,DenseMatrix:s}=t,l=gi({typed:e,equalScalar:i}),u=jn({typed:e,DenseMatrix:s}),f=Lo({typed:e});function d(p){return Math.abs(Og(p).exponent)}return e(Yq,{number:function(m){var y=Fm(m,d(r.relTol)),g=vi(m,y,r.relTol,r.absTol)?y:m;return Fm(g)},"number, number":function(m,y){var g=d(r.relTol);if(y>=g)return Fm(m,y);var b=Fm(m,g),E=vi(m,b,r.relTol,r.absTol)?b:m;return Fm(E,y)},"number, BigNumber":function(m,y){if(!y.isInteger())throw new TypeError(Lh);return new o(m).toDecimalPlaces(y.toNumber())},Complex:function(m){return m.round()},"Complex, number":function(m,y){if(y%1)throw new TypeError(Lh);return m.round(y)},"Complex, BigNumber":function(m,y){if(!y.isInteger())throw new TypeError(Lh);var g=y.toNumber();return m.round(g)},BigNumber:function(m){var y=new o(m).toDecimalPlaces(d(r.relTol)),g=co(m,y,r.relTol,r.absTol)?y:m;return g.toDecimalPlaces(0)},"BigNumber, BigNumber":function(m,y){if(!y.isInteger())throw new TypeError(Lh);var g=d(r.relTol);if(y>=g)return m.toDecimalPlaces(y.toNumber());var b=m.toDecimalPlaces(g),E=co(m,b,r.relTol,r.absTol)?b:m;return E.toDecimalPlaces(y.toNumber())},bigint:p=>p,"bigint, number":(p,m)=>p,"bigint, BigNumber":(p,m)=>p,Fraction:function(m){return m.round()},"Fraction, number":function(m,y){if(y%1)throw new TypeError(Lh);return m.round(y)},"Fraction, BigNumber":function(m,y){if(!y.isInteger())throw new TypeError(Lh);return m.round(y.toNumber())},"Unit, number, Unit":e.referToSelf(p=>function(m,y,g){var b=m.toNumeric(g);return g.multiply(p(b,y))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(m,y,g)=>p(m,y.toNumber(),g)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(p=>(m,y,g)=>kt(m,b=>p(b,y,g),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(p=>(m,y)=>p(m,0,y)),"Array | Matrix":e.referToSelf(p=>m=>kt(m,p,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,y)=>l(m,y,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,y)=>f(m,y,p,!1)),"Array, number | BigNumber":e.referToSelf(p=>(m,y)=>f(n(m),y,p,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(p=>(m,y)=>i(m,0)?a(y.size(),y.storage()):u(y,m,p,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(p=>(m,y)=>i(m,0)?a(y.size(),y.storage()):f(y,m,p,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(p=>(m,y)=>f(n(y),m,p,!0).valueOf())})}),Qq="log",sMe=["config","typed","typeOf","divideScalar","Complex"],uMe=Math.log(16),lMe=ne(Qq,sMe,t=>{var{typed:e,typeOf:r,config:n,divideScalar:i,Complex:a}=t;function o(l){return l.log()}function s(l){return o(new a(l,0))}return e(Qq,{number:function(u){return u>=0||n.predictable?h9(u):s(u)},bigint:uI(uMe,h9,n,s),Complex:o,BigNumber:function(u){return!u.isNegative()||n.predictable?u.ln():s(u.toNumber())},"any, any":e.referToSelf(l=>(u,f)=>{if(r(u)==="Fraction"&&r(f)==="Fraction"){var d=u.log(f);if(d!==null)return d}return i(l(u),l(f))})})}),Zq="log1p",cMe=["typed","config","divideScalar","log","Complex"],fMe=ne(Zq,cMe,t=>{var{typed:e,config:r,divideScalar:n,log:i,Complex:a}=t;return e(Zq,{number:function(l){return l>=-1||r.predictable?aSe(l):o(new a(l,0))},Complex:o,BigNumber:function(l){var u=l.plus(1);return!u.isNegative()||r.predictable?u.ln():o(new a(l.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>l=>kt(l,s)),"any, any":e.referToSelf(s=>(l,u)=>n(s(l),i(u)))});function o(s){var l=s.re+1;return new a(Math.log(Math.sqrt(l*l+s.im*s.im)),Math.atan2(s.im,l))}}),Jq="nthRoots",hMe=["config","typed","divideScalar","Complex"],dMe=ne(Jq,hMe,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t,a=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function o(s,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(s===0||s.abs()===0)return[new i(0,0)];var u=typeof s=="number",f;(u||s.re===0||s.im===0)&&(u?f=2*+(s<0):s.im===0?f=2*+(s.re<0):f=2*+(s.im<0)+1);for(var d=s.arg(),p=s.abs(),m=[],y=Math.pow(p,1/l),g=0;g<l;g++){var b=(f+4*g)/l;if(b===Math.round(b)){m.push(a[b%4](y));continue}m.push(new i({r:y,phi:(d+2*Math.PI*g)/l}))}return m}return e(Jq,{Complex:function(l){return o(l,2)},"Complex, number":o})}),eU="dotPow",pMe=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],mMe=ne(eU,pMe,t=>{var{typed:e,equalScalar:r,matrix:n,pow:i,DenseMatrix:a,concat:o,SparseMatrix:s}=t,l=Hi({typed:e}),u=Ms({typed:e,SparseMatrix:s}),f=gi({typed:e,equalScalar:r}),d=jn({typed:e,DenseMatrix:a}),p=Br({typed:e,matrix:n,concat:o}),m={};for(var y in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,y)&&!y.includes("Matrix")&&!y.includes("Array")&&(m[y]=i.signatures[y]);var g=e(m);return e(eU,p({elop:g,SS:u,DS:l,Ss:f,sS:d}))}),tU="dotDivide",vMe=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],gMe=ne(tU,vMe,t=>{var{typed:e,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o,SparseMatrix:s}=t,l=qo({typed:e,equalScalar:n}),u=Hi({typed:e}),f=Ms({typed:e,SparseMatrix:s}),d=gi({typed:e,equalScalar:n}),p=jn({typed:e,DenseMatrix:a}),m=Br({typed:e,matrix:r,concat:o});return e(tU,m({elop:i,SS:f,DS:u,SD:l,Ss:d,sS:p}))});function Mg(t){var{DenseMatrix:e}=t;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+Ut(o)+")");var s=o[0],l=o[1];if(s!==l)throw new RangeError("Matrix must be square (size: "+Ut(o)+")");var u=[];if(gt(i)){var f=i.size(),d=i._data;if(f.length===1){if(f[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<s;p++)u[p]=[d[p]];return new e({data:u,size:[s,1],datatype:i._datatype})}if(f.length===2){if(f[0]!==s||f[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(k1(i)){if(a){u=[];for(var m=0;m<s;m++)u[m]=[d[m][0]];return new e({data:u,size:[s,1],datatype:i._datatype})}return i}if(Zc(i)){for(var y=0;y<s;y++)u[y]=[0];for(var g=i._values,b=i._index,E=i._ptr,N=E[1],_=E[0];_<N;_++){var S=b[_];u[S][0]=g[_]}return new e({data:u,size:[s,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Sr(i)){var x=Dt(i);if(x.length===1){if(x[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var A=0;A<s;A++)u[A]=[i[A]];return new e({data:u,size:[s,1]})}if(x.length===2){if(x[0]!==s||x[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var T=0;T<s;T++)u[T]=[i[T][0]];return new e({data:u,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var rU="lsolve",yMe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],bMe=ne(rU,yMe,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=t,l=Mg({DenseMatrix:s});return e(rU,{"SparseMatrix, Array | Matrix":function(p,m){return f(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var y=r(p),g=u(y,m);return g.valueOf()}});function u(d,p){p=l(d,p,!0);for(var m=p._data,y=d._size[0],g=d._size[1],b=[],E=d._data,N=0;N<g;N++){var _=m[N][0]||0,S=void 0;if(o(_,0))S=0;else{var x=E[N][N];if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");S=n(_,x);for(var A=N+1;A<y;A++)m[A]=[a(m[A][0]||0,i(S,E[A][N]))]}b[N]=[S]}return new s({data:b,size:[y,1]})}function f(d,p){p=l(d,p,!0);for(var m=p._data,y=d._size[0],g=d._size[1],b=d._values,E=d._index,N=d._ptr,_=[],S=0;S<g;S++){var x=m[S][0]||0;if(o(x,0))_[S]=[0];else{for(var A=0,T=[],O=[],C=N[S],R=N[S+1],I=C;I<R;I++){var P=E[I];P===S?A=b[I]:P>S&&(T.push(b[I]),O.push(P))}if(o(A,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var F=n(x,A),z=0,U=O.length;z<U;z++){var k=O[z];m[k]=[a(m[k][0]||0,i(F,T[z]))]}_[S]=[F]}}return new s({data:_,size:[y,1]})}}),nU="usolve",wMe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],_Me=ne(nU,wMe,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=t,l=Mg({DenseMatrix:s});return e(nU,{"SparseMatrix, Array | Matrix":function(p,m){return f(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var y=r(p),g=u(y,m);return g.valueOf()}});function u(d,p){p=l(d,p,!0);for(var m=p._data,y=d._size[0],g=d._size[1],b=[],E=d._data,N=g-1;N>=0;N--){var _=m[N][0]||0,S=void 0;if(o(_,0))S=0;else{var x=E[N][N];if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");S=n(_,x);for(var A=N-1;A>=0;A--)m[A]=[a(m[A][0]||0,i(S,E[A][N]))]}b[N]=[S]}return new s({data:b,size:[y,1]})}function f(d,p){p=l(d,p,!0);for(var m=p._data,y=d._size[0],g=d._size[1],b=d._values,E=d._index,N=d._ptr,_=[],S=g-1;S>=0;S--){var x=m[S][0]||0;if(o(x,0))_[S]=[0];else{for(var A=0,T=[],O=[],C=N[S],R=N[S+1],I=R-1;I>=C;I--){var P=E[I];P===S?A=b[I]:P<S&&(T.push(b[I]),O.push(P))}if(o(A,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var F=n(x,A),z=0,U=O.length;z<U;z++){var k=O[z];m[k]=[a(m[k][0],i(F,T[z]))]}_[S]=[F]}}return new s({data:_,size:[y,1]})}}),iU="lsolveAll",xMe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],AMe=ne(iU,xMe,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=t,l=Mg({DenseMatrix:s});return e(iU,{"SparseMatrix, Array | Matrix":function(p,m){return f(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var y=r(p),g=u(y,m);return g.map(b=>b.valueOf())}});function u(d,p){for(var m=[l(d,p,!0)._data.map(O=>O[0])],y=d._data,g=d._size[0],b=d._size[1],E=0;E<b;E++)for(var N=m.length,_=0;_<N;_++){var S=m[_];if(o(y[E][E],0))if(o(S[E],0)){if(_===0){var A=[...S];A[E]=1;for(var T=E+1;T<b;T++)A[T]=a(A[T],y[T][E]);m.push(A)}}else{if(_===0)return[];m.splice(_,1),_-=1,N-=1}else{S[E]=n(S[E],y[E][E]);for(var x=E+1;x<b;x++)S[x]=a(S[x],i(S[E],y[x][E]))}}return m.map(O=>new s({data:O.map(C=>[C]),size:[g,1]}))}function f(d,p){for(var m=[l(d,p,!0)._data.map(Z=>Z[0])],y=d._size[0],g=d._size[1],b=d._values,E=d._index,N=d._ptr,_=0;_<g;_++)for(var S=m.length,x=0;x<S;x++){for(var A=m[x],T=[],O=[],C=N[_],R=N[_+1],I=0,P=C;P<R;P++){var F=E[P];F===_?I=b[P]:F>_&&(T.push(b[P]),O.push(F))}if(o(I,0))if(o(A[_],0)){if(x===0){var V=[...A];V[_]=1;for(var Y=0,H=O.length;Y<H;Y++){var j=O[Y];V[j]=a(V[j],T[Y])}m.push(V)}}else{if(x===0)return[];m.splice(x,1),x-=1,S-=1}else{A[_]=n(A[_],I);for(var z=0,U=O.length;z<U;z++){var k=O[z];A[k]=a(A[k],i(A[_],T[z]))}}}return m.map(Z=>new s({data:Z.map($=>[$]),size:[y,1]}))}}),aU="usolveAll",EMe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],SMe=ne(aU,EMe,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=t,l=Mg({DenseMatrix:s});return e(aU,{"SparseMatrix, Array | Matrix":function(p,m){return f(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var y=r(p),g=u(y,m);return g.map(b=>b.valueOf())}});function u(d,p){for(var m=[l(d,p,!0)._data.map(O=>O[0])],y=d._data,g=d._size[0],b=d._size[1],E=b-1;E>=0;E--)for(var N=m.length,_=0;_<N;_++){var S=m[_];if(o(y[E][E],0))if(o(S[E],0)){if(_===0){var A=[...S];A[E]=1;for(var T=E-1;T>=0;T--)A[T]=a(A[T],y[T][E]);m.push(A)}}else{if(_===0)return[];m.splice(_,1),_-=1,N-=1}else{S[E]=n(S[E],y[E][E]);for(var x=E-1;x>=0;x--)S[x]=a(S[x],i(S[E],y[x][E]))}}return m.map(O=>new s({data:O.map(C=>[C]),size:[g,1]}))}function f(d,p){for(var m=[l(d,p,!0)._data.map(Z=>Z[0])],y=d._size[0],g=d._size[1],b=d._values,E=d._index,N=d._ptr,_=g-1;_>=0;_--)for(var S=m.length,x=0;x<S;x++){for(var A=m[x],T=[],O=[],C=N[_],R=N[_+1],I=0,P=R-1;P>=C;P--){var F=E[P];F===_?I=b[P]:F<_&&(T.push(b[P]),O.push(F))}if(o(I,0))if(o(A[_],0)){if(x===0){var V=[...A];V[_]=1;for(var Y=0,H=O.length;Y<H;Y++){var j=O[Y];V[j]=a(V[j],T[Y])}m.push(V)}}else{if(x===0)return[];m.splice(x,1),x-=1,S-=1}else{A[_]=n(A[_],I);for(var z=0,U=O.length;z<U;z++){var k=O[z];A[k]=a(A[k],i(A[_],T[z]))}}}return m.map(Z=>new s({data:Z.map($=>[$]),size:[y,1]}))}}),TMe="matAlgo08xS0Sid",DMe=["typed","equalScalar"],fI=ne(TMe,DMe,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,f=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,y=a._ptr,g=a._size,b=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==g.length)throw new jt(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");if(!s||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var E=f[0],N=f[1],_,S=r,x=0,A=o;typeof d=="string"&&d===b&&d!=="mixed"&&(_=d,S=e.find(r,[_,_]),x=e.convert(0,_),A=e.find(o,[_,_]));for(var T=[],O=[],C=[],R=[],I=[],P,F,z,U,k=0;k<N;k++){C[k]=O.length;var V=k+1;for(F=u[k],z=u[k+1],P=F;P<z;P++)U=l[P],I[U]=V,R[U]=s[P],O.push(U);for(F=y[k],z=y[k+1],P=F;P<z;P++)U=m[P],I[U]===V&&(R[U]=A(R[U],p[P]));for(P=C[k];P<O.length;){U=O[P];var Y=R[U];S(Y,x)?O.splice(P,1):(T.push(Y),P++)}}return C[N]=O.length,i.createSparseMatrix({values:T,index:O,ptr:C,size:[E,N],datatype:d===i._datatype&&b===a._datatype?_:void 0})}}),hI=ne("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:r}=t;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(r(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(r(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf())}}),oU="leftShift",NMe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],CMe=ne(oU,NMe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,s=Jl({typed:e}),l=qo({typed:e,equalScalar:n}),u=fI({typed:e,equalScalar:n}),f=Mf({typed:e,DenseMatrix:a}),d=gi({typed:e,equalScalar:n}),p=Lo({typed:e}),m=Br({typed:e,matrix:r,concat:o}),y=hI({typed:e,matrix:r});return e(oU,{"number, number":YW,"BigNumber, BigNumber":YNe,"bigint, bigint":(g,b)=>g<<b,"SparseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():d(b,E,g,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():p(b,E,g,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):f(E,b,g,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):p(E,b,g,!0))},y,m({SS:u,DS:s,SD:l}))}),sU="rightArithShift",OMe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],MMe=ne(sU,OMe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,s=Jl({typed:e}),l=qo({typed:e,equalScalar:n}),u=fI({typed:e,equalScalar:n}),f=Mf({typed:e,DenseMatrix:a}),d=gi({typed:e,equalScalar:n}),p=Lo({typed:e}),m=Br({typed:e,matrix:r,concat:o}),y=hI({typed:e,matrix:r});return e(sU,{"number, number":QW,"BigNumber, BigNumber":QNe,"bigint, bigint":(g,b)=>g>>b,"SparseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():d(b,E,g,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():p(b,E,g,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):f(E,b,g,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):p(E,b,g,!0))},y,m({SS:u,DS:s,SD:l}))}),uU="rightLogShift",IMe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],RMe=ne(uU,IMe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,s=Jl({typed:e}),l=qo({typed:e,equalScalar:n}),u=fI({typed:e,equalScalar:n}),f=Mf({typed:e,DenseMatrix:a}),d=gi({typed:e,equalScalar:n}),p=Lo({typed:e}),m=Br({typed:e,matrix:r,concat:o}),y=hI({typed:e,matrix:r});return e(uU,{"number, number":ZW,"SparseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():d(b,E,g,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():p(b,E,g,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):f(E,b,g,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):p(E,b,g,!0))},y,m({SS:u,DS:s,SD:l}))}),lU="and",PMe=["typed","matrix","equalScalar","zeros","not","concat"],UY=ne(lU,PMe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,s=qo({typed:e,equalScalar:n}),l=D_({typed:e,equalScalar:n}),u=gi({typed:e,equalScalar:n}),f=Lo({typed:e}),d=Br({typed:e,matrix:r,concat:o});return e(lU,{"number, number":IC,"Complex, Complex":function(m,y){return(m.re!==0||m.im!==0)&&(y.re!==0||y.im!==0)},"BigNumber, BigNumber":function(m,y){return!m.isZero()&&!y.isZero()&&!m.isNaN()&&!y.isNaN()},"bigint, bigint":IC,"Unit, Unit":e.referToSelf(p=>(m,y)=>p(m.value||0,y.value||0)),"SparseMatrix, any":e.referToSelf(p=>(m,y)=>a(y)?i(m.size(),m.storage()):u(m,y,p,!1)),"DenseMatrix, any":e.referToSelf(p=>(m,y)=>a(y)?i(m.size(),m.storage()):f(m,y,p,!1)),"any, SparseMatrix":e.referToSelf(p=>(m,y)=>a(m)?i(m.size(),m.storage()):u(y,m,p,!0)),"any, DenseMatrix":e.referToSelf(p=>(m,y)=>a(m)?i(m.size(),m.storage()):f(y,m,p,!0)),"Array, any":e.referToSelf(p=>(m,y)=>p(r(m),y).valueOf()),"any, Array":e.referToSelf(p=>(m,y)=>p(m,r(y)).valueOf())},d({SS:l,DS:s}))}),Q1="compare",BMe=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],FMe=ne(Q1,BMe,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:s,concat:l}=t,u=Hi({typed:e}),f=T_({typed:e,equalScalar:n}),d=jn({typed:e,DenseMatrix:s}),p=Br({typed:e,matrix:i,concat:l}),m=gp({typed:e});return e(Q1,kMe({typed:e,config:r}),{"boolean, boolean":function(g,b){return g===b?0:g>b?1:-1},"BigNumber, BigNumber":function(g,b){return co(g,b,r.relTol,r.absTol)?new a(0):new a(g.cmp(b))},"bigint, bigint":function(g,b){return g===b?0n:g>b?1n:-1n},"Fraction, Fraction":function(g,b){return new o(g.compare(b))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,p({SS:f,DS:u,Ss:d}))}),kMe=ne(Q1,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Q1,{"number, number":function(i,a){return vi(i,a,r.relTol,r.absTol)?0:i>a?1:-1}})}),p2,cU;function $Me(){return cU||(cU=1,p2=function t(e,r){var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,s=/^0/,l=function(_){return t.insensitive&&(""+_).toLowerCase()||""+_},u=l(e).replace(i,"")||"",f=l(r).replace(i,"")||"",d=u.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=f.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(u.match(o),16)||d.length!==1&&u.match(a)&&Date.parse(u),y=parseInt(f.match(o),16)||m&&f.match(a)&&Date.parse(f)||null,g,b;if(y){if(m<y)return-1;if(m>y)return 1}for(var E=0,N=Math.max(d.length,p.length);E<N;E++){if(g=!(d[E]||"").match(s)&&parseFloat(d[E])||d[E]||0,b=!(p[E]||"").match(s)&&parseFloat(p[E])||p[E]||0,isNaN(g)!==isNaN(b))return isNaN(g)?1:-1;if(typeof g!=typeof b&&(g+="",b+=""),g<b)return-1;if(g>b)return 1}return 0}),p2}var LMe=$Me();const qh=pr(LMe);var fU="compareNatural",qMe=["typed","compare"],UMe=ne(fU,qMe,t=>{var{typed:e,compare:r}=t,n=r.signatures["boolean,boolean"];return e(fU,{"any, any":i});function i(l,u){var f=Dr(l),d=Dr(u),p;if((f==="number"||f==="BigNumber"||f==="Fraction")&&(d==="number"||d==="BigNumber"||d==="Fraction"))return p=r(l,u),p.toString()!=="0"?p>0?1:-1:qh(f,d);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(f)||m.includes(d))return p=a(i,l,u),p!==0?p:qh(f,d);if(f!==d)return qh(f,d);if(f==="Complex")return jMe(l,u);if(f==="Unit")return l.equalBase(u)?i(l.value,u.value):o(i,l.formatUnits(),u.formatUnits());if(f==="boolean")return n(l,u);if(f==="string")return qh(l,u);if(f==="Object")return s(i,l,u);if(f==="null"||f==="undefined")return 0;throw new TypeError('Unsupported type of value "'+f+'"')}function a(l,u,f){return Zc(u)&&Zc(f)?o(l,u.toJSON().values,f.toJSON().values):Zc(u)?a(l,u.toArray(),f):Zc(f)?a(l,u,f.toArray()):k1(u)?a(l,u.toJSON().data,f):k1(f)?a(l,u,f.toJSON().data):Array.isArray(u)?Array.isArray(f)?o(l,u,f):a(l,u,[f]):a(l,[u],f)}function o(l,u,f){for(var d=0,p=Math.min(u.length,f.length);d<p;d++){var m=l(u[d],f[d]);if(m!==0)return m}return u.length>f.length?1:u.length<f.length?-1:0}function s(l,u,f){var d=Object.keys(u),p=Object.keys(f);d.sort(qh),p.sort(qh);var m=o(l,d,p);if(m!==0)return m;for(var y=0;y<d.length;y++){var g=l(u[d[y]],f[p[y]]);if(g!==0)return g}return 0}});function jMe(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var hU="compareText",zMe=["typed","matrix","concat"];SC.signature="any, any";var VMe=ne(hU,zMe,t=>{var{typed:e,matrix:r,concat:n}=t,i=Br({typed:e,matrix:r,concat:n});return e(hU,SC,i({elop:SC,Ds:!0}))}),Z1="equal",HMe=["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],GMe=ne(Z1,HMe,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a,SparseMatrix:o}=t,s=Hi({typed:e}),l=Ms({typed:e,SparseMatrix:o}),u=jn({typed:e,DenseMatrix:i}),f=Br({typed:e,matrix:r,concat:a});return e(Z1,KMe({typed:e,equalScalar:n}),f({elop:n,SS:l,DS:s,Ss:u}))}),KMe=ne(Z1,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Z1,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:r(i,a)}})}),dU="equalText",XMe=["typed","compareText","isZero"],WMe=ne(dU,XMe,t=>{var{typed:e,compareText:r,isZero:n}=t;return e(dU,{"any, any":function(a,o){return n(r(a,o))}})}),J1="smaller",YMe=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],QMe=ne(J1,YMe,t=>{var{typed:e,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:s}=t,l=Hi({typed:e}),u=Ms({typed:e,SparseMatrix:s}),f=jn({typed:e,DenseMatrix:a}),d=Br({typed:e,matrix:i,concat:o}),p=gp({typed:e});function m(y,g){return y.lt(g)&&!co(y,g,r.relTol,r.absTol)}return e(J1,ZMe({typed:e,config:r}),{"boolean, boolean":(y,g)=>y<g,"BigNumber, BigNumber":m,"bigint, bigint":(y,g)=>y<g,"Fraction, Fraction":(y,g)=>y.compare(g)===-1,"Fraction, BigNumber":function(g,b){return m(n(g),b)},"BigNumber, Fraction":function(g,b){return m(g,n(b))},"Complex, Complex":function(g,b){throw new TypeError("No ordering relation is defined for complex numbers")}},p,d({SS:u,DS:l,Ss:f}))}),ZMe=ne(J1,["typed","config"],t=>{var{typed:e,config:r}=t;return e(J1,{"number, number":function(i,a){return i<a&&!vi(i,a,r.relTol,r.absTol)}})}),ew="smallerEq",JMe=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],eIe=ne(ew,JMe,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:o}=t,s=Hi({typed:e}),l=Ms({typed:e,SparseMatrix:o}),u=jn({typed:e,DenseMatrix:i}),f=Br({typed:e,matrix:n,concat:a}),d=gp({typed:e});return e(ew,tIe({typed:e,config:r}),{"boolean, boolean":(p,m)=>p<=m,"BigNumber, BigNumber":function(m,y){return m.lte(y)||co(m,y,r.relTol,r.absTol)},"bigint, bigint":(p,m)=>p<=m,"Fraction, Fraction":(p,m)=>p.compare(m)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:l,DS:s,Ss:u}))}),tIe=ne(ew,["typed","config"],t=>{var{typed:e,config:r}=t;return e(ew,{"number, number":function(i,a){return i<=a||vi(i,a,r.relTol,r.absTol)}})}),tw="larger",rIe=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],nIe=ne(tw,rIe,t=>{var{typed:e,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:s}=t,l=Hi({typed:e}),u=Ms({typed:e,SparseMatrix:s}),f=jn({typed:e,DenseMatrix:a}),d=Br({typed:e,matrix:i,concat:o}),p=gp({typed:e});function m(y,g){return y.gt(g)&&!co(y,g,r.relTol,r.absTol)}return e(tw,iIe({typed:e,config:r}),{"boolean, boolean":(y,g)=>y>g,"BigNumber, BigNumber":m,"bigint, bigint":(y,g)=>y>g,"Fraction, Fraction":(y,g)=>y.compare(g)===1,"Fraction, BigNumber":function(g,b){return m(n(g),b)},"BigNumber, Fraction":function(g,b){return m(g,n(b))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,d({SS:u,DS:l,Ss:f}))}),iIe=ne(tw,["typed","config"],t=>{var{typed:e,config:r}=t;return e(tw,{"number, number":function(i,a){return i>a&&!vi(i,a,r.relTol,r.absTol)}})}),rw="largerEq",aIe=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],oIe=ne(rw,aIe,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:o}=t,s=Hi({typed:e}),l=Ms({typed:e,SparseMatrix:o}),u=jn({typed:e,DenseMatrix:i}),f=Br({typed:e,matrix:n,concat:a}),d=gp({typed:e});return e(rw,sIe({typed:e,config:r}),{"boolean, boolean":(p,m)=>p>=m,"BigNumber, BigNumber":function(m,y){return m.gte(y)||co(m,y,r.relTol,r.absTol)},"bigint, bigint":function(m,y){return m>=y},"Fraction, Fraction":(p,m)=>p.compare(m)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:l,DS:s,Ss:u}))}),sIe=ne(rw,["typed","config"],t=>{var{typed:e,config:r}=t;return e(rw,{"number, number":function(i,a){return i>=a||vi(i,a,r.relTol,r.absTol)}})}),pU="deepEqual",uIe=["typed","equal"],lIe=ne(pU,uIe,t=>{var{typed:e,equal:r}=t;return e(pU,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var s=0;s<o;s++)if(!n(i[s],a[s]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:r(i,a)}}),nw="unequal",cIe=["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],fIe=ne(nw,cIe,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:s}=t,l=Hi({typed:e}),u=Ms({typed:e,SparseMatrix:s}),f=jn({typed:e,DenseMatrix:a}),d=Br({typed:e,matrix:i,concat:o});return e(nw,hIe({typed:e,equalScalar:n}),d({elop:p,SS:u,DS:l,Ss:f}));function p(m,y){return!n(m,y)}}),hIe=ne(nw,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(nw,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!r(i,a)}})}),mU="partitionSelect",dIe=["typed","isNumeric","isNaN","compare"],pIe=ne(mU,dIe,t=>{var{typed:e,isNumeric:r,isNaN:n,compare:i}=t,a=i,o=(u,f)=>-i(u,f);return e(mU,{"Array | Matrix, number":function(f,d){return s(f,d,a)},"Array | Matrix, number, string":function(f,d,p){if(p==="asc")return s(f,d,a);if(p==="desc")return s(f,d,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(u,f,d){if(!ft(f)||f<0)throw new Error("k must be a non-negative integer");if(gt(u)){var p=u.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return l(u.valueOf(),f,d)}if(Array.isArray(u))return l(u,f,d)}function l(u,f,d){if(f>=u.length)throw new Error("k out of bounds");for(var p=0;p<u.length;p++)if(r(u[p])&&n(u[p]))return u[p];for(var m=0,y=u.length-1;m<y;){for(var g=m,b=y,E=u[Math.floor(Math.random()*(y-m+1))+m];g<b;)if(d(u[g],E)>=0){var N=u[b];u[b]=u[g],u[g]=N,--b}else++g;d(u[g],E)>0&&--g,f<=g?y=g:m=g+1}return u[f]}}),vU="sort",mIe=["typed","matrix","compare","compareNatural"],vIe=ne(vU,mIe,t=>{var{typed:e,matrix:r,compare:n,compareNatural:i}=t,a=n,o=(f,d)=>-n(f,d);return e(vU,{Array:function(d){return l(d),d.sort(a)},Matrix:function(d){return u(d),r(d.toArray().sort(a),d.storage())},"Array, function":function(d,p){return l(d),d.sort(p)},"Matrix, function":function(d,p){return u(d),r(d.toArray().sort(p),d.storage())},"Array, string":function(d,p){return l(d),d.sort(s(p))},"Matrix, string":function(d,p){return u(d),r(d.toArray().sort(s(p)),d.storage())}});function s(f){if(f==="asc")return a;if(f==="desc")return o;if(f==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(f){if(Dt(f).length!==1)throw new Error("One dimensional array expected")}function u(f){if(f.size().length!==1)throw new Error("One dimensional matrix expected")}}),gU="max",gIe=["typed","config","numeric","larger","isNaN"],jY=ne(gU,gIe,t=>{var{typed:e,config:r,numeric:n,larger:i,isNaN:a}=t;return e(gU,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(u,f){return S_(u,f.valueOf(),o)},"...":function(u){if(pp(u))throw new TypeError("Scalar values expected in function max");return s(u)}});function o(l,u){try{return i(l,u)?l:u}catch(f){throw Vi(f,"max",u)}}function s(l){var u;if(Vl(l,function(f){try{(a(f)||u===void 0||i(f,u))&&(u=f)}catch(d){throw Vi(d,"max",f)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,Ql(u,r))),u}}),yU="min",yIe=["typed","config","numeric","smaller","isNaN"],zY=ne(yU,yIe,t=>{var{typed:e,config:r,numeric:n,smaller:i,isNaN:a}=t;return e(yU,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(u,f){return S_(u,f.valueOf(),o)},"...":function(u){if(pp(u))throw new TypeError("Scalar values expected in function min");return s(u)}});function o(l,u){try{return i(l,u)?l:u}catch(f){throw Vi(f,"min",u)}}function s(l){var u;if(Vl(l,function(f){try{(a(f)||u===void 0||i(f,u))&&(u=f)}catch(d){throw Vi(d,"min",f)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,Ql(u,r))),u}}),bIe="ImmutableDenseMatrix",wIe=["smaller","DenseMatrix"],_Ie=ne(bIe,wIe,t=>{var{smaller:e,DenseMatrix:r}=t;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Di(a))throw new Error("Invalid datatype: "+a);if(gt(i)||Sr(i)){var o=new r(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Sr(i.data)&&Sr(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Dr(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=r.prototype.subset.call(this,i);return gt(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:Ct(this._data),size:Ct(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0}),xIe="Index",AIe=["ImmutableDenseMatrix","getMatrixDataType"],EIe=ne(xIe,AIe,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:r}=t;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,s=arguments.length;o<s;o++){var l=arguments[o],u=Sr(l),f=gt(l),d=typeof l,p=null;if(ZM(l))this._dimensions.push(l),this._isScalar=!1;else if(u||f){var m=void 0;r(l)==="boolean"?(u&&(m=i(bU(l).valueOf())),f&&(m=i(bU(l._data).valueOf())),p=l.valueOf().length):m=i(l.valueOf()),this._dimensions.push(m);var y=m.size();(y.length!==1||y[0]!==1||p!==null)&&(this._isScalar=!1)}else if(d==="number")this._dimensions.push(i([l]));else if(d==="bigint")this._dimensions.push(i([Number(l)]));else if(d==="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(p)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,s=a.length;o<s;o++)if(typeof a[o]!="number"||!ft(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=Ct(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?1:l.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.max()}return a},n.prototype.min=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.min()}return a},n.prototype.forEach=function(a){for(var o=0,s=this._dimensions.length;o<s;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return typeof a!="number"?null:this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a.push(typeof l=="string"?l:l.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];typeof l=="string"?a.push(JSON.stringify(l)):a.push(l.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function bU(t){var e=[];return t.forEach((r,n)=>{r&&e.push(n)}),e}var SIe="FibonacciHeap",TIe=["smaller","larger"],DIe=ne(SIe,TIe,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(f,d){var p={key:f,value:d,degree:0};if(this._minimum){var m=this._minimum;p.left=m,p.right=m.right,m.right=p,p.right.left=p,e(f,m.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var f=this._minimum;if(f===null)return f;for(var d=this._minimum,p=f.degree,m=f.child;p>0;){var y=m.right;m.left.right=m.right,m.right.left=m.left,m.left=d,m.right=d.right,d.right=m,m.right.left=m,m.parent=null,m=y,p--}return f.left.right=f.right,f.right.left=f.left,f===f.right?d=null:(d=f.right,d=u(d,this._size)),this._size--,this._minimum=d,f},i.prototype.remove=function(f){this._minimum=a(this._minimum,f,-1),this.extractMinimum()};function a(f,d,p){d.key=p;var m=d.parent;return m&&e(d.key,m.key)&&(o(f,d,m),s(f,m)),e(d.key,f.key)&&(f=d),f}function o(f,d,p){d.left.right=d.right,d.right.left=d.left,p.degree--,p.child===d&&(p.child=d.right),p.degree===0&&(p.child=null),d.left=f,d.right=f.right,f.right=d,d.right.left=d,d.parent=null,d.mark=!1}function s(f,d){var p=d.parent;p&&(d.mark?(o(f,d,p),s(p)):d.mark=!0)}var l=function(d,p){d.left.right=d.right,d.right.left=d.left,d.parent=p,p.child?(d.left=p.child,d.right=p.child.right,p.child.right=d,d.right.left=d):(p.child=d,d.right=d,d.left=d),p.degree++,d.mark=!1};function u(f,d){var p=Math.floor(Math.log(d)*n)+1,m=new Array(p),y=0,g=f;if(g)for(y++,g=g.right;g!==f;)y++,g=g.right;for(var b;y>0;){for(var E=g.degree,N=g.right;b=m[E],!!b;){if(r(g.key,b.key)){var _=b;b=g,g=_}l(b,g),m[E]=null,E++}m[E]=g,g=N,y--}f=null;for(var S=0;S<p;S++)b=m[S],b&&(f?(b.left.right=b.right,b.right.left=b.left,b.left=f,b.right=f.right,f.right=b,b.right.left=b,e(b.key,f.key)&&(f=b)):f=b);return f}return i},{isClass:!0}),NIe="Spa",CIe=["addScalar","equalScalar","FibonacciHeap"],OIe=ne(NIe,CIe,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var s=this._heap.insert(a,o);this._values[a]=s}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var s=this._values[a];s?s.value=e(s.value,o):(s=this._heap.insert(a,o),this._values[a]=s)},i.prototype.forEach=function(a,o,s){var l=this._heap,u=this._values,f=[],d=l.extractMinimum();for(d&&f.push(d);d&&d.key<=o;)d.key>=a&&(r(d.value,0)||s(d.key,d.value,this)),d=l.extractMinimum(),d&&f.push(d);for(var p=0;p<f.length;p++){var m=f[p];d=l.insert(m.key,m.value),u[d.key]=d}},i.prototype.swap=function(a,o){var s=this._values[a],l=this._values[o];if(!s&&l)s=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=s,this._values[o]=void 0;else if(s&&!l)l=this._heap.insert(o,s.value),this._heap.remove(s),this._values[o]=l,this._values[a]=void 0;else if(s&&l){var u=s.value;s.value=l.value,l.value=u}},i},{isClass:!0});function MIe(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),a=0,o=function(l){var u=i[l];if(u&&(delete n[u],delete i[l],--e,r===u)){if(!e){a=0,r=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(l){var u=i[l],f=++a;if(n[f]=l,i[l]=f,!u)return++e,e<=t?void 0:(l=n[r],o(l),l);if(delete n[u],r===u)for(;!Object.prototype.hasOwnProperty.call(n,++r););},delete:o,clear:function(){e=a=0,r=1,n=Object.create(null),i=Object.create(null)}}}function Ig(t){var{hasher:e,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:MIe(r||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var s=t.apply(t,i);return n.cache.values.set(o,s),n.cache.values.delete(n.cache.lru.hit(o)),s}}var IIe=Ig(function(t){return new t(1).exp()},{hasher:N_}),RIe=Ig(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:N_}),dI=Ig(function(t){return t.acos(-1)},{hasher:N_}),PIe=Ig(function(t){return dI(t).times(2)},{hasher:N_});function N_(t){return t[0].precision}function wU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(r),!0).forEach(function(n){En(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var BIe="Unit",FIe=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","toBest","number","Complex","BigNumber","Fraction"],kIe=ne(BIe,FIe,t=>{var{on:e,config:r,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:s,abs:l,fix:u,round:f,equal:d,isNumeric:p,format:m,toBest:y,number:g,Complex:b,BigNumber:E,Fraction:N}=t,_=g;function S(te,ce){if(!(this instanceof S))throw new Error("Constructor must be called with the new operator");if(!(te==null||p(te)||wu(te)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,ce===void 0)this.units=[],this.dimensions=W.map(Q=>0);else if(typeof ce=="string"){var be=S.parse(ce);this.units=be.units,this.dimensions=be.dimensions}else if(_a(ce)&&ce.value===null)this.fixPrefix=ce.fixPrefix,this.skipAutomaticSimplification=ce.skipAutomaticSimplification,this.dimensions=ce.dimensions.slice(0),this.units=ce.units.map(Q=>Fn({},Q));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(te)}Object.defineProperty(S,"name",{value:"Unit"}),S.prototype.constructor=S,S.prototype.type="Unit",S.prototype.isUnit=!0;var x,A,T;function O(){for(;T===" "||T==="	";)I()}function C(te){return te>="0"&&te<="9"||te==="."}function R(te){return te>="0"&&te<="9"}function I(){A++,T=x.charAt(A)}function P(te){A=te,T=x.charAt(A)}function F(){var te="",ce=A;if(T==="+"?I():T==="-"&&(te+=T,I()),!C(T))return P(ce),null;if(T==="."){if(te+=T,I(),!R(T))return P(ce),null}else{for(;R(T);)te+=T,I();T==="."&&(te+=T,I())}for(;R(T);)te+=T,I();if(T==="E"||T==="e"){var be="",Q=A;if(be+=T,I(),(T==="+"||T==="-")&&(be+=T,I()),!R(T))return P(Q),te;for(te=te+be;R(T);)te+=T,I()}return te}function z(){for(var te="";R(T)||S.isValidAlpha(T);)te+=T,I();var ce=te.charAt(0);return S.isValidAlpha(ce)?te:null}function U(te){return T===te?(I(),te):null}S.parse=function(te,ce){if(ce=ce||{},x=te,A=-1,T="",typeof x!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var be=new S;be.units=[];var Q=1,oe=!1;I(),O();var de=F(),ye=null;if(de){if(r.number==="BigNumber")ye=new E(de);else if(r.number==="Fraction")try{ye=new N(de)}catch{ye=parseFloat(de)}else ye=parseFloat(de);O(),U("*")?(Q=1,oe=!0):U("/")&&(Q=-1,oe=!0)}for(var _e=[],Re=1;;){for(O();T==="(";)_e.push(Q),Re*=Q,Q=1,I(),O();var qe=void 0;if(T){var Qe=T;if(qe=z(),qe===null)throw new SyntaxError('Unexpected "'+Qe+'" in "'+x+'" at index '+A.toString())}else break;var Je=k(qe);if(Je===null)throw new SyntaxError('Unit "'+qe+'" not found.');var Ye=Q*Re;if(O(),U("^")){O();var Rt=F();if(Rt===null)throw new SyntaxError('In "'+te+'", "^" must be followed by a floating-point number');Ye*=Rt}be.units.push({unit:Je.unit,prefix:Je.prefix,power:Ye});for(var st=0;st<W.length;st++)be.dimensions[st]+=(Je.unit.dimensions[st]||0)*Ye;for(O();T===")";){if(_e.length===0)throw new SyntaxError('Unmatched ")" in "'+x+'" at index '+A.toString());Re/=_e.pop(),I(),O()}if(oe=!1,U("*")?(Q=1,oe=!0):U("/")?(Q=-1,oe=!0):Q=1,Je.unit.base){var Gt=Je.unit.base.key;le.auto[Gt]={unit:Je.unit,prefix:Je.prefix}}}if(O(),T)throw new SyntaxError('Could not parse: "'+te+'"');if(oe)throw new SyntaxError('Trailing characters: "'+te+'"');if(_e.length!==0)throw new SyntaxError('Unmatched "(" in "'+x+'"');if(be.units.length===0&&!ce.allowNoUnits)throw new SyntaxError('"'+te+'" contains no units');return be.value=ye!==void 0?be._normalize(ye):null,be},S.prototype.clone=function(){var te=new S;te.fixPrefix=this.fixPrefix,te.skipAutomaticSimplification=this.skipAutomaticSimplification,te.value=Ct(this.value),te.dimensions=this.dimensions.slice(0),te.units=[];for(var ce=0;ce<this.units.length;ce++){te.units[ce]={};for(var be in this.units[ce])ut(this.units[ce],be)&&(te.units[ce][be]=this.units[ce][be])}return te},S.prototype.valueType=function(){return Dr(this.value)},S.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},S.prototype._normalize=function(te){if(te==null||this.units.length===0)return te;for(var ce=te,be=S._getNumberConverter(Dr(te)),Q=0;Q<this.units.length;Q++){var oe=be(this.units[Q].unit.value),de=be(this.units[Q].prefix.value),ye=be(this.units[Q].power);ce=a(ce,s(a(oe,de),ye))}return ce},S.prototype._denormalize=function(te,ce){if(te==null||this.units.length===0)return te;for(var be=te,Q=S._getNumberConverter(Dr(te)),oe=0;oe<this.units.length;oe++){var de=Q(this.units[oe].unit.value),ye=Q(this.units[oe].prefix.value),_e=Q(this.units[oe].power);be=o(be,s(a(de,ye),_e))}return be};var k=Ig(te=>{if(ut(J,te)){var ce=J[te],be=ce.prefixes[""];return{unit:ce,prefix:be}}for(var Q in J)if(ut(J,Q)&&jTe(te,Q)){var oe=J[Q],de=te.length-Q.length,ye=te.substring(0,de),_e=ut(oe.prefixes,ye)?oe.prefixes[ye]:void 0;if(_e!==void 0)return{unit:oe,prefix:_e}}return null},{hasher:te=>te[0],limit:100});S.isValuelessUnit=function(te){return k(te)!==null},S.prototype.hasBase=function(te){if(typeof te=="string"&&(te=K[te]),!te)return!1;for(var ce=0;ce<W.length;ce++)if(Math.abs((this.dimensions[ce]||0)-(te.dimensions[ce]||0))>1e-12)return!1;return!0},S.prototype.equalBase=function(te){for(var ce=0;ce<W.length;ce++)if(Math.abs((this.dimensions[ce]||0)-(te.dimensions[ce]||0))>1e-12)return!1;return!0},S.prototype.equals=function(te){return this.equalBase(te)&&d(this.value,te.value)},S.prototype.multiply=function(te){for(var ce=this.clone(),be=_a(te)?te:new S(te),Q=0;Q<W.length;Q++)ce.dimensions[Q]=(this.dimensions[Q]||0)+(be.dimensions[Q]||0);for(var oe=0;oe<be.units.length;oe++){var de=m2({},be.units[oe]);ce.units.push(de)}if(this.value!==null||be.value!==null){var ye=this.value===null?this._normalize(Y(be.value)):this.value,_e=be.value===null?be._normalize(Y(this.value)):be.value;ce.value=a(ye,_e)}else ce.value=null;return _a(te)&&(ce.skipAutomaticSimplification=!1),V(ce)},S.prototype.divideInto=function(te){return new S(te).divide(this)},S.prototype.divide=function(te){for(var ce=this.clone(),be=_a(te)?te:new S(te),Q=0;Q<W.length;Q++)ce.dimensions[Q]=(this.dimensions[Q]||0)-(be.dimensions[Q]||0);for(var oe=0;oe<be.units.length;oe++){var de=m2(m2({},be.units[oe]),{},{power:-be.units[oe].power});ce.units.push(de)}if(this.value!==null||be.value!==null){var ye=this.value===null?this._normalize(Y(be.value)):this.value,_e=be.value===null?be._normalize(Y(this.value)):be.value;ce.value=o(ye,_e)}else ce.value=null;return _a(te)&&(ce.skipAutomaticSimplification=!1),V(ce)},S.prototype.pow=function(te){for(var ce=this.clone(),be=0;be<W.length;be++)ce.dimensions[be]=(this.dimensions[be]||0)*te;for(var Q=0;Q<ce.units.length;Q++)ce.units[Q].power*=te;return ce.value!==null?ce.value=s(ce.value,te):ce.value=null,ce.skipAutomaticSimplification=!1,V(ce)};function V(te){return te.equalBase(K.NONE)&&te.value!==null&&!r.predictable?te.value:te}function Y(te){var ce=S._getNumberConverter(Dr(te));return ce(1)}S.prototype.abs=function(){var te=this.clone();if(te.value!==null)if(te._isDerived()||te.units.length===0||te.units[0].unit.offset===0)te.value=l(te.value);else{var ce=te._numberConverter(),be=ce(te.units[0].unit.value),Q=ce(te.units[0].unit.offset),oe=a(be,Q);te.value=i(l(n(te.value,oe)),oe)}for(var de in te.units)(te.units[de].unit.name==="VA"||te.units[de].unit.name==="VAR")&&(te.units[de].unit=J.W);return te},S.prototype.to=function(te){var ce=this.value===null?this._normalize(1):this.value,be;if(typeof te=="string")be=S.parse(te);else if(_a(te))be=te.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(be))throw new Error("Units do not match ('".concat(be.toString(),"' != '").concat(this.toString(),"')"));if(be.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||be.units.length===0||this.units[0].unit.offset===be.units[0].unit.offset)be.value=Ct(ce);else{var Q=S._getNumberConverter(Dr(ce)),oe=this.units[0].unit.value,de=this.units[0].unit.offset,ye=a(oe,de),_e=be.units[0].unit.value,Re=be.units[0].unit.offset,qe=a(_e,Re);be.value=n(ce,Q(i(ye,qe)))}return be.fixPrefix=!0,be.skipAutomaticSimplification=!0,be},S.prototype.toNumber=function(te){return _(this.toNumeric(te))},S.prototype.toNumeric=function(te){var ce;return te?ce=this.to(te):ce=this.clone(),ce._isDerived()||ce.units.length===0?ce._denormalize(ce.value):ce._denormalize(ce.value,ce.units[0].prefix.value)},S.prototype.toString=function(){return this.format()},S.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},S.fromJSON=function(te){var ce,be=new S(te.value,(ce=te.unit)!==null&&ce!==void 0?ce:void 0);return be.fixPrefix=te.fixPrefix||!1,be},S.prototype.valueOf=S.prototype.toString,S.prototype.simplify=function(){var te=this.clone(),ce=[],be;for(var Q in ie)if(ut(ie,Q)&&te.hasBase(K[Q])){be=Q;break}if(be==="NONE")te.units=[];else{var oe;if(be&&ut(ie,be)&&(oe=ie[be]),oe)te.units=[{unit:oe.unit,prefix:oe.prefix,power:1}];else{for(var de=!1,ye=0;ye<W.length;ye++){var _e=W[ye];Math.abs(te.dimensions[ye]||0)>1e-12&&(ut(ie,_e)?ce.push({unit:ie[_e].unit,prefix:ie[_e].prefix,power:te.dimensions[ye]||0}):de=!0)}ce.length<te.units.length&&!de&&(te.units=ce)}}return te},S.prototype.toSI=function(){for(var te=this.clone(),ce=[],be=0;be<W.length;be++){var Q=W[be];if(Math.abs(te.dimensions[be]||0)>1e-12)if(ut(le.si,Q))ce.push({unit:le.si[Q].unit,prefix:le.si[Q].prefix,power:te.dimensions[be]||0});else throw new Error("Cannot express custom unit "+Q+" in SI units")}return te.units=ce,te.fixPrefix=!0,te.skipAutomaticSimplification=!0,this.value!==null?(te.value=null,this.to(te)):te},S.prototype.formatUnits=function(){for(var te="",ce="",be=0,Q=0,oe=0;oe<this.units.length;oe++)this.units[oe].power>0?(be++,te+=" "+this.units[oe].prefix.name+this.units[oe].unit.name,Math.abs(this.units[oe].power-1)>1e-15&&(te+="^"+this.units[oe].power)):this.units[oe].power<0&&Q++;if(Q>0)for(var de=0;de<this.units.length;de++)this.units[de].power<0&&(be>0?(ce+=" "+this.units[de].prefix.name+this.units[de].unit.name,Math.abs(this.units[de].power+1)>1e-15&&(ce+="^"+-this.units[de].power)):(ce+=" "+this.units[de].prefix.name+this.units[de].unit.name,ce+="^"+this.units[de].power));te=te.substr(1),ce=ce.substr(1),be>1&&Q>0&&(te="("+te+")"),Q>1&&be>0&&(ce="("+ce+")");var ye=te;return be>0&&Q>0&&(ye+=" / "),ye+=ce,ye},S.prototype.toBest=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(te&&!Array.isArray(te))throw new Error("Invalid unit type. Expected string or Unit.");var be=this.units[0].unit.prefixes;if(te&&te.length>0){var Q=te.map(ye=>{var _e=null;if(typeof ye=="string"){if(_e=S.parse(ye),!_e)throw new Error("Invalid unit type. Expected compatible string or Unit.")}else if(!_a(ye))throw new Error("Invalid unit type. Expected compatible string or Unit.");_e===null&&(_e=ye.clone());try{return this.to(_e.formatUnits()),_e}catch{throw new Error("Invalid unit type. Expected compatible string or Unit.")}}),oe=Q.map(ye=>ye.units[0].prefix);this.units[0].unit.prefixes=oe.reduce((ye,_e)=>(ye[_e.name]=_e,ye),{}),this.units[0].prefix=oe[0]}var de=H(this,ce).simp;return this.units[0].unit.prefixes=be,de.fixPrefix=!0,de},S.prototype.format=function(te){var{simp:ce,valueStr:be,unitStr:Q}=H(this,te),oe=be;return ce.value&&wu(ce.value)&&(oe="("+oe+")"),Q.length>0&&oe.length>0&&(oe+=" "),oe+=Q,oe};function H(te){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be=te.skipAutomaticSimplification||te.value===null?te.clone():te.simplify();j(be),Z(be,ce.offset);var Q=be._denormalize(be.value),oe=be.value!==null?m(Q,ce||{}):"",de=be.formatUnits();return{simp:be,valueStr:oe,unitStr:de}}function j(te){var ce=!1;typeof te.value<"u"&&te.value!==null&&wu(te.value)&&(ce=Math.abs(te.value.re)<1e-14);for(var be in te.units)ut(te.units,be)&&te.units[be].unit&&(te.units[be].unit.name==="VA"&&ce?te.units[be].unit=J.VAR:te.units[be].unit.name==="VAR"&&!ce&&(te.units[be].unit=J.VA))}function Z(te,ce){te.units.length===1&&!te.fixPrefix&&Math.abs(te.units[0].power-Math.round(te.units[0].power))<1e-14&&(te.units[0].prefix=te._bestPrefix(ce))}S.prototype._bestPrefix=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1.2;if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var ce=this.value!==null?l(this.value):0,be=l(this.units[0].unit.value),Q=this.units[0].prefix;if(ce===0)return Q;var oe=this.units[0].power,de=Math.log(ce/Math.pow(Q.value*be,oe))/Math.LN10-te;if(de>-2.200001&&de<1.800001)return Q;de=Math.abs(de);var ye=this.units[0].unit.prefixes;for(var _e in ye)if(ut(ye,_e)){var Re=ye[_e];if(Re.scientific){var qe=Math.abs(Math.log(ce/Math.pow(Re.value*be,oe))/Math.LN10-te);(qe<de||qe===de&&Re.name.length<Q.name.length)&&(Q=Re,de=qe)}}return Q},S.prototype.splitUnit=function(te){for(var ce=this.clone(),be=[],Q=0;Q<te.length&&(ce=ce.to(te[Q]),Q!==te.length-1);Q++){var oe=ce.toNumeric(),de=f(oe),ye=void 0,_e=d(de,oe);_e?ye=de:ye=u(ce.toNumeric());var Re=new S(ye,te[Q].toString());be.push(Re),ce=i(ce,Re)}for(var qe=0,Qe=0;Qe<be.length;Qe++)qe=n(qe,be[Qe].value);return d(qe,this.value)&&(ce.value=0),be.push(ce),be};var $={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};$.SHORTLONG=Fn({},$.SHORT,$.LONG),$.BINARY_SHORT=Fn({},$.BINARY_SHORT_SI,$.BINARY_SHORT_IEC),$.BINARY_LONG=Fn({},$.BINARY_LONG_SI,$.BINARY_LONG_IEC);var W=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],K={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ge in K)ut(K,ge)&&(K[ge].key=ge);var me={},Ee={name:"",base:me,value:1,offset:0,dimensions:W.map(te=>0)},J={meter:{name:"meter",base:K.LENGTH,prefixes:$.LONG,value:1,offset:0},inch:{name:"inch",base:K.LENGTH,prefixes:$.NONE,value:.0254,offset:0},foot:{name:"foot",base:K.LENGTH,prefixes:$.NONE,value:.3048,offset:0},yard:{name:"yard",base:K.LENGTH,prefixes:$.NONE,value:.9144,offset:0},mile:{name:"mile",base:K.LENGTH,prefixes:$.NONE,value:1609.344,offset:0},link:{name:"link",base:K.LENGTH,prefixes:$.NONE,value:.201168,offset:0},rod:{name:"rod",base:K.LENGTH,prefixes:$.NONE,value:5.0292,offset:0},chain:{name:"chain",base:K.LENGTH,prefixes:$.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:K.LENGTH,prefixes:$.NONE,value:1e-10,offset:0},m:{name:"m",base:K.LENGTH,prefixes:$.SHORT,value:1,offset:0},in:{name:"in",base:K.LENGTH,prefixes:$.NONE,value:.0254,offset:0},ft:{name:"ft",base:K.LENGTH,prefixes:$.NONE,value:.3048,offset:0},yd:{name:"yd",base:K.LENGTH,prefixes:$.NONE,value:.9144,offset:0},mi:{name:"mi",base:K.LENGTH,prefixes:$.NONE,value:1609.344,offset:0},li:{name:"li",base:K.LENGTH,prefixes:$.NONE,value:.201168,offset:0},rd:{name:"rd",base:K.LENGTH,prefixes:$.NONE,value:5.02921,offset:0},ch:{name:"ch",base:K.LENGTH,prefixes:$.NONE,value:20.1168,offset:0},mil:{name:"mil",base:K.LENGTH,prefixes:$.NONE,value:254e-7,offset:0},m2:{name:"m2",base:K.SURFACE,prefixes:$.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:K.SURFACE,prefixes:$.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:K.SURFACE,prefixes:$.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:K.SURFACE,prefixes:$.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:K.SURFACE,prefixes:$.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:K.SURFACE,prefixes:$.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:K.SURFACE,prefixes:$.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:K.SURFACE,prefixes:$.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:K.SURFACE,prefixes:$.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:K.SURFACE,prefixes:$.NONE,value:1e4,offset:0},m3:{name:"m3",base:K.VOLUME,prefixes:$.CUBIC,value:1,offset:0},L:{name:"L",base:K.VOLUME,prefixes:$.SHORT,value:.001,offset:0},l:{name:"l",base:K.VOLUME,prefixes:$.SHORT,value:.001,offset:0},litre:{name:"litre",base:K.VOLUME,prefixes:$.LONG,value:.001,offset:0},cuin:{name:"cuin",base:K.VOLUME,prefixes:$.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:K.VOLUME,prefixes:$.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:K.VOLUME,prefixes:$.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:K.VOLUME,prefixes:$.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:K.VOLUME,prefixes:$.NONE,value:15e-6,offset:0},drop:{name:"drop",base:K.VOLUME,prefixes:$.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:K.VOLUME,prefixes:$.NONE,value:5e-8,offset:0},minim:{name:"minim",base:K.VOLUME,prefixes:$.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:K.VOLUME,prefixes:$.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:K.VOLUME,prefixes:$.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:K.VOLUME,prefixes:$.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:K.VOLUME,prefixes:$.NONE,value:1e-6,offset:0},cup:{name:"cup",base:K.VOLUME,prefixes:$.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:K.VOLUME,prefixes:$.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:K.VOLUME,prefixes:$.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:K.VOLUME,prefixes:$.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:K.VOLUME,prefixes:$.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:K.VOLUME,prefixes:$.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:K.VOLUME,prefixes:$.NONE,value:.238480942392,offset:0},g:{name:"g",base:K.MASS,prefixes:$.SHORT,value:.001,offset:0},gram:{name:"gram",base:K.MASS,prefixes:$.LONG,value:.001,offset:0},ton:{name:"ton",base:K.MASS,prefixes:$.SHORT,value:907.18474,offset:0},t:{name:"t",base:K.MASS,prefixes:$.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:K.MASS,prefixes:$.LONG,value:1e3,offset:0},grain:{name:"grain",base:K.MASS,prefixes:$.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:K.MASS,prefixes:$.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:K.MASS,prefixes:$.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:K.MASS,prefixes:$.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:K.MASS,prefixes:$.NONE,value:45.359237,offset:0},stick:{name:"stick",base:K.MASS,prefixes:$.NONE,value:.115,offset:0},stone:{name:"stone",base:K.MASS,prefixes:$.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:K.MASS,prefixes:$.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:K.MASS,prefixes:$.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:K.MASS,prefixes:$.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:K.MASS,prefixes:$.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:K.MASS,prefixes:$.NONE,value:45.359237,offset:0},s:{name:"s",base:K.TIME,prefixes:$.SHORT,value:1,offset:0},min:{name:"min",base:K.TIME,prefixes:$.NONE,value:60,offset:0},h:{name:"h",base:K.TIME,prefixes:$.NONE,value:3600,offset:0},second:{name:"second",base:K.TIME,prefixes:$.LONG,value:1,offset:0},sec:{name:"sec",base:K.TIME,prefixes:$.LONG,value:1,offset:0},minute:{name:"minute",base:K.TIME,prefixes:$.NONE,value:60,offset:0},hour:{name:"hour",base:K.TIME,prefixes:$.NONE,value:3600,offset:0},day:{name:"day",base:K.TIME,prefixes:$.NONE,value:86400,offset:0},week:{name:"week",base:K.TIME,prefixes:$.NONE,value:7*86400,offset:0},month:{name:"month",base:K.TIME,prefixes:$.NONE,value:2629800,offset:0},year:{name:"year",base:K.TIME,prefixes:$.NONE,value:31557600,offset:0},decade:{name:"decade",base:K.TIME,prefixes:$.NONE,value:315576e3,offset:0},century:{name:"century",base:K.TIME,prefixes:$.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:K.TIME,prefixes:$.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:K.FREQUENCY,prefixes:$.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:K.FREQUENCY,prefixes:$.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:K.ANGLE,prefixes:$.SHORT,value:1,offset:0},radian:{name:"radian",base:K.ANGLE,prefixes:$.LONG,value:1,offset:0},deg:{name:"deg",base:K.ANGLE,prefixes:$.SHORT,value:null,offset:0},degree:{name:"degree",base:K.ANGLE,prefixes:$.LONG,value:null,offset:0},grad:{name:"grad",base:K.ANGLE,prefixes:$.SHORT,value:null,offset:0},gradian:{name:"gradian",base:K.ANGLE,prefixes:$.LONG,value:null,offset:0},cycle:{name:"cycle",base:K.ANGLE,prefixes:$.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:K.ANGLE,prefixes:$.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:K.ANGLE,prefixes:$.NONE,value:null,offset:0},A:{name:"A",base:K.CURRENT,prefixes:$.SHORT,value:1,offset:0},ampere:{name:"ampere",base:K.CURRENT,prefixes:$.LONG,value:1,offset:0},K:{name:"K",base:K.TEMPERATURE,prefixes:$.SHORT,value:1,offset:0},degC:{name:"degC",base:K.TEMPERATURE,prefixes:$.SHORT,value:1,offset:273.15},degF:{name:"degF",base:K.TEMPERATURE,prefixes:$.SHORT,value:new N(5,9),offset:459.67},degR:{name:"degR",base:K.TEMPERATURE,prefixes:$.SHORT,value:new N(5,9),offset:0},kelvin:{name:"kelvin",base:K.TEMPERATURE,prefixes:$.LONG,value:1,offset:0},celsius:{name:"celsius",base:K.TEMPERATURE,prefixes:$.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:K.TEMPERATURE,prefixes:$.LONG,value:new N(5,9),offset:459.67},rankine:{name:"rankine",base:K.TEMPERATURE,prefixes:$.LONG,value:new N(5,9),offset:0},mol:{name:"mol",base:K.AMOUNT_OF_SUBSTANCE,prefixes:$.SHORT,value:1,offset:0},mole:{name:"mole",base:K.AMOUNT_OF_SUBSTANCE,prefixes:$.LONG,value:1,offset:0},cd:{name:"cd",base:K.LUMINOUS_INTENSITY,prefixes:$.SHORT,value:1,offset:0},candela:{name:"candela",base:K.LUMINOUS_INTENSITY,prefixes:$.LONG,value:1,offset:0},N:{name:"N",base:K.FORCE,prefixes:$.SHORT,value:1,offset:0},newton:{name:"newton",base:K.FORCE,prefixes:$.LONG,value:1,offset:0},dyn:{name:"dyn",base:K.FORCE,prefixes:$.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:K.FORCE,prefixes:$.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:K.FORCE,prefixes:$.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:K.FORCE,prefixes:$.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:K.FORCE,prefixes:$.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:K.FORCE,prefixes:$.NONE,value:9.80665,offset:0},J:{name:"J",base:K.ENERGY,prefixes:$.SHORT,value:1,offset:0},joule:{name:"joule",base:K.ENERGY,prefixes:$.LONG,value:1,offset:0},erg:{name:"erg",base:K.ENERGY,prefixes:$.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:K.ENERGY,prefixes:$.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:K.ENERGY,prefixes:$.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:K.ENERGY,prefixes:$.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:K.ENERGY,prefixes:$.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:K.POWER,prefixes:$.SHORT,value:1,offset:0},watt:{name:"watt",base:K.POWER,prefixes:$.LONG,value:1,offset:0},hp:{name:"hp",base:K.POWER,prefixes:$.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:K.POWER,prefixes:$.SHORT,value:b.I,offset:0},VA:{name:"VA",base:K.POWER,prefixes:$.SHORT,value:1,offset:0},Pa:{name:"Pa",base:K.PRESSURE,prefixes:$.SHORT,value:1,offset:0},psi:{name:"psi",base:K.PRESSURE,prefixes:$.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:K.PRESSURE,prefixes:$.NONE,value:101325,offset:0},bar:{name:"bar",base:K.PRESSURE,prefixes:$.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:K.PRESSURE,prefixes:$.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:K.PRESSURE,prefixes:$.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:K.PRESSURE,prefixes:$.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:K.PRESSURE,prefixes:$.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:K.ELECTRIC_CHARGE,prefixes:$.LONG,value:1,offset:0},C:{name:"C",base:K.ELECTRIC_CHARGE,prefixes:$.SHORT,value:1,offset:0},farad:{name:"farad",base:K.ELECTRIC_CAPACITANCE,prefixes:$.LONG,value:1,offset:0},F:{name:"F",base:K.ELECTRIC_CAPACITANCE,prefixes:$.SHORT,value:1,offset:0},volt:{name:"volt",base:K.ELECTRIC_POTENTIAL,prefixes:$.LONG,value:1,offset:0},V:{name:"V",base:K.ELECTRIC_POTENTIAL,prefixes:$.SHORT,value:1,offset:0},ohm:{name:"ohm",base:K.ELECTRIC_RESISTANCE,prefixes:$.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:K.ELECTRIC_INDUCTANCE,prefixes:$.LONG,value:1,offset:0},H:{name:"H",base:K.ELECTRIC_INDUCTANCE,prefixes:$.SHORT,value:1,offset:0},siemens:{name:"siemens",base:K.ELECTRIC_CONDUCTANCE,prefixes:$.LONG,value:1,offset:0},S:{name:"S",base:K.ELECTRIC_CONDUCTANCE,prefixes:$.SHORT,value:1,offset:0},weber:{name:"weber",base:K.MAGNETIC_FLUX,prefixes:$.LONG,value:1,offset:0},Wb:{name:"Wb",base:K.MAGNETIC_FLUX,prefixes:$.SHORT,value:1,offset:0},tesla:{name:"tesla",base:K.MAGNETIC_FLUX_DENSITY,prefixes:$.LONG,value:1,offset:0},T:{name:"T",base:K.MAGNETIC_FLUX_DENSITY,prefixes:$.SHORT,value:1,offset:0},b:{name:"b",base:K.BIT,prefixes:$.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:K.BIT,prefixes:$.BINARY_LONG,value:1,offset:0},B:{name:"B",base:K.BIT,prefixes:$.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:K.BIT,prefixes:$.BINARY_LONG,value:8,offset:0}},ee={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ue(te){if(te.number==="BigNumber"){var ce=dI(E);J.rad.value=new E(1),J.deg.value=ce.div(180),J.grad.value=ce.div(200),J.cycle.value=ce.times(2),J.arcsec.value=ce.div(648e3),J.arcmin.value=ce.div(10800)}else J.rad.value=1,J.deg.value=Math.PI/180,J.grad.value=Math.PI/200,J.cycle.value=Math.PI*2,J.arcsec.value=Math.PI/648e3,J.arcmin.value=Math.PI/10800;J.radian.value=J.rad.value,J.degree.value=J.deg.value,J.gradian.value=J.grad.value}ue(r),e&&e("config",function(te,ce){te.number!==ce.number&&ue(te)});var le={si:{NONE:{unit:Ee,prefix:$.NONE[""]},LENGTH:{unit:J.m,prefix:$.SHORT[""]},MASS:{unit:J.g,prefix:$.SHORT.k},TIME:{unit:J.s,prefix:$.SHORT[""]},CURRENT:{unit:J.A,prefix:$.SHORT[""]},TEMPERATURE:{unit:J.K,prefix:$.SHORT[""]},LUMINOUS_INTENSITY:{unit:J.cd,prefix:$.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:J.mol,prefix:$.SHORT[""]},ANGLE:{unit:J.rad,prefix:$.SHORT[""]},BIT:{unit:J.bits,prefix:$.SHORT[""]},FORCE:{unit:J.N,prefix:$.SHORT[""]},ENERGY:{unit:J.J,prefix:$.SHORT[""]},POWER:{unit:J.W,prefix:$.SHORT[""]},PRESSURE:{unit:J.Pa,prefix:$.SHORT[""]},ELECTRIC_CHARGE:{unit:J.C,prefix:$.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:J.F,prefix:$.SHORT[""]},ELECTRIC_POTENTIAL:{unit:J.V,prefix:$.SHORT[""]},ELECTRIC_RESISTANCE:{unit:J.ohm,prefix:$.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:J.H,prefix:$.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:J.S,prefix:$.SHORT[""]},MAGNETIC_FLUX:{unit:J.Wb,prefix:$.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:J.T,prefix:$.SHORT[""]},FREQUENCY:{unit:J.Hz,prefix:$.SHORT[""]}}};le.cgs=JSON.parse(JSON.stringify(le.si)),le.cgs.LENGTH={unit:J.m,prefix:$.SHORT.c},le.cgs.MASS={unit:J.g,prefix:$.SHORT[""]},le.cgs.FORCE={unit:J.dyn,prefix:$.SHORT[""]},le.cgs.ENERGY={unit:J.erg,prefix:$.NONE[""]},le.us=JSON.parse(JSON.stringify(le.si)),le.us.LENGTH={unit:J.ft,prefix:$.NONE[""]},le.us.MASS={unit:J.lbm,prefix:$.NONE[""]},le.us.TEMPERATURE={unit:J.degF,prefix:$.NONE[""]},le.us.FORCE={unit:J.lbf,prefix:$.NONE[""]},le.us.ENERGY={unit:J.BTU,prefix:$.BTU[""]},le.us.POWER={unit:J.hp,prefix:$.NONE[""]},le.us.PRESSURE={unit:J.psi,prefix:$.NONE[""]},le.auto=JSON.parse(JSON.stringify(le.si));var ie=le.auto;S.setUnitSystem=function(te){if(ut(le,te))ie=le[te];else throw new Error("Unit system "+te+" does not exist. Choices are: "+Object.keys(le).join(", "))},S.getUnitSystem=function(){for(var te in le)if(ut(le,te)&&le[te]===ie)return te},S.typeConverters={BigNumber:function(ce){return ce!=null&&ce.isFraction?new E(String(ce.n)).div(String(ce.d)).times(String(ce.s)):new E(ce+"")},Fraction:function(ce){return new N(ce)},Complex:function(ce){return ce},number:function(ce){return ce!=null&&ce.isFraction?g(ce):ce}},S.prototype._numberConverter=function(){var te=S.typeConverters[this.valueType()];if(te)return te;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},S._getNumberConverter=function(te){if(!S.typeConverters[te])throw new TypeError('Unsupported type "'+te+'"');return S.typeConverters[te]};for(var Te in J)if(ut(J,Te)){var he=J[Te];he.dimensions=he.base.dimensions}for(var Ce in ee)if(ut(ee,Ce)){var je=J[ee[Ce]],We={};for(var xe in je)ut(je,xe)&&(We[xe]=je[xe]);We.name=Ce,J[Ce]=We}S.isValidAlpha=function(ce){return/^[a-zA-Z]$/.test(ce)};function ze(te){for(var ce=0;ce<te.length;ce++){if(T=te.charAt(ce),ce===0&&!S.isValidAlpha(T))throw new Error('Invalid unit name (must begin with alpha character): "'+te+'"');if(ce>0&&!(S.isValidAlpha(T)||R(T)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+te+'"')}}return S.createUnit=function(te,ce){if(typeof te!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(ce&&ce.override){for(var be in te)if(ut(te,be)&&S.deleteUnit(be),te[be].aliases)for(var Q=0;Q<te[be].aliases.length;Q++)S.deleteUnit(te[be].aliases[Q])}var oe;for(var de in te)ut(te,de)&&(oe=S.createUnitSingle(de,te[de]));return oe},S.createUnitSingle=function(te,ce){if((typeof ce>"u"||ce===null)&&(ce={}),typeof te!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(ut(J,te))throw new Error('Cannot create unit "'+te+'": a unit with that name already exists');ze(te);var be=null,Q=[],oe=0,de,ye,_e;if(ce&&ce.type==="Unit")be=ce.clone();else if(typeof ce=="string")ce!==""&&(de=ce);else if(typeof ce=="object")de=ce.definition,ye=ce.prefixes,oe=ce.offset,_e=ce.baseName,ce.aliases&&(Q=ce.aliases.valueOf());else throw new TypeError('Cannot create unit "'+te+'" from "'+ce.toString()+'": expecting "string" or "Unit" or "Object"');if(Q){for(var Re=0;Re<Q.length;Re++)if(ut(J,Q[Re]))throw new Error('Cannot create alias "'+Q[Re]+'": a unit with that name already exists')}if(de&&typeof de=="string"&&!be)try{be=S.parse(de,{allowNoUnits:!0})}catch(xr){throw xr.message='Could not create unit "'+te+'" from "'+de+'": '+xr.message,xr}else de&&de.type==="Unit"&&(be=de.clone());Q=Q||[],oe=oe||0,ye&&ye.toUpperCase?ye=$[ye.toUpperCase()]||$.NONE:ye=$.NONE;var qe={};if(be){qe={name:te,value:be.value,dimensions:be.dimensions.slice(0),prefixes:ye,offset:oe};var Rt=!1;for(var st in K)if(ut(K,st)){for(var Gt=!0,q=0;q<W.length;q++)if(Math.abs((qe.dimensions[q]||0)-(K[st].dimensions[q]||0))>1e-12){Gt=!1;break}if(Gt){Rt=!0,qe.base=K[st];break}}if(!Rt){_e=_e||te+"_STUFF";var pe={dimensions:be.dimensions.slice(0)};pe.key=_e,K[_e]=pe,ie[_e]={unit:qe,prefix:$.NONE[""]},qe.base=K[_e]}}else{if(_e=_e||te+"_STUFF",W.indexOf(_e)>=0)throw new Error('Cannot create new base unit "'+te+'": a base unit with that name already exists (and cannot be overridden)');W.push(_e);for(var Qe in K)ut(K,Qe)&&(K[Qe].dimensions[W.length-1]=0);for(var Je={dimensions:[]},Ye=0;Ye<W.length;Ye++)Je.dimensions[Ye]=0;Je.dimensions[W.length-1]=1,Je.key=_e,K[_e]=Je,qe={name:te,value:1,dimensions:K[_e].dimensions.slice(0),prefixes:ye,offset:oe,base:K[_e]},ie[_e]={unit:qe,prefix:$.NONE[""]}}S.UNITS[te]=qe;for(var Ie=0;Ie<Q.length;Ie++){var He=Q[Ie],ht={};for(var dt in qe)ut(qe,dt)&&(ht[dt]=qe[dt]);ht.name=He,S.UNITS[He]=ht}return delete k.cache,new S(null,te)},S.deleteUnit=function(te){delete S.UNITS[te],delete k.cache},S.PREFIXES=$,S.BASE_DIMENSIONS=W,S.BASE_UNITS=K,S.UNIT_SYSTEMS=le,S.UNITS=J,S},{isClass:!0}),_U="unit",$Ie=["typed","Unit"],LIe=ne(_U,$Ie,t=>{var{typed:e,Unit:r}=t;return e(_U,{Unit:function(i){return i.clone()},string:function(i){return r.isValuelessUnit(i)?new r(null,i):r.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new r(i,a)},"number | BigNumber | Fraction":function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>kt(i,n))})}),xU="sparse",qIe=["typed","SparseMatrix"],UIe=ne(xU,qIe,t=>{var{typed:e,SparseMatrix:r}=t;return e(xU,{"":function(){return new r([])},string:function(i){return new r([],i)},"Array | Matrix":function(i){return new r(i)},"Array | Matrix, string":function(i,a){return new r(i,a)}})}),AU="createUnit",jIe=["typed","Unit"],zIe=ne(AU,jIe,t=>{var{typed:e,Unit:r}=t;return e(AU,{"Object, Object":function(i,a){return r.createUnit(i,a)},Object:function(i){return r.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var s={};return s[i]=a,r.createUnit(s,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,r.createUnit(o,{})},string:function(i){var a={};return a[i]={},r.createUnit(a,{})}})}),EU="acos",VIe=["typed","config","Complex"],HIe=ne(EU,VIe,t=>{var{typed:e,config:r,Complex:n}=t;return e(EU,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})}),SU="acosh",GIe=["typed","config","Complex"],KIe=ne(SU,GIe,t=>{var{typed:e,config:r,Complex:n}=t;return e(SU,{number:function(a){return a>=1||r.predictable?nY(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})}),TU="acot",XIe=["typed","BigNumber"],WIe=ne(TU,XIe,t=>{var{typed:e,BigNumber:r}=t;return e(TU,{number:iY,Complex:function(i){return i.acot()},BigNumber:function(i){return new r(1).div(i).atan()}})}),DU="acoth",YIe=["typed","config","Complex","BigNumber"],QIe=ne(DU,YIe,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(DU,{number:function(o){return o>=1||o<=-1||r.predictable?aY(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})}),NU="acsc",ZIe=["typed","config","Complex","BigNumber"],JIe=ne(NU,ZIe,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(NU,{number:function(o){return o<=-1||o>=1||r.predictable?oY(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})}),CU="acsch",eRe=["typed","BigNumber"],tRe=ne(CU,eRe,t=>{var{typed:e,BigNumber:r}=t;return e(CU,{number:sY,Complex:function(i){return i.acsch()},BigNumber:function(i){return new r(1).div(i).asinh()}})}),OU="asec",rRe=["typed","config","Complex","BigNumber"],nRe=ne(OU,rRe,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(OU,{number:function(o){return o<=-1||o>=1||r.predictable?uY(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})}),MU="asech",iRe=["typed","config","Complex","BigNumber"],aRe=ne(MU,iRe,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(MU,{number:function(o){if(o<=1&&o>=-1||r.predictable){var s=1/o;if(s>0||r.predictable)return lY(o);var l=Math.sqrt(s*s-1);return new n(Math.log(l-s),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})}),IU="asin",oRe=["typed","config","Complex"],sRe=ne(IU,oRe,t=>{var{typed:e,config:r,Complex:n}=t;return e(IU,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})}),uRe="asinh",lRe=["typed"],cRe=ne(uRe,lRe,t=>{var{typed:e}=t;return e("asinh",{number:cY,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})}),fRe="atan",hRe=["typed"],dRe=ne(fRe,hRe,t=>{var{typed:e}=t;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})}),RU="atan2",pRe=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],mRe=ne(RU,pRe,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=t,s=qo({typed:e,equalScalar:n}),l=Hi({typed:e}),u=EY({typed:e,equalScalar:n}),f=gi({typed:e,equalScalar:n}),d=jn({typed:e,DenseMatrix:a}),p=Br({typed:e,matrix:r,concat:o});return e(RU,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,y)=>i.atan2(m,y)},p({scalar:"number | BigNumber",SS:u,DS:l,SD:s,Ss:f,sS:d}))}),PU="atanh",vRe=["typed","config","Complex"],gRe=ne(PU,vRe,t=>{var{typed:e,config:r,Complex:n}=t;return e(PU,{number:function(a){return a<=1&&a>=-1||r.predictable?fY(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})}),yp=ne("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,n.valueType())(n.value)})}}),BU="cos",yRe=["typed"],bRe=ne(BU,yRe,t=>{var{typed:e}=t,r=yp({typed:e});return e(BU,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)}),FU="cosh",wRe=["typed"],_Re=ne(FU,wRe,t=>{var{typed:e}=t;return e(FU,{number:pSe,"Complex | BigNumber":r=>r.cosh()})}),kU="cot",xRe=["typed","BigNumber"],ARe=ne(kU,xRe,t=>{var{typed:e,BigNumber:r}=t,n=yp({typed:e});return e(kU,{number:hY,Complex:i=>i.cot(),BigNumber:i=>new r(1).div(i.tan())},n)}),$U="coth",ERe=["typed","BigNumber"],SRe=ne($U,ERe,t=>{var{typed:e,BigNumber:r}=t;return e($U,{number:dY,Complex:n=>n.coth(),BigNumber:n=>new r(1).div(n.tanh())})}),LU="csc",TRe=["typed","BigNumber"],DRe=ne(LU,TRe,t=>{var{typed:e,BigNumber:r}=t,n=yp({typed:e});return e(LU,{number:pY,Complex:i=>i.csc(),BigNumber:i=>new r(1).div(i.sin())},n)}),qU="csch",NRe=["typed","BigNumber"],CRe=ne(qU,NRe,t=>{var{typed:e,BigNumber:r}=t;return e(qU,{number:mY,Complex:n=>n.csch(),BigNumber:n=>new r(1).div(n.sinh())})}),UU="sec",ORe=["typed","BigNumber"],MRe=ne(UU,ORe,t=>{var{typed:e,BigNumber:r}=t,n=yp({typed:e});return e(UU,{number:vY,Complex:i=>i.sec(),BigNumber:i=>new r(1).div(i.cos())},n)}),jU="sech",IRe=["typed","BigNumber"],RRe=ne(jU,IRe,t=>{var{typed:e,BigNumber:r}=t;return e(jU,{number:gY,Complex:n=>n.sech(),BigNumber:n=>new r(1).div(n.cosh())})}),zU="sin",PRe=["typed"],BRe=ne(zU,PRe,t=>{var{typed:e}=t,r=yp({typed:e});return e(zU,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)}),VU="sinh",FRe=["typed"],kRe=ne(VU,FRe,t=>{var{typed:e}=t;return e(VU,{number:yY,"Complex | BigNumber":r=>r.sinh()})}),HU="tan",$Re=["typed"],LRe=ne(HU,$Re,t=>{var{typed:e}=t,r=yp({typed:e});return e(HU,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},r)}),qRe="tanh",URe=["typed"],jRe=ne(qRe,URe,t=>{var{typed:e}=t;return e("tanh",{number:vSe,"Complex | BigNumber":r=>r.tanh()})}),GU="setCartesian",zRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],VRe=ne(GU,zRe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(GU,{"Array | Matrix, Array | Matrix":function(l,u){var f=[];if(n(r(l),new a(0))!==0&&n(r(u),new a(0))!==0){var d=or(Array.isArray(l)?l:l.toArray()).sort(i),p=or(Array.isArray(u)?u:u.toArray()).sort(i);f=[];for(var m=0;m<d.length;m++)for(var y=0;y<p.length;y++)f.push([d[m],p[y]])}return Array.isArray(l)&&Array.isArray(u)?f:new o(f)}})}),KU="setDifference",HRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],GRe=ne(KU,HRe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(KU,{"Array | Matrix, Array | Matrix":function(l,u){var f;if(n(r(l),new a(0))===0)f=[];else{if(n(r(u),new a(0))===0)return or(l.toArray());var d=Wd(or(Array.isArray(l)?l:l.toArray()).sort(i)),p=Wd(or(Array.isArray(u)?u:u.toArray()).sort(i));f=[];for(var m,y=0;y<d.length;y++){m=!1;for(var g=0;g<p.length;g++)if(i(d[y].value,p[g].value)===0&&d[y].identifier===p[g].identifier){m=!0;break}m||f.push(d[y])}}return Array.isArray(l)&&Array.isArray(u)?V1(f):new o(V1(f))}})}),XU="setDistinct",KRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],XRe=ne(XU,KRe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(XU,{"Array | Matrix":function(l){var u;if(n(r(l),new a(0))===0)u=[];else{var f=or(Array.isArray(l)?l:l.toArray()).sort(i);u=[],u.push(f[0]);for(var d=1;d<f.length;d++)i(f[d],f[d-1])!==0&&u.push(f[d])}return Array.isArray(l)?u:new o(u)}})}),WU="setIntersect",WRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],YRe=ne(WU,WRe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(WU,{"Array | Matrix, Array | Matrix":function(l,u){var f;if(n(r(l),new a(0))===0||n(r(u),new a(0))===0)f=[];else{var d=Wd(or(Array.isArray(l)?l:l.toArray()).sort(i)),p=Wd(or(Array.isArray(u)?u:u.toArray()).sort(i));f=[];for(var m=0;m<d.length;m++)for(var y=0;y<p.length;y++)if(i(d[m].value,p[y].value)===0&&d[m].identifier===p[y].identifier){f.push(d[m]);break}}return Array.isArray(l)&&Array.isArray(u)?V1(f):new o(V1(f))}})}),YU="setIsSubset",QRe=["typed","size","subset","compareNatural","Index"],ZRe=ne(YU,QRe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(YU,{"Array | Matrix, Array | Matrix":function(s,l){if(n(r(s),new a(0))===0)return!0;if(n(r(l),new a(0))===0)return!1;for(var u=Wd(or(Array.isArray(s)?s:s.toArray()).sort(i)),f=Wd(or(Array.isArray(l)?l:l.toArray()).sort(i)),d,p=0;p<u.length;p++){d=!1;for(var m=0;m<f.length;m++)if(i(u[p].value,f[m].value)===0&&u[p].identifier===f[m].identifier){d=!0;break}if(d===!1)return!1}return!0}})}),QU="setMultiplicity",JRe=["typed","size","subset","compareNatural","Index"],ePe=ne(QU,JRe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(QU,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(s,l){if(n(r(l),new a(0))===0)return 0;for(var u=or(Array.isArray(l)?l:l.toArray()),f=0,d=0;d<u.length;d++)i(u[d],s)===0&&f++;return f}})}),ZU="setPowerset",tPe=["typed","size","subset","compareNatural","Index"],rPe=ne(ZU,tPe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(ZU,{"Array | Matrix":function(u){if(n(r(u),new a(0))===0)return[];for(var f=or(Array.isArray(u)?u:u.toArray()).sort(i),d=[],p=0;p.toString(2).length<=f.length;)d.push(o(f,p.toString(2).split("").reverse())),p++;return s(d)}});function o(l,u){for(var f=[],d=0;d<u.length;d++)u[d]==="1"&&f.push(l[d]);return f}function s(l){for(var u=[],f=l.length-1;f>0;f--)for(var d=0;d<f;d++)l[d].length>l[d+1].length&&(u=l[d],l[d]=l[d+1],l[d+1]=u);return l}}),JU="setSize",nPe=["typed","compareNatural"],iPe=ne(JU,nPe,t=>{var{typed:e,compareNatural:r}=t;return e(JU,{"Array | Matrix":function(i){return Array.isArray(i)?or(i).length:or(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?or(i).length:or(i.toArray()).length;for(var o=or(Array.isArray(i)?i:i.toArray()).sort(r),s=1,l=1;l<o.length;l++)r(o[l],o[l-1])!==0&&s++;return s}})}),ej="setSymDifference",aPe=["typed","size","concat","subset","setDifference","Index"],oPe=ne(ej,aPe,t=>{var{typed:e,size:r,concat:n,subset:i,setDifference:a,Index:o}=t;return e(ej,{"Array | Matrix, Array | Matrix":function(l,u){if(i(r(l),new o(0))===0)return or(u);if(i(r(u),new o(0))===0)return or(l);var f=or(l),d=or(u);return n(a(f,d),a(d,f))}})}),tj="setUnion",sPe=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],uPe=ne(tj,sPe,t=>{var{typed:e,size:r,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:s}=t;return e(tj,{"Array | Matrix, Array | Matrix":function(u,f){if(i(r(u),new s(0))===0)return or(f);if(i(r(f),new s(0))===0)return or(u);var d=or(u),p=or(f);return n(o(d,p),a(d,p))}})}),rj="add",lPe=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],cPe=ne(rj,lPe,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:s}=t,l=Jl({typed:e}),u=sI({typed:e,equalScalar:i}),f=Mf({typed:e,DenseMatrix:a}),d=Br({typed:e,matrix:r,concat:s});return e(rj,{"any, any":n,"any, any, ...any":e.referToSelf(p=>(m,y,g)=>{for(var b=p(m,y),E=0;E<g.length;E++)b=p(b,g[E]);return b})},d({elop:n,DS:l,SS:u,Ss:f}))}),nj="hypot",fPe=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],hPe=ne(nj,fPe,t=>{var{typed:e,abs:r,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:s,isPositive:l}=t;return e(nj,{"... number | BigNumber":u,Array:u,Matrix:f=>u(or(f.toArray(),!0))});function u(f){for(var d=0,p=0,m=0;m<f.length;m++){if(wu(f[m]))throw new TypeError("Unexpected type of argument to hypot");var y=r(f[m]);s(p,y)?(d=a(d,a(i(p,y),i(p,y))),d=n(d,1),p=y):d=n(d,l(y)?a(i(y,p),i(y,p)):y)}return a(p,o(d))}}),ij="norm",dPe=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],pPe=ne(ij,dPe,t=>{var{typed:e,abs:r,add:n,pow:i,conj:a,sqrt:o,multiply:s,equalScalar:l,larger:u,smaller:f,matrix:d,ctranspose:p,eigs:m}=t;return e(ij,{number:Math.abs,Complex:function(O){return O.abs()},BigNumber:function(O){return O.abs()},boolean:function(O){return Math.abs(O)},Array:function(O){return A(d(O),2)},Matrix:function(O){return A(O,2)},"Array, number | BigNumber | string":function(O,C){return A(d(O),C)},"Matrix, number | BigNumber | string":function(O,C){return A(O,C)}});function y(T){var O=0;return T.forEach(function(C){var R=r(C);u(R,O)&&(O=R)},!0),O}function g(T){var O;return T.forEach(function(C){var R=r(C);(!O||f(R,O))&&(O=R)},!0),O||0}function b(T,O){if(O===Number.POSITIVE_INFINITY||O==="inf")return y(T);if(O===Number.NEGATIVE_INFINITY||O==="-inf")return g(T);if(O==="fro")return A(T,2);if(typeof O=="number"&&!isNaN(O)){if(!l(O,0)){var C=0;return T.forEach(function(R){C=n(i(r(R),O),C)},!0),i(C,1/O)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function E(T){var O=0;return T.forEach(function(C,R){O=n(O,s(C,a(C)))}),r(o(O))}function N(T){var O=[],C=0;return T.forEach(function(R,I){var P=I[1],F=n(O[P]||0,r(R));u(F,C)&&(C=F),O[P]=F},!0),C}function _(T){var O=T.size();if(O[0]!==O[1])throw new RangeError("Invalid matrix dimensions");var C=p(T),R=s(C,T),I=m(R).values.toArray(),P=I[I.length-1];return r(o(P))}function S(T){var O=[],C=0;return T.forEach(function(R,I){var P=I[0],F=n(O[P]||0,r(R));u(F,C)&&(C=F),O[P]=F},!0),C}function x(T,O){if(O===1)return N(T);if(O===Number.POSITIVE_INFINITY||O==="inf")return S(T);if(O==="fro")return E(T);if(O===2)return _(T);throw new Error("Unsupported parameter value "+O)}function A(T,O){var C=T.size();if(C.length===1)return b(T,O);if(C.length===2){if(C[0]&&C[1])return x(T,O);throw new RangeError("Invalid matrix dimensions")}}}),aj="dot",mPe=["typed","addScalar","multiplyScalar","conj","size"],vPe=ne(aj,mPe,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:a}=t;return e(aj,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function o(f,d){var p=u(f),m=u(d),y,g;if(p.length===1)y=p[0];else if(p.length===2&&p[1]===1)y=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)g=m[0];else if(m.length===2&&m[1]===1)g=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(y!==g)throw new RangeError("Vectors must have equal length ("+y+" != "+g+")");if(y===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return y}function s(f,d){var p=o(f,d),m=gt(f)?f._data:f,y=gt(f)?f._datatype||f.getDataType():void 0,g=gt(d)?d._data:d,b=gt(d)?d._datatype||d.getDataType():void 0,E=u(f).length===2,N=u(d).length===2,_=r,S=n;if(y&&b&&y===b&&typeof y=="string"&&y!=="mixed"){var x=y;_=e.find(r,[x,x]),S=e.find(n,[x,x])}if(!E&&!N){for(var A=S(i(m[0]),g[0]),T=1;T<p;T++)A=_(A,S(i(m[T]),g[T]));return A}if(!E&&N){for(var O=S(i(m[0]),g[0][0]),C=1;C<p;C++)O=_(O,S(i(m[C]),g[C][0]));return O}if(E&&!N){for(var R=S(i(m[0][0]),g[0]),I=1;I<p;I++)R=_(R,S(i(m[I][0]),g[I]));return R}if(E&&N){for(var P=S(i(m[0][0]),g[0][0]),F=1;F<p;F++)P=_(P,S(i(m[F][0]),g[F][0]));return P}}function l(f,d){o(f,d);for(var p=f._index,m=f._values,y=d._index,g=d._values,b=0,E=r,N=n,_=0,S=0;_<p.length&&S<y.length;){var x=p[_],A=y[S];if(x<A){_++;continue}if(x>A){S++;continue}x===A&&(b=E(b,N(m[_],g[S])),_++,S++)}return b}function u(f){return gt(f)?f.size():a(f)}}),gPe="trace",yPe=["typed","matrix","add"],bPe=ne(gPe,yPe,t=>{var{typed:e,matrix:r,add:n}=t;return e("trace",{Array:function(s){return i(r(s))},SparseMatrix:a,DenseMatrix:i,any:Ct});function i(o){var s=o._size,l=o._data;switch(s.length){case 1:if(s[0]===1)return Ct(l[0]);throw new RangeError("Matrix must be square (size: "+Ut(s)+")");case 2:{var u=s[0],f=s[1];if(u===f){for(var d=0,p=0;p<u;p++)d=n(d,l[p][p]);return d}else throw new RangeError("Matrix must be square (size: "+Ut(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ut(s)+")")}}function a(o){var s=o._values,l=o._index,u=o._ptr,f=o._size,d=f[0],p=f[1];if(d===p){var m=0;if(s.length>0)for(var y=0;y<p;y++)for(var g=u[y],b=u[y+1],E=g;E<b;E++){var N=l[E];if(N===y){m=n(m,s[E]);break}if(N>y)break}return m}throw new RangeError("Matrix must be square (size: "+Ut(f)+")")}}),oj="index",wPe=["typed","Index"],_Pe=ne(oj,wPe,t=>{var{typed:e,Index:r}=t;return e(oj,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(s){return Ft(s)?s.toNumber():Sr(s)||gt(s)?s.map(function(l){return Ft(l)?l.toNumber():l}):s}),o=new r;return r.apply(o,a),o}})}),VY=new Set(["end"]),xPe="Node",APe=["mathWithTransform"],EPe=ne(xPe,APe,t=>{var{mathWithTransform:e}=t;function r(i){for(var a of[...VY])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},s=null;function l(u){var f=ld(u);return r(f),a(f,o,s)}return{evaluate:l}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!wr(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(s,l){s.forEach(function(u,f,d){l(u,f,d),o(u,l)})}o(this,a)}transform(a){function o(s,l,u){var f=a(s,l,u);return f!==s?f:s.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(s,l,u){a(s,l,u)&&o.push(s)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&Ou(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function Gi(t){return t&&t.isIndexError?new ko(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function HY(t){var{subset:e}=t;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Ui(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Gi(a)}}}var M0="AccessorNode",SPe=["subset","Node"],TPe=ne(M0,SPe,t=>{var{subset:e,Node:r}=t,n=HY({subset:e});function i(o){return!(bf(o)||Ja(o)||er(o)||Ul(o)||b_(o)||Cu(o)||ri(o))}class a extends r{constructor(s,l){if(super(),!wr(s))throw new TypeError('Node expected for parameter "object"');if(!dp(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=s,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return M0}get isAccessorNode(){return!0}_compile(s,l){var u=this.object._compile(s,l),f=this.index._compile(s,l);if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(m,y,g){return Ui(u(m,y,g),d)}}else return function(m,y,g){var b=u(m,y,g),E=f(m,y,b);return n(b,E)}}forEach(s){s(this.object,"object",this),s(this.index,"index",this)}map(s){return new a(this._ifNode(s(this.object,"object",this)),this._ifNode(s(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(s){var l=this.object.toString(s);return i(this.object)&&(l="("+l+")"),l+this.index.toString(s)}_toHTML(s){var l=this.object.toHTML(s);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(s)}_toTex(s){var l=this.object.toTex(s);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(s)}toJSON(){return{mathjs:M0,object:this.object,index:this.index}}static fromJSON(s){return new a(s.object,s.index)}}return En(a,"name",M0),a},{isClass:!0,isNode:!0}),I0="ArrayNode",DPe=["Node"],NPe=ne(I0,DPe,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(wr))throw new TypeError("Array containing Nodes expected")}get type(){return I0}get isArrayNode(){return!0}_compile(i,a){var o=Rl(this.items,function(u){return u._compile(i,a)}),s=i.config.matrix!=="Array";if(s){var l=i.matrix;return function(f,d,p){return l(Rl(o,function(m){return m(f,d,p)}))}}else return function(f,d,p){return Rl(o,function(m){return m(f,d,p)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new r(a)}clone(){return new r(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:I0,items:this.items}}static fromJSON(i){return new r(i.items)}_toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,s){var l=o.some(Ja)&&!o.every(Ja),u=s||l,f=u?"&":"\\\\",d=o.map(function(p){return p.items?a(p.items,!s):p.toTex(i)}).join(f);return l||!u||u&&!s?"\\begin{bmatrix}"+d+"\\end{bmatrix}":d}return a(this.items,!1)}}return En(r,"name",I0),r},{isClass:!0,isNode:!0});function CPe(t){var{subset:e,matrix:r}=t;return function(i,a,o){try{if(Array.isArray(i)){var s=r(i).subset(a,o).valueOf();return s.forEach((l,u)=>{i[u]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Hd(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw Gi(l)}}}var Do=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function R0(t,e){if(!e||e!=="auto")return t;for(var r=t;Cu(r);)r=r.content;return r}function Tr(t,e,r,n){var i=t;e!=="keep"&&(i=t.getContent());for(var a=i.getIdentifier(),o=null,s=0;s<Do.length;s++)if(a in Do[s]){o=s;break}if(a==="OperatorNode:multiply"&&i.implicit&&r!=="show"){var l=R0(i.args[0],e);!(er(l)&&n&&n.getIdentifier()==="OperatorNode:divide"&&wC(R0(n.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&wC(R0(l.args[0],e))&&er(R0(l.args[1])))&&(o+=1)}return o}function km(t,e){var r=t;e!=="keep"&&(r=t.getContent());var n=r.getIdentifier(),i=Tr(r,e);if(i===null)return null;var a=Do[i][n];if(ut(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function v2(t,e,r){var n=r!=="keep"?t.getContent():t,i=r!=="keep"?t.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),s=Tr(n,r);if(s===null)return null;var l=Do[s][a];if(ut(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===o)return!0;return!1}return null}function OPe(t){var e="OperatorNode:"+t;for(var r of Do)if(e in r)return r[e].op;return null}var P0="AssignmentNode",MPe=["subset","?matrix","Node"],IPe=ne(P0,MPe,t=>{var{subset:e,matrix:r,Node:n}=t,i=HY({subset:e}),a=CPe({subset:e,matrix:r});function o(l,u,f){u||(u="keep");var d=Tr(l,u,f),p=Tr(l.value,u,f);return u==="all"||p!==null&&p<=d}class s extends n{constructor(u,f,d){if(super(),this.object=u,this.index=d?f:null,this.value=d||f,!ri(u)&&!bf(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(ri(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!dp(this.index))throw new TypeError('IndexNode expected as "index"');if(!wr(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return P0}get isAssignmentNode(){return!0}_compile(u,f){var d=this.object._compile(u,f),p=this.index?this.index._compile(u,f):null,m=this.value._compile(u,f),y=this.object.name;if(this.index)if(this.index.isObjectProperty()){var g=this.index.getObjectProperty();return function(S,x,A){var T=d(S,x,A),O=m(S,x,A);return Hd(T,g,O),O}}else{if(ri(this.object))return function(S,x,A){var T=d(S,x,A),O=m(S,x,A),C=p(S,x,T);return S.set(y,a(T,C,O)),O};var b=this.object.object._compile(u,f);if(this.object.index.isObjectProperty()){var E=this.object.index.getObjectProperty();return function(S,x,A){var T=b(S,x,A),O=Ui(T,E),C=p(S,x,O),R=m(S,x,A);return Hd(T,E,a(O,C,R)),R}}else{var N=this.object.index._compile(u,f);return function(S,x,A){var T=b(S,x,A),O=N(S,x,T),C=i(T,O),R=p(S,x,C),I=m(S,x,A);return a(T,O,a(C,R,I)),I}}}else{if(!ri(this.object))throw new TypeError("SymbolNode expected as object");return function(S,x,A){var T=m(S,x,A);return S.set(y,T),T}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var f=this._ifNode(u(this.object,"object",this)),d=this.index?this._ifNode(u(this.index,"index",this)):null,p=this._ifNode(u(this.value,"value",this));return new s(f,d,p)}clone(){return new s(this.object,this.index,this.value)}_toString(u){var f=this.object.toString(u),d=this.index?this.index.toString(u):"",p=this.value.toString(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(p="("+p+")"),f+d+" = "+p}toJSON(){return{mathjs:P0,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new s(u.object,u.index,u.value)}_toHTML(u){var f=this.object.toHTML(u),d=this.index?this.index.toHTML(u):"",p=this.value.toHTML(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),f+d+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(u){var f=this.object.toTex(u),d=this.index?this.index.toTex(u):"",p=this.value.toTex(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(p="\\left(".concat(p,"\\right)")),f+d+"="+p}}return En(s,"name",P0),s},{isClass:!0,isNode:!0}),B0="BlockNode",RPe=["ResultSet","Node"],PPe=ne(B0,RPe,t=>{var{ResultSet:e,Node:r}=t;class n extends r{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var s=o&&o.node,l=o&&o.visible!==void 0?o.visible:!0;if(!wr(s))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:s,visible:l}})}get type(){return B0}get isBlockNode(){return!0}_compile(a,o){var s=Rl(this.blocks,function(l){return{evaluate:l.node._compile(a,o),visible:l.visible}});return function(u,f,d){var p=[];return DW(s,function(y){var g=y.evaluate(u,f,d);y.visible&&p.push(g)}),new e(p)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],s=0;s<this.blocks.length;s++){var l=this.blocks[s],u=this._ifNode(a(l.node,"blocks["+s+"].node",this));o[s]={node:u,visible:l.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:B0,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}_toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return En(n,"name",B0),n},{isClass:!0,isNode:!0}),F0="ConditionalNode",BPe=["Node"],FPe=ne(F0,BPe,t=>{var{Node:e}=t;function r(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(Ft(i))return!i.isZero();if(wu(i))return!!(i.re||i.im);if(_a(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Dr(i)+'"')}class n extends e{constructor(a,o,s){if(super(),!wr(a))throw new TypeError("Parameter condition must be a Node");if(!wr(o))throw new TypeError("Parameter trueExpr must be a Node");if(!wr(s))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=s}get type(){return F0}get isConditionalNode(){return!0}_compile(a,o){var s=this.condition._compile(a,o),l=this.trueExpr._compile(a,o),u=this.falseExpr._compile(a,o);return function(d,p,m){return r(s(d,p,m))?l(d,p,m):u(d,p,m)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=Tr(this,o,a&&a.implicit),l=this.condition.toString(a),u=Tr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l="("+l+")");var f=this.trueExpr.toString(a),d=Tr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=s)&&(f="("+f+")");var p=this.falseExpr.toString(a),m=Tr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=s)&&(p="("+p+")"),l+" ? "+f+" : "+p}toJSON(){return{mathjs:F0,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=Tr(this,o,a&&a.implicit),l=this.condition.toHTML(a),u=Tr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var f=this.trueExpr.toHTML(a),d=Tr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=s)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(a),m=Tr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=s)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+f+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return En(n,"name",F0),n},{isClass:!0,isNode:!0}),g2,sj;function kPe(){if(sj)return g2;sj=1;var t=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i},e={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},r={"–":"\\--","—":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},n=function(a,o){return t({},a,o)};return g2=function(i){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.preserveFormatting,s=o===void 0?!1:o,l=a.escapeMapFn,u=l===void 0?n:l,f=String(i),d="",p=u(t({},e),s?t({},r):{}),m=Object.keys(p),y=function(){var b=!1;m.forEach(function(E,N){b||f.length>=E.length&&f.slice(0,E.length)===E&&(d+=p[m[N]],f=f.slice(E.length,f.length),b=!0)}),b||(d+=f.slice(0,1),f=f.slice(1,f.length))};f;)y();return d},g2}var $Pe=kPe();const LPe=pr($Pe);var $C={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ar={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},uj={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ar.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ar.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ar.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ar.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ar.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ar.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ar.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ar.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ar.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ar.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ar.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ar.bitAnd,"${args[1]}\\right)")},bitNot:{1:ar.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ar.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ar.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ar.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ar.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ar.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ar.and,"${args[1]}\\right)")},not:{1:ar.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ar.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ar.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ar.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(ar.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ar.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ar.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ar.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ar.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ar.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ar.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ar.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ar.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ar.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat($C.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},qPe="\\mathrm{${name}}\\left(${args}\\right)",lj={deg:"^\\circ"};function LC(t){return LPe(t,{preserveFormatting:!0})}function GY(t,e){return e=typeof e>"u"?!1:e,e?ut(lj,t)?lj[t]:"\\mathrm{"+LC(t)+"}":ut($C,t)?$C[t]:LC(t)}var k0="ConstantNode",UPe=["Node"],jPe=ne(k0,UPe,t=>{var{Node:e}=t;class r extends e{constructor(i){super(),this.value=i}get type(){return k0}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new r(this.value)}_toString(i){return Ut(this.value,i)}_toHTML(i){var a=this._toString(i);switch(Dr(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:k0,value:this.value}}static fromJSON(i){return new r(i.value)}_toTex(i){var a=this._toString(i),o=Dr(this.value);switch(o){case"string":return"\\mathtt{"+LC(a)+"}";case"number":case"BigNumber":{var s=o==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!s)return this.value.valueOf()<0?"-\\infty":"\\infty";var l=a.toLowerCase().indexOf("e");return l!==-1?a.substring(0,l)+"\\cdot10^{"+a.substring(l+1)+"}":a}case"bigint":return a.toString();case"Fraction":return this.value.toLatex();default:return a}}}return En(r,"name",k0),r},{isClass:!0,isNode:!0}),$0="FunctionAssignmentNode",zPe=["typed","Node"],VPe=ne($0,zPe,t=>{var{typed:e,Node:r}=t;function n(a,o,s){var l=Tr(a,o,s),u=Tr(a.expr,o,s);return o==="all"||u!==null&&u<=l}class i extends r{constructor(o,s,l){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(s))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!wr(l))throw new TypeError('Node expected for parameter "expr"');if(VY.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var u=new Set;for(var f of s){var d=typeof f=="string"?f:f.name;if(u.has(d))throw new Error('Duplicate parameter name "'.concat(d,'"'));u.add(d)}this.name=o,this.params=s.map(function(p){return p&&p.name||p}),this.types=s.map(function(p){return p&&p.type||"any"}),this.expr=l}get type(){return $0}get isFunctionAssignmentNode(){return!0}_compile(o,s){var l=Object.create(s);DW(this.params,function(g){l[g]=!0});var u=this.expr,f=u._compile(o,l),d=this.name,p=this.params,m=s9(this.types,","),y=d+"("+s9(this.params,", ")+")";return function(b,E,N){var _={};_[m]=function(){for(var x=Object.create(E),A=0;A<p.length;A++)x[p[A]]=arguments[A];return f(b,x,N)};var S=e(d,_);return S.syntax=y,S.expr=u.toString(),b.set(d,S),S}}forEach(o){o(this.expr,"expr",this)}map(o){var s=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),s)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return n(this,s,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:$0,name:this.name,params:this.params.map(function(s,l){return{name:s,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var s=o&&o.parenthesis?o.parenthesis:"keep",l=[],u=0;u<this.params.length;u++)l.push('<span class="math-symbol math-parameter">'+no(this.params[u])+"</span>");var f=this.expr.toHTML(o);return n(this,s,o&&o.implicit)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+no(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+f}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return n(this,s,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(GY).join(",")+"\\right)="+l}}return En(i,"name",$0),i},{isClass:!0,isNode:!0}),L0="IndexNode",HPe=["Node","size"],GPe=ne(L0,HPe,t=>{var{Node:e,size:r}=t;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(wr))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return L0}get isIndexNode(){return!0}_compile(a,o){var s=Rl(this.dimensions,function(u,f){var d=u.filter(y=>y.isSymbolNode&&y.name==="end").length>0;if(d){var p=Object.create(o);p.end=!0;var m=u._compile(a,p);return function(g,b,E){if(!gt(E)&&!Sr(E)&&!Di(E))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Dr(E));var N=r(E).valueOf(),_=Object.create(b);return _.end=N[f],m(g,_,E)}}else return u._compile(a,o)}),l=Ui(a,"index");return function(f,d,p){var m=Rl(s,function(y){return y(f,d,p)});return l(...m)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this._ifNode(a(this.dimensions[s],"dimensions["+s+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&er(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:L0,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}_toHTML(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+no(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(s){return s.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return En(n,"name",L0),n},{isClass:!0,isNode:!0}),q0="ObjectNode",KPe=["Node"],XPe=ne(q0,KPe,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return wr(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return q0}get isObjectNode(){return!0}_compile(i,a){var o={};for(var s in this.properties)if(ut(this.properties,s)){var l=td(s),u=JSON.parse(l),f=Ui(this.properties,s);o[u]=f._compile(i,a)}return function(p,m,y){var g={};for(var b in o)ut(o,b)&&(g[b]=o[b](p,m,y));return g}}forEach(i){for(var a in this.properties)ut(this.properties,a)&&i(this.properties[a],"properties["+td(a)+"]",this)}map(i){var a={};for(var o in this.properties)ut(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+td(o)+"]",this)));return new r(a)}clone(){var i={};for(var a in this.properties)ut(this.properties,a)&&(i[a]=this.properties[a]);return new r(i)}_toString(i){var a=[];for(var o in this.properties)ut(this.properties,o)&&a.push(td(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:q0,properties:this.properties}}static fromJSON(i){return new r(i.properties)}_toHTML(i){var a=[];for(var o in this.properties)ut(this.properties,o)&&a.push('<span class="math-symbol math-property">'+no(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)ut(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var s="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return s}}return En(r,"name",q0),r},{isClass:!0,isNode:!0});function Km(t,e){return new ZX(t,new v_(e),new Set(Object.keys(e)))}var U0="OperatorNode",WPe=["Node"],YPe=ne(U0,WPe,t=>{var{Node:e}=t;function r(a,o){var s=a;if(o==="auto")for(;Cu(s);)s=s.content;return er(s)?!0:fn(s)?r(s.args[0],o):!1}function n(a,o,s,l,u){var f=Tr(a,o,s),d=km(a,o);if(o==="all"||l.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return l.map(function(R){switch(R.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(l.length){case 0:p=[];break;case 1:{var m=Tr(l[0],o,s,a);if(u&&m!==null){var y,g;if(o==="keep"?(y=l[0].getIdentifier(),g=a.getIdentifier()):(y=l[0].getContent().getIdentifier(),g=a.getContent().getIdentifier()),Do[f][g].latexLeftParens===!1){p=[!1];break}if(Do[m][y].latexParens===!1){p=[!1];break}}if(m===null){p=[!1];break}if(m<=f){p=[!0];break}p=[!1]}break;case 2:{var b,E=Tr(l[0],o,s,a),N=v2(a,l[0],o);E===null?b=!1:E===f&&d==="right"&&!N||E<f?b=!0:b=!1;var _,S=Tr(l[1],o,s,a),x=v2(a,l[1],o);if(S===null?_=!1:S===f&&d==="left"&&!x||S<f?_=!0:_=!1,u){var A,T,O;o==="keep"?(A=a.getIdentifier(),T=a.args[0].getIdentifier(),O=a.args[1].getIdentifier()):(A=a.getContent().getIdentifier(),T=a.args[0].getContent().getIdentifier(),O=a.args[1].getContent().getIdentifier()),E!==null&&(Do[f][A].latexLeftParens===!1&&(b=!1),Do[E][T].latexParens===!1&&(b=!1)),S!==null&&(Do[f][A].latexRightParens===!1&&(_=!1),Do[S][O].latexParens===!1&&(_=!1))}p=[b,_]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(p=l.map(function(R){var I=Tr(R,o,s,a),P=v2(a,R,o),F=km(R,o);return I===null?!1:f===I&&d===F&&!P?!0:I<f}));break}if(l.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&s==="hide")for(var C=1;C<p.length;++C)r(l[C],o)&&!p[C-1]&&(o!=="keep"||!Cu(l[C-1]))&&(p[C]=!0);return p}class i extends e{constructor(o,s,l,u,f){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof s!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(wr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=f===!0,this.op=o,this.fn=s,this.args=l||[]}get type(){return U0}get isOperatorNode(){return!0}_compile(o,s){if(typeof this.fn!="string"||!QM(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=Ui(o,this.fn),u=Rl(this.args,function(y){return y._compile(o,s)});if(typeof l=="function"&&l.rawArgs===!0){var f=this.args;return function(g,b,E){return l(f,o,Km(g,b))}}else if(u.length===1){var d=u[0];return function(g,b,E){return l(d(g,b,E))}}else if(u.length===2){var p=u[0],m=u[1];return function(g,b,E){return l(p(g,b,E),m(g,b,E))}}else return function(g,b,E){return l.apply(null,Rl(u,function(N){return N(g,b,E)}))}}forEach(o){for(var s=0;s<this.args.length;s++)o(this.args[s],"args["+s+"]",this)}map(o){for(var s=[],l=0;l<this.args.length;l++)s[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,s,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,f=n(this,s,l,u,!1);if(u.length===1){var d=km(this,s),p=u[0].toString(o);f[0]&&(p="("+p+")");var m=/[a-zA-Z]+/.test(this.op);return d==="right"?this.op+(m?" ":"")+p:d==="left"?p+(m?" ":"")+this.op:p+this.op}else if(u.length===2){var y=u[0].toString(o),g=u[1].toString(o);return f[0]&&(y="("+y+")"),f[1]&&(g="("+g+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?y+" "+g:y+" "+this.op+" "+g}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var b=u.map(function(E,N){return E=E.toString(o),f[N]&&(E="("+E+")"),E});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?b.join(" "):b.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:U0,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,f=n(this,s,l,u,!1);if(u.length===1){var d=km(this,s),p=u[0].toHTML(o);return f[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+no(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+no(this.op)+"</span>"}else if(u.length===2){var m=u[0].toHTML(o),y=u[1].toHTML(o);return f[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f[1]&&(y='<span class="math-parenthesis math-round-parenthesis">(</span>'+y+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+y:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+no(this.op)+"</span>"+y}else{var g=u.map(function(b,E){return b=b.toHTML(o),f[E]&&(b='<span class="math-parenthesis math-round-parenthesis">(</span>'+b+'<span class="math-parenthesis math-round-parenthesis">)</span>'),b});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?g.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):g.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+no(this.op)+"</span>"):'<span class="math-function">'+no(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+g.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,f=n(this,s,l,u,!0),d=ar[this.fn];if(d=typeof d>"u"?this.op:d,u.length===1){var p=km(this,s),m=u[0].toTex(o);return f[0]&&(m="\\left(".concat(m,"\\right)")),p==="right"?d+m:m+d}else if(u.length===2){var y=u[0],g=y.toTex(o);f[0]&&(g="\\left(".concat(g,"\\right)"));var b=u[1],E=b.toTex(o);f[1]&&(E="\\left(".concat(E,"\\right)"));var N;switch(s==="keep"?N=y.getIdentifier():N=y.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return d+"{"+g+"}{"+E+"}";case"OperatorNode:pow":switch(g="{"+g+"}",E="{"+E+"}",N){case"ConditionalNode":case"OperatorNode:divide":g="\\left(".concat(g,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return g+"~"+E}return g+d+E}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var _=u.map(function(S,x){return S=S.toTex(o),f[x]&&(S="\\left(".concat(S,"\\right)")),S});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?_.join("~"):_.join(d)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(S){return S.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return En(i,"name",U0),i},{isClass:!0,isNode:!0}),j0="ParenthesisNode",QPe=["Node"],ZPe=ne(j0,QPe,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),!wr(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return j0}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new r(a)}clone(){return new r(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:j0,content:this.content}}static fromJSON(i){return new r(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return En(r,"name",j0),r},{isClass:!0,isNode:!0}),z0="RangeNode",JPe=["Node"],e3e=ne(z0,JPe,t=>{var{Node:e}=t;function r(i,a,o){var s=Tr(i,a,o),l={},u=Tr(i.start,a,o);if(l.start=u!==null&&u<=s||a==="all",i.step){var f=Tr(i.step,a,o);l.step=f!==null&&f<=s||a==="all"}var d=Tr(i.end,a,o);return l.end=d!==null&&d<=s||a==="all",l}class n extends e{constructor(a,o,s){if(super(),!wr(a))throw new TypeError("Node expected");if(!wr(o))throw new TypeError("Node expected");if(s&&!wr(s))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=s||null}get type(){return z0}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return ri(o)&&o.name==="end"});return a.length>0}_compile(a,o){var s=a.range,l=this.start._compile(a,o),u=this.end._compile(a,o);if(this.step){var f=this.step._compile(a,o);return function(p,m,y){return s(l(p,m,y),u(p,m,y),f(p,m,y))}}else return function(p,m,y){return s(l(p,m,y),u(p,m,y))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=r(this,o,a&&a.implicit),l,u=this.start.toString(a);if(s.start&&(u="("+u+")"),l=u,this.step){var f=this.step.toString(a);s.step&&(f="("+f+")"),l+=":"+f}var d=this.end.toString(a);return s.end&&(d="("+d+")"),l+=":"+d,l}toJSON(){return{mathjs:z0,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=r(this,o,a&&a.implicit),l,u=this.start.toHTML(a);if(s.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=u,this.step){var f=this.step.toHTML(a);s.step&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+f}var d=this.end.toHTML(a);return s.end&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+d,l}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=r(this,o,a&&a.implicit),l=this.start.toTex(a);if(s.start&&(l="\\left(".concat(l,"\\right)")),this.step){var u=this.step.toTex(a);s.step&&(u="\\left(".concat(u,"\\right)")),l+=":"+u}var f=this.end.toTex(a);return s.end&&(f="\\left(".concat(f,"\\right)")),l+=":"+f,l}}return En(n,"name",z0),n},{isClass:!0,isNode:!0}),V0="RelationalNode",t3e=["Node"],r3e=ne(V0,t3e,t=>{var{Node:e}=t,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return V0}get isRelationalNode(){return!0}_compile(a,o){var s=this,l=this.params.map(u=>u._compile(a,o));return function(f,d,p){for(var m,y=l[0](f,d,p),g=0;g<s.conditionals.length;g++){m=y,y=l[g+1](f,d,p);var b=Ui(a,s.conditionals[g]);if(!b(m,y))return!1}return!0}}forEach(a){this.params.forEach((o,s)=>a(o,"params["+s+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,s)=>this._ifNode(a(o,"params["+s+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=Tr(this,o,a&&a.implicit),l=this.params.map(function(d,p){var m=Tr(d,o,a&&a.implicit);return o==="all"||m!==null&&m<=s?"("+d.toString(a)+")":d.toString(a)}),u=l[0],f=0;f<this.conditionals.length;f++)u+=" "+r[this.conditionals[f]],u+=" "+l[f+1];return u}toJSON(){return{mathjs:V0,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=Tr(this,o,a&&a.implicit),l=this.params.map(function(d,p){var m=Tr(d,o,a&&a.implicit);return o==="all"||m!==null&&m<=s?'<span class="math-parenthesis math-round-parenthesis">(</span>'+d.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':d.toHTML(a)}),u=l[0],f=0;f<this.conditionals.length;f++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+no(r[this.conditionals[f]])+"</span>"+l[f+1];return u}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=Tr(this,o,a&&a.implicit),l=this.params.map(function(d,p){var m=Tr(d,o,a&&a.implicit);return o==="all"||m!==null&&m<=s?"\\left("+d.toTex(a)+"\right)":d.toTex(a)}),u=l[0],f=0;f<this.conditionals.length;f++)u+=ar[this.conditionals[f]]+l[f+1];return u}}return En(n,"name",V0),n},{isClass:!0,isNode:!0}),n3e="SymbolNode",i3e=["math","?Unit","Node"],a3e=ne(n3e,i3e,t=>{var{math:e,Unit:r,Node:n}=t;function i(o){return r?r.isValuelessUnit(o):!1}class a extends n{constructor(s){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');this.name=s}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(s,l){var u=this.name;if(l[u]===!0)return function(d,p,m){return Ui(p,u)};if(u in s)return function(d,p,m){return d.has(u)?d.get(u):Ui(s,u)};var f=i(u);return function(d,p,m){return d.has(u)?d.get(u):f?new r(null,u):a.onUndefinedSymbol(u)}}forEach(s){}map(s){return this.clone()}static onUndefinedSymbol(s){throw new Error("Undefined symbol "+s)}clone(){return new a(this.name)}_toString(s){return this.name}_toHTML(s){var l=no(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(s){return new a(s.name)}_toTex(s){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var u=GY(this.name,l);return u[0]==="\\"?u:" "+u}}return a},{isClass:!0,isNode:!0}),H0="FunctionNode",o3e=["math","Node","SymbolNode"],s3e=ne(H0,o3e,t=>{var e,{math:r,Node:n,SymbolNode:i}=t,a=l=>Ut(l,{truncate:78});function o(l,u,f){for(var d="",p=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,y;(y=p.exec(l))!==null;)if(d+=l.substring(m,y.index),m=y.index,y[0]==="$$")d+="$",m++;else{m+=y[0].length;var g=u[y[1]];if(!g)throw new ReferenceError("Template: Property "+y[1]+" does not exist.");if(y[2]===void 0)switch(typeof g){case"string":d+=g;break;case"object":if(wr(g))d+=g.toTex(f);else if(Array.isArray(g))d+=g.map(function(b,E){if(wr(b))return b.toTex(f);throw new TypeError("Template: "+y[1]+"["+E+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+y[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+y[1]+" has to be a Node, String or array of Nodes")}else if(wr(g[y[2]]&&g[y[2]]))d+=g[y[2]].toTex(f);else throw new TypeError("Template: "+y[1]+"["+y[2]+"] is not a Node.")}return d+=l.slice(m),d}class s extends n{constructor(u,f){if(super(),typeof u=="string"&&(u=new i(u)),!wr(u))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(f)||!f.every(wr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=u,this.args=f||[]}get name(){return this.fn.name||""}get type(){return H0}get isFunctionNode(){return!0}_compile(u,f){var d=this.args.map(O=>O._compile(u,f));if(ri(this.fn)){var p=this.fn.name;if(f[p]){var E=this.args;return function(C,R,I){var P=Ui(R,p);if(typeof P!="function")throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(a(P)));if(P.rawArgs)return P(E,u,Km(C,R));var F=d.map(z=>z(C,R,I));return P.apply(P,F)}}else{var m=p in u?Ui(u,p):void 0,y=typeof m=="function"&&m.rawArgs===!0,g=O=>{var C;if(O.has(p))C=O.get(p);else if(p in u)C=Ui(u,p);else return s.onUndefinedFunction(p);if(typeof C=="function")return C;throw new TypeError("'".concat(p,`' is not a function; its value is:
  `).concat(a(C)))};if(y){var b=this.args;return function(C,R,I){var P=g(C);if(P.rawArgs===!0)return P(b,u,Km(C,R));var F=d.map(z=>z(C,R,I));return P(...F)}}else switch(d.length){case 0:return function(C,R,I){var P=g(C);return P()};case 1:return function(C,R,I){var P=g(C),F=d[0];return P(F(C,R,I))};case 2:return function(C,R,I){var P=g(C),F=d[0],z=d[1];return P(F(C,R,I),z(C,R,I))};default:return function(C,R,I){var P=g(C),F=d.map(z=>z(C,R,I));return P(...F)}}}}else if(bf(this.fn)&&dp(this.fn.index)&&this.fn.index.isObjectProperty()){var N=this.fn.object._compile(u,f),_=this.fn.index.getObjectProperty(),S=this.args;return function(C,R,I){var P=N(C,R,I),F=REe(P,_);if(F!=null&&F.rawArgs)return F(S,u,Km(C,R));var z=d.map(U=>U(C,R,I));return F.apply(P,z)}}else{var x=this.fn.toString(),A=this.fn._compile(u,f),T=this.args;return function(C,R,I){var P=A(C,R,I);if(typeof P!="function")throw new TypeError("Expression '".concat(x,"' did not evaluate to a function; value is:")+`
  `.concat(a(P)));if(P.rawArgs)return P(T,u,Km(C,R));var F=d.map(z=>z(C,R,I));return P.apply(P,F)}}}forEach(u){u(this.fn,"fn",this);for(var f=0;f<this.args.length;f++)u(this.args[f],"args["+f+"]",this)}map(u){for(var f=this._ifNode(u(this.fn,"fn",this)),d=[],p=0;p<this.args.length;p++)d[p]=this._ifNode(u(this.args[p],"args["+p+"]",this));return new s(f,d)}clone(){return new s(this.fn,this.args.slice(0))}toString(u){var f,d=this.fn.toString(u);return u&&typeof u.handler=="object"&&ut(u.handler,d)&&(f=u.handler[d](this,u)),typeof f<"u"?f:super.toString(u)}_toString(u){var f=this.args.map(function(p){return p.toString(u)}),d=Cg(this.fn)?"("+this.fn.toString(u)+")":this.fn.toString(u);return d+"("+f.join(", ")+")"}toJSON(){return{mathjs:H0,fn:this.fn,args:this.args}}_toHTML(u){var f=this.args.map(function(d){return d.toHTML(u)});return'<span class="math-function">'+no(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+f.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(u){var f;return u&&typeof u.handler=="object"&&ut(u.handler,this.name)&&(f=u.handler[this.name](this,u)),typeof f<"u"?f:super.toTex(u)}_toTex(u){var f=this.args.map(function(m){return m.toTex(u)}),d;uj[this.name]&&(d=uj[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(d=r[this.name].toTex);var p;switch(typeof d){case"function":p=d(this,u);break;case"string":p=o(d,this,u);break;case"object":switch(typeof d[f.length]){case"function":p=d[f.length](this,u);break;case"string":p=o(d[f.length],this,u);break}}return typeof p<"u"?p:o(qPe,this,u)}getIdentifier(){return this.type+":"+this.name}}return e=s,En(s,"name",H0),En(s,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),En(s,"fromJSON",function(l){return new e(l.fn,l.args)}),s},{isClass:!0,isNode:!0}),cj="parse",u3e=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],l3e=ne(cj,u3e,t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:s,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:f,FunctionNode:d,IndexNode:p,ObjectNode:m,OperatorNode:y,ParenthesisNode:g,RangeNode:b,RelationalNode:E,SymbolNode:N}=t,_=e(cj,{string:function(pe){return Z(pe,{})},"Array | Matrix":function(pe){return S(pe,{})},"string, Object":function(pe,Ie){var He=Ie.nodes!==void 0?Ie.nodes:{};return Z(pe,He)},"Array | Matrix, Object":S});function S(q){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=pe.nodes!==void 0?pe.nodes:{};return kt(q,function(He){if(typeof He!="string")throw new TypeError("String expected");return Z(He,Ie)})}var x={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},A={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},O={true:!0,false:!1,null:null,undefined:void 0},C=["NaN","Infinity"],R={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function I(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:x.NULL,nestingLevel:0,conditionalLevel:null}}function P(q,pe){return q.expression.substr(q.index,pe)}function F(q){return P(q,1)}function z(q){q.index++}function U(q){return q.expression.charAt(q.index-1)}function k(q){return q.expression.charAt(q.index+1)}function V(q){for(q.tokenType=x.NULL,q.token="",q.comment="";;){if(F(q)==="#")for(;F(q)!==`
`&&F(q)!=="";)q.comment+=F(q),z(q);if(_.isWhitespace(F(q),q.nestingLevel))z(q);else break}if(F(q)===""){q.tokenType=x.DELIMITER;return}if(F(q)===`
`&&!q.nestingLevel){q.tokenType=x.DELIMITER,q.token=F(q),z(q);return}var pe=F(q),Ie=P(q,2),He=P(q,3);if(He.length===3&&A[He]){q.tokenType=x.DELIMITER,q.token=He,z(q),z(q),z(q);return}if(Ie.length===2&&A[Ie]){q.tokenType=x.DELIMITER,q.token=Ie,z(q),z(q);return}if(A[pe]){q.tokenType=x.DELIMITER,q.token=pe,z(q);return}if(_.isDigitDot(pe)){q.tokenType=x.NUMBER;var ht=P(q,2);if(ht==="0b"||ht==="0o"||ht==="0x"){for(q.token+=F(q),z(q),q.token+=F(q),z(q);_.isHexDigit(F(q));)q.token+=F(q),z(q);if(F(q)===".")for(q.token+=".",z(q);_.isHexDigit(F(q));)q.token+=F(q),z(q);else if(F(q)==="i")for(q.token+="i",z(q);_.isDigit(F(q));)q.token+=F(q),z(q);return}if(F(q)==="."){if(q.token+=F(q),z(q),!_.isDigit(F(q))){q.tokenType=x.DELIMITER;return}}else{for(;_.isDigit(F(q));)q.token+=F(q),z(q);_.isDecimalMark(F(q),k(q))&&(q.token+=F(q),z(q))}for(;_.isDigit(F(q));)q.token+=F(q),z(q);if(F(q)==="E"||F(q)==="e"){if(_.isDigit(k(q))||k(q)==="-"||k(q)==="+"){if(q.token+=F(q),z(q),(F(q)==="+"||F(q)==="-")&&(q.token+=F(q),z(q)),!_.isDigit(F(q)))throw st(q,'Digit expected, got "'+F(q)+'"');for(;_.isDigit(F(q));)q.token+=F(q),z(q);if(_.isDecimalMark(F(q),k(q)))throw st(q,'Digit expected, got "'+F(q)+'"')}else if(_.isDecimalMark(k(q),q.expression.charAt(q.index+2)))throw z(q),st(q,'Digit expected, got "'+F(q)+'"')}return}if(_.isAlpha(F(q),U(q),k(q))){for(;_.isAlpha(F(q),U(q),k(q))||_.isDigit(F(q));)q.token+=F(q),z(q);ut(T,q.token)?q.tokenType=x.DELIMITER:q.tokenType=x.SYMBOL;return}for(q.tokenType=x.UNKNOWN;F(q)!=="";)q.token+=F(q),z(q);throw st(q,'Syntax error in part "'+q.token+'"')}function Y(q){do V(q);while(q.token===`
`)}function H(q){q.nestingLevel++}function j(q){q.nestingLevel--}_.isAlpha=function(pe,Ie,He){return _.isValidLatinOrGreek(pe)||_.isValidMathSymbol(pe,He)||_.isValidMathSymbol(Ie,pe)},_.isValidLatinOrGreek=function(pe){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(pe)},_.isValidMathSymbol=function(pe,Ie){return/^[\uD835]$/.test(pe)&&/^[\uDC00-\uDFFF]$/.test(Ie)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ie)},_.isWhitespace=function(pe,Ie){return pe===" "||pe==="	"||pe===" "||pe===`
`&&Ie>0},_.isDecimalMark=function(pe,Ie){return pe==="."&&Ie!=="/"&&Ie!=="*"&&Ie!=="^"},_.isDigitDot=function(pe){return pe>="0"&&pe<="9"||pe==="."},_.isDigit=function(pe){return pe>="0"&&pe<="9"},_.isHexDigit=function(pe){return pe>="0"&&pe<="9"||pe>="a"&&pe<="f"||pe>="A"&&pe<="F"};function Z(q,pe){var Ie=I();Fn(Ie,{expression:q,extraNodes:pe}),V(Ie);var He=$(Ie);if(Ie.token!=="")throw Ie.tokenType===x.DELIMITER?Gt(Ie,"Unexpected operator "+Ie.token):st(Ie,'Unexpected part "'+Ie.token+'"');return He}function $(q){var pe,Ie=[],He;for(q.token!==""&&q.token!==`
`&&q.token!==";"&&(pe=W(q),q.comment&&(pe.comment=q.comment));q.token===`
`||q.token===";";)Ie.length===0&&pe&&(He=q.token!==";",Ie.push({node:pe,visible:He})),V(q),q.token!==`
`&&q.token!==";"&&q.token!==""&&(pe=W(q),q.comment&&(pe.comment=q.comment),He=q.token!==";",Ie.push({node:pe,visible:He}));return Ie.length>0?new s(Ie):(pe||(pe=new u(void 0),q.comment&&(pe.comment=q.comment)),pe)}function W(q){var pe,Ie,He,ht,dt=K(q);if(q.token==="="){if(ri(dt))return pe=dt.name,Y(q),He=W(q),new o(new N(pe),He);if(bf(dt))return Y(q),He=W(q),new o(dt.object,dt.index,He);if(Ul(dt)&&ri(dt.fn)&&(ht=!0,Ie=[],pe=dt.name,dt.args.forEach(function(xr,Bs){ri(xr)?Ie[Bs]=xr.name:ht=!1}),ht))return Y(q),He=W(q),new f(pe,Ie,He);throw st(q,"Invalid left hand side of assignment operator =")}return dt}function K(q){for(var pe=ge(q);q.token==="?";){var Ie=q.conditionalLevel;q.conditionalLevel=q.nestingLevel,Y(q);var He=pe,ht=W(q);if(q.token!==":")throw st(q,"False part of conditional expression expected");q.conditionalLevel=null,Y(q);var dt=W(q);pe=new l(He,ht,dt),q.conditionalLevel=Ie}return pe}function ge(q){for(var pe=me(q);q.token==="or";)Y(q),pe=new y("or","or",[pe,me(q)]);return pe}function me(q){for(var pe=Ee(q);q.token==="xor";)Y(q),pe=new y("xor","xor",[pe,Ee(q)]);return pe}function Ee(q){for(var pe=J(q);q.token==="and";)Y(q),pe=new y("and","and",[pe,J(q)]);return pe}function J(q){for(var pe=ee(q);q.token==="|";)Y(q),pe=new y("|","bitOr",[pe,ee(q)]);return pe}function ee(q){for(var pe=ue(q);q.token==="^|";)Y(q),pe=new y("^|","bitXor",[pe,ue(q)]);return pe}function ue(q){for(var pe=le(q);q.token==="&";)Y(q),pe=new y("&","bitAnd",[pe,le(q)]);return pe}function le(q){for(var pe=[ie(q)],Ie=[],He={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};ut(He,q.token);){var ht={name:q.token,fn:He[q.token]};Ie.push(ht),Y(q),pe.push(ie(q))}return pe.length===1?pe[0]:pe.length===2?new y(Ie[0].name,Ie[0].fn,pe):new E(Ie.map(dt=>dt.fn),pe)}function ie(q){var pe,Ie,He,ht;pe=Te(q);for(var dt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};ut(dt,q.token);)Ie=q.token,He=dt[Ie],Y(q),ht=[pe,Te(q)],pe=new y(Ie,He,ht);return pe}function Te(q){var pe,Ie,He,ht;pe=he(q);for(var dt={to:"to",in:"to"};ut(dt,q.token);)Ie=q.token,He=dt[Ie],Y(q),Ie==="in"&&"])},;".includes(q.token)?pe=new y("*","multiply",[pe,new N("in")],!0):(ht=[pe,he(q)],pe=new y(Ie,He,ht));return pe}function he(q){var pe,Ie=[];if(q.token===":"?pe=new u(1):pe=Ce(q),q.token===":"&&q.conditionalLevel!==q.nestingLevel){for(Ie.push(pe);q.token===":"&&Ie.length<3;)Y(q),q.token===")"||q.token==="]"||q.token===","||q.token===""?Ie.push(new N("end")):Ie.push(Ce(q));Ie.length===3?pe=new b(Ie[0],Ie[2],Ie[1]):pe=new b(Ie[0],Ie[1])}return pe}function Ce(q){var pe,Ie,He,ht;pe=je(q);for(var dt={"+":"add","-":"subtract"};ut(dt,q.token);){Ie=q.token,He=dt[Ie],Y(q);var xr=je(q);xr.isPercentage?ht=[pe,new y("*","multiply",[pe,xr])]:ht=[pe,xr],pe=new y(Ie,He,ht)}return pe}function je(q){var pe,Ie,He,ht;pe=We(q),Ie=pe;for(var dt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};ut(dt,q.token);)if(He=q.token,ht=dt[He],Y(q),He==="%"&&q.tokenType===x.DELIMITER&&q.token!=="(")if(q.token!==""&&dt[q.token]){var xr=new y("/","divide",[pe,new u(100)],!1,!0);He=q.token,ht=dt[He],Y(q),Ie=We(q),pe=new y(He,ht,[xr,Ie])}else pe=new y("/","divide",[pe,new u(100)],!1,!0);else Ie=We(q),pe=new y(He,ht,[pe,Ie]);return pe}function We(q){var pe,Ie;for(pe=xe(q),Ie=pe;q.tokenType===x.SYMBOL||q.token==="in"&&er(pe)||q.token==="in"&&fn(pe)&&pe.fn==="unaryMinus"&&er(pe.args[0])||q.tokenType===x.NUMBER&&!er(Ie)&&(!fn(Ie)||Ie.op==="!")||q.token==="(";)Ie=xe(q),pe=new y("*","multiply",[pe,Ie],!0);return pe}function xe(q){for(var pe=ze(q),Ie=pe,He=[];q.token==="/"&&wC(Ie);)if(He.push(Fn({},q)),Y(q),q.tokenType===x.NUMBER)if(He.push(Fn({},q)),Y(q),q.tokenType===x.SYMBOL||q.token==="("||q.token==="in")Fn(q,He.pop()),He.pop(),Ie=ze(q),pe=new y("/","divide",[pe,Ie]);else{He.pop(),Fn(q,He.pop());break}else{Fn(q,He.pop());break}return pe}function ze(q){var pe,Ie,He,ht={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return ut(ht,q.token)?(He=ht[q.token],pe=q.token,Y(q),Ie=[ze(q)],new y(pe,He,Ie)):te(q)}function te(q){var pe,Ie,He,ht;return pe=ce(q),(q.token==="^"||q.token===".^")&&(Ie=q.token,He=Ie==="^"?"pow":"dotPow",Y(q),ht=[pe,ze(q)],pe=new y(Ie,He,ht)),pe}function ce(q){var pe,Ie,He,ht;pe=be(q);for(var dt={"!":"factorial","'":"ctranspose"};ut(dt,q.token);)Ie=q.token,He=dt[Ie],V(q),ht=[pe],pe=new y(Ie,He,ht),pe=oe(q,pe);return pe}function be(q){var pe=[];if(q.tokenType===x.SYMBOL&&ut(q.extraNodes,q.token)){var Ie=q.extraNodes[q.token];if(V(q),q.token==="("){if(pe=[],H(q),V(q),q.token!==")")for(pe.push(W(q));q.token===",";)V(q),pe.push(W(q));if(q.token!==")")throw st(q,"Parenthesis ) expected");j(q),V(q)}return new Ie(pe)}return Q(q)}function Q(q){var pe,Ie;return q.tokenType===x.SYMBOL||q.tokenType===x.DELIMITER&&q.token in T?(Ie=q.token,V(q),ut(O,Ie)?pe=new u(O[Ie]):C.includes(Ie)?pe=new u(r(Ie,"number")):pe=new N(Ie),pe=oe(q,pe),pe):de(q)}function oe(q,pe,Ie){for(var He;q.token==="("||q.token==="["||q.token===".";)if(He=[],q.token==="(")if(ri(pe)||bf(pe)){if(H(q),V(q),q.token!==")")for(He.push(W(q));q.token===",";)V(q),He.push(W(q));if(q.token!==")")throw st(q,"Parenthesis ) expected");j(q),V(q),pe=new d(pe,He)}else return pe;else if(q.token==="["){if(H(q),V(q),q.token!=="]")for(He.push(W(q));q.token===",";)V(q),He.push(W(q));if(q.token!=="]")throw st(q,"Parenthesis ] expected");j(q),V(q),pe=new i(pe,new p(He))}else{V(q);var ht=q.tokenType===x.SYMBOL||q.tokenType===x.DELIMITER&&q.token in T;if(!ht)throw st(q,"Property name expected after dot");He.push(new u(q.token)),V(q);var dt=!0;pe=new i(pe,new p(He,dt))}return pe}function de(q){var pe,Ie;return q.token==='"'||q.token==="'"?(Ie=ye(q,q.token),pe=new u(Ie),pe=oe(q,pe),pe):_e(q)}function ye(q,pe){for(var Ie="";F(q)!==""&&F(q)!==pe;)if(F(q)==="\\"){z(q);var He=F(q),ht=R[He];if(ht!==void 0)Ie+=ht,q.index+=1;else if(He==="u"){var dt=q.expression.slice(q.index+1,q.index+5);if(/^[0-9A-Fa-f]{4}$/.test(dt))Ie+=String.fromCharCode(parseInt(dt,16)),q.index+=5;else throw st(q,"Invalid unicode character \\u".concat(dt))}else throw st(q,"Bad escape character \\".concat(He))}else Ie+=F(q),z(q);if(V(q),q.token!==pe)throw st(q,"End of string ".concat(pe," expected"));return V(q),Ie}function _e(q){var pe,Ie,He,ht;if(q.token==="["){if(H(q),V(q),q.token!=="]"){var dt=Re(q);if(q.token===";"){for(He=1,Ie=[dt];q.token===";";)V(q),q.token!=="]"&&(Ie[He]=Re(q),He++);if(q.token!=="]")throw st(q,"End of matrix ] expected");j(q),V(q),ht=Ie[0].items.length;for(var xr=1;xr<He;xr++)if(Ie[xr].items.length!==ht)throw Gt(q,"Column dimensions mismatch ("+Ie[xr].items.length+" !== "+ht+")");pe=new a(Ie)}else{if(q.token!=="]")throw st(q,"End of matrix ] expected");j(q),V(q),pe=dt}}else j(q),V(q),pe=new a([]);return oe(q,pe)}return qe(q)}function Re(q){for(var pe=[W(q)],Ie=1;q.token===",";)V(q),q.token!=="]"&&q.token!==";"&&(pe[Ie]=W(q),Ie++);return new a(pe)}function qe(q){if(q.token==="{"){H(q);var pe,Ie={};do if(V(q),q.token!=="}"){if(q.token==='"'||q.token==="'")pe=ye(q,q.token);else if(q.tokenType===x.SYMBOL||q.tokenType===x.DELIMITER&&q.token in T)pe=q.token,V(q);else throw st(q,"Symbol or string expected as object key");if(q.token!==":")throw st(q,"Colon : expected after object key");V(q),Ie[pe]=W(q)}while(q.token===",");if(q.token!=="}")throw st(q,"Comma , or bracket } expected after object value");j(q),V(q);var He=new m(Ie);return He=oe(q,He),He}return Qe(q)}function Qe(q){var pe;if(q.tokenType===x.NUMBER){pe=q.token,V(q);var Ie=Ql(pe,n),He=r(pe,Ie);return new u(He)}return Je(q)}function Je(q){var pe;if(q.token==="("){if(H(q),V(q),pe=W(q),q.token!==")")throw st(q,"Parenthesis ) expected");return j(q),V(q),pe=new g(pe),pe=oe(q,pe),pe}return Ye(q)}function Ye(q){throw q.token===""?st(q,"Unexpected end of expression"):st(q,"Value expected")}function Rt(q){return q.index-q.token.length+1}function st(q,pe){var Ie=Rt(q),He=new SyntaxError(pe+" (char "+Ie+")");return He.char=Ie,He}function Gt(q,pe){var Ie=Rt(q),He=new SyntaxError(pe+" (char "+Ie+")");return He.char=Ie,He}return e.addConversion({from:"string",to:"Node",convert:_}),_}),fj="compile",c3e=["typed","parse"],f3e=ne(fj,c3e,t=>{var{typed:e,parse:r}=t;return e(fj,{string:function(i){return r(i).compile()},"Array | Matrix":function(i){return kt(i,function(a){return r(a).compile()})}})}),hj="evaluate",h3e=["typed","parse"],d3e=ne(hj,h3e,t=>{var{typed:e,parse:r}=t;return e(hj,{string:function(i){var a=rg();return r(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return r(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=rg();return kt(i,function(o){return r(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return kt(i,function(o){return r(o).compile().evaluate(a)})}})}),p3e="Parser",m3e=["evaluate","parse"],v3e=ne(p3e,m3e,t=>{var{evaluate:e,parse:r}=t;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:rg(),writable:!1})}n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(a){return e(a,this.scope)},n.prototype.get=function(a){if(this.scope.has(a))return this.scope.get(a)},n.prototype.getAll=function(){return kEe(this.scope)},n.prototype.getAllAsMap=function(){return this.scope};function i(a){if(a.length===0)return!1;for(var o=0;o<a.length;o++){var s=a.charAt(o-1),l=a.charAt(o),u=a.charAt(o+1),f=r.isAlpha(l,s,u)||o>0&&r.isDigit(l);if(!f)return!1}return!0}return n.prototype.set=function(a,o){if(!i(a))throw new Error("Invalid variable name: '".concat(a,"'. Variable names must follow the specified rules."));return this.scope.set(a,o),o},n.prototype.remove=function(a){this.scope.delete(a)},n.prototype.clear=function(){this.scope.clear()},n.prototype.toJSON=function(){var a={mathjs:"Parser",variables:{},functions:{}};for(var[o,s]of this.scope)if(tW(s)){if(!g3e(s))throw new Error("Cannot serialize external function ".concat(o));a.functions[o]="".concat(s.syntax," = ").concat(s.expr)}else a.variables[o]=s;return a},n.fromJSON=function(a){var o=new n;return Object.entries(a.variables).forEach(s=>{var[l,u]=s;return o.set(l,u)}),Object.entries(a.functions).forEach(s=>{var[l,u]=s;return o.evaluate(u)}),o},n},{isClass:!0});function g3e(t){return typeof t=="function"&&typeof t.syntax=="string"&&typeof t.expr=="string"}var dj="parser",y3e=["typed","Parser"],b3e=ne(dj,y3e,t=>{var{typed:e,Parser:r}=t;return e(dj,{"":function(){return new r}})}),pj="lup",w3e=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],_3e=ne(pj,w3e,t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:s,larger:l,equalScalar:u,unaryMinus:f,DenseMatrix:d,SparseMatrix:p,Spa:m}=t;return e(pj,{DenseMatrix:function(E){return y(E)},SparseMatrix:function(E){return g(E)},Array:function(E){var N=r(E),_=y(N);return{L:_.L.valueOf(),U:_.U.valueOf(),p:_.p}}});function y(b){var E=b._size[0],N=b._size[1],_=Math.min(E,N),S=Ct(b._data),x=[],A=[E,_],T=[],O=[_,N],C,R,I,P=[];for(C=0;C<E;C++)P[C]=C;for(R=0;R<N;R++){if(R>0)for(C=0;C<E;C++){var F=Math.min(C,R),z=0;for(I=0;I<F;I++)z=i(z,o(S[C][I],S[I][R]));S[C][R]=s(S[C][R],z)}var U=R,k=0,V=0;for(C=R;C<E;C++){var Y=S[C][R],H=n(Y);l(H,k)&&(U=C,k=H,V=Y)}if(R!==U&&(P[R]=[P[U],P[U]=P[R]][0],d._swapRows(R,U,S)),R<E)for(C=R+1;C<E;C++){var j=S[C][R];u(j,0)||(S[C][R]=a(S[C][R],V))}}for(R=0;R<N;R++)for(C=0;C<E;C++){if(R===0&&(C<N&&(T[C]=[]),x[C]=[]),C<R){C<N&&(T[C][R]=S[C][R]),R<E&&(x[C][R]=0);continue}if(C===R){C<N&&(T[C][R]=S[C][R]),R<E&&(x[C][R]=1);continue}C<N&&(T[C][R]=0),R<E&&(x[C][R]=S[C][R])}var Z=new d({data:x,size:A}),$=new d({data:T,size:O}),W=[];for(C=0,_=P.length;C<_;C++)W[P[C]]=C;return{L:Z,U:$,p:W,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function g(b){var E=b._size[0],N=b._size[1],_=Math.min(E,N),S=b._values,x=b._index,A=b._ptr,T=[],O=[],C=[],R=[E,_],I=[],P=[],F=[],z=[_,N],U,k,V,Y=[],H=[];for(U=0;U<E;U++)Y[U]=U,H[U]=U;var j=function(W,K){var ge=H[W],me=H[K];Y[ge]=K,Y[me]=W,H[W]=me,H[K]=ge},Z=function(){var W=new m;k<E&&(C.push(T.length),T.push(1),O.push(k)),F.push(I.length);var K=A[k],ge=A[k+1];for(V=K;V<ge;V++)U=x[V],W.set(Y[U],S[V]);k>0&&W.forEach(0,k-1,function(ee,ue){p._forEachRow(ee,T,O,C,function(le,ie){le>ee&&W.accumulate(le,f(o(ie,ue)))})});var me=k,Ee=W.get(k),J=n(Ee);W.forEach(k+1,E-1,function(ee,ue){var le=n(ue);l(le,J)&&(me=ee,J=le,Ee=ue)}),k!==me&&(p._swapRows(k,me,R[1],T,O,C),p._swapRows(k,me,z[1],I,P,F),W.swap(k,me),j(k,me)),W.forEach(0,E-1,function(ee,ue){ee<=k?(I.push(ue),P.push(ee)):(ue=a(ue,Ee),u(ue,0)||(T.push(ue),O.push(ee)))})};for(k=0;k<N;k++)Z();return F.push(I.length),C.push(T.length),{L:new p({values:T,index:O,ptr:C,size:R}),U:new p({values:I,index:P,ptr:F,size:z}),p:Y,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),mj="qr",x3e=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],A3e=ne(mj,x3e,t=>{var{typed:e,matrix:r,zeros:n,identity:i,isZero:a,equal:o,sign:s,sqrt:l,conj:u,unaryMinus:f,addScalar:d,divideScalar:p,multiplyScalar:m,subtractScalar:y,complex:g}=t;return Fn(e(mj,{DenseMatrix:function(S){return E(S)},SparseMatrix:function(S){return N()},Array:function(S){var x=r(S),A=E(x);return{Q:A.Q.valueOf(),R:A.R.valueOf()}}}),{_denseQRimpl:b});function b(_){var S=_._size[0],x=_._size[1],A=i([S],"dense"),T=A._data,O=_.clone(),C=O._data,R,I,P,F=n([S],"");for(P=0;P<Math.min(x,S);++P){var z=C[P][P],U=f(o(z,0)?1:s(z)),k=u(U),V=0;for(R=P;R<S;R++)V=d(V,m(C[R][P],u(C[R][P])));var Y=m(U,l(V));if(!a(Y)){var H=y(z,Y);for(F[P]=1,R=P+1;R<S;R++)F[R]=p(C[R][P],H);var j=f(u(p(H,Y))),Z=void 0;for(I=P;I<x;I++){for(Z=0,R=P;R<S;R++)Z=d(Z,m(u(F[R]),C[R][I]));for(Z=m(Z,j),R=P;R<S;R++)C[R][I]=m(y(C[R][I],m(F[R],Z)),k)}for(R=0;R<S;R++){for(Z=0,I=P;I<S;I++)Z=d(Z,m(T[R][I],F[I]));for(Z=m(Z,j),I=P;I<S;++I)T[R][I]=p(y(T[R][I],m(Z,u(F[I]))),k)}}}return{Q:A,R:O,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function E(_){var S=b(_),x=S.R._data;if(_._data.length>0)for(var A=x[0][0].type==="Complex"?g(0):0,T=0;T<x.length;++T)for(var O=0;O<T&&O<(x[0]||[]).length;++O)x[T][O]=A;return S}function N(_){throw new Error("qr not implemented for sparse matrices yet")}});function E3e(t,e,r,n){t._values;for(var i=t._index,a=t._ptr,o=t._size,s=t._datatype,l=o[0],u=o[1],f=null,d=[],p=[],m=0,y=0;y<u;y++){p[y]=m;for(var g=r?r[y]:y,b=a[g],E=a[g+1],N=b;N<E;N++){var _=i[N];d[m]=_,m++}}return p[u]=m,t.createSparseMatrix({values:f,index:d,ptr:p,size:[l,u],datatype:s})}function KY(t,e,r,n,i,a,o){var s=0;for(r[o]=t;s>=0;){var l=r[o+s],u=r[n+l];u===-1?(s--,a[e++]=l):(r[n+l]=r[i+u],++s,r[o+s]=u)}return e}function S3e(t,e){if(!t)return null;var r=0,n,i=[],a=[],o=0,s=e,l=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(a[s+n]=a[o+t[n]],a[o+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=KY(n,r,a,o,s,i,l));return i}function T3e(t,e){if(!t)return null;var r=t._index,n=t._ptr,i=t._size,a=i[0],o=i[1],s=[],l=[],u=0,f=o,d,p;for(d=0;d<a;d++)l[f+d]=-1;for(var m=0;m<o;m++){s[m]=-1,l[u+m]=-1;for(var y=n[m],g=n[m+1],b=y;b<g;b++){var E=r[b];for(d=l[f+E];d!==-1&&d<m;d=p)p=l[u+d],l[u+d]=m,p===-1&&(s[d]=m);l[f+E]=m}}return s}function D3e(t,e,r){for(var n=t._values,i=t._index,a=t._ptr,o=t._size,s=o[1],l=0,u=0;u<s;u++){var f=a[u];for(a[u]=l;f<a[u+1];f++)e(i[f],u,n?n[f]:1,r)&&(i[l]=i[f],n&&(n[l]=n[f]),l++)}return a[s]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function pl(t){return-t-2}var N3e="csAmd",C3e=["add","multiply","transpose"],O3e=ne(N3e,C3e,t=>{var{add:e,multiply:r,transpose:n}=t;return function(f,d){if(!d||f<=0||f>3)return null;var p=d._size,m=p[0],y=p[1],g=0,b=Math.max(16,10*Math.sqrt(y));b=Math.min(y-2,b);var E=i(f,d,m,y,b);D3e(E,l,null);for(var N=E._index,_=E._ptr,S=_[y],x=[],A=[],T=0,O=y+1,C=2*(y+1),R=3*(y+1),I=4*(y+1),P=5*(y+1),F=6*(y+1),z=7*(y+1),U=x,k=a(y,_,A,T,R,U,C,z,O,F,I,P),V=o(y,_,A,P,I,F,b,O,R,U,C),Y=0,H,j,Z,$,W,K,ge,me,Ee,J,ee,ue,le,ie,Te,he;V<y;){for(Z=-1;Y<y&&(Z=A[R+Y])===-1;Y++);A[C+Z]!==-1&&(U[A[C+Z]]=-1),A[R+Y]=A[C+Z];var Ce=A[I+Z],je=A[O+Z];V+=je;var We=0;A[O+Z]=-je;var xe=_[Z],ze=Ce===0?xe:S,te=ze;for($=1;$<=Ce+1;$++){for($>Ce?(K=Z,ge=xe,me=A[T+Z]-Ce):(K=N[xe++],ge=_[K],me=A[T+K]),W=1;W<=me;W++)H=N[ge++],!((Ee=A[O+H])<=0)&&(We+=Ee,A[O+H]=-Ee,N[te++]=H,A[C+H]!==-1&&(U[A[C+H]]=U[H]),U[H]!==-1?A[C+U[H]]=A[C+H]:A[R+A[P+H]]=A[C+H]);K!==Z&&(_[K]=pl(Z),A[F+K]=0)}for(Ce!==0&&(S=te),A[P+Z]=We,_[Z]=ze,A[T+Z]=te-ze,A[I+Z]=-2,k=s(k,g,A,F,y),J=ze;J<te;J++)if(H=N[J],!((ee=A[I+H])<=0)){Ee=-A[O+H];var ce=k-Ee;for(xe=_[H],ue=_[H]+ee-1;xe<=ue;xe++)K=N[xe],A[F+K]>=k?A[F+K]-=Ee:A[F+K]!==0&&(A[F+K]=A[P+K]+ce)}for(J=ze;J<te;J++){for(H=N[J],ue=_[H],le=ue+A[I+H]-1,ie=ue,Te=0,he=0,xe=ue;xe<=le;xe++)if(K=N[xe],A[F+K]!==0){var be=A[F+K]-k;be>0?(he+=be,N[ie++]=K,Te+=K):(_[K]=pl(Z),A[F+K]=0)}A[I+H]=ie-ue+1;var Q=ie,oe=ue+A[T+H];for(xe=le+1;xe<oe;xe++){j=N[xe];var de=A[O+j];de<=0||(he+=de,N[ie++]=j,Te+=j)}he===0?(_[H]=pl(Z),Ee=-A[O+H],We-=Ee,je+=Ee,V+=Ee,A[O+H]=0,A[I+H]=-1):(A[P+H]=Math.min(A[P+H],he),N[ie]=N[Q],N[Q]=N[ue],N[ue]=Z,A[T+H]=ie-ue+1,Te=(Te<0?-Te:Te)%y,A[C+H]=A[z+Te],A[z+Te]=H,U[H]=Te)}for(A[P+Z]=We,g=Math.max(g,We),k=s(k+g,g,A,F,y),J=ze;J<te;J++)if(H=N[J],!(A[O+H]>=0))for(Te=U[H],H=A[z+Te],A[z+Te]=-1;H!==-1&&A[C+H]!==-1;H=A[C+H],k++){for(me=A[T+H],ee=A[I+H],xe=_[H]+1;xe<=_[H]+me-1;xe++)A[F+N[xe]]=k;var ye=H;for(j=A[C+H];j!==-1;){var _e=A[T+j]===me&&A[I+j]===ee;for(xe=_[j]+1;_e&&xe<=_[j]+me-1;xe++)A[F+N[xe]]!==k&&(_e=0);_e?(_[j]=pl(H),A[O+H]+=A[O+j],A[O+j]=0,A[I+j]=-1,j=A[C+j],A[C+ye]=j):(ye=j,j=A[C+j])}}for(xe=ze,J=ze;J<te;J++)H=N[J],!((Ee=-A[O+H])<=0)&&(A[O+H]=Ee,he=A[P+H]+We-Ee,he=Math.min(he,y-V-Ee),A[R+he]!==-1&&(U[A[R+he]]=H),A[C+H]=A[R+he],U[H]=-1,A[R+he]=H,Y=Math.min(Y,he),A[P+H]=he,N[xe++]=H);A[O+Z]=je,(A[T+Z]=xe-ze)===0&&(_[Z]=-1,A[F+Z]=0),Ce!==0&&(S=xe)}for(H=0;H<y;H++)_[H]=pl(_[H]);for(j=0;j<=y;j++)A[R+j]=-1;for(j=y;j>=0;j--)A[O+j]>0||(A[C+j]=A[R+_[j]],A[R+_[j]]=j);for(K=y;K>=0;K--)A[O+K]<=0||_[K]!==-1&&(A[C+K]=A[R+_[K]],A[R+_[K]]=K);for(Z=0,H=0;H<=y;H++)_[H]===-1&&(Z=KY(H,Z,A,R,C,x,F));return x.splice(x.length-1,1),x};function i(u,f,d,p,m){var y=n(f);if(u===1&&p===d)return e(f,y);if(u===2){for(var g=y._index,b=y._ptr,E=0,N=0;N<d;N++){var _=b[N];if(b[N]=E,!(b[N+1]-_>m))for(var S=b[N+1];_<S;_++)g[E++]=g[_]}return b[d]=E,f=n(y),r(y,f)}return r(y,f)}function a(u,f,d,p,m,y,g,b,E,N,_,S){for(var x=0;x<u;x++)d[p+x]=f[x+1]-f[x];d[p+u]=0;for(var A=0;A<=u;A++)d[m+A]=-1,y[A]=-1,d[g+A]=-1,d[b+A]=-1,d[E+A]=1,d[N+A]=1,d[_+A]=0,d[S+A]=d[p+A];var T=s(0,0,d,N,u);return d[_+u]=-2,f[u]=-1,d[N+u]=0,T}function o(u,f,d,p,m,y,g,b,E,N,_){for(var S=0,x=0;x<u;x++){var A=d[p+x];if(A===0)d[m+x]=-2,S++,f[x]=-1,d[y+x]=0;else if(A>g)d[b+x]=0,d[m+x]=-1,S++,f[x]=pl(u),d[b+u]++;else{var T=d[E+A];T!==-1&&(N[T]=x),d[_+x]=d[E+A],d[E+A]=x}}return S}function s(u,f,d,p,m){if(u<2||u+f<0){for(var y=0;y<m;y++)d[p+y]!==0&&(d[p+y]=1);u=2}return u}function l(u,f){return u!==f}});function M3e(t,e,r,n,i,a,o){var s,l,u=0,f;if(t<=e||r[n+e]<=r[i+t])return-1;r[i+t]=r[n+e];var d=r[a+t];if(r[a+t]=e,d===-1)u=1,f=t;else{for(u=2,f=d;f!==r[o+f];f=r[o+f]);for(s=d;s!==f;s=l)l=r[o+s],r[o+s]=f}return{jleaf:u,q:f}}var I3e="csCounts",R3e=["transpose"],P3e=ne(I3e,R3e,t=>{var{transpose:e}=t;return function(r,n,i,a){if(!r||!n||!i)return null;var o=r._size,s=o[0],l=o[1],u,f,d,p,m,y,g,b=4*l+(a?l+s+1:0),E=[],N=0,_=l,S=2*l,x=3*l,A=4*l,T=5*l+1;for(d=0;d<b;d++)E[d]=-1;var O=[],C=e(r),R=C._index,I=C._ptr;for(d=0;d<l;d++)for(f=i[d],O[f]=E[x+f]===-1?1:0;f!==-1&&E[x+f]===-1;f=n[f])E[x+f]=d;if(a){for(d=0;d<l;d++)E[i[d]]=d;for(u=0;u<s;u++){for(d=l,y=I[u],g=I[u+1],m=y;m<g;m++)d=Math.min(d,E[R[m]]);E[T+u]=E[A+d],E[A+d]=u}}for(u=0;u<l;u++)E[N+u]=u;for(d=0;d<l;d++){for(f=i[d],n[f]!==-1&&O[n[f]]--,p=a?E[A+d]:f;p!==-1;p=a?E[T+p]:-1)for(m=I[p];m<I[p+1];m++){u=R[m];var P=M3e(u,f,E,x,_,S,N);P.jleaf>=1&&O[f]++,P.jleaf===2&&O[P.q]--}n[f]!==-1&&(E[N+f]=n[f])}for(f=0;f<l;f++)n[f]!==-1&&(O[n[f]]+=O[f]);return O}}),B3e="csSqr",F3e=["add","multiply","transpose"],k3e=ne(B3e,F3e,t=>{var{add:e,multiply:r,transpose:n}=t,i=O3e({add:e,multiply:r,transpose:n}),a=P3e({transpose:n});return function(l,u,f){var d=u._ptr,p=u._size,m=p[1],y,g={};if(g.q=i(l,u),l&&!g.q)return null;if(f){var b=l?E3e(u,null,g.q):u;g.parent=T3e(b);var E=S3e(g.parent,m);if(g.cp=a(b,g.parent,E,1),b&&g.parent&&g.cp&&o(b,g))for(g.unz=0,y=0;y<m;y++)g.unz+=g.cp[y]}else g.unz=4*d[m]+m,g.lnz=g.unz;return g};function o(s,l){var u=s._ptr,f=s._index,d=s._size,p=d[0],m=d[1];l.pinv=[],l.leftmost=[];var y=l.parent,g=l.pinv,b=l.leftmost,E=[],N=0,_=p,S=p+m,x=p+2*m,A,T,O,C,R;for(T=0;T<m;T++)E[_+T]=-1,E[S+T]=-1,E[x+T]=0;for(A=0;A<p;A++)b[A]=-1;for(T=m-1;T>=0;T--)for(C=u[T],R=u[T+1],O=C;O<R;O++)b[f[O]]=T;for(A=p-1;A>=0;A--)g[A]=-1,T=b[A],T!==-1&&(E[x+T]++===0&&(E[S+T]=A),E[N+A]=E[_+T],E[_+T]=A);for(l.lnz=0,l.m2=p,T=0;T<m;T++)if(A=E[_+T],l.lnz++,A<0&&(A=l.m2++),g[A]=T,!(--x[T]<=0)){l.lnz+=E[x+T];var I=y[T];I!==-1&&(E[x+I]===0&&(E[S+I]=E[S+T]),E[N+E[S+T]]=E[_+I],E[_+I]=E[N+A],E[x+I]+=E[x+T])}for(A=0;A<p;A++)g[A]<0&&(g[A]=T++);return!0}});function qC(t,e){return t[e]<0}function XY(t,e){t[e]=pl(t[e])}function vj(t){return t<0?pl(t):t}function $3e(t,e,r,n,i){var a=e._index,o=e._ptr,s=e._size,l=s[1],u,f,d,p=0;for(n[0]=t;p>=0;){t=n[p];var m=i?i[t]:t;qC(o,t)||(XY(o,t),n[l+p]=m<0?0:vj(o[m]));var y=1;for(f=n[l+p],d=m<0?0:vj(o[m+1]);f<d;f++)if(u=a[f],!qC(o,u)){n[l+p]=f,n[++p]=u,y=0;break}y&&(p--,n[--r]=t)}return r}function L3e(t,e,r,n,i){var a=t._ptr,o=t._size,s=e._index,l=e._ptr,u=o[1],f,d,p,m=u;for(d=l[r],p=l[r+1],f=d;f<p;f++){var y=s[f];qC(a,y)||(m=$3e(y,t,m,n,i))}for(f=m;f<u;f++)XY(a,n[f]);return m}var q3e="csSpsolve",U3e=["divideScalar","multiply","subtract"],j3e=ne(q3e,U3e,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(a,o,s,l,u,f,d){var p=a._values,m=a._index,y=a._ptr,g=a._size,b=g[1],E=o._values,N=o._index,_=o._ptr,S,x,A,T,O=L3e(a,o,s,l,f);for(S=O;S<b;S++)u[l[S]]=0;for(x=_[s],A=_[s+1],S=x;S<A;S++)u[N[S]]=E[S];for(var C=O;C<b;C++){var R=l[C],I=f?f[R]:R;if(!(I<0))for(x=y[I],A=y[I+1],u[R]=e(u[R],p[d?x:A-1]),S=d?x+1:x,T=d?A:A-1;S<T;S++){var P=m[S];u[P]=n(u[P],r(p[S],u[R]))}}return O}}),z3e="csLu",V3e=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],H3e=ne(z3e,V3e,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:s}=t,l=j3e({divideScalar:r,multiply:n,subtract:i});return function(f,d,p){if(!f)return null;var m=f._size,y=m[1],g,b=100,E=100;d&&(g=d.q,b=d.lnz||b,E=d.unz||E);var N=[],_=[],S=[],x=new s({values:N,index:_,ptr:S,size:[y,y]}),A=[],T=[],O=[],C=new s({values:A,index:T,ptr:O,size:[y,y]}),R=[],I,P,F=[],z=[];for(I=0;I<y;I++)F[I]=0,R[I]=-1,S[I+1]=0;b=0,E=0;for(var U=0;U<y;U++){S[U]=b,O[U]=E;var k=g?g[U]:U,V=l(x,f,k,z,F,R,1),Y=-1,H=-1;for(P=V;P<y;P++)if(I=z[P],R[I]<0){var j=e(F[I]);a(j,H)&&(H=j,Y=I)}else T[E]=R[I],A[E++]=F[I];if(Y===-1||H<=0)return null;R[k]<0&&o(e(F[k]),n(H,p))&&(Y=k);var Z=F[Y];for(T[E]=U,A[E++]=Z,R[Y]=U,_[b]=Y,N[b++]=1,P=V;P<y;P++)I=z[P],R[I]<0&&(_[b]=I,N[b++]=r(F[I],Z)),F[I]=0}for(S[y]=b,O[y]=E,P=0;P<b;P++)_[P]=R[_[P]];return N.splice(b,N.length-b),_.splice(b,_.length-b),A.splice(E,A.length-E),T.splice(E,T.length-E),{L:x,U:C,pinv:R}}}),gj="slu",G3e=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],K3e=ne(gj,G3e,t=>{var{typed:e,abs:r,add:n,multiply:i,transpose:a,divideScalar:o,subtract:s,larger:l,largerEq:u,SparseMatrix:f}=t,d=k3e({add:n,multiply:i,transpose:a}),p=H3e({abs:r,divideScalar:o,multiply:i,subtract:s,larger:l,largerEq:u,SparseMatrix:f});return e(gj,{"SparseMatrix, number, number":function(y,g,b){if(!ft(g)||g<0||g>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(b<0||b>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var E=d(g,y,!1),N=p(y,E,b);return{L:N.L,U:N.U,p:N.pinv,q:E.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function yj(t,e){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}var bj="lusolve",X3e=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],W3e=ne(bj,X3e,t=>{var{typed:e,matrix:r,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:s}=t,l=Mg({DenseMatrix:s});return e(bj,{"Array, Array | Matrix":function(p,m){p=r(p);var y=n(p),g=f(y.L,y.U,y.p,null,m);return g.valueOf()},"DenseMatrix, Array | Matrix":function(p,m){var y=n(p);return f(y.L,y.U,y.p,null,m)},"SparseMatrix, Array | Matrix":function(p,m){var y=n(p);return f(y.L,y.U,y.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(p,m,y,g){var b=i(p,y,g);return f(b.L,b.U,b.p,b.q,m)},"Object, Array | Matrix":function(p,m){return f(p.L,p.U,p.p,p.q,m)}});function u(d){if(gt(d))return d;if(Sr(d))return r(d);throw new TypeError("Invalid Matrix LU decomposition")}function f(d,p,m,y,g){d=u(d),p=u(p),m&&(g=l(d,g,!0),g._data=yj(m,g._data));var b=o(d,g),E=a(p,b);return y&&(E._data=yj(y,E._data)),E}}),wj="polynomialRoot",Y3e=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],Q3e=ne(wj,Y3e,t=>{var{typed:e,isZero:r,equalScalar:n,add:i,subtract:a,multiply:o,divide:s,sqrt:l,unaryMinus:u,cbrt:f,typeOf:d,im:p,re:m}=t;return e(wj,{"number|Complex, ...number|Complex":(y,g)=>{for(var b=[y,...g];b.length>0&&r(b[b.length-1]);)b.pop();if(b.length<2)throw new RangeError("Polynomial [".concat(y,", ").concat(g,"] must have a non-zero non-constant coefficient"));switch(b.length){case 2:return[u(s(b[0],b[1]))];case 3:{var[E,N,_]=b,S=o(2,_),x=o(N,N),A=o(4,_,E);if(n(x,A))return[s(u(N),S)];var T=l(a(x,A));return[s(a(T,N),S),s(a(u(T),N),S)]}case 4:{var[O,C,R,I]=b,P=u(o(3,I)),F=o(R,R),z=o(3,I,C),U=i(o(2,R,R,R),o(27,I,I,O)),k=o(9,I,R,C);if(n(F,z)&&n(U,k))return[s(R,P)];var V=a(F,z),Y=a(U,k),H=i(o(18,I,R,C,O),o(R,R,C,C)),j=i(o(4,R,R,R,O),o(4,I,C,C,C),o(27,I,I,O,O));if(n(H,j))return[s(a(o(4,I,R,C),i(o(9,I,I,O),o(R,R,R))),o(I,V)),s(a(o(9,I,O),o(R,C)),o(2,V))];var Z;n(F,z)?Z=Y:Z=s(i(Y,l(a(o(Y,Y),o(4,V,V,V)))),2);var $=!0,W=f(Z,$).toArray().map(K=>s(i(R,K,s(V,K)),P));return W.map(K=>d(K)==="Complex"&&n(m(K),m(K)+p(K))?m(K):K)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(b))}}})}),Z3e="Help",J3e=["evaluate"],e4e=ne(Z3e,J3e,t=>{var{evaluate:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a=!1,o=e("config()"),s={config:d=>(a=!0,e("config(newConfig)",{newConfig:d}))},l=0;l<n.examples.length;l++){var u=n.examples[l];i+="    "+u+`
`;var f=void 0;try{f=e(u,s)}catch(d){f=d}f!==void 0&&!eW(f)&&(i+="        "+Ut(f,{precision:14})+`
`)}i+=`
`,a&&e("config(originalConfig)",{originalConfig:o})}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},r.prototype.toJSON=function(){var n=Ct(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new r(i)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0}),t4e="Chain",r4e=["?on","math","typed"],n4e=ne(t4e,r4e,t=>{var{on:e,math:r,typed:n}=t;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");nW(u)?this.value=u.value:this.value=u}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return Ut(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(u){return new i(u.value)};function a(u,f){typeof f=="function"&&(i.prototype[u]=s(f))}function o(u,f){YEe(i.prototype,u,function(){var p=f();if(typeof p=="function")return s(p)})}function s(u){return function(){if(arguments.length===0)return new i(u(this.value));for(var f=[this.value],d=0;d<arguments.length;d++)f[d+1]=arguments[d];if(n.isTypedFunction(u)){var p=n.resolve(u,f);if(p.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new i(p.implementation.apply(u,f))}return new i(u.apply(u,f))}}i.createProxy=function(u,f){if(typeof u=="string")a(u,f);else{var d=function(y){ut(u,y)&&l[y]===void 0&&o(y,()=>u[y])};for(var p in u)d(p)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(r),e&&e("import",function(u,f,d){d||o(u,f)}),i},{isClass:!0}),_j={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},i4e={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},a4e={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},o4e={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},s4e={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},u4e={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},l4e={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},c4e={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},f4e={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},h4e={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},d4e={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},xj={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},p4e={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},m4e={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},v4e={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},g4e={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},y4e={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},b4e={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},w4e={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},_4e={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},x4e={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},A4e={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},E4e={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},S4e={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix","number","range","string","unit"]},T4e={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},D4e={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},N4e={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},C4e={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},O4e={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},M4e={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},I4e={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},R4e={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},P4e={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},B4e={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},F4e={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},k4e={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},$4e={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},L4e={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},q4e={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},U4e={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},j4e={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},z4e={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},V4e={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},H4e={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},G4e={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},K4e={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},X4e={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},W4e={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},Y4e={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},Q4e={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},Z4e={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},J4e={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},eBe={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},tBe={name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},rBe={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},nBe={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},iBe={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},aBe={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},oBe={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},sBe={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},uBe={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},lBe={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},cBe={name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},fBe={name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},hBe={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},dBe={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},pBe={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax ≣ 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},mBe={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},vBe={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},gBe={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},yBe={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},bBe={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},wBe={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},_Be={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},xBe={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},ABe={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},EBe={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},SBe={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},TBe={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},DBe={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},NBe={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},CBe={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},OBe={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},MBe={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},IBe={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},RBe={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},PBe={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},BBe={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},FBe={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},kBe={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},$Be={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},LBe={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},qBe={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},UBe={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},jBe={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},zBe={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},VBe={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},HBe={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},GBe={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},KBe={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},XBe={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},WBe={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},YBe={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},QBe={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},ZBe={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},JBe={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:["parser","parse","compile"]},eFe={name:"parser",category:"Expression",syntax:["parser()"],description:"Create a parser object that keeps a context of variables and their values, allowing the evaluation of expressions in that context.",examples:["myParser = parser()",'myParser.evaluate("sqrt(3^2 + 4^2)")','myParser.set("x", 3)','myParser.evaluate("y = x + 3")','myParser.evaluate(["y = x + 3", "y = y + 1"])','myParser.get("y")'],seealso:["evaluate","parse","compile"]},tFe={name:"parse",category:"Expression",syntax:["parse(expr)","parse(expr, options)","parse([expr1, expr2, expr3, ...])","parse([expr1, expr2, expr3, ...], options)"],description:"Parse an expression. Returns a node tree, which can be evaluated by invoking node.evaluate() or transformed into a functional object via node.compile().",examples:['node1 = parse("sqrt(3^2 + 4^2)")',"node1.evaluate()","code1 = node1.compile()","code1.evaluate()","scope = {a: 3, b: 4}",'node2 = parse("a * b")',"node2.evaluate(scope)","code2 = node2.compile()","code2.evaluate(scope)"],seealso:["parser","evaluate","compile"]},rFe={name:"compile",category:"Expression",syntax:["compile(expr) ","compile([expr1, expr2, expr3, ...])"],description:"Parse and compile an expression. Returns a an object with a function evaluate([scope]) to evaluate the compiled expression.",examples:['code1 = compile("sqrt(3^2 + 4^2)")',"code1.evaluate() ",'code2 = compile("a * b")',"code2.evaluate({a: 3, b: 4})"],seealso:["parser","parse","evaluate"]},nFe={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},iFe={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},aFe={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},oFe={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},sFe={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},uFe={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},lFe={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},cFe={name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]},fFe={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},hFe={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},dFe={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},pFe={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},mFe={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},vFe={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},gFe={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},yFe={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},bFe={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},wFe={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},_Fe={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},xFe={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},AFe={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},EFe={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},SFe={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},TFe={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},DFe={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore–Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},NFe={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},CFe={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},OFe={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},MFe={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},IFe={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},RFe={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},PFe={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},BFe={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},FFe={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},kFe={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},$Fe={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},LFe={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},qFe={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},UFe={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},jFe={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},zFe={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},VFe={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},HFe={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},GFe={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},KFe={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},XFe={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},WFe={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},YFe={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},QFe={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},ZFe={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},JFe={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},eke={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},tke={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},rke={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},nke={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},ike={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},ake={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},oke={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},ske={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},uke={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},lke={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},cke={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},fke={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},hke={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},dke={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},pke={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},mke={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},vke={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},gke={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},yke={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},bke={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},wke={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},_ke={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},xke={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},Ake={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},Eke={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},Ske={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},Tke={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},Dke={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},Nke={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},Cke={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},Oke={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},Mke={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},Ike={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},Rke={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},Pke={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},Bke={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},Fke={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},kke={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},$ke={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},Lke={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},qke={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},Uke={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},jke={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","variance"]},zke={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},Vke={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},Hke={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},Gke={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},Kke={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},Xke={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},Wke={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},Yke={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},Qke={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},Zke={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},Jke={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},e$e={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},t$e={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},r$e={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},n$e={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},i$e={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},a$e={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},o$e={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},s$e={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},u$e={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},l$e={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},c$e={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},f$e={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},h$e={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},d$e={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},p$e={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},m$e={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},v$e={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},g$e={name:"toBest",category:"Units",syntax:["toBest(x)","toBest(x, unitList)","toBest(x, unitList, options)"],description:"Converts to the most appropriate display unit.",examples:['toBest(unit(5000, "m"))','toBest(unit(3500000, "W"))','toBest(unit(0.000000123, "A"))','toBest(unit(10, "m"), "cm")','toBest(unit(10, "m"), "mm,km", {offset: 1.5})'],seealso:[]},y$e={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},b$e={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},w$e={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},_$e={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},x$e={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},A$e={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},E$e={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},S$e={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},T$e={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},D$e={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},N$e={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},C$e={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},O$e={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]},M$e={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},I$e={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},R$e={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},P$e={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},B$e={bignumber:b4e,bigint:w4e,boolean:_4e,complex:x4e,createUnit:A4e,fraction:E4e,index:S4e,matrix:T4e,number:D4e,sparse:N4e,splitUnit:C4e,string:O4e,unit:M4e,e:_j,E:_j,false:i4e,i:a4e,Infinity:o4e,LN2:u4e,LN10:s4e,LOG2E:c4e,LOG10E:l4e,NaN:f4e,null:h4e,pi:xj,PI:xj,phi:d4e,SQRT1_2:p4e,SQRT2:m4e,tau:v4e,true:g4e,version:y4e,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant. Deprecated in favor of coulombConstant",examples:["coulombConstant"]},coulombConstant:{description:"Coulomb's constant",examples:["coulombConstant"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:B4e,lsolve:k4e,lsolveAll:$4e,lup:L4e,lusolve:q4e,leafCount:F4e,polynomialRoot:U4e,resolve:V4e,simplify:H4e,simplifyConstant:G4e,simplifyCore:K4e,symbolicEqual:W4e,rationalize:z4e,slu:X4e,usolve:Y4e,usolveAll:Q4e,qr:j4e,abs:Z4e,add:J4e,cbrt:eBe,ceil:tBe,cube:rBe,divide:nBe,dotDivide:iBe,dotMultiply:aBe,dotPow:oBe,exp:sBe,expm:uBe,expm1:lBe,fix:cBe,floor:fBe,gcd:hBe,hypot:dBe,lcm:mBe,log:vBe,log2:bBe,log1p:yBe,log10:gBe,mod:wBe,multiply:_Be,norm:xBe,nthRoot:ABe,nthRoots:EBe,pow:SBe,round:TBe,sign:DBe,sqrt:NBe,sqrtm:CBe,square:RBe,subtract:PBe,unaryMinus:BBe,unaryPlus:FBe,xgcd:kBe,invmod:pBe,bitAnd:$Be,bitNot:LBe,bitOr:qBe,bitXor:UBe,leftShift:jBe,rightArithShift:zBe,rightLogShift:VBe,bellNumbers:HBe,catalan:GBe,composition:KBe,stirlingS2:XBe,config:I4e,import:R4e,typed:P4e,arg:WBe,conj:YBe,re:ZBe,im:QBe,evaluate:JBe,help:nFe,parse:tFe,parser:eFe,compile:rFe,distance:iFe,intersect:aFe,and:oFe,not:sFe,or:uFe,xor:lFe,mapSlices:cFe,concat:hFe,count:dFe,cross:pFe,column:fFe,ctranspose:mFe,det:vFe,diag:gFe,diff:yFe,dot:bFe,getMatrixDataType:EFe,identity:SFe,filter:_Fe,flatten:xFe,forEach:AFe,inv:TFe,pinv:DFe,eigs:wFe,kron:NFe,matrixFromFunction:MFe,matrixFromRows:IFe,matrixFromColumns:OFe,map:CFe,ones:RFe,partitionSelect:PFe,range:BFe,resize:kFe,reshape:FFe,rotate:$Fe,rotationMatrix:LFe,row:qFe,size:UFe,sort:jFe,squeeze:zFe,subset:VFe,trace:HFe,transpose:GFe,zeros:KFe,fft:XFe,ifft:WFe,sylvester:OBe,schur:MBe,lyap:IBe,solveODE:P$e,combinations:YFe,combinationsWithRep:QFe,factorial:ZFe,gamma:JFe,kldivergence:tke,lgamma:eke,multinomial:rke,permutations:nke,pickRandom:ike,random:ake,randomInt:oke,compare:ske,compareNatural:uke,compareText:lke,deepEqual:cke,equal:fke,equalText:hke,larger:dke,largerEq:pke,smaller:mke,smallerEq:vke,unequal:gke,setCartesian:yke,setDifference:bke,setDistinct:wke,setIntersect:_ke,setIsSubset:xke,setMultiplicity:Ake,setPowerset:Eke,setSize:Ske,setSymDifference:Tke,setUnion:Dke,zpk2tf:Nke,freqz:Cke,erf:Oke,zeta:Mke,cumsum:Uke,mad:Ike,max:Rke,mean:Pke,median:Bke,min:Fke,mode:kke,prod:$ke,quantileSeq:Lke,std:qke,sum:jke,variance:zke,corr:Vke,acos:Hke,acosh:Gke,acot:Kke,acoth:Xke,acsc:Wke,acsch:Yke,asec:Qke,asech:Zke,asin:Jke,asinh:e$e,atan:t$e,atanh:n$e,atan2:r$e,cos:i$e,cosh:a$e,cot:o$e,coth:s$e,csc:u$e,csch:l$e,sec:c$e,sech:f$e,sin:h$e,sinh:d$e,tan:p$e,tanh:m$e,to:v$e,toBest:g$e,clone:b$e,format:w$e,bin:y$e,oct:M$e,hex:x$e,isNaN:E$e,isInteger:A$e,isNegative:S$e,isNumeric:T$e,hasNumericValue:_$e,isPositive:D$e,isPrime:N$e,isZero:C$e,print:I$e,typeOf:R$e,numeric:O$e},Aj="help",F$e=["typed","mathWithTransform","Help"],k$e=ne(Aj,F$e,t=>{var{typed:e,mathWithTransform:r,Help:n}=t;return e(Aj,{any:function(a){var o,s=a;if(typeof a!="string"){for(o in r)if(ut(r,o)&&a===r[o]){s=o;break}}var l=Ui(B$e,s);if(!l){var u=typeof s=="function"?s.name:s;throw new Error('No documentation found on "'+u+'"')}return new n(l)}})}),Ej="chain",$$e=["typed","Chain"],L$e=ne(Ej,$$e,t=>{var{typed:e,Chain:r}=t;return e(Ej,{"":function(){return new r},any:function(i){return new r(i)}})}),Sj="det",q$e=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],U$e=ne(Sj,q$e,t=>{var{typed:e,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:s}=t;return e(Sj,{any:function(f){return Ct(f)},"Array | Matrix":function(f){var d;switch(gt(f)?d=f.size():Array.isArray(f)?(f=r(f),d=f.size()):d=[],d.length){case 0:return Ct(f);case 1:if(d[0]===1)return Ct(f.valueOf()[0]);if(d[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ut(d)+")");case 2:{var p=d[0],m=d[1];if(p===m)return l(f.clone().valueOf(),p);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+Ut(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ut(d)+")")}}});function l(u,f,d){if(f===1)return Ct(u[0][0]);if(f===2)return n(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var p=!1,m=new Array(f).fill(0).map((T,O)=>O),y=0;y<f;y++){var g=m[y];if(o(u[g][y])){var b=void 0;for(b=y+1;b<f;b++)if(!o(u[m[b]][y])){g=m[b],m[b]=m[y],m[y]=g,p=!p;break}if(b===f)return u[g][y]}for(var E=u[g][y],N=y===0?1:u[m[y-1]][y-1],_=y+1;_<f;_++)for(var S=m[_],x=y+1;x<f;x++)u[S][x]=a(n(i(u[S][x],E),i(u[S][y],u[g][x])),N)}var A=u[m[f-1]][f-1];return p?s(A):A}}),Tj="inv",j$e=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],z$e=ne(Tj,j$e,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:s,identity:l,abs:u}=t;return e(Tj,{"Array | Matrix":function(p){var m=gt(p)?p.size():Dt(p);switch(m.length){case 1:if(m[0]===1)return gt(p)?r([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+Ut(m)+")");case 2:{var y=m[0],g=m[1];if(y===g)return gt(p)?r(f(p.valueOf(),y,g),p.storage()):f(p,y,g);throw new RangeError("Matrix must be square (size: "+Ut(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ut(m)+")")}},any:function(p){return n(1,p)}});function f(d,p,m){var y,g,b,E,N;if(p===1){if(E=d[0][0],E===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,E)]]}else if(p===2){var _=s(d);if(_===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(d[1][1],_),n(o(d[0][1]),_)],[n(o(d[1][0]),_),n(d[0][0],_)]]}else{var S=d.concat();for(y=0;y<p;y++)S[y]=S[y].concat();for(var x=l(p).valueOf(),A=0;A<m;A++){var T=u(S[A][A]),O=A;for(y=A+1;y<p;)u(S[y][A])>T&&(T=u(S[y][A]),O=y),y++;if(T===0)throw Error("Cannot calculate inverse, determinant is zero");y=O,y!==A&&(N=S[A],S[A]=S[y],S[y]=N,N=x[A],x[A]=x[y],x[y]=N);var C=S[A],R=x[A];for(y=0;y<p;y++){var I=S[y],P=x[y];if(y!==A){if(I[A]!==0){for(b=n(o(I[A]),C[A]),g=A;g<m;g++)I[g]=i(I[g],a(b,C[g]));for(g=0;g<m;g++)P[g]=i(P[g],a(b,R[g]))}}else{for(b=C[A],g=A;g<m;g++)I[g]=n(I[g],b);for(g=0;g<m;g++)P[g]=n(P[g],b)}}}return x}}}),Dj="pinv",V$e=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],H$e=ne(Dj,V$e,t=>{var{typed:e,matrix:r,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:s,ctranspose:l,divideScalar:u,multiply:f,add:d,Complex:p}=t;return e(Dj,{"Array | Matrix":function(_){var S=gt(_)?_.size():Dt(_);switch(S.length){case 1:return E(_)?l(_):S[0]===1?n(_):o(l(_),s(_,_));case 2:{if(E(_))return l(_);var x=S[0],A=S[1];if(x===A)try{return n(_)}catch(T){if(!(T instanceof Error&&T.message.match(/Cannot calculate inverse, determinant is zero/)))throw T}return gt(_)?r(m(_.valueOf(),x,A),_.storage()):m(_,x,A)}default:throw new RangeError("Matrix must be two dimensional (size: "+Ut(S)+")")}},any:function(_){return a(_,0)?Ct(_):u(1,_)}});function m(N,_,S){var{C:x,F:A}=g(N,_,S),T=f(n(f(l(x),x)),l(x)),O=f(l(A),n(f(A,l(A))));return f(O,T)}function y(N,_,S){for(var x=Ct(N),A=0,T=0;T<_;T++){if(S<=A)return x;for(var O=T;b(x[O][A]);)if(O++,_===O&&(O=T,A++,S===A))return x;[x[O],x[T]]=[x[T],x[O]];for(var C=x[T][A],R=0;R<S;R++)x[T][R]=o(x[T][R],C);for(var I=0;I<_;I++)if(I!==T){C=x[I][A];for(var P=0;P<S;P++)x[I][P]=d(x[I][P],f(-1,f(C,x[T][P])))}A++}return x}function g(N,_,S){var x=y(N,_,S),A=N.map((O,C)=>O.filter((R,I)=>I<_&&!b(s(x[I],x[I])))),T=x.filter((O,C)=>!b(s(x[C],x[C])));return{C:A,F:T}}function b(N){return a(d(N,p(1,1)),d(0,p(1,1)))}function E(N){return i(d(N,p(1,1)),d(f(N,0),p(1,1)))}});function G$e(t){var{addScalar:e,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:s,abs:l,bignumber:u,diag:f,size:d,reshape:p,inv:m,qr:y,usolve:g,usolveAll:b,equal:E,complex:N,larger:_,smaller:S,matrixFromColumns:x,dot:A}=t;function T($,W,K,ge){var me=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Ee=O($,W,K,ge,me);C($,W,K,ge,me,Ee);var{values:J,C:ee}=R($,W,K,ge,me);if(me){var ue=I($,W,ee,Ee,J,K,ge);return{values:J,eigenvectors:ue}}return{values:J}}function O($,W,K,ge,me){var Ee=ge==="BigNumber",J=ge==="Complex",ee=Ee?u(0):0,ue=Ee?u(1):J?N(1):1,le=Ee?u(1):1,ie=Ee?u(10):2,Te=a(ie,ie),he;me&&(he=Array(W).fill(ue));for(var Ce=!1;!Ce;){Ce=!0;for(var je=0;je<W;je++){for(var We=ee,xe=ee,ze=0;ze<W;ze++)je!==ze&&(We=e(We,l($[ze][je])),xe=e(xe,l($[je][ze])));if(!E(We,0)&&!E(xe,0)){for(var te=le,ce=We,be=o(xe,ie),Q=a(xe,ie);S(ce,be);)ce=a(ce,Te),te=a(te,ie);for(;_(ce,Q);)ce=o(ce,Te),te=o(te,ie);var oe=S(o(e(ce,xe),te),a(e(We,xe),.95));if(oe){Ce=!1;for(var de=o(1,te),ye=0;ye<W;ye++)je!==ye&&($[je][ye]=a($[je][ye],de),$[ye][je]=a($[ye][je],te));me&&(he[je]=a(he[je],de))}}}}return me?f(he):null}function C($,W,K,ge,me,Ee){var J=ge==="BigNumber",ee=ge==="Complex",ue=J?u(0):ee?N(0):0;J&&(K=u(K));for(var le=0;le<W-2;le++){for(var ie=0,Te=ue,he=le+1;he<W;he++){var Ce=$[he][le];S(l(Te),l(Ce))&&(Te=Ce,ie=he)}if(!S(l(Te),K)){if(ie!==le+1){var je=$[ie];$[ie]=$[le+1],$[le+1]=je;for(var We=0;We<W;We++){var xe=$[We][ie];$[We][ie]=$[We][le+1],$[We][le+1]=xe}if(me){var ze=Ee[ie];Ee[ie]=Ee[le+1],Ee[le+1]=ze}}for(var te=le+2;te<W;te++){var ce=o($[te][le],Te);if(ce!==0){for(var be=0;be<W;be++)$[te][be]=r($[te][be],a(ce,$[le+1][be]));for(var Q=0;Q<W;Q++)$[Q][le+1]=e($[Q][le+1],a(ce,$[Q][te]));if(me)for(var oe=0;oe<W;oe++)Ee[te][oe]=r(Ee[te][oe],a(ce,Ee[le+1][oe]))}}}}return Ee}function R($,W,K,ge,me){var Ee=ge==="BigNumber",J=ge==="Complex",ee=Ee?u(1):J?N(1):1;Ee&&(K=u(K));for(var ue=Ct($),le=[],ie=W,Te=[],he=me?f(Array(W).fill(ee)):void 0,Ce=me?f(Array(ie).fill(ee)):void 0,je=0;je<=100;){je+=1;for(var We=ue[ie-1][ie-1],xe=0;xe<ie;xe++)ue[xe][xe]=r(ue[xe][xe],We);var{Q:ze,R:te}=y(ue);ue=i(te,ze);for(var ce=0;ce<ie;ce++)ue[ce][ce]=e(ue[ce][ce],We);if(me&&(Ce=i(Ce,ze)),ie===1||S(l(ue[ie-1][ie-2]),K)){je=0,le.push(ue[ie-1][ie-1]),me&&(Te.unshift([[1]]),z(Ce,W),he=i(he,Ce),ie>1&&(Ce=f(Array(ie-1).fill(ee)))),ie-=1,ue.pop();for(var be=0;be<ie;be++)ue[be].pop()}else if(ie===2||S(l(ue[ie-2][ie-3]),K)){je=0;var Q=P(ue[ie-2][ie-2],ue[ie-2][ie-1],ue[ie-1][ie-2],ue[ie-1][ie-1]);le.push(...Q),me&&(Te.unshift(F(ue[ie-2][ie-2],ue[ie-2][ie-1],ue[ie-1][ie-2],ue[ie-1][ie-1],Q[0],Q[1],K,ge)),z(Ce,W),he=i(he,Ce),ie>2&&(Ce=f(Array(ie-2).fill(ee)))),ie-=2,ue.pop(),ue.pop();for(var oe=0;oe<ie;oe++)ue[oe].pop(),ue[oe].pop()}if(ie===0)break}if(le.sort((_e,Re)=>+r(l(_e),l(Re))),je>100){var de=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+le.join(", "));throw de.values=le,de.vectors=[],de}var ye=me?i(he,U(Te,W)):void 0;return{values:le,C:ye}}function I($,W,K,ge,me,Ee,J){var ee=m(K),ue=i(ee,$,K),le=J==="BigNumber",ie=J==="Complex",Te=le?u(0):ie?N(0):0,he=le?u(1):ie?N(1):1,Ce=[],je=[];for(var We of me){var xe=k(Ce,We,E);xe===-1?(Ce.push(We),je.push(1)):je[xe]+=1}for(var ze=[],te=Ce.length,ce=Array(W).fill(Te),be=f(Array(W).fill(he)),Q=function(){var ye=Ce[oe],_e=r(ue,i(ye,be)),Re=b(_e,ce);for(Re.shift();Re.length<je[oe];){var qe=V(_e,W,Re,Ee,J);if(qe===null)break;Re.push(qe)}var Qe=i(m(ge),K);Re=Re.map(Je=>i(Qe,Je)),ze.push(...Re.map(Je=>({value:ye,vector:n(Je)})))},oe=0;oe<te;oe++)Q();return ze}function P($,W,K,ge){var me=e($,ge),Ee=r(a($,ge),a(W,K)),J=a(me,.5),ee=a(s(r(a(me,me),a(4,Ee))),.5);return[e(J,ee),r(J,ee)]}function F($,W,K,ge,me,Ee,J,ee){var ue=ee==="BigNumber",le=ee==="Complex",ie=ue?u(0):le?N(0):0,Te=ue?u(1):le?N(1):1;if(S(l(K),J))return[[Te,ie],[ie,Te]];if(_(l(r(me,Ee)),J))return[[r(me,ge),r(Ee,ge)],[K,K]];var he=r($,me),Ce=r(ge,me);return S(l(W),J)&&S(l(Ce),J)?[[he,Te],[K,ie]]:[[W,ie],[Ce,Te]]}function z($,W){for(var K=0;K<$.length;K++)$[K].push(...Array(W-$[K].length).fill(0));for(var ge=$.length;ge<W;ge++)$.push(Array(W).fill(0)),$[ge][ge]=1;return $}function U($,W){for(var K=[],ge=0;ge<W;ge++)K[ge]=Array(W).fill(0);var me=0;for(var Ee of $){for(var J=Ee.length,ee=0;ee<J;ee++)for(var ue=0;ue<J;ue++)K[me+ee][me+ue]=Ee[ee][ue];me+=J}return K}function k($,W,K){for(var ge=0;ge<$.length;ge++)if(K($[ge],W))return ge;return-1}function V($,W,K,ge,me){for(var Ee=me==="BigNumber"?u(1e3):1e3,J,ee=0;ee<5;++ee){J=Y(W,K,me);try{J=g($,J)}catch{continue}if(_(j(J),Ee))break}if(ee>=5)return null;for(ee=0;;){var ue=g($,J);if(S(j(H(J,[ue])),ge))break;if(++ee>=10)return null;J=Z(ue)}return J}function Y($,W,K){var ge=K==="BigNumber",me=K==="Complex",Ee=Array($).fill(0).map(J=>2*Math.random()-1);return ge&&(Ee=Ee.map(J=>u(J))),me&&(Ee=Ee.map(J=>N(J))),Ee=H(Ee,W),Z(Ee,K)}function H($,W){var K=d($);for(var ge of W)ge=p(ge,K),$=r($,i(o(A(ge,$),A(ge,ge)),ge));return $}function j($){return l(s(A($,$)))}function Z($,W){var K=W==="BigNumber",ge=W==="Complex",me=K?u(1):ge?N(1):1;return i(o(me,j($)),$)}return T}function K$e(t){var{config:e,addScalar:r,subtract:n,abs:i,atan:a,cos:o,sin:s,multiplyScalar:l,inv:u,bignumber:f,multiply:d,add:p}=t;function m(C,R){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,P=arguments.length>3?arguments[3]:void 0,F=arguments.length>4?arguments[4]:void 0;if(P==="number")return y(C,I,F);if(P==="BigNumber")return g(C,I,F);throw TypeError("Unsupported data type: "+P)}function y(C,R,I){var P=C.length,F=Math.abs(R/P),z,U;if(I){U=new Array(P);for(var k=0;k<P;k++)U[k]=Array(P).fill(0),U[k][k]=1}for(var V=A(C);Math.abs(V[1])>=Math.abs(F);){var Y=V[0][0],H=V[0][1];z=b(C[Y][Y],C[H][H],C[Y][H]),C=x(C,z,Y,H),I&&(U=N(U,z,Y,H)),V=A(C)}for(var j=Array(P).fill(0),Z=0;Z<P;Z++)j[Z]=C[Z][Z];return O(Ct(j),U,I)}function g(C,R,I){var P=C.length,F=i(R/P),z,U;if(I){U=new Array(P);for(var k=0;k<P;k++)U[k]=Array(P).fill(0),U[k][k]=1}for(var V=T(C);i(V[1])>=i(F);){var Y=V[0][0],H=V[0][1];z=E(C[Y][Y],C[H][H],C[Y][H]),C=S(C,z,Y,H),I&&(U=_(U,z,Y,H)),V=T(C)}for(var j=Array(P).fill(0),Z=0;Z<P;Z++)j[Z]=C[Z][Z];return O(Ct(j),U,I)}function b(C,R,I){var P=R-C;return Math.abs(P)<=e.relTol?Math.PI/4:.5*Math.atan(2*I/(R-C))}function E(C,R,I){var P=n(R,C);return i(P)<=e.relTol?f(-1).acos().div(4):l(.5,a(d(2,I,u(P))))}function N(C,R,I,P){for(var F=C.length,z=Math.cos(R),U=Math.sin(R),k=Array(F).fill(0),V=Array(F).fill(0),Y=0;Y<F;Y++)k[Y]=z*C[Y][I]-U*C[Y][P],V[Y]=U*C[Y][I]+z*C[Y][P];for(var H=0;H<F;H++)C[H][I]=k[H],C[H][P]=V[H];return C}function _(C,R,I,P){for(var F=C.length,z=o(R),U=s(R),k=Array(F).fill(f(0)),V=Array(F).fill(f(0)),Y=0;Y<F;Y++)k[Y]=n(l(z,C[Y][I]),l(U,C[Y][P])),V[Y]=r(l(U,C[Y][I]),l(z,C[Y][P]));for(var H=0;H<F;H++)C[H][I]=k[H],C[H][P]=V[H];return C}function S(C,R,I,P){for(var F=C.length,z=f(o(R)),U=f(s(R)),k=l(z,z),V=l(U,U),Y=Array(F).fill(f(0)),H=Array(F).fill(f(0)),j=d(f(2),z,U,C[I][P]),Z=r(n(l(k,C[I][I]),j),l(V,C[P][P])),$=p(l(V,C[I][I]),j,l(k,C[P][P])),W=0;W<F;W++)Y[W]=n(l(z,C[I][W]),l(U,C[P][W])),H[W]=r(l(U,C[I][W]),l(z,C[P][W]));C[I][I]=Z,C[P][P]=$,C[I][P]=f(0),C[P][I]=f(0);for(var K=0;K<F;K++)K!==I&&K!==P&&(C[I][K]=Y[K],C[K][I]=Y[K],C[P][K]=H[K],C[K][P]=H[K]);return C}function x(C,R,I,P){for(var F=C.length,z=Math.cos(R),U=Math.sin(R),k=z*z,V=U*U,Y=Array(F).fill(0),H=Array(F).fill(0),j=k*C[I][I]-2*z*U*C[I][P]+V*C[P][P],Z=V*C[I][I]+2*z*U*C[I][P]+k*C[P][P],$=0;$<F;$++)Y[$]=z*C[I][$]-U*C[P][$],H[$]=U*C[I][$]+z*C[P][$];C[I][I]=j,C[P][P]=Z,C[I][P]=0,C[P][I]=0;for(var W=0;W<F;W++)W!==I&&W!==P&&(C[I][W]=Y[W],C[W][I]=Y[W],C[P][W]=H[W],C[W][P]=H[W]);return C}function A(C){for(var R=C.length,I=0,P=[0,1],F=0;F<R;F++)for(var z=F+1;z<R;z++)Math.abs(I)<Math.abs(C[F][z])&&(I=Math.abs(C[F][z]),P=[F,z]);return[P,I]}function T(C){for(var R=C.length,I=0,P=[0,1],F=0;F<R;F++)for(var z=F+1;z<R;z++)i(I)<i(C[F][z])&&(I=i(C[F][z]),P=[F,z]);return[P,I]}function O(C,R,I){var P=C.length,F=Array(P),z;if(I){z=Array(P);for(var U=0;U<P;U++)z[U]=Array(P)}for(var k=0;k<P;k++){for(var V=0,Y=C[0],H=0;H<C.length;H++)i(C[H])<i(Y)&&(V=H,Y=C[V]);if(F[k]=C.splice(V,1)[0],I)for(var j=0;j<P;j++)z[k][j]=R[j][V],R[j].splice(V,1)}if(!I)return{values:F};var Z=z.map(($,W)=>({value:F[W],vector:$}));return{values:F,eigenvectors:Z}}return m}var X$e="eigs",W$e=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],Y$e=ne(X$e,W$e,t=>{var{config:e,typed:r,matrix:n,addScalar:i,subtract:a,equal:o,abs:s,atan:l,cos:u,sin:f,multiplyScalar:d,divideScalar:p,inv:m,bignumber:y,multiply:g,add:b,larger:E,column:N,flatten:_,number:S,complex:x,sqrt:A,diag:T,size:O,reshape:C,qr:R,usolve:I,usolveAll:P,im:F,re:z,smaller:U,matrixFromColumns:k,dot:V}=t,Y=K$e({config:e,addScalar:i,subtract:a,abs:s,atan:l,cos:u,sin:f,multiplyScalar:d,inv:m,bignumber:y,multiply:g,add:b}),H=G$e({addScalar:i,subtract:a,multiply:g,multiplyScalar:d,flatten:_,divideScalar:p,sqrt:A,abs:s,bignumber:y,diag:T,size:O,reshape:C,qr:R,inv:m,usolve:I,usolveAll:P,equal:o,complex:x,larger:E,smaller:U,matrixFromColumns:k,dot:V});return r("eigs",{Array:function(Ee){return j(n(Ee))},"Array, number|BigNumber":function(Ee,J){return j(n(Ee),{precision:J})},"Array, Object"(me,Ee){return j(n(me),Ee)},Matrix:function(Ee){return j(Ee,{matricize:!0})},"Matrix, number|BigNumber":function(Ee,J){return j(Ee,{precision:J,matricize:!0})},"Matrix, Object":function(Ee,J){var ee={matricize:!0};return Fn(ee,J),j(Ee,ee)}});function j(me){var Ee,J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee="eigenvectors"in J?J.eigenvectors:!0,ue=(Ee=J.precision)!==null&&Ee!==void 0?Ee:e.relTol,le=Z(me,ue,ee);return J.matricize&&(le.values=n(le.values),ee&&(le.eigenvectors=le.eigenvectors.map(ie=>{var{value:Te,vector:he}=ie;return{value:Te,vector:n(he)}}))),ee&&Object.defineProperty(le,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),le}function Z(me,Ee,J){var ee=me.toArray(),ue=me.size();if(ue.length!==2||ue[0]!==ue[1])throw new RangeError("Matrix must be square (size: ".concat(Ut(ue),")"));var le=ue[0];if(W(ee,le,Ee)&&(K(ee,le),$(ee,le,Ee))){var ie=ge(me,ee,le);return Y(ee,le,Ee,ie,J)}var Te=ge(me,ee,le);return H(ee,le,Ee,Te,J)}function $(me,Ee,J){for(var ee=0;ee<Ee;ee++)for(var ue=ee;ue<Ee;ue++)if(E(y(s(a(me[ee][ue],me[ue][ee]))),J))return!1;return!0}function W(me,Ee,J){for(var ee=0;ee<Ee;ee++)for(var ue=0;ue<Ee;ue++)if(E(y(s(F(me[ee][ue]))),J))return!1;return!0}function K(me,Ee){for(var J=0;J<Ee;J++)for(var ee=0;ee<Ee;ee++)me[J][ee]=z(me[J][ee])}function ge(me,Ee,J){var ee=me.datatype();if(ee==="number"||ee==="BigNumber"||ee==="Complex")return ee;for(var ue=!1,le=!1,ie=!1,Te=0;Te<J;Te++)for(var he=0;he<J;he++){var Ce=Ee[Te][he];if(Bt(Ce)||Ng(Ce))ue=!0;else if(Ft(Ce))le=!0;else if(wu(Ce))ie=!0;else throw TypeError("Unsupported type in Matrix: "+Dr(Ce))}if(le&&ie&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),ie){for(var je=0;je<J;je++)for(var We=0;We<J;We++)Ee[je][We]=x(Ee[je][We]);return"Complex"}if(le){for(var xe=0;xe<J;xe++)for(var ze=0;ze<J;ze++)Ee[xe][ze]=y(Ee[xe][ze]);return"BigNumber"}if(ue){for(var te=0;te<J;te++)for(var ce=0;ce<J;ce++)Ee[te][ce]=S(Ee[te][ce]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),Nj="expm",Q$e=["typed","abs","add","identity","inv","multiply"],Z$e=ne(Nj,Q$e,t=>{var{typed:e,abs:r,add:n,identity:i,inv:a,multiply:o}=t;return e(Nj,{Matrix:function(d){var p=d.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+Ut(p)+")");for(var m=p[0],y=1e-15,g=s(d),b=l(g,y),E=b.q,N=b.j,_=o(d,Math.pow(2,-N)),S=i(m),x=i(m),A=1,T=_,O=-1,C=1;C<=E;C++)C>1&&(T=o(T,_),O=-O),A=A*(E-C+1)/((2*E-C+1)*C),S=n(S,o(A,T)),x=n(x,o(A*O,T));for(var R=o(a(x),S),I=0;I<N;I++)R=o(R,R);return Zc(d)?d.createSparseMatrix(R):R}});function s(f){for(var d=f.size()[0],p=0,m=0;m<d;m++){for(var y=0,g=0;g<d;g++)y+=r(f.get([m,g]));p=Math.max(y,p)}return p}function l(f,d){for(var p=30,m=0;m<p;m++)for(var y=0;y<=m;y++){var g=m-y;if(u(f,y,g)<d)return{q:y,j:g}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(f,d,p){for(var m=1,y=2;y<=d;y++)m*=y;for(var g=m,b=d+1;b<=2*d;b++)g*=b;var E=g*(2*d+1);return 8*Math.pow(f/Math.pow(2,p),2*d)*m*m/(g*E)}}),Cj="sqrtm",J$e=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],e6e=ne(Cj,J$e,t=>{var{typed:e,abs:r,add:n,multiply:i,map:a,sqrt:o,subtract:s,inv:l,size:u,max:f,identity:d}=t,p=1e3,m=1e-6;function y(g){var b,E=0,N=g,_=d(u(g));do{var S=N;if(N=i(.5,n(S,l(_))),_=i(.5,n(_,l(S))),b=f(r(s(N,S))),b>m&&++E>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(b>m);return N}return e(Cj,{"Array | Matrix":function(b){var E=gt(b)?b.size():Dt(b);switch(E.length){case 1:if(E[0]===1)return a(b,o);throw new RangeError("Matrix must be square (size: "+Ut(E)+")");case 2:{var N=E[0],_=E[1];if(N===_)return y(b);throw new RangeError("Matrix must be square (size: "+Ut(E)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+Ut(E)+")")}}})}),Oj="sylvester",t6e=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],r6e=ne(Oj,t6e,t=>{var{typed:e,schur:r,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:s,transpose:l,index:u,subset:f,add:d,subtract:p,identity:m,lusolve:y,abs:g}=t;return e(Oj,{"Matrix, Matrix, Matrix":b,"Array, Matrix, Matrix":function(N,_,S){return b(i(N),_,S)},"Array, Array, Matrix":function(N,_,S){return b(i(N),i(_),S)},"Array, Matrix, Array":function(N,_,S){return b(i(N),_,i(S))},"Matrix, Array, Matrix":function(N,_,S){return b(N,i(_),S)},"Matrix, Array, Array":function(N,_,S){return b(N,i(_),i(S))},"Matrix, Matrix, Array":function(N,_,S){return b(N,_,i(S))},"Array, Array, Array":function(N,_,S){return b(i(N),i(_),i(S)).toArray()}});function b(E,N,_){for(var S=N.size()[0],x=E.size()[0],A=r(E),T=A.T,O=A.U,C=r(a(-1,N)),R=C.T,I=C.U,P=a(a(l(O),_),I),F=o(0,x),z=[],U=(ie,Te)=>s(ie,Te,1),k=(ie,Te)=>s(ie,Te,0),V=0;V<S;V++)if(V<S-1&&g(f(R,u(V+1,V)))>1e-5){for(var Y=k(f(P,u(F,V)),f(P,u(F,V+1))),H=0;H<V;H++)Y=d(Y,k(a(z[H],f(R,u(H,V))),a(z[H],f(R,u(H,V+1)))));var j=a(m(x),a(-1,f(R,u(V,V)))),Z=a(m(x),a(-1,f(R,u(V+1,V)))),$=a(m(x),a(-1,f(R,u(V,V+1)))),W=a(m(x),a(-1,f(R,u(V+1,V+1)))),K=k(U(d(T,j),Z),U($,d(T,W))),ge=y(K,Y);z[V]=ge.subset(u(o(0,x),0)),z[V+1]=ge.subset(u(o(x,2*x),0)),V++}else{for(var me=f(P,u(F,V)),Ee=0;Ee<V;Ee++)me=d(me,a(z[Ee],f(R,u(Ee,V))));var J=f(R,u(V,V)),ee=p(T,a(J,m(x)));z[V]=y(ee,me)}var ue=i(n(...z)),le=a(O,a(ue,l(I)));return le}}),Mj="schur",n6e=["typed","matrix","identity","multiply","qr","norm","subtract"],i6e=ne(Mj,n6e,t=>{var{typed:e,matrix:r,identity:n,multiply:i,qr:a,norm:o,subtract:s}=t;return e(Mj,{Array:function(f){var d=l(r(f));return{U:d.U.valueOf(),T:d.T.valueOf()}},Matrix:function(f){return l(f)}});function l(u){var f=u.size()[0],d=u,p=n(f),m=0,y;do{y=d;var g=a(d),b=g.Q,E=g.R;if(d=i(E,b),p=i(p,b),m++>100)break}while(o(s(d,y))>1e-4);return{U:p,T:d}}}),Ij="lyap",a6e=["typed","matrix","sylvester","multiply","transpose"],o6e=ne(Ij,a6e,t=>{var{typed:e,matrix:r,sylvester:n,multiply:i,transpose:a}=t;return e(Ij,{"Matrix, Matrix":function(s,l){return n(s,a(s),i(-1,l))},"Array, Matrix":function(s,l){return n(r(s),a(r(s)),i(-1,l))},"Matrix, Array":function(s,l){return n(s,a(r(s)),r(i(-1,l)))},"Array, Array":function(s,l){return n(r(s),a(r(s)),r(i(-1,l))).toArray()}})}),s6e="divide",u6e=["typed","matrix","multiply","equalScalar","divideScalar","inv"],l6e=ne(s6e,u6e,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:o}=t,s=gi({typed:e,equalScalar:i}),l=Lo({typed:e});return e("divide",iW({"Array | Matrix, Array | Matrix":function(f,d){return n(f,o(d))},"DenseMatrix, any":function(f,d){return l(f,d,a,!1)},"SparseMatrix, any":function(f,d){return s(f,d,a,!1)},"Array, any":function(f,d){return l(r(f),d,a,!1).valueOf()},"any, Array | Matrix":function(f,d){return n(f,o(d))}},a.signatures))}),Rj="distance",c6e=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],f6e=ne(Rj,c6e,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:s,abs:l}=t;return e(Rj,{"Array, Array, Array":function(x,A,T){if(x.length===2&&A.length===2&&T.length===2){if(!f(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!f(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(A,T))throw new TypeError("LinePoint1 should not be same with LinePoint2");var O=n(T[1],A[1]),C=n(A[0],T[0]),R=n(i(T[0],A[1]),i(A[0],T[1]));return b(x[0],x[1],O,C,R)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(x,A,T){if(Object.keys(x).length===2&&Object.keys(A).length===2&&Object.keys(T).length===2){if(!f(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(A))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!f(T))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(y(A),y(T)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in x&&"pointY"in x&&"lineOnePtX"in A&&"lineOnePtY"in A&&"lineTwoPtX"in T&&"lineTwoPtY"in T){var O=n(T.lineTwoPtY,A.lineOnePtY),C=n(A.lineOnePtX,T.lineTwoPtX),R=n(i(T.lineTwoPtX,A.lineOnePtY),i(A.lineOnePtX,T.lineTwoPtY));return b(x.pointX,x.pointY,O,C,R)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(x,A){if(x.length===2&&A.length===3){if(!f(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(A))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return b(x[0],x[1],A[0],A[1],A[2])}else if(x.length===3&&A.length===6){if(!d(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(A))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return E(x[0],x[1],x[2],A[0],A[1],A[2],A[3],A[4],A[5])}else if(x.length===A.length&&x.length>0){if(!p(x))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(A))throw new TypeError("All values of an array should be numbers or BigNumbers");return N(x,A)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(x,A){if(Object.keys(x).length===2&&Object.keys(A).length===3){if(!f(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(A))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"xCoeffLine"in A&&"yCoeffLine"in A&&"constant"in A)return b(x.pointX,x.pointY,A.xCoeffLine,A.yCoeffLine,A.constant);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(A).length===6){if(!d(x))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(A))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"x0"in A&&"y0"in A&&"z0"in A&&"a"in A&&"b"in A&&"c"in A)return E(x.pointX,x.pointY,x.pointZ,A.x0,A.y0,A.z0,A.a,A.b,A.c);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===2&&Object.keys(A).length===2){if(!f(x))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!f(A))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointTwoX"in A&&"pointTwoY"in A)return N([x.pointOneX,x.pointOneY],[A.pointTwoX,A.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(A).length===3){if(!d(x))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(A))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointOneZ"in x&&"pointTwoX"in A&&"pointTwoY"in A&&"pointTwoZ"in A)return N([x.pointOneX,x.pointOneY,x.pointOneZ],[A.pointTwoX,A.pointTwoY,A.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(x){if(!g(x))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return _(x)}});function u(S){return typeof S=="number"||Ft(S)}function f(S){return S.constructor!==Array&&(S=y(S)),u(S[0])&&u(S[1])}function d(S){return S.constructor!==Array&&(S=y(S)),u(S[0])&&u(S[1])&&u(S[2])}function p(S){return Array.isArray(S)||(S=y(S)),S.every(u)}function m(S){return S.constructor!==Array&&(S=y(S)),u(S[0])&&u(S[1])&&u(S[2])&&u(S[3])&&u(S[4])&&u(S[5])}function y(S){for(var x=Object.keys(S),A=[],T=0;T<x.length;T++)A.push(S[x[T]]);return A}function g(S){if(S[0].length===2&&u(S[0][0])&&u(S[0][1])){if(S.some(x=>x.length!==2||!u(x[0])||!u(x[1])))return!1}else if(S[0].length===3&&u(S[0][0])&&u(S[0][1])&&u(S[0][2])){if(S.some(x=>x.length!==3||!u(x[0])||!u(x[1])||!u(x[2])))return!1}else return!1;return!0}function b(S,x,A,T,O){var C=l(r(r(i(A,S),i(T,x)),O)),R=s(r(i(A,A),i(T,T)));return a(C,R)}function E(S,x,A,T,O,C,R,I,P){var F=[n(i(n(O,x),P),i(n(C,A),I)),n(i(n(C,A),R),i(n(T,S),P)),n(i(n(T,S),I),i(n(O,x),R))];F=s(r(r(i(F[0],F[0]),i(F[1],F[1])),i(F[2],F[2])));var z=s(r(r(i(R,R),i(I,I)),i(P,P)));return a(F,z)}function N(S,x){for(var A=S.length,T=0,O=0,C=0;C<A;C++)O=n(S[C],x[C]),T=r(i(O,O),T);return s(T)}function _(S){for(var x=[],A=[],T=[],O=0;O<S.length-1;O++)for(var C=O+1;C<S.length;C++)S[0].length===2?(A=[S[O][0],S[O][1]],T=[S[C][0],S[C][1]]):S[0].length===3&&(A=[S[O][0],S[O][1],S[O][2]],T=[S[C][0],S[C][1],S[C][2]]),x.push(N(A,T));return x}}),h6e="intersect",d6e=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],p6e=ne(h6e,d6e,t=>{var{typed:e,config:r,abs:n,add:i,addScalar:a,matrix:o,multiply:s,multiplyScalar:l,divideScalar:u,subtract:f,smaller:d,equalScalar:p,flatten:m,isZero:y,isNumeric:g}=t;return e("intersect",{"Array, Array, Array":b,"Array, Array, Array, Array":E,"Matrix, Matrix, Matrix":function(I,P,F){var z=b(I.valueOf(),P.valueOf(),F.valueOf());return z===null?null:o(z)},"Matrix, Matrix, Matrix, Matrix":function(I,P,F,z){var U=E(I.valueOf(),P.valueOf(),F.valueOf(),z.valueOf());return U===null?null:o(U)}});function b(R,I,P){if(R=N(R),I=N(I),P=N(P),!S(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!S(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(P))throw new TypeError("Array with 4 numbers expected as third argument");return C(R[0],R[1],R[2],I[0],I[1],I[2],P[0],P[1],P[2],P[3])}function E(R,I,P,F){if(R=N(R),I=N(I),P=N(P),F=N(F),R.length===2){if(!_(R))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!_(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!_(P))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!_(F))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return A(R,I,P,F)}else if(R.length===3){if(!S(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!S(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!S(P))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!S(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return O(R[0],R[1],R[2],I[0],I[1],I[2],P[0],P[1],P[2],F[0],F[1],F[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function N(R){return R.length===1?R[0]:R.length>1&&Array.isArray(R[0])&&R.every(I=>Array.isArray(I)&&I.length===1)?m(R):R}function _(R){return R.length===2&&g(R[0])&&g(R[1])}function S(R){return R.length===3&&g(R[0])&&g(R[1])&&g(R[2])}function x(R){return R.length===4&&g(R[0])&&g(R[1])&&g(R[2])&&g(R[3])}function A(R,I,P,F){var z=R,U=P,k=f(z,I),V=f(U,F),Y=f(l(k[0],V[1]),l(V[0],k[1]));if(y(Y)||d(n(Y),r.relTol))return null;var H=l(V[0],z[1]),j=l(V[1],z[0]),Z=l(V[0],U[1]),$=l(V[1],U[0]),W=u(a(f(f(H,j),Z),$),Y);return i(s(k,W),z)}function T(R,I,P,F,z,U,k,V,Y,H,j,Z){var $=l(f(R,I),f(P,F)),W=l(f(z,U),f(k,V)),K=l(f(Y,H),f(j,Z));return a(a($,W),K)}function O(R,I,P,F,z,U,k,V,Y,H,j,Z){var $=T(R,k,H,k,I,V,j,V,P,Y,Z,Y),W=T(H,k,F,R,j,V,z,I,Z,Y,U,P),K=T(R,k,F,R,I,V,z,I,P,Y,U,P),ge=T(H,k,H,k,j,V,j,V,Z,Y,Z,Y),me=T(F,R,F,R,z,I,z,I,U,P,U,P),Ee=f(l($,W),l(K,ge)),J=f(l(me,ge),l(W,W));if(y(J))return null;var ee=u(Ee,J),ue=u(a($,l(ee,W)),ge),le=a(R,l(ee,f(F,R))),ie=a(I,l(ee,f(z,I))),Te=a(P,l(ee,f(U,P))),he=a(k,l(ue,f(H,k))),Ce=a(V,l(ue,f(j,V))),je=a(Y,l(ue,f(Z,Y)));return p(le,he)&&p(ie,Ce)&&p(Te,je)?[le,ie,Te]:null}function C(R,I,P,F,z,U,k,V,Y,H){var j=l(R,k),Z=l(F,k),$=l(I,V),W=l(z,V),K=l(P,Y),ge=l(U,Y),me=f(f(f(H,j),$),K),Ee=f(f(f(a(a(Z,W),ge),j),$),K),J=u(me,Ee),ee=a(R,l(J,f(F,R))),ue=a(I,l(J,f(z,I))),le=a(P,l(J,f(U,P)));return[ee,ue,le]}}),Pj="sum",m6e=["typed","config","add","numeric"],WY=ne(Pj,m6e,t=>{var{typed:e,config:r,add:n,numeric:i}=t;return e(Pj,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(l){if(pp(l))throw new TypeError("Scalar values expected in function sum");return a(l)}});function a(s){var l;return Vl(s,function(u){try{l=l===void 0?u:n(l,u)}catch(f){throw Vi(f,"sum",u)}}),l===void 0&&(l=i(0,r.number)),typeof l=="string"&&(l=i(l,Ql(l,r))),l}function o(s,l){try{var u=S_(s,l,n);return u}catch(f){throw Vi(f,"sum")}}}),G0="cumsum",v6e=["typed","add","unaryPlus"],YY=ne(G0,v6e,t=>{var{typed:e,add:r,unaryPlus:n}=t;return e(G0,{Array:i,Matrix:function(u){return u.create(i(u.valueOf(),u.datatype()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(u,f){return u.create(o(u.valueOf(),f),u.datatype())},"...":function(u){if(pp(u))throw new TypeError("All values expected to be scalar in function cumsum");return i(u)}});function i(l){try{return a(l)}catch(u){throw Vi(u,G0)}}function a(l){if(l.length===0)return[];for(var u=[n(l[0])],f=1;f<l.length;++f)u.push(r(u[f-1],l[f]));return u}function o(l,u){var f=Dt(l);if(u<0||u>=f.length)throw new ko(u,f.length);try{return s(l,u)}catch(d){throw Vi(d,G0)}}function s(l,u){var f,d,p;if(u<=0){var m=l[0][0];if(Array.isArray(m)){for(p=IW(l),d=[],f=0;f<p.length;f++)d[f]=s(p[f],u-1);return d}else return a(l)}else{for(d=[],f=0;f<l.length;f++)d[f]=s(l[f],u-1);return d}}}),Bj="mean",g6e=["typed","add","divide"],QY=ne(Bj,g6e,t=>{var{typed:e,add:r,divide:n}=t;return e(Bj,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(s){if(pp(s))throw new TypeError("Scalar values expected in function mean");return a(s)}});function i(o,s){try{var l=S_(o,s,r),u=Array.isArray(o)?Dt(o):o.size();return n(l,u[s])}catch(f){throw Vi(f,"mean")}}function a(o){var s,l=0;if(Vl(o,function(u){try{s=s===void 0?u:r(s,u),l++}catch(f){throw Vi(f,"mean",u)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return n(s,l)}}),Fj="median",y6e=["typed","add","divide","compare","partitionSelect"],b6e=ne(Fj,y6e,t=>{var{typed:e,add:r,divide:n,compare:i,partitionSelect:a}=t;function o(u){try{u=or(u.valueOf());var f=u.length;if(f===0)throw new Error("Cannot calculate median of an empty array");if(f%2===0){for(var d=f/2-1,p=a(u,d+1),m=u[d],y=0;y<d;++y)i(u[y],m)>0&&(m=u[y]);return l(m,p)}else{var g=a(u,(f-1)/2);return s(g)}}catch(b){throw Vi(b,"median")}}var s=e({"number | BigNumber | Complex | Unit":function(f){return f}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(f,d){return n(r(f,d),2)}});return e(Fj,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(f,d){throw new Error("median(A, dim) is not yet supported")},"...":function(f){if(pp(f))throw new TypeError("Scalar values expected in function median");return o(f)}})}),kj="mad",w6e=["typed","abs","map","median","subtract"],_6e=ne(kj,w6e,t=>{var{typed:e,abs:r,map:n,median:i,subtract:a}=t;return e(kj,{"Array | Matrix":o,"...":function(l){return o(l)}});function o(s){if(s=or(s.valueOf()),s.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(s);return i(n(s,function(u){return r(a(u,l))}))}catch(u){throw u instanceof TypeError&&u.message.includes("median")?new TypeError(u.message.replace("median","mad")):Vi(u,"mad")}}}),y2="unbiased",$j="variance",x6e=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],ZY=ne($j,x6e,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,mapSlices:o,isNaN:s}=t;return e($j,{"Array | Matrix":function(d){return l(d,y2)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(d,p){return u(d,p,y2)},"Array | Matrix, number | BigNumber, string":u,"...":function(d){return l(d,y2)}});function l(f,d){var p,m=0;if(f.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Vl(f,function(b){try{p=p===void 0?b:r(p,b),m++}catch(E){throw Vi(E,"variance",b)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var y=a(p,m);if(p=void 0,Vl(f,function(b){var E=n(b,y);p=p===void 0?i(E,E):r(p,i(E,E))}),s(p))return p;switch(d){case"uncorrected":return a(p,m);case"biased":return a(p,m+1);case"unbiased":{var g=Ft(p)?p.mul(0):0;return m===1?g:a(p,m-1)}default:throw new Error('Unknown normalization "'+d+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(f,d,p){try{if(f.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(f,d,m=>l(m,p))}catch(m){throw Vi(m,"variance")}}}),Lj="quantileSeq",A6e=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],JY=ne(Lj,A6e,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:f,smallerEq:d,larger:p,mapSlices:m}=t;return e(Lj,{"Array | Matrix, number | BigNumber":(N,_)=>g(N,_,!1),"Array | Matrix, number | BigNumber, number":(N,_,S)=>y(N,_,!1,S,g),"Array | Matrix, number | BigNumber, boolean":g,"Array | Matrix, number | BigNumber, boolean, number":(N,_,S,x)=>y(N,_,S,x,g),"Array | Matrix, Array | Matrix":(N,_)=>b(N,_,!1),"Array | Matrix, Array | Matrix, number":(N,_,S)=>y(N,_,!1,S,b),"Array | Matrix, Array | Matrix, boolean":b,"Array | Matrix, Array | Matrix, boolean, number":(N,_,S,x)=>y(N,_,S,x,b)});function y(N,_,S,x,A){return m(N,x,T=>A(T,_,S))}function g(N,_,S){var x,A=N.valueOf();if(f(_,0))throw new Error("N/prob must be non-negative");if(d(_,1))return Bt(_)?E(A,_,S):r(E(A,_,S));if(p(_,1)){if(!u(_))throw new Error("N must be a positive integer");if(p(_,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var T=n(_,1);x=[];for(var O=0;f(O,_);O++){var C=a(O+1,T);x.push(E(A,C,S))}return Bt(_)?x:r(x)}}function b(N,_,S){for(var x=N.valueOf(),A=_.valueOf(),T=[],O=0;O<A.length;++O)T.push(E(x,A[O],S));return T}function E(N,_,S){var x=or(N),A=x.length;if(A===0)throw new Error("Cannot calculate quantile of an empty sequence");var T=Bt(_)?_*(A-1):_.times(A-1),O=Bt(_)?Math.floor(T):T.floor().toNumber(),C=Bt(_)?T%1:T.minus(O);if(u(T))return S?x[T]:s(x,Bt(_)?T:T.valueOf());var R,I;if(S)R=x[O],I=x[O+1];else{I=s(x,O+1),R=x[O];for(var P=0;P<O;++P)l(x[P],R)>0&&(R=x[P])}return n(o(R,i(1,C)),o(I,C))}}),qj="std",E6e=["typed","map","sqrt","variance"],eQ=ne(qj,E6e,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t;return e(qj,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(s){return a(s)}});function a(o,s){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return lo(l)?r(l,n):n(l)}catch(u){throw u instanceof TypeError&&u.message.includes(" variance")?new TypeError(u.message.replace(" variance"," std")):u}}}),Uj="corr",S6e=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],T6e=ne(Uj,S6e,t=>{var{typed:e,matrix:r,sqrt:n,sum:i,add:a,subtract:o,multiply:s,pow:l,divide:u}=t;return e(Uj,{"Array, Array":function(m,y){return f(m,y)},"Matrix, Matrix":function(m,y){var g=f(m.toArray(),y.toArray());return Array.isArray(g)?r(g):g}});function f(p,m){var y=[];if(Array.isArray(p[0])&&Array.isArray(m[0])){if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var g=0;g<p.length;g++){if(p[g].length!==m[g].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");y.push(d(p[g],m[g]))}return y}else{if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return d(p,m)}}function d(p,m){var y=p.length,g=i(p),b=i(m),E=p.reduce((A,T,O)=>a(A,s(T,m[O])),0),N=i(p.map(A=>l(A,2))),_=i(m.map(A=>l(A,2))),S=o(s(y,E),s(g,b)),x=n(s(o(s(y,N),l(g,2)),o(s(y,_),l(b,2))));return u(S,x)}}),jj="combinations",D6e=["typed"],N6e=ne(jj,D6e,t=>{var{typed:e}=t;return e(jj,{"number, number":JW,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,s,l=n.minus(i),u=new a(1);if(!zj(n)||!zj(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=u,i.lt(l))for(s=u;s.lte(l);s=s.plus(u))o=o.times(i.plus(s)).dividedBy(s);else for(s=u;s.lte(i);s=s.plus(u))o=o.times(l.plus(s)).dividedBy(s);return o}})});function zj(t){return t.isInteger()&&t.gte(0)}var Vj="combinationsWithRep",C6e=["typed"],O6e=ne(Vj,C6e,t=>{var{typed:e}=t;return e(Vj,{"number, number":function(n,i){if(!ft(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!ft(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=gu(n,n+i-1);return a/gu(1,i)}var o=gu(i+1,n+i-1);return o/gu(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,s,l=new a(1),u=n.minus(l);if(!Hj(n)||!Hj(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,i.lt(u))for(s=l;s.lte(u);s=s.plus(l))o=o.times(i.plus(s)).dividedBy(s);else for(s=l;s.lte(i);s=s.plus(l))o=o.times(u.plus(s)).dividedBy(s);return o}})});function Hj(t){return t.isInteger()&&t.gte(0)}var Gj="gamma",M6e=["typed","config","multiplyScalar","pow","BigNumber","Complex"],I6e=ne(Gj,M6e,t=>{var{typed:e,config:r,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=t;function s(u){if(u.im===0)return K1(u.re);if(u.re<.5){var f=new o(1-u.re,-u.im),d=new o(Math.PI*u.re,Math.PI*u.im);return new o(Math.PI).div(d.sin()).div(s(f))}u=new o(u.re-1,u.im);for(var p=new o(fd[0],0),m=1;m<fd.length;++m){var y=new o(fd[m],0);p=p.add(y.div(u.add(m)))}var g=new o(u.re+tY+.5,u.im),b=Math.sqrt(2*Math.PI),E=g.pow(u.add(.5)),N=g.neg().exp();return p.mul(b).mul(E).mul(N)}return e(Gj,{number:K1,Complex:s,BigNumber:function(f){if(f.isInteger())return f.isNegative()||f.isZero()?new a(1/0):l(f.minus(1));if(!f.isFinite())return new a(f.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(u){if(u<8)return new a([1,1,2,6,24,120,720,5040][u]);var f=r.precision+(Math.log(u.toNumber())|0),d=a.clone({precision:f});if(u%2===1)return u.times(l(new a(u-1)));for(var p=u,m=new d(u),y=u.toNumber();p>2;)p-=2,y+=p,m=m.times(y);return new a(m.toPrecision(a.precision))}}),Kj="lgamma",R6e=["Complex","typed"],P6e=ne(Kj,R6e,t=>{var{Complex:e,typed:r}=t,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(Kj,{number:X1,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(u){var f=6.283185307179586,d=1.1447298858494002,p=.1;if(u.isNaN())return new e(NaN,NaN);if(u.im===0)return new e(X1(u.re),0);if(u.re>=n||Math.abs(u.im)>=i)return s(u);if(u.re<=p){var m=gSe(f,u.im)*Math.floor(.5*u.re+.25),y=u.mul(Math.PI).sin().log(),g=o(new e(1-u.re,-u.im));return new e(d,m).sub(y).sub(g)}else return u.im>=0?l(u):l(u.conjugate()).conjugate()}function s(u){for(var f=u.sub(.5).mul(u.log()).sub(u).add(rY),d=new e(1,0).div(u),p=d.div(u),m=a[0],y=a[1],g=2*p.re,b=p.re*p.re+p.im*p.im,E=2;E<8;E++){var N=y;y=-b*m+a[E],m=g*m+N}var _=d.mul(p.mul(m).add(y));return f.add(_)}function l(u){var f=0,d=0,p=u;for(u=u.add(1);u.re<=n;){p=p.mul(u);var m=p.im<0?1:0;m!==0&&d===0&&f++,d=m,u=u.add(1)}return s(u).sub(p.log()).sub(new e(0,f*2*Math.PI*1))}}),Xj="factorial",B6e=["typed","gamma"],F6e=ne(Xj,B6e,t=>{var{typed:e,gamma:r}=t;return e(Xj,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return r(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return r(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>kt(i,n))})}),Wj="kldivergence",k6e=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],$6e=ne(Wj,k6e,t=>{var{typed:e,matrix:r,divide:n,sum:i,multiply:a,map:o,dotDivide:s,log:l,isNumeric:u}=t;return e(Wj,{"Array, Array":function(p,m){return f(r(p),r(m))},"Matrix, Array":function(p,m){return f(p,r(m))},"Array, Matrix":function(p,m){return f(r(p),m)},"Matrix, Matrix":function(p,m){return f(p,m)}});function f(d,p){var m=p.size().length,y=d.size().length;if(m>1)throw new Error("first object must be one dimensional");if(y>1)throw new Error("second object must be one dimensional");if(m!==y)throw new Error("Length of two vectors must be equal");var g=i(d);if(g===0)throw new Error("Sum of elements in first object must be non zero");var b=i(p);if(b===0)throw new Error("Sum of elements in second object must be non zero");var E=n(d,i(d)),N=n(p,i(p)),_=i(a(E,o(s(E,N),S=>l(S))));return u(_)?_:Number.NaN}}),Yj="multinomial",L6e=["typed","add","divide","multiply","factorial","isInteger","isPositive"],q6e=ne(Yj,L6e,t=>{var{typed:e,add:r,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:s}=t;return e(Yj,{"Array | Matrix":function(u){var f=0,d=1;return Vl(u,function(p){if(!o(p)||!s(p))throw new TypeError("Positive integer value expected in function multinomial");f=r(f,p),d=i(d,a(p))}),n(a(f),d)}})}),Qj="permutations",U6e=["typed","factorial"],j6e=ne(Qj,U6e,t=>{var{typed:e,factorial:r}=t;return e(Qj,{"number | BigNumber":r,"number, number":function(i,a){if(!ft(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!ft(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return gu(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,s;if(!Zj(i)||!Zj(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(o=l,s=i.minus(a).plus(1);s.lte(i);s=s.plus(1))o=o.times(s);return o}})});function Zj(t){return t.isInteger()&&t.gte(0)}var cb={exports:{}},z6e=cb.exports,Jj;function V6e(){return Jj||(Jj=1,(function(t){(function(e,r,n){function i(l){var u=this,f=s();u.next=function(){var d=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=d-(u.c=d|0)},u.c=1,u.s0=f(" "),u.s1=f(" "),u.s2=f(" "),u.s0-=f(l),u.s0<0&&(u.s0+=1),u.s1-=f(l),u.s1<0&&(u.s1+=1),u.s2-=f(l),u.s2<0&&(u.s2+=1),f=null}function a(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function o(l,u){var f=new i(l),d=u&&u.state,p=f.next;return p.int32=function(){return f.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,d&&(typeof d=="object"&&a(d,f),p.state=function(){return a(f,{})}),p}function s(){var l=4022871197,u=function(f){f=String(f);for(var d=0;d<f.length;d++){l+=f.charCodeAt(d);var p=.02519603282416938*l;l=p>>>0,p-=l,p*=l,l=p>>>0,p-=l,l+=p*4294967296}return(l>>>0)*23283064365386963e-26};return u}r&&r.exports?r.exports=o:this.alea=o})(z6e,t)})(cb)),cb.exports}var fb={exports:{}},H6e=fb.exports,ez;function G6e(){return ez||(ez=1,(function(t){(function(e,r,n){function i(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},s===(s|0)?l.x=s:u+=s;for(var f=0;f<u.length+64;f++)l.x^=u.charCodeAt(f)|0,l.next()}function a(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function o(s,l){var u=new i(s),f=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},d.int32=u.next,d.quick=d,f&&(typeof f=="object"&&a(f,u),d.state=function(){return a(u,{})}),d}r&&r.exports?r.exports=o:this.xor128=o})(H6e,t)})(fb)),fb.exports}var hb={exports:{}},K6e=hb.exports,tz;function X6e(){return tz||(tz=1,(function(t){(function(e,r,n){function i(s){var l=this,u="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:u+=s;for(var f=0;f<u.length+64;f++)l.x^=u.charCodeAt(f)|0,f==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function o(s,l){var u=new i(s),f=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},d.int32=u.next,d.quick=d,f&&(typeof f=="object"&&a(f,u),d.state=function(){return a(u,{})}),d}r&&r.exports?r.exports=o:this.xorwow=o})(K6e,t)})(hb)),hb.exports}var db={exports:{}},W6e=db.exports,rz;function Y6e(){return rz||(rz=1,(function(t){(function(e,r,n){function i(s){var l=this;l.next=function(){var f=l.x,d=l.i,p,m;return p=f[d],p^=p>>>7,m=p^p<<24,p=f[d+1&7],m^=p^p>>>10,p=f[d+3&7],m^=p^p>>>3,p=f[d+4&7],m^=p^p<<7,p=f[d+7&7],p=p^p<<13,m^=p^p<<9,f[d]=m,l.i=d+1&7,m};function u(f,d){var p,m=[];if(d===(d|0))m[0]=d;else for(d=""+d,p=0;p<d.length;++p)m[p&7]=m[p&7]<<15^d.charCodeAt(p)+m[p+1&7]<<13;for(;m.length<8;)m.push(0);for(p=0;p<8&&m[p]===0;++p);for(p==8?m[7]=-1:m[p],f.x=m,f.i=0,p=256;p>0;--p)f.next()}u(l,s)}function a(s,l){return l.x=s.x.slice(),l.i=s.i,l}function o(s,l){s==null&&(s=+new Date);var u=new i(s),f=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},d.int32=u.next,d.quick=d,f&&(f.x&&a(f,u),d.state=function(){return a(u,{})}),d}r&&r.exports?r.exports=o:this.xorshift7=o})(W6e,t)})(db)),db.exports}var pb={exports:{}},Q6e=pb.exports,nz;function Z6e(){return nz||(nz=1,(function(t){(function(e,r,n){function i(s){var l=this;l.next=function(){var f=l.w,d=l.X,p=l.i,m,y;return l.w=f=f+1640531527|0,y=d[p+34&127],m=d[p=p+1&127],y^=y<<13,m^=m<<17,y^=y>>>15,m^=m>>>12,y=d[p]=y^m,l.i=p,y+(f^f>>>16)|0};function u(f,d){var p,m,y,g,b,E=[],N=128;for(d===(d|0)?(m=d,d=null):(d=d+"\0",m=0,N=Math.max(N,d.length)),y=0,g=-32;g<N;++g)d&&(m^=d.charCodeAt((g+32)%d.length)),g===0&&(b=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,g>=0&&(b=b+1640531527|0,p=E[g&127]^=m+b,y=p==0?y+1:0);for(y>=128&&(E[(d&&d.length||0)&127]=-1),y=127,g=512;g>0;--g)m=E[y+34&127],p=E[y=y+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,E[y]=m^p;f.w=b,f.X=E,f.i=y}u(l,s)}function a(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function o(s,l){s==null&&(s=+new Date);var u=new i(s),f=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},d.int32=u.next,d.quick=d,f&&(f.X&&a(f,u),d.state=function(){return a(u,{})}),d}r&&r.exports?r.exports=o:this.xor4096=o})(Q6e,t)})(pb)),pb.exports}var mb={exports:{}},J6e=mb.exports,iz;function e5e(){return iz||(iz=1,(function(t){(function(e,r,n){function i(s){var l=this,u="";l.next=function(){var d=l.b,p=l.c,m=l.d,y=l.a;return d=d<<25^d>>>7^p,p=p-m|0,m=m<<24^m>>>8^y,y=y-d|0,l.b=d=d<<20^d>>>12^p,l.c=p=p-m|0,l.d=m<<16^p>>>16^y,l.a=y-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):u+=s;for(var f=0;f<u.length+20;f++)l.b^=u.charCodeAt(f)|0,l.next()}function a(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function o(s,l){var u=new i(s),f=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},d.int32=u.next,d.quick=d,f&&(typeof f=="object"&&a(f,u),d.state=function(){return a(u,{})}),d}r&&r.exports?r.exports=o:this.tychei=o})(J6e,t)})(mb)),mb.exports}var vb={exports:{}};const t5e={},r5e=Object.freeze(Object.defineProperty({__proto__:null,default:t5e},Symbol.toStringTag,{value:"Module"})),n5e=_J(r5e);var i5e=vb.exports,az;function a5e(){return az||(az=1,(function(t){(function(e,r,n){var i=256,a=6,o=52,s="random",l=n.pow(i,a),u=n.pow(2,o),f=u*2,d=i-1,p;function m(S,x,A){var T=[];x=x==!0?{entropy:!0}:x||{};var O=E(b(x.entropy?[S,_(r)]:S??N(),3),T),C=new y(T),R=function(){for(var I=C.g(a),P=l,F=0;I<u;)I=(I+F)*i,P*=i,F=C.g(1);for(;I>=f;)I/=2,P/=2,F>>>=1;return(I+F)/P};return R.int32=function(){return C.g(4)|0},R.quick=function(){return C.g(4)/4294967296},R.double=R,E(_(C.S),r),(x.pass||A||function(I,P,F,z){return z&&(z.S&&g(z,C),I.state=function(){return g(C,{})}),F?(n[s]=I,P):I})(R,O,"global"in x?x.global:this==n,x.state)}function y(S){var x,A=S.length,T=this,O=0,C=T.i=T.j=0,R=T.S=[];for(A||(S=[A++]);O<i;)R[O]=O++;for(O=0;O<i;O++)R[O]=R[C=d&C+S[O%A]+(x=R[O])],R[C]=x;(T.g=function(I){for(var P,F=0,z=T.i,U=T.j,k=T.S;I--;)P=k[z=d&z+1],F=F*i+k[d&(k[z]=k[U=d&U+P])+(k[U]=P)];return T.i=z,T.j=U,F})(i)}function g(S,x){return x.i=S.i,x.j=S.j,x.S=S.S.slice(),x}function b(S,x){var A=[],T=typeof S,O;if(x&&T=="object")for(O in S)try{A.push(b(S[O],x-1))}catch{}return A.length?A:T=="string"?S:S+"\0"}function E(S,x){for(var A=S+"",T,O=0;O<A.length;)x[d&O]=d&(T^=x[d&O]*19)+A.charCodeAt(O++);return _(x)}function N(){try{var S;return p&&(S=p.randomBytes)?S=S(i):(S=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(S)),_(S)}catch{var x=e.navigator,A=x&&x.plugins;return[+new Date,e,A,e.screen,_(r)]}}function _(S){return String.fromCharCode.apply(0,S)}if(E(n.random(),r),t.exports){t.exports=m;try{p=n5e}catch{}}else n["seed"+s]=m})(typeof self<"u"?self:i5e,[],Math)})(vb)),vb.exports}var b2,oz;function o5e(){if(oz)return b2;oz=1;var t=V6e(),e=G6e(),r=X6e(),n=Y6e(),i=Z6e(),a=e5e(),o=a5e();return o.alea=t,o.xor128=e,o.xorwow=r,o.xorshift7=n,o.xor4096=i,o.tychei=a,b2=o,b2}var s5e=o5e();const tQ=pr(s5e);var u5e=tQ(Date.now());function Yd(t){var e;function r(i){e=i===null?u5e:tQ(String(i))}r(t);function n(){return e()}return n}var sz="pickRandom",l5e=["typed","config","?on"],c5e=ne(sz,l5e,t=>{var{typed:e,config:r,on:n}=t,i=Yd(r.randomSeed);return n&&n("config",function(o,s){o.randomSeed!==s.randomSeed&&(i=Yd(o.randomSeed))}),e(sz,{"Array | Matrix":function(s){return a(s,{})},"Array | Matrix, Object":function(s,l){return a(s,l)},"Array | Matrix, number":function(s,l){return a(s,{number:l})},"Array | Matrix, Array | Matrix":function(s,l){return a(s,{weights:l})},"Array | Matrix, Array | Matrix, number":function(s,l,u){return a(s,{number:u,weights:l})},"Array | Matrix, number, Array | Matrix":function(s,l,u){return a(s,{number:l,weights:u})}});function a(o,s){var{number:l,weights:u,elementWise:f=!0}=s,d=typeof l>"u";d&&(l=1);var p=gt(o)?o.create:gt(u)?u.create:null;o=o.valueOf(),u&&(u=u.valueOf()),f===!0&&(o=or(o),u=or(u));var m=0;if(typeof u<"u"){if(u.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var y=0,g=u.length;y<g;y++){if(!Bt(u[y])||u[y]<0)throw new Error("Weights must be an array of positive numbers");m+=u[y]}}for(var b=o.length,E=[],N;E.length<l;){if(typeof u>"u")N=o[Math.floor(i()*b)];else for(var _=i()*m,S=0,x=o.length;S<x;S++)if(_-=u[S],_<0){N=o[S];break}E.push(N)}return d?E[0]:p?p(E):E}});function pI(t,e){var r=[];if(t=t.slice(0),t.length>1)for(var n=0,i=t.shift();n<i;n++)r.push(pI(t,e));else for(var a=0,o=t.shift();a<o;a++)r.push(e());return r}var uz="random",f5e=["typed","config","?on"],h5e=ne(uz,f5e,t=>{var{typed:e,config:r,on:n}=t,i=Yd(r.randomSeed);return n&&n("config",function(s,l){s.randomSeed!==l.randomSeed&&(i=Yd(s.randomSeed))}),e(uz,{"":()=>o(0,1),number:s=>o(0,s),"number, number":(s,l)=>o(s,l),"Array | Matrix":s=>a(s,0,1),"Array | Matrix, number":(s,l)=>a(s,0,l),"Array | Matrix, number, number":(s,l,u)=>a(s,l,u)});function a(s,l,u){var f=pI(s.valueOf(),()=>o(l,u));return gt(s)?s.create(f,"number"):f}function o(s,l){return s+i()*(l-s)}}),lz="randomInt",d5e=["typed","config","log2","?on"],p5e=ne(lz,d5e,t=>{var{typed:e,config:r,log2:n,on:i}=t,a=Yd(r.randomSeed);return i&&i("config",function(u,f){u.randomSeed!==f.randomSeed&&(a=Yd(u.randomSeed))}),e(lz,{"":()=>s(0,2),number:u=>s(0,u),"number, number":(u,f)=>s(u,f),bigint:u=>l(0n,u),"bigint, bigint":l,"Array | Matrix":u=>o(u,0,1),"Array | Matrix, number":(u,f)=>o(u,0,f),"Array | Matrix, number, number":(u,f,d)=>o(u,f,d)});function o(u,f,d){var p=pI(u.valueOf(),()=>s(f,d));return gt(u)?u.create(p,"number"):p}function s(u,f){return Math.floor(u+a()*(f-u))}function l(u,f){var d=2n**30n,p=f-u;if(p<=d)return u+BigInt(s(0,Number(p)));for(var m=n(p),y=p;y>=p;){y=0n;for(var g=0;g<m;++g)y=2n*y+(a()<.5?0n:1n)}return u+y}}),cz="stirlingS2",m5e=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],v5e=ne(cz,m5e,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:s,combinations:l,isNegative:u,isInteger:f,number:d,bignumber:p,larger:m}=t,y=[],g=[];return e(cz,{"number | BigNumber, number | BigNumber":function(E,N){if(!f(E)||u(E)||!f(N)||u(N))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(N,E))throw new TypeError("k must be less than or equal to n in function stirlingS2");var _=!(Bt(E)&&Bt(N)),S=_?g:y,x=_?p:d,A=d(E),T=d(N);if(S[A]&&S[A].length>T)return S[A][T];for(var O=0;O<=A;++O)if(S[O]||(S[O]=[x(O===0?1:0)]),O!==0)for(var C=S[O],R=S[O-1],I=C.length;I<=O&&I<=T;++I)I===O?C[I]=1:C[I]=r(i(x(I),R[I]),R[I-1]);return S[A][T]}})}),fz="bellNumbers",g5e=["typed","addScalar","isNegative","isInteger","stirlingS2"],y5e=ne(fz,g5e,t=>{var{typed:e,addScalar:r,isNegative:n,isInteger:i,stirlingS2:a}=t;return e(fz,{"number | BigNumber":function(s){if(!i(s)||n(s))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,u=0;u<=s;u++)l=r(l,a(s,u));return l}})}),hz="catalan",b5e=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],w5e=ne(hz,b5e,t=>{var{typed:e,addScalar:r,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:s}=t;return e(hz,{"number | BigNumber":function(u){if(!s(u)||o(u))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(u,2),u),r(u,1))}})}),dz="composition",_5e=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],x5e=ne(dz,_5e,t=>{var{typed:e,addScalar:r,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:s}=t;return e(dz,{"number | BigNumber, number | BigNumber":function(u,f){if(!o(u)||!i(u)||!o(f)||!i(f))throw new TypeError("Positive integer value expected in function composition");if(s(f,u))throw new TypeError("k must be less than or equal to n in function composition");return n(r(u,-1),r(f,-1))}})}),pz="leafCount",A5e=["parse","typed"],E5e=ne(pz,A5e,t=>{var{parse:e,typed:r}=t;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return r(pz,{Node:function(a){return n(a)}})});function mz(t){return er(t)||fn(t)&&t.isUnary()&&er(t.args[0])}function iw(t){return!!(er(t)||(Ul(t)||fn(t))&&t.args.every(iw)||Cu(t)&&iw(t.content))}function vz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(r),!0).forEach(function(n){En(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var S5e="simplifyUtil",T5e=["FunctionNode","OperatorNode","SymbolNode"],mI=ne(S5e,T5e,t=>{var{FunctionNode:e,OperatorNode:r,SymbolNode:n}=t,i=!0,a=!1,o="defaultF",s={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},l={divide:{total:a},log:{total:a}},u={subtract:{total:a},abs:{trivial:i},log:{total:i}};function f(_,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,A=o;if(typeof _=="string"?A=_:fn(_)?A=_.fn.toString():Ul(_)?A=_.name:Cu(_)&&(A="paren"),ut(x,A)){var T=x[A];if(ut(T,S))return T[S];if(ut(s,A))return s[A][S]}if(ut(x,o)){var O=x[o];return ut(O,S)?O[S]:s[o][S]}if(ut(s,A)){var C=s[A];if(ut(C,S))return C[S]}return s[o][S]}function d(_){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return f(_,"commutative",S)}function p(_){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return f(_,"associative",S)}function m(_,S){var x=w2({},_);for(var A in S)ut(_,A)?x[A]=w2(w2({},S[A]),_[A]):x[A]=S[A];return x}function y(_,S){if(!_.args||_.args.length===0)return _;_.args=g(_,S);for(var x=0;x<_.args.length;x++)y(_.args[x],S)}function g(_,S){var x,A=[],T=function(C){for(var R=0;R<C.args.length;R++){var I=C.args[R];fn(I)&&x===I.op?T(I):A.push(I)}};return p(_,S)?(x=_.op,T(_),A):_.args}function b(_,S){if(!(!_.args||_.args.length===0)){for(var x=N(_),A=_.args.length,T=0;T<A;T++)b(_.args[T],S);if(A>2&&p(_,S)){for(var O=_.args.pop();_.args.length>0;)O=x([_.args.pop(),O]);_.args=O.args}}}function E(_,S){if(!(!_.args||_.args.length===0)){for(var x=N(_),A=_.args.length,T=0;T<A;T++)E(_.args[T],S);if(A>2&&p(_,S)){for(var O=_.args.shift();_.args.length>0;)O=x([O,_.args.shift()]);_.args=O.args}}}function N(_){return fn(_)?function(S){try{return new r(_.op,_.fn,S,_.implicit)}catch(x){return console.error(x),[]}}:function(S){return new e(new n(_.name),S)}}return{createMakeNodeFunction:N,hasProperty:f,isCommutative:d,isAssociative:p,mergeContext:m,flatten:y,allChildren:g,unflattenr:b,unflattenl:E,defaultContext:s,realContext:l,positiveContext:u}}),D5e="simplify",N5e=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],C5e=ne(D5e,N5e,t=>{var{typed:e,parse:r,equal:n,resolve:i,simplifyConstant:a,simplifyCore:o,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:f,IndexNode:d,ObjectNode:p,OperatorNode:m,ParenthesisNode:y,SymbolNode:g,replacer:b}=t,{hasProperty:E,isCommutative:N,isAssociative:_,mergeContext:S,flatten:x,unflattenr:A,unflattenl:T,createMakeNodeFunction:O,defaultContext:C,realContext:R,positiveContext:I}=mI({FunctionNode:f,OperatorNode:m,SymbolNode:g});e.addConversion({from:"Object",to:"Map",convert:ld});var P=e("simplify",{Node:H,"Node, Map":(J,ee)=>H(J,!1,ee),"Node, Map, Object":(J,ee,ue)=>H(J,!1,ee,ue),"Node, Array":H,"Node, Array, Map":H,"Node, Array, Map, Object":H});e.removeConversion({from:"Object",to:"Map",convert:ld}),P.defaultContext=C,P.realContext=R,P.positiveContext=I;function F(J){return J.transform(function(ee){return Cu(ee)?F(ee.content):ee})}var z={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};P.rules=[o,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},a,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},a,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function U(J,ee){var ue={};if(J.s){var le=J.s.split("->");if(le.length===2)ue.l=le[0],ue.r=le[1];else throw SyntaxError("Could not parse rule: "+J.s)}else ue.l=J.l,ue.r=J.r;ue.l=F(r(ue.l)),ue.r=F(r(ue.r));for(var ie of["imposeContext","repeat","assuming"])ie in J&&(ue[ie]=J[ie]);if(J.evaluate&&(ue.evaluate=r(J.evaluate)),_(ue.l,ee)){var Te=!N(ue.l,ee),he;Te&&(he=Y());var Ce=O(ue.l),je=Y();ue.expanded={},ue.expanded.l=Ce([ue.l,je]),x(ue.expanded.l,ee),A(ue.expanded.l,ee),ue.expanded.r=Ce([ue.r,je]),Te&&(ue.expandedNC1={},ue.expandedNC1.l=Ce([he,ue.l]),ue.expandedNC1.r=Ce([he,ue.r]),ue.expandedNC2={},ue.expandedNC2.l=Ce([he,ue.expanded.l]),ue.expandedNC2.r=Ce([he,ue.expanded.r]))}return ue}function k(J,ee){for(var ue=[],le=0;le<J.length;le++){var ie=J[le],Te=void 0,he=typeof ie;switch(he){case"string":ie={s:ie};case"object":Te=U(ie,ee);break;case"function":Te=ie;break;default:throw TypeError("Unsupported type of rule: "+he)}ue.push(Te)}return ue}var V=0;function Y(){return new g("_p"+V++)}function H(J,ee){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rg(),le=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ie=le.consoleDebug;ee=k(ee||P.rules,le.context);var Te=i(J,ue);Te=F(Te);for(var he={},Ce=Te.toString({parenthesis:"all"});!he[Ce];){he[Ce]=!0,V=0;var je=Ce;ie&&console.log("Working on: ",Ce);for(var We=0;We<ee.length;We++){var xe="";if(typeof ee[We]=="function"?(Te=ee[We](Te,le),ie&&(xe=ee[We].name)):(x(Te,le.context),Te=Z(Te,ee[We],le.context),ie&&(xe="".concat(ee[We].l.toString()," -> ").concat(ee[We].r.toString()))),ie){var ze=Te.toString({parenthesis:"all"});ze!==je&&(console.log("Applying",xe,"produced",ze),je=ze)}T(Te,le.context)}Ce=Te.toString({parenthesis:"all"})}return Te}function j(J,ee,ue){var le=J;if(J)for(var ie=0;ie<J.length;++ie){var Te=Z(J[ie],ee,ue);Te!==J[ie]&&(le===J&&(le=J.slice()),le[ie]=Te)}return le}function Z(J,ee,ue){if(ee.assuming){for(var le in ee.assuming)for(var ie in ee.assuming[le])if(E(le,ie,ue)!==ee.assuming[le][ie])return J}var Te=S(ee.imposeContext,ue),he=J;if(he instanceof m||he instanceof f){var Ce=j(he.args,ee,ue);Ce!==he.args&&(he=he.clone(),he.args=Ce)}else if(he instanceof y){if(he.content){var je=Z(he.content,ee,ue);je!==he.content&&(he=new y(je))}}else if(he instanceof l){var We=j(he.items,ee,ue);We!==he.items&&(he=new l(We))}else if(he instanceof s){var xe=he.object;he.object&&(xe=Z(he.object,ee,ue));var ze=he.index;he.index&&(ze=Z(he.index,ee,ue)),(xe!==he.object||ze!==he.index)&&(he=new s(xe,ze))}else if(he instanceof d){var te=j(he.dimensions,ee,ue);te!==he.dimensions&&(he=new d(te))}else if(he instanceof p){var ce=!1,be={};for(var Q in he.properties)be[Q]=Z(he.properties[Q],ee,ue),be[Q]!==he.properties[Q]&&(ce=!0);ce&&(he=new p(be))}var oe=ee.r,de=me(ee.l,he,Te)[0];if(!de&&ee.expanded&&(oe=ee.expanded.r,de=me(ee.expanded.l,he,Te)[0]),!de&&ee.expandedNC1&&(oe=ee.expandedNC1.r,de=me(ee.expandedNC1.l,he,Te)[0],de||(oe=ee.expandedNC2.r,de=me(ee.expandedNC2.l,he,Te)[0])),de){var ye=he.implicit;he=oe.clone(),ye&&"implicit"in oe&&(he.implicit=!0),he=he.transform(function(_e){return _e.isSymbolNode&&ut(de.placeholders,_e.name)?de.placeholders[_e.name].clone():_e})}return ee.repeat&&he!==J&&(he=Z(he,ee,ue)),he}function $(J,ee){var ue=[],le,ie,Te=O(J);if(N(J,ee))for(var he=0;he<J.args.length;he++)ie=J.args.slice(0),ie.splice(he,1),le=ie.length===1?ie[0]:Te(ie),ue.push(Te([J.args[he],le]));else for(var Ce=1;Ce<J.args.length;Ce++){var je=J.args[0];Ce>1&&(je=Te(J.args.slice(0,Ce))),ie=J.args.slice(Ce),le=ie.length===1?ie[0]:Te(ie),ue.push(Te([je,le]))}return ue}function W(J,ee){var ue={placeholders:{}};if(!J.placeholders&&!ee.placeholders)return ue;if(J.placeholders){if(!ee.placeholders)return J}else return ee;for(var le in J.placeholders)if(ut(J.placeholders,le)&&(ue.placeholders[le]=J.placeholders[le],ut(ee.placeholders,le)&&!Ee(J.placeholders[le],ee.placeholders[le])))return null;for(var ie in ee.placeholders)ut(ee.placeholders,ie)&&(ue.placeholders[ie]=ee.placeholders[ie]);return ue}function K(J,ee){var ue=[];if(J.length===0||ee.length===0)return ue;for(var le,ie=0;ie<J.length;ie++)for(var Te=0;Te<ee.length;Te++)le=W(J[ie],ee[Te]),le&&ue.push(le);return ue}function ge(J){if(J.length===0)return J;for(var ee=J.reduce(K),ue=[],le={},ie=0;ie<ee.length;ie++){var Te=JSON.stringify(ee[ie],b);le[Te]||(le[Te]=!0,ue.push(ee[ie]))}return ue}function me(J,ee,ue,le){var ie=[{placeholders:{}}];if(J instanceof m&&ee instanceof m||J instanceof f&&ee instanceof f){if(J instanceof m){if(J.op!==ee.op||J.fn!==ee.fn)return[]}else if(J instanceof f&&J.name!==ee.name)return[];if(ee.args.length===1&&J.args.length===1||!_(ee,ue)&&ee.args.length===J.args.length||le){for(var Te=[],he=0;he<J.args.length;he++){var Ce=me(J.args[he],ee.args[he],ue);if(Ce.length===0)break;Te.push(Ce)}if(Te.length!==J.args.length){if(!N(ee,ue)||J.args.length===1)return[];if(J.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var je=me(J.args[0],ee.args[1],ue);if(je.length===0)return[];var We=me(J.args[1],ee.args[0],ue);if(We.length===0)return[];Te=[je,We]}ie=ge(Te)}else if(ee.args.length>=2&&J.args.length===2){for(var xe=$(ee,ue),ze=[],te=0;te<xe.length;te++){var ce=me(J,xe[te],ue,!0);ze=ze.concat(ce)}return ze}else{if(J.args.length>2)throw Error("Unexpected non-binary associative function: "+J.toString());return[]}}else if(J instanceof g){if(J.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(z[J.name]){if(J.name!==ee.name)return[]}else switch(J.name[1]>="a"&&J.name[1]<="z"?J.name.substring(0,2):J.name[0]){case"n":case"_p":ie[0].placeholders[J.name]=ee;break;case"c":case"cl":if(er(ee))ie[0].placeholders[J.name]=ee;else return[];break;case"v":if(!er(ee))ie[0].placeholders[J.name]=ee;else return[];break;case"vl":if(ri(ee))ie[0].placeholders[J.name]=ee;else return[];break;case"cd":if(mz(ee))ie[0].placeholders[J.name]=ee;else return[];break;case"vd":if(!mz(ee))ie[0].placeholders[J.name]=ee;else return[];break;case"ce":if(iw(ee))ie[0].placeholders[J.name]=ee;else return[];break;case"ve":if(!iw(ee))ie[0].placeholders[J.name]=ee;else return[];break;default:throw new Error("Invalid symbol in rule: "+J.name)}}else if(J instanceof u){if(!n(J.value,ee.value))return[]}else return[];return ie}function Ee(J,ee){if(J instanceof u&&ee instanceof u){if(!n(J.value,ee.value))return!1}else if(J instanceof g&&ee instanceof g){if(J.name!==ee.name)return!1}else if(J instanceof m&&ee instanceof m||J instanceof f&&ee instanceof f){if(J instanceof m){if(J.op!==ee.op||J.fn!==ee.fn)return!1}else if(J instanceof f&&J.name!==ee.name)return!1;if(J.args.length!==ee.args.length)return!1;for(var ue=0;ue<J.args.length;ue++)if(!Ee(J.args[ue],ee.args[ue]))return!1}else return!1;return!0}return P}),O5e="simplifyConstant",M5e=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],I5e=ne(O5e,M5e,t=>{var{typed:e,config:r,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:f,IndexNode:d,ObjectNode:p,OperatorNode:m,SymbolNode:y}=t,{isCommutative:g,isAssociative:b,allChildren:E,createMakeNodeFunction:N}=mI({FunctionNode:f,OperatorNode:m,SymbolNode:y}),_=e("simplifyConstant",{Node:U=>T(z(U,{})),"Node, Object":function(k,V){return T(z(k,V))}});function S(U){return Ng(U)?U.valueOf():U instanceof Array?U.map(S):gt(U)?i(S(U.valueOf())):U}function x(U,k,V){try{return n[U].apply(null,k)}catch{return k=k.map(S),C(n[U].apply(null,k),V)}}var A=e({Fraction:I,number:function(k){return k<0?R(new u(-k)):new u(k)},BigNumber:function(k){return k<0?R(new u(-k)):new u(k)},bigint:function(k){return k<0n?R(new u(-k)):new u(k)},Complex:function(k){throw new Error("Cannot convert Complex number to Node")},string:function(k){return new u(k)},Matrix:function(k){return new l(k.valueOf().map(V=>A(V)))}});function T(U){return wr(U)?U:A(U)}function O(U,k){var V=k&&k.exactFractions!==!1;if(V&&isFinite(U)&&a){var Y=a(U),H=k&&typeof k.fractionsLimit=="number"?k.fractionsLimit:1/0;if(Y.valueOf()===U&&Y.n<H&&Y.d<H)return Y}return U}var C=e({"string, Object":function(k,V){var Y=Ql(k,r);if(Y==="BigNumber")return o===void 0&&cI(),o(k);if(Y==="bigint")return BigInt(k);if(Y==="Fraction")return a===void 0&&PY(),a(k);var H=parseFloat(k);return O(H,V)},"Fraction, Object":function(k,V){return k},"BigNumber, Object":function(k,V){return k},"number, Object":function(k,V){return O(k,V)},"bigint, Object":function(k,V){return k},"Complex, Object":function(k,V){return k.im!==0?k:O(k.re,V)},"Matrix, Object":function(k,V){return i(O(k.valueOf()))},"Array, Object":function(k,V){return k.map(O)}});function R(U){return new m("-","unaryMinus",[U])}function I(U){var k=H=>r.number==="BigNumber"&&o?o(H):Number(H),V=U.s*U.n,Y=V<0n?new m("-","unaryMinus",[new u(-k(V))]):new u(k(V));return U.d===1n?Y:new m("/","divide",[Y,new u(k(U.d))])}function P(U,k,V){if(!dp(k))return new s(T(U),T(k));if(Ja(U)||gt(U)){for(var Y=Array.from(k.dimensions);Y.length>0;)if(er(Y[0])&&typeof Y[0].value!="string"){var H=C(Y.shift().value,V);Ja(U)?U=U.items[H-1]:(U=U.valueOf()[H-1],U instanceof Array&&(U=i(U)))}else if(Y.length>1&&er(Y[1])&&typeof Y[1].value!="string"){var j=C(Y[1].value,V),Z=[],$=Ja(U)?U.items:U.valueOf();for(var W of $)if(Ja(W))Z.push(W.items[j-1]);else if(gt(U))Z.push(W[j-1]);else break;if(Z.length===$.length)Ja(U)?U=new l(Z):U=i(Z),Y.splice(1,1);else break}else break;return Y.length===k.dimensions.length?new s(T(U),k):Y.length>0?(k=new d(Y),new s(T(U),k)):U}if(b_(U)&&k.dimensions.length===1&&er(k.dimensions[0])){var K=k.dimensions[0].value;return K in U.properties?U.properties[K]:new u}return new s(T(U),k)}function F(U,k,V,Y){var H=k.shift(),j=k.reduce((Z,$)=>{if(!wr($)){var W=Z.pop();if(wr(W))return[W,$];try{return Z.push(x(U,[W,$],Y)),Z}catch{Z.push(W)}}Z.push(T(Z.pop()));var K=Z.length===1?Z[0]:V(Z);return[V([K,T($)])]},[H]);return j.length===1?j[0]:V([j[0],A(j[1])])}function z(U,k){switch(U.type){case"SymbolNode":return U;case"ConstantNode":switch(typeof U.value){case"number":return C(U.value,k);case"bigint":return C(U.value,k);case"string":return U.value;default:if(!isNaN(U.value))return C(U.value,k)}return U;case"FunctionNode":if(n[U.name]&&n[U.name].rawArgs)return U;{var V=["add","multiply"];if(!V.includes(U.name)){var Y=U.args.map(le=>z(le,k));if(!Y.some(wr))try{return x(U.name,Y,k)}catch{}if(U.name==="size"&&Y.length===1&&Ja(Y[0])){for(var H=[],j=Y[0];Ja(j);)H.push(j.items.length),j=j.items[0];return i(H)}return new f(U.name,Y.map(T))}}case"OperatorNode":{var Z=U.fn.toString(),$,W,K=N(U);if(fn(U)&&U.isUnary())$=[z(U.args[0],k)],wr($[0])?W=K($):W=x(Z,$,k);else if(b(U,k.context))if($=E(U,k.context),$=$.map(le=>z(le,k)),g(Z,k.context)){for(var ge=[],me=[],Ee=0;Ee<$.length;Ee++)wr($[Ee])?me.push($[Ee]):ge.push($[Ee]);ge.length>1?(W=F(Z,ge,K,k),me.unshift(W),W=F(Z,me,K,k)):W=F(Z,$,K,k)}else W=F(Z,$,K,k);else $=U.args.map(le=>z(le,k)),W=F(Z,$,K,k);return W}case"ParenthesisNode":return z(U.content,k);case"AccessorNode":return P(z(U.object,k),z(U.index,k),k);case"ArrayNode":{var J=U.items.map(le=>z(le,k));return J.some(wr)?new l(J.map(T)):i(J)}case"IndexNode":return new d(U.dimensions.map(le=>_(le,k)));case"ObjectNode":{var ee={};for(var ue in U.properties)ee[ue]=_(U.properties[ue],k);return new p(ee)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(U.type))}}return _}),gz="simplifyCore",R5e=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],P5e=ne(gz,R5e,t=>{var{typed:e,parse:r,equal:n,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,AccessorNode:f,ArrayNode:d,ConstantNode:p,FunctionNode:m,IndexNode:y,ObjectNode:g,OperatorNode:b,ParenthesisNode:E,SymbolNode:N}=t,_=new p(0),S=new p(1),x=new p(!0),A=new p(!1);function T(I){return fn(I)&&["and","not","or"].includes(I.op)}var{hasProperty:O,isCommutative:C}=mI({FunctionNode:m,OperatorNode:b,SymbolNode:N});function R(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},F=P?P.context:void 0;if(O(I,"trivial",F)){if(Ul(I)&&I.args.length===1)return R(I.args[0],P);var z=!1,U=0;if(I.forEach(me=>{++U,U===1&&(z=R(me,P))}),U===1)return z}var k=I;if(Ul(k)){var V=OPe(k.name);if(V){if(k.args.length>2&&O(k,"associative",F))for(;k.args.length>2;){var Y=k.args.pop(),H=k.args.pop();k.args.push(new b(V,k.name,[Y,H]))}k=new b(V,k.name,k.args)}else return new m(R(k.fn),k.args.map(me=>R(me,P)))}if(fn(k)&&k.isUnary()){var j=R(k.args[0],P);if(k.op==="~"&&fn(j)&&j.isUnary()&&j.op==="~"||k.op==="not"&&fn(j)&&j.isUnary()&&j.op==="not"&&T(j.args[0]))return j.args[0];var Z=!0;if(k.op==="-"&&fn(j)&&(j.isBinary()&&j.fn==="subtract"&&(k=new b("-","subtract",[j.args[1],j.args[0]]),Z=!1),j.isUnary()&&j.op==="-"))return j.args[0];if(Z)return new b(k.op,k.fn,[j])}if(fn(k)&&k.isBinary()){var $=R(k.args[0],P),W=R(k.args[1],P);if(k.op==="+"){if(er($)&&i($.value))return W;if(er(W)&&i(W.value))return $;fn(W)&&W.isUnary()&&W.op==="-"&&(W=W.args[0],k=new b("-","subtract",[$,W]))}if(k.op==="-")return fn(W)&&W.isUnary()&&W.op==="-"?R(new b("+","add",[$,W.args[0]]),P):er($)&&i($.value)?R(new b("-","unaryMinus",[W])):er(W)&&i(W.value)?$:new b(k.op,k.fn,[$,W]);if(k.op==="*"){if(er($)){if(i($.value))return _;if(n($.value,1))return W}if(er(W)){if(i(W.value))return _;if(n(W.value,1))return $;if(C(k,F))return new b(k.op,k.fn,[W,$],k.implicit)}return new b(k.op,k.fn,[$,W],k.implicit)}if(k.op==="/")return er($)&&i($.value)?_:er(W)&&n(W.value,1)?$:new b(k.op,k.fn,[$,W]);if(k.op==="^"&&er(W)){if(i(W.value))return S;if(n(W.value,1))return $}if(k.op==="and"){if(er($))if($.value){if(T(W))return W;if(er(W))return W.value?x:A}else return A;if(er(W))if(W.value){if(T($))return $}else return A}if(k.op==="or"){if(er($)){if($.value)return x;if(T(W))return W}if(er(W)){if(W.value)return x;if(T($))return $}}return new b(k.op,k.fn,[$,W])}if(fn(k))return new b(k.op,k.fn,k.args.map(me=>R(me,P)));if(Ja(k))return new d(k.items.map(me=>R(me,P)));if(bf(k))return new f(R(k.object,P),R(k.index,P));if(dp(k))return new y(k.dimensions.map(me=>R(me,P)));if(b_(k)){var K={};for(var ge in k.properties)K[ge]=R(k.properties[ge],P);return new g(K)}return k}return e(gz,{Node:R,"Node,Object":R})}),B5e="resolve",F5e=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],k5e=ne(B5e,F5e,t=>{var{typed:e,parse:r,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=t;function s(l,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return l;if(ri(l)){if(f.has(l.name)){var d=Array.from(f).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(d,"}"))}var p=u.get(l.name);if(wr(p)){var m=new Set(f);return m.add(l.name),s(p,u,m)}else return typeof p=="number"?r(String(p)):p!==void 0?new n(p):l}else if(fn(l)){var y=l.args.map(function(b){return s(b,u,f)});return new a(l.op,l.fn,y,l.implicit)}else{if(Cu(l))return new o(s(l.content,u,f));if(Ul(l)){var g=l.args.map(function(b){return s(b,u,f)});return new i(l.name,g)}}return l.map(b=>s(b,u,f))}return e("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(l,u)=>s(l,ld(u)),"Array | Matrix":e.referToSelf(l=>u=>u.map(f=>l(f))),"Array | Matrix, null | undefined":e.referToSelf(l=>u=>u.map(f=>l(f))),"Array, Object":e.referTo("Array,Map",l=>(u,f)=>l(u,ld(f))),"Matrix, Object":e.referTo("Matrix,Map",l=>(u,f)=>l(u,ld(f))),"Array | Matrix, Map":e.referToSelf(l=>(u,f)=>u.map(d=>l(d,f)))})}),yz="symbolicEqual",$5e=["parse","simplify","typed","OperatorNode"],L5e=ne(yz,$5e,t=>{var{parse:e,simplify:r,typed:n,OperatorNode:i}=t;function a(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new i("-","subtract",[o,s]),f=r(u,{},l);return er(f)&&!f.value}return n(yz,{"Node, Node":a,"Node, Node, Object":a})}),bz="derivative",q5e=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],U5e=ne(bz,q5e,t=>{var{typed:e,config:r,parse:n,simplify:i,equal:a,isZero:o,numeric:s,ConstantNode:l,FunctionNode:u,OperatorNode:f,ParenthesisNode:d,SymbolNode:p}=t;function m(S,x){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},T=new Map,O=x.name;function C(I){var P=T.get(I);if(P!==void 0)return P;var F=E(C,I,O);return T.set(I,F),F}var R=N(S,C);return A.simplify?i(R):R}function y(S){var x=n(S);if(!x.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(S)," into a variable in function derivative"));return x}var g=e(bz,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m,"Node, string":(S,x)=>m(S,y(x)),"Node, string, Object":(S,x,A)=>m(S,y(x),A)});g._simplify=!0,g.toTex=function(S){return b.apply(null,S.args)};var b=e("_derivTex",{"Node, SymbolNode":function(x,A){return er(x)&&Dr(x.value)==="string"?b(n(x.value).toString(),A.toString(),1):b(x.toTex(),A.toString(),1)},"Node, ConstantNode":function(x,A){if(Dr(A.value)==="string")return b(x,n(A.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(x,A,T){return b(x.toString(),A.name,T.value)},"string, string, number":function(x,A,T){var O;return T===1?O="{d\\over d"+A+"}":O="{d^{"+T+"}\\over d"+A+"^{"+T+"}}",O+"\\left[".concat(x,"\\right]")}}),E=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(x,A,T){return A.name!==T},"function, ParenthesisNode, string":function(x,A,T){return x(A.content,T)},"function, FunctionAssignmentNode, string":function(x,A,T){return A.params.includes(T)?x(A.expr,T):!0},"function, FunctionNode | OperatorNode, string":function(x,A,T){return A.args.every(O=>x(O,T))}}),N=e("_derivative",{"ConstantNode, function":function(){return _(0)},"SymbolNode, function":function(x,A){return A(x)?_(0):_(1)},"ParenthesisNode, function":function(x,A){return new d(N(x.content,A))},"FunctionAssignmentNode, function":function(x,A){return A(x)?_(0):N(x.expr,A)},"FunctionNode, function":function(x,A){if(A(x))return _(0);var T=x.args[0],O,C=!1,R=!1,I;switch(x.name){case"cbrt":C=!0,I=new f("*","multiply",[_(3),new f("^","pow",[T,new f("/","divide",[_(2),_(3)])])]);break;case"sqrt":case"nthRoot":if(x.args.length===1)C=!0,I=new f("*","multiply",[_(2),new u("sqrt",[T])]);else if(x.args.length===2)return O=new f("/","divide",[_(1),x.args[1]]),N(new f("^","pow",[T,O]),A);break;case"log10":O=_(10);case"log":if(!O&&x.args.length===1)I=T.clone(),C=!0;else if(x.args.length===1&&O||x.args.length===2&&A(x.args[1]))I=new f("*","multiply",[T.clone(),new u("log",[O||x.args[1]])]),C=!0;else if(x.args.length===2)return N(new f("/","divide",[new u("log",[T]),new u("log",[x.args[1]])]),A);break;case"pow":if(x.args.length===2)return N(new f("^","pow",[T,x.args[1]]),A);break;case"exp":I=new u("exp",[T.clone()]);break;case"sin":I=new u("cos",[T.clone()]);break;case"cos":I=new f("-","unaryMinus",[new u("sin",[T.clone()])]);break;case"tan":I=new f("^","pow",[new u("sec",[T.clone()]),_(2)]);break;case"sec":I=new f("*","multiply",[x,new u("tan",[T.clone()])]);break;case"csc":R=!0,I=new f("*","multiply",[x,new u("cot",[T.clone()])]);break;case"cot":R=!0,I=new f("^","pow",[new u("csc",[T.clone()]),_(2)]);break;case"asin":C=!0,I=new u("sqrt",[new f("-","subtract",[_(1),new f("^","pow",[T.clone(),_(2)])])]);break;case"acos":C=!0,R=!0,I=new u("sqrt",[new f("-","subtract",[_(1),new f("^","pow",[T.clone(),_(2)])])]);break;case"atan":C=!0,I=new f("+","add",[new f("^","pow",[T.clone(),_(2)]),_(1)]);break;case"asec":C=!0,I=new f("*","multiply",[new u("abs",[T.clone()]),new u("sqrt",[new f("-","subtract",[new f("^","pow",[T.clone(),_(2)]),_(1)])])]);break;case"acsc":C=!0,R=!0,I=new f("*","multiply",[new u("abs",[T.clone()]),new u("sqrt",[new f("-","subtract",[new f("^","pow",[T.clone(),_(2)]),_(1)])])]);break;case"acot":C=!0,R=!0,I=new f("+","add",[new f("^","pow",[T.clone(),_(2)]),_(1)]);break;case"sinh":I=new u("cosh",[T.clone()]);break;case"cosh":I=new u("sinh",[T.clone()]);break;case"tanh":I=new f("^","pow",[new u("sech",[T.clone()]),_(2)]);break;case"sech":R=!0,I=new f("*","multiply",[x,new u("tanh",[T.clone()])]);break;case"csch":R=!0,I=new f("*","multiply",[x,new u("coth",[T.clone()])]);break;case"coth":R=!0,I=new f("^","pow",[new u("csch",[T.clone()]),_(2)]);break;case"asinh":C=!0,I=new u("sqrt",[new f("+","add",[new f("^","pow",[T.clone(),_(2)]),_(1)])]);break;case"acosh":C=!0,I=new u("sqrt",[new f("-","subtract",[new f("^","pow",[T.clone(),_(2)]),_(1)])]);break;case"atanh":C=!0,I=new f("-","subtract",[_(1),new f("^","pow",[T.clone(),_(2)])]);break;case"asech":C=!0,R=!0,I=new f("*","multiply",[T.clone(),new u("sqrt",[new f("-","subtract",[_(1),new f("^","pow",[T.clone(),_(2)])])])]);break;case"acsch":C=!0,R=!0,I=new f("*","multiply",[new u("abs",[T.clone()]),new u("sqrt",[new f("+","add",[new f("^","pow",[T.clone(),_(2)]),_(1)])])]);break;case"acoth":C=!0,R=!0,I=new f("-","subtract",[_(1),new f("^","pow",[T.clone(),_(2)])]);break;case"abs":I=new f("/","divide",[new u(new p("abs"),[T.clone()]),T.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+x.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var P,F;C?(P="/",F="divide"):(P="*",F="multiply");var z=N(T,A);return R&&(z=new f("-","unaryMinus",[z])),new f(P,F,[z,I])},"OperatorNode, function":function(x,A){if(A(x))return _(0);if(x.op==="+")return new f(x.op,x.fn,x.args.map(function(k){return N(k,A)}));if(x.op==="-"){if(x.isUnary())return new f(x.op,x.fn,[N(x.args[0],A)]);if(x.isBinary())return new f(x.op,x.fn,[N(x.args[0],A),N(x.args[1],A)])}if(x.op==="*"){var T=x.args.filter(function(k){return A(k)});if(T.length>0){var O=x.args.filter(function(k){return!A(k)}),C=O.length===1?O[0]:new f("*","multiply",O),R=T.concat(N(C,A));return new f("*","multiply",R)}return new f("+","add",x.args.map(function(k){return new f("*","multiply",x.args.map(function(V){return V===k?N(V,A):V.clone()}))}))}if(x.op==="/"&&x.isBinary()){var I=x.args[0],P=x.args[1];return A(P)?new f("/","divide",[N(I,A),P]):A(I)?new f("*","multiply",[new f("-","unaryMinus",[I]),new f("/","divide",[N(P,A),new f("^","pow",[P.clone(),_(2)])])]):new f("/","divide",[new f("-","subtract",[new f("*","multiply",[N(I,A),P.clone()]),new f("*","multiply",[I.clone(),N(P,A)])]),new f("^","pow",[P.clone(),_(2)])])}if(x.op==="^"&&x.isBinary()){var F=x.args[0],z=x.args[1];if(A(F))return er(F)&&(o(F.value)||a(F.value,1))?_(0):new f("*","multiply",[x,new f("*","multiply",[new u("log",[F.clone()]),N(z.clone(),A)])]);if(A(z)){if(er(z)){if(o(z.value))return _(0);if(a(z.value,1))return N(F,A)}var U=new f("^","pow",[F.clone(),new f("-","subtract",[z,_(1)])]);return new f("*","multiply",[z.clone(),new f("*","multiply",[N(F,A),U])])}return new f("*","multiply",[new f("^","pow",[F.clone(),z.clone()]),new f("+","add",[new f("*","multiply",[N(F,A),new f("/","divide",[z.clone(),F.clone()])]),new f("*","multiply",[N(z,A),new u("log",[F.clone()])])])])}throw new Error('Cannot process operator "'+x.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function _(S,x){return new l(s(S,Ql(String(S),r)))}return g}),wz="rationalize",j5e=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],z5e=ne(wz,j5e,t=>{var{config:e,typed:r,equal:n,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,parse:f,simplifyConstant:d,simplifyCore:p,simplify:m,fraction:y,bignumber:g,mathWithTransform:b,matrix:E,AccessorNode:N,ArrayNode:_,ConstantNode:S,FunctionNode:x,IndexNode:A,ObjectNode:T,OperatorNode:O,SymbolNode:C,ParenthesisNode:R}=t;function I(k){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,H=F(),j=P(k,V,!0,H.firstRules),Z=j.variables.length,$={exactFractions:!1},W={exactFractions:!0};if(k=j.expression,Z>=1){k=z(k);var K,ge,me=!0,Ee=!1;k=m(k,H.firstRules,{},$);for(var J;ge=me?H.distrDivRules:H.sucDivRules,k=m(k,ge,{},W),me=!me,J=k.toString(),J!==K;)Ee=!0,K=J;Ee&&(k=m(k,H.firstRulesAgain,{},$)),k=m(k,H.finalRules,{},$)}var ee=[],ue={};return k.type==="OperatorNode"&&k.isBinary()&&k.op==="/"?(Z===1&&(k.args[0]=U(k.args[0],ee),k.args[1]=U(k.args[1])),Y&&(ue.numerator=k.args[0],ue.denominator=k.args[1])):(Z===1&&(k=U(k,ee)),Y&&(ue.numerator=k,ue.denominator=null)),Y?(ue.coefficients=ee,ue.variables=j.variables,ue.expression=k,ue):k}return r(wz,{Node:I,"Node, boolean":(k,V)=>I(k,{},V),"Node, Object":I,"Node, Object, boolean":I});function P(k,V,Y,H){var j=[],Z=m(k,H,V,{exactFractions:!1});Y=!!Y;var $="+-*"+(Y?"/":"");K(Z);var W={};return W.expression=Z,W.variables=j,W;function K(ge){var me=ge.type;if(me==="FunctionNode")throw new Error("There is an unsolved function call");if(me==="OperatorNode")if(ge.op==="^"){if(ge.args[1].type!=="ConstantNode"||!ft(parseFloat(ge.args[1].value)))throw new Error("There is a non-integer exponent");K(ge.args[0])}else{if(!$.includes(ge.op))throw new Error("Operator "+ge.op+" invalid in polynomial expression");for(var Ee=0;Ee<ge.args.length;Ee++)K(ge.args[Ee])}else if(me==="SymbolNode"){var J=ge.name,ee=j.indexOf(J);ee===-1&&j.push(J)}else if(me==="ParenthesisNode")K(ge.content);else if(me!=="ConstantNode")throw new Error("type "+me+" is not allowed in polynomial expression")}}function F(){var k=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},d,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],V=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],Y=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],H=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],j={};return j.firstRules=k.concat(V,H),j.distrDivRules=Y,j.sucDivRules=H,j.firstRulesAgain=k.concat(V),j.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},d,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],j}function z(k,V,Y){var H=k.type,j=arguments.length>1;if(H==="OperatorNode"&&k.isBinary()){var Z=!1,$;if(k.op==="^"&&(k.args[0].type==="ParenthesisNode"||k.args[0].type==="OperatorNode")&&k.args[1].type==="ConstantNode"&&($=parseFloat(k.args[1].value),Z=$>=2&&ft($)),Z){if($>2){var W=k.args[0],K=new O("^","pow",[k.args[0].cloneDeep(),new S($-1)]);k=new O("*","multiply",[W,K])}else k=new O("*","multiply",[k.args[0],k.args[0].cloneDeep()]);j&&(Y==="content"?V.content=k:V.args[Y]=k)}}if(H==="ParenthesisNode")z(k.content,k,"content");else if(H!=="ConstantNode"&&H!=="SymbolNode")for(var ge=0;ge<k.args.length;ge++)z(k.args[ge],k,ge);if(!j)return k}function U(k,V){V===void 0&&(V=[]),V[0]=0;var Y={};Y.cte=1,Y.oper="+",Y.fire="";var H=0,j="";J(k,null,Y),H=V.length-1;for(var Z=!0,$,W=H;W>=0;W--)if(V[W]!==0){var K=new S(Z?V[W]:Math.abs(V[W])),ge=V[W]<0?"-":"+";if(W>0){var me=new C(j);if(W>1){var Ee=new S(W);me=new O("^","pow",[me,Ee])}V[W]===-1&&Z?K=new O("-","unaryMinus",[me]):Math.abs(V[W])===1?K=me:K=new O("*","multiply",[K,me])}Z?$=K:ge==="+"?$=new O("+","add",[$,K]):$=new O("-","subtract",[$,K]),Z=!1}if(Z)return new S(0);return $;function J(ee,ue,le){var ie=ee.type;if(ie==="FunctionNode")throw new Error("There is an unsolved function call");if(ie==="OperatorNode"){if(!"+-*^".includes(ee.op))throw new Error("Operator "+ee.op+" invalid");if(ue!==null){if((ee.fn==="unaryMinus"||ee.fn==="pow")&&ue.fn!=="add"&&ue.fn!=="subtract"&&ue.fn!=="multiply")throw new Error("Invalid "+ee.op+" placing");if((ee.fn==="subtract"||ee.fn==="add"||ee.fn==="multiply")&&ue.fn!=="add"&&ue.fn!=="subtract")throw new Error("Invalid "+ee.op+" placing");if((ee.fn==="subtract"||ee.fn==="add"||ee.fn==="unaryMinus")&&le.noFil!==0)throw new Error("Invalid "+ee.op+" placing")}(ee.op==="^"||ee.op==="*")&&(le.fire=ee.op);for(var Te=0;Te<ee.args.length;Te++)ee.fn==="unaryMinus"&&(le.oper="-"),(ee.op==="+"||ee.fn==="subtract")&&(le.fire="",le.cte=1,le.oper=Te===0?"+":ee.op),le.noFil=Te,J(ee.args[Te],ee,le)}else if(ie==="SymbolNode"){if(ee.name!==j&&j!=="")throw new Error("There is more than one variable");if(j=ee.name,ue===null){V[1]=1;return}if(ue.op==="^"&&le.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ue.op==="*"&&le.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(le.fire===""||le.fire==="*")&&(H<1&&(V[1]=0),V[1]+=le.cte*(le.oper==="+"?1:-1),H=Math.max(1,H))}else if(ie==="ConstantNode"){var he=parseFloat(ee.value);if(ue===null){V[0]=he;return}if(ue.op==="^"){if(le.noFil!==1)throw new Error("Constant cannot be powered");if(!ft(he)||he<=0)throw new Error("Non-integer exponent is not allowed");for(var Ce=H+1;Ce<he;Ce++)V[Ce]=0;he>H&&(V[he]=0),V[he]+=le.cte*(le.oper==="+"?1:-1),H=Math.max(he,H);return}le.cte=he,le.fire===""&&(V[0]+=le.cte*(le.oper==="+"?1:-1))}else throw new Error("Type "+ie+" is not allowed")}}}),_z="zpk2tf",V5e=["typed","add","multiply","Complex","number"],H5e=ne(_z,V5e,t=>{var{typed:e,add:r,multiply:n,Complex:i,number:a}=t;return e(_z,{"Array,Array,number":function(u,f,d){return o(u,f,d)},"Array,Array":function(u,f){return o(u,f,1)},"Matrix,Matrix,number":function(u,f,d){return o(u.valueOf(),f.valueOf(),d)},"Matrix,Matrix":function(u,f){return o(u.valueOf(),f.valueOf(),1)}});function o(l,u,f){l.some(N=>N.type==="BigNumber")&&(l=l.map(N=>a(N))),u.some(N=>N.type==="BigNumber")&&(u=u.map(N=>a(N)));for(var d=[i(1,0)],p=[i(1,0)],m=0;m<l.length;m++){var y=l[m];typeof y=="number"&&(y=i(y,0)),d=s(d,[i(1,0),i(-y.re,-y.im)])}for(var g=0;g<u.length;g++){var b=u[g];typeof b=="number"&&(b=i(b,0)),p=s(p,[i(1,0),i(-b.re,-b.im)])}for(var E=0;E<d.length;E++)d[E]=n(d[E],f);return[d,p]}function s(l,u){for(var f=[],d=0;d<l.length+u.length-1;d++){f[d]=i(0,0);for(var p=0;p<l.length;p++)d-p>=0&&d-p<u.length&&(f[d]=r(f[d],n(l[p],u[d-p])))}return f}}),xz="freqz",G5e=["typed","add","multiply","Complex","divide","matrix"],K5e=ne(xz,G5e,t=>{var{typed:e,add:r,multiply:n,Complex:i,divide:a,matrix:o}=t;return e(xz,{"Array, Array":function(f,d){var p=l(512);return s(f,d,p)},"Array, Array, Array":function(f,d,p){return s(f,d,p)},"Array, Array, number":function(f,d,p){if(p<0)throw new Error("w must be a positive number");var m=l(p);return s(f,d,m)},"Matrix, Matrix":function(f,d){var p=l(512),{w:m,h:y}=s(f.valueOf(),d.valueOf(),p);return{w:o(m),h:o(y)}},"Matrix, Matrix, Matrix":function(f,d,p){var{h:m}=s(f.valueOf(),d.valueOf(),p.valueOf());return{h:o(m),w:o(p)}},"Matrix, Matrix, number":function(f,d,p){if(p<0)throw new Error("w must be a positive number");var m=l(p),{h:y}=s(f.valueOf(),d.valueOf(),m);return{h:o(y),w:o(m)}}});function s(u,f,d){for(var p=[],m=[],y=0;y<d.length;y++){for(var g=i(0,0),b=i(0,0),E=0;E<u.length;E++)g=r(g,n(u[E],i(Math.cos(-E*d[y]),Math.sin(-E*d[y]))));for(var N=0;N<f.length;N++)b=r(b,n(f[N],i(Math.cos(-N*d[y]),Math.sin(-N*d[y]))));p.push(g),m.push(b)}for(var _=[],S=0;S<p.length;S++)_.push(a(p[S],m[S]));return{h:_,w:d}}function l(u){for(var f=[],d=0;d<u;d++)f.push(d/u*Math.PI);return f}}),X5e="reviver",W5e=["classes"],Y5e=ne(X5e,W5e,t=>{var{classes:e}=t;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}}),Q5e="replacer",Z5e=[],J5e=ne(Q5e,Z5e,()=>function(e,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:typeof r=="bigint"?{mathjs:"bigint",value:String(r)}:r}),e8e="14.7.0",t8e=ne("true",[],()=>!0),r8e=ne("false",[],()=>!1),n8e=ne("null",[],()=>null),i8e=Oa("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1/0):1/0}),a8e=Oa("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(NaN):NaN}),o8e=Oa("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?dI(r):oDe}),s8e=Oa("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?PIe(r):sDe}),u8e=Oa("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?IIe(r):uDe}),l8e=Oa("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?RIe(r):lDe}),c8e=Oa("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).ln():Math.LN2}),f8e=Oa("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(10).ln():Math.LN10}),h8e=Oa("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),d8e=Oa("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),p8e=Oa("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),m8e=Oa("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),v8e=Oa("i",["Complex"],t=>{var{Complex:e}=t;return e.I}),g8e=ne("version",[],()=>e8e);function Oa(t,e,r){return ne(t,e,r,{recreateOnConfigChange:!0})}var y8e=Mt("speedOfLight","299792458","m s^-1"),b8e=Mt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),w8e=Mt("planckConstant","6.62607015e-34","J s"),_8e=Mt("reducedPlanckConstant","1.0545718176461565e-34","J s"),x8e=Mt("magneticConstant","1.25663706212e-6","N A^-2"),A8e=Mt("electricConstant","8.8541878128e-12","F m^-1"),E8e=Mt("vacuumImpedance","376.730313667","ohm"),S8e=Mt("coulomb","8.987551792261171e9","N m^2 C^-2"),T8e=Mt("coulombConstant","8.987551792261171e9","N m^2 C^-2"),D8e=Mt("elementaryCharge","1.602176634e-19","C"),N8e=Mt("bohrMagneton","9.2740100783e-24","J T^-1"),C8e=Mt("conductanceQuantum","7.748091729863649e-5","S"),O8e=Mt("inverseConductanceQuantum","12906.403729652257","ohm"),M8e=Mt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),I8e=Mt("nuclearMagneton","5.0507837461e-27","J T^-1"),R8e=Mt("klitzing","25812.807459304513","ohm"),P8e=Mt("bohrRadius","5.29177210903e-11","m"),B8e=Mt("classicalElectronRadius","2.8179403262e-15","m"),F8e=Mt("electronMass","9.1093837015e-31","kg"),k8e=Mt("fermiCoupling","1.1663787e-5","GeV^-2"),$8e=C_("fineStructure",.0072973525693),L8e=Mt("hartreeEnergy","4.3597447222071e-18","J"),q8e=Mt("protonMass","1.67262192369e-27","kg"),U8e=Mt("deuteronMass","3.3435830926e-27","kg"),j8e=Mt("neutronMass","1.6749271613e-27","kg"),z8e=Mt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),V8e=Mt("rydberg","10973731.568160","m^-1"),H8e=Mt("thomsonCrossSection","6.6524587321e-29","m^2"),G8e=C_("weakMixingAngle",.2229),K8e=C_("efimovFactor",22.7),X8e=Mt("atomicMass","1.66053906660e-27","kg"),W8e=Mt("avogadro","6.02214076e23","mol^-1"),Y8e=Mt("boltzmann","1.380649e-23","J K^-1"),Q8e=Mt("faraday","96485.33212331001","C mol^-1"),Z8e=Mt("firstRadiation","3.7417718521927573e-16","W m^2"),J8e=Mt("loschmidt","2.686780111798444e25","m^-3"),eLe=Mt("gasConstant","8.31446261815324","J K^-1 mol^-1"),tLe=Mt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),rLe=Mt("molarVolume","0.022413969545014137","m^3 mol^-1"),nLe=C_("sackurTetrode",-1.16487052358),iLe=Mt("secondRadiation","0.014387768775039337","m K"),aLe=Mt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),oLe=Mt("wienDisplacement","2.897771955e-3","m K"),sLe=Mt("molarMass","0.99999999965e-3","kg mol^-1"),uLe=Mt("molarMassC12","11.9999999958e-3","kg mol^-1"),lLe=Mt("gravity","9.80665","m s^-2"),cLe=Mt("planckLength","1.616255e-35","m"),fLe=Mt("planckMass","2.176435e-8","kg"),hLe=Mt("planckTime","5.391245e-44","s"),dLe=Mt("planckCharge","1.87554603778e-18","C"),pLe=Mt("planckTemperature","1.416785e+32","K");function Mt(t,e,r){var n=["config","Unit","BigNumber"];return ne(t,n,i=>{var{config:a,Unit:o,BigNumber:s}=i,l=a.number==="BigNumber"?new s(e):parseFloat(e),u=new o(l,r);return u.fixPrefix=!0,u})}function C_(t,e){var r=["config","BigNumber"];return ne(t,r,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}function Az(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mLe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Az(Object(r),!0).forEach(function(n){En(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Az(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var vLe="mapSlices",gLe=["typed","isInteger"],yLe=ne(vLe,gLe,t=>{var{typed:e,isInteger:r}=t,n=RC({typed:e,isInteger:r});return e("mapSlices",{"...any":function(a){var o=a[1];Bt(o)?a[1]=o-1:Ft(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(s){throw Gi(s)}}})},mLe({isTransformFunction:!0},RC.meta)),bLe="column",wLe=["typed","Index","matrix","range"],_Le=ne(bLe,wLe,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=CY({typed:e,Index:r,matrix:n,range:i});return e("column",{"...any":function(s){var l=s.length-1,u=s[l];Bt(u)&&(s[l]=u-1);try{return a.apply(null,s)}catch(f){throw Gi(f)}}})},{isTransformFunction:!0});function vI(t,e,r){var n=t.filter(function(l){return ri(l)&&!(l.name in e)&&!r.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=n.name,a=new Map,o=new ZX(r,a,new Set([i])),s=t.compile();return function(u){return a.set(i,u),s.evaluate(o)}}var xLe="transformCallback",ALe=["typed"],gI=ne(xLe,ALe,t=>{var{typed:e}=t;return function(n,i){return e.isTypedFunction(n)?r(n,i):Ez(n,n.length,i)};function r(n,i){var a=Object.fromEntries(Object.entries(n.signatures).map(o=>{var[s,l]=o,u=s.split(",").length;return e.isTypedFunction(l)?[s,r(l,i)]:[s,Ez(l,u,i)]}));return typeof n.name=="string"?e(n.name,a):e(a)}});function Ez(t,e,r){return e===r?t:e===r+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.slice(0,r),s=Sz(i[r]);return t(...o,s)}:e>r+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.slice(0,r),s=Sz(i[r]),l=i.slice(r+1);return t(...o,s,...l)}:t}function Sz(t){return t.map(e=>e+1)}var ELe="filter",SLe=["typed"],TLe=ne(ELe,SLe,t=>{var{typed:e}=t;function r(i,a,o){var s=OY({typed:e}),l=gI({typed:e});if(i.length===0)return s();var u=i[0];if(i.length===1)return s(u);var f=i.length-1,d=i[f];return u&&(u=n(u,o)),d&&(ri(d)||Cg(d)?d=n(d,o):d=vI(d,a,o)),s(u,l(d,f))}r.rawArgs=!0;function n(i,a){return i.compile().evaluate(a)}return r},{isTransformFunction:!0}),DLe="forEach",NLe=["typed"],CLe=ne(DLe,NLe,t=>{var{typed:e}=t,r=MY({typed:e}),n=gI({typed:e});function i(o,s,l){if(o.length===0)return r();var u=o[0];if(o.length===1)return r(u);var f=o.length-1,d=o[f];return u&&(u=a(u,l)),d&&(ri(d)||Cg(d)?d=a(d,l):d=vI(d,s,l)),r(u,n(d,f))}i.rawArgs=!0;function a(o,s){return o.compile().evaluate(s)}return i},{isTransformFunction:!0}),OLe="index",MLe=["Index","getMatrixDataType"],ILe=ne(OLe,MLe,t=>{var{Index:e,getMatrixDataType:r}=t;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var s=arguments[a];if(ZM(s))s.start--,s.end-=s.step>0?0:2;else if(s&&s.isSet===!0)s=s.map(function(u){return u-1});else if(Sr(s)||gt(s))r(s)!=="boolean"&&(s=s.map(function(u){return u-1}));else if(Bt(s)||uv(s))s--;else if(Ft(s))s=s.toNumber()-1;else if(typeof s!="string")throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");i[a]=s}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0}),RLe="map",PLe=["typed"],BLe=ne(RLe,PLe,t=>{var{typed:e}=t,r=IY({typed:e}),n=gI({typed:e});function i(a,o,s){if(a.length===0)return r();if(a.length===1)return r(a[0]);var l=a.length-1,u=a.slice(0,l),f=a[l];return u=u.map(p=>d(p,s)),f&&(ri(f)||Cg(f)?f=d(f,s):f=vI(f,o,s)),r(...u,n(f,l));function d(p,m){return p.compile().evaluate(m)}}return i.rawArgs=!0,i},{isTransformFunction:!0});function FLe(t){return Bt(t)?t-1:Ft(t)?t.minus(1):t}function kLe(t){return Bt(t)||Ft(t)}function ec(t){if(t.length===2&&lo(t[0])){t=t.slice();var e=t[1];kLe(e)&&(t[1]=FLe(e))}return t}var $Le="max",LLe=["typed","config","numeric","larger","isNaN"],qLe=ne($Le,LLe,t=>{var{typed:e,config:r,numeric:n,larger:i,isNaN:a}=t,o=jY({typed:e,config:r,numeric:n,larger:i,isNaN:a});return e("max",{"...any":function(l){l=ec(l);try{return o.apply(null,l)}catch(u){throw Gi(u)}}})},{isTransformFunction:!0}),ULe="mean",jLe=["typed","add","divide"],zLe=ne(ULe,jLe,t=>{var{typed:e,add:r,divide:n}=t,i=QY({typed:e,add:r,divide:n});return e("mean",{"...any":function(o){o=ec(o);try{return i.apply(null,o)}catch(s){throw Gi(s)}}})},{isTransformFunction:!0}),VLe="min",HLe=["typed","config","numeric","smaller","isNaN"],GLe=ne(VLe,HLe,t=>{var{typed:e,config:r,numeric:n,smaller:i,isNaN:a}=t,o=zY({typed:e,config:r,numeric:n,smaller:i,isNaN:a});return e("min",{"...any":function(l){l=ec(l);try{return o.apply(null,l)}catch(u){throw Gi(u)}}})},{isTransformFunction:!0}),KLe="range",XLe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],WLe=ne(KLe,XLe,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:f}=t,d=FY({typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:f});return e("range",{"...any":function(m){var y=m.length-1,g=m[y];return typeof g!="boolean"&&m.push(!0),d.apply(null,m)}})},{isTransformFunction:!0}),YLe="row",QLe=["typed","Index","matrix","range"],ZLe=ne(YLe,QLe,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=kY({typed:e,Index:r,matrix:n,range:i});return e("row",{"...any":function(s){var l=s.length-1,u=s[l];Bt(u)&&(s[l]=u-1);try{return a.apply(null,s)}catch(f){throw Gi(f)}}})},{isTransformFunction:!0}),JLe="subset",e9e=["typed","matrix","zeros","add"],t9e=ne(JLe,e9e,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=$Y({typed:e,matrix:r,zeros:n,add:i});return e("subset",{"...any":function(s){try{return a.apply(null,s)}catch(l){throw Gi(l)}}})},{isTransformFunction:!0}),r9e="concat",n9e=["typed","matrix","isInteger"],i9e=ne(r9e,n9e,t=>{var{typed:e,matrix:r,isInteger:n}=t,i=NY({typed:e,matrix:r,isInteger:n});return e("concat",{"...any":function(o){var s=o.length-1,l=o[s];Bt(l)?o[s]=l-1:Ft(l)&&(o[s]=l.minus(1));try{return i.apply(null,o)}catch(u){throw Gi(u)}}})},{isTransformFunction:!0}),Tz="diff",a9e=["typed","matrix","subtract","number","bignumber"],o9e=ne(Tz,a9e,t=>{var{typed:e,matrix:r,subtract:n,number:i,bignumber:a}=t,o=RY({typed:e,matrix:r,subtract:n,number:i,bignumber:a});return e(Tz,{"...any":function(l){l=ec(l);try{return o.apply(null,l)}catch(u){throw Gi(u)}}})},{isTransformFunction:!0}),s9e="std",u9e=["typed","map","sqrt","variance"],l9e=ne(s9e,u9e,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t,a=eQ({typed:e,map:r,sqrt:n,variance:i});return e("std",{"...any":function(s){s=ec(s);try{return a.apply(null,s)}catch(l){throw Gi(l)}}})},{isTransformFunction:!0}),Dz="sum",c9e=["typed","config","add","numeric"],f9e=ne(Dz,c9e,t=>{var{typed:e,config:r,add:n,numeric:i}=t,a=WY({typed:e,config:r,add:n,numeric:i});return e(Dz,{"...any":function(s){s=ec(s);try{return a.apply(null,s)}catch(l){throw Gi(l)}}})},{isTransformFunction:!0}),h9e="quantileSeq",d9e=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],p9e=ne(h9e,d9e,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:f,smallerEq:d,larger:p,mapSlices:m}=t,y=JY({typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:f,smallerEq:d,larger:p,mapSlices:m});return e("quantileSeq",{"Array | Matrix, number | BigNumber":y,"Array | Matrix, number | BigNumber, number":(b,E,N)=>y(b,E,g(N)),"Array | Matrix, number | BigNumber, boolean":y,"Array | Matrix, number | BigNumber, boolean, number":(b,E,N,_)=>y(b,E,N,g(_)),"Array | Matrix, Array | Matrix":y,"Array | Matrix, Array | Matrix, number":(b,E,N)=>y(b,E,g(N)),"Array | Matrix, Array | Matrix, boolean":y,"Array | Matrix, Array | Matrix, boolean, number":(b,E,N,_)=>y(b,E,N,g(_))});function g(b){return ec([[],b])[1]}},{isTransformFunction:!0}),Nz="cumsum",m9e=["typed","add","unaryPlus"],v9e=ne(Nz,m9e,t=>{var{typed:e,add:r,unaryPlus:n}=t,i=YY({typed:e,add:r,unaryPlus:n});return e(Nz,{"...any":function(o){if(o.length===2&&lo(o[0])){var s=o[1];Bt(s)?o[1]=s-1:Ft(s)&&(o[1]=s.minus(1))}try{return i.apply(null,o)}catch(l){throw Gi(l)}}})},{isTransformFunction:!0}),Cz="variance",g9e=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],y9e=ne(Cz,g9e,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,mapSlices:o,isNaN:s}=t,l=ZY({typed:e,add:r,subtract:n,multiply:i,divide:a,mapSlices:o,isNaN:s});return e(Cz,{"...any":function(f){f=ec(f);try{return l.apply(null,f)}catch(d){throw Gi(d)}}})},{isTransformFunction:!0}),Oz="print",b9e=["typed","matrix","zeros","add"],w9e=ne(Oz,b9e,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=qY({typed:e,matrix:r,zeros:n,add:i});return e(Oz,{"string, Object | Array":function(l,u){return a(o(l),u)},"string, Object | Array, number | Object":function(l,u,f){return a(o(l),u,f)}});function o(s){return s.replace(LY,l=>{var u=l.slice(1).split("."),f=u.map(function(d){return!isNaN(d)&&d.length>0?parseInt(d)-1:d});return"$"+f.join(".")})}},{isTransformFunction:!0}),_9e="and",x9e=["typed","matrix","zeros","add","equalScalar","not","concat"],A9e=ne(_9e,x9e,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,s=UY({typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o});function l(u,f,d){var p=u[0].compile().evaluate(d);if(!lo(p)&&!s(p,!0))return!1;var m=u[1].compile().evaluate(d);return s(p,m)}return l.rawArgs=!0,l},{isTransformFunction:!0}),E9e="or",S9e=["typed","matrix","equalScalar","DenseMatrix","concat"],T9e=ne(E9e,S9e,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=DY({typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function s(l,u,f){var d=l[0].compile().evaluate(f);if(!lo(d)&&o(d,!1))return!0;var p=l[1].compile().evaluate(f);return o(d,p)}return s.rawArgs=!0,s},{isTransformFunction:!0}),D9e="bitAnd",N9e=["typed","matrix","zeros","add","equalScalar","not","concat"],C9e=ne(D9e,N9e,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,s=SY({typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o});function l(u,f,d){var p=u[0].compile().evaluate(d);if(!lo(p)){if(isNaN(p))return NaN;if(p===0||p===!1)return 0}var m=u[1].compile().evaluate(d);return s(p,m)}return l.rawArgs=!0,l},{isTransformFunction:!0}),O9e="bitOr",M9e=["typed","matrix","equalScalar","DenseMatrix","concat"],I9e=ne(O9e,M9e,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=TY({typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function s(l,u,f){var d=l[0].compile().evaluate(f);if(!lo(d)){if(isNaN(d))return NaN;if(d===-1)return-1;if(d===!0)return 1}var p=l[1].compile().evaluate(f);return o(d,p)}return s.rawArgs=!0,s},{isTransformFunction:!0}),tt=bTe({config:$e}),Nr=ETe({}),Mz=u8e({BigNumber:tt,config:$e}),R9e=r8e({}),P9e=$8e({BigNumber:tt,config:$e}),Rf=ITe({}),rQ=v8e({Complex:Nr}),B9e=i8e({BigNumber:tt,config:$e}),F9e=f8e({BigNumber:tt,config:$e}),k9e=d8e({BigNumber:tt,config:$e}),O_=$Te({}),$9e=a8e({BigNumber:tt,config:$e}),L9e=n8e({}),q9e=l8e({BigNumber:tt,config:$e}),U9e=BTe({}),nQ=ASe({}),j9e=p8e({BigNumber:tt,config:$e}),z9e=nLe({BigNumber:tt,config:$e}),iQ=s8e({BigNumber:tt,config:$e}),V9e=t8e({}),H9e=g8e({}),qt=eDe({Matrix:O_}),G9e=K8e({BigNumber:tt,config:$e}),K9e=c8e({BigNumber:tt,config:$e}),UC=o8e({BigNumber:tt,config:$e}),aQ=J5e({}),X9e=m8e({BigNumber:tt,config:$e}),fe=bSe({BigNumber:tt,Complex:Nr,DenseMatrix:qt,Fraction:Rf}),W9e=G8e({BigNumber:tt,config:$e}),Ki=m2e({typed:fe}),Y9e=HIe({Complex:Nr,config:$e,typed:fe}),Q9e=WIe({BigNumber:tt,typed:fe}),Z9e=JIe({BigNumber:tt,Complex:Nr,config:$e,typed:fe}),zn=b2e({typed:fe}),J9e=sCe({typed:fe}),eqe=aRe({BigNumber:tt,Complex:Nr,config:$e,typed:fe}),tqe=cRe({typed:fe}),oQ=dRe({typed:fe}),rqe=gRe({Complex:Nr,config:$e,typed:fe}),nqe=qDe({typed:fe}),iqe=eCe({typed:fe}),aqe=VDe({typed:fe}),oqe=rDe({typed:fe}),M_=N6e({typed:fe}),I_=YDe({Complex:Nr,typed:fe}),Pf=lCe({typed:fe}),yI=bRe({typed:fe}),sqe=ARe({BigNumber:tt,typed:fe}),uqe=DRe({BigNumber:tt,typed:fe}),lqe=B2e({typed:fe}),zt=CDe({config:$e,typed:fe}),cqe=DOe({typed:fe}),sQ=k2e({typed:fe}),fqe=L2e({Complex:Nr,typed:fe}),hqe=OY({typed:fe}),Rg=OCe({typed:fe}),dqe=MY({typed:fe}),Pg=$Oe({typed:fe}),bI=PCe({typed:fe}),pqe=VOe({format:Pg,typed:fe}),wI=fCe({typed:fe}),aa=iDe({typed:fe}),tc=pDe({config:$e,typed:fe}),Bf=wDe({config:$e,typed:fe}),Is=xDe({equalScalar:zt,typed:fe}),mqe=h8e({BigNumber:tt,config:$e}),vqe=P6e({Complex:Nr,typed:fe}),gqe=wNe({Complex:Nr,config:$e,typed:fe}),_I=xNe({Complex:Nr,config:$e,typed:fe}),Ff=IY({typed:fe}),sn=SNe({typed:fe}),aw=mCe({typed:fe}),Pu=kDe({typed:fe}),yqe=jOe({format:Pg,typed:fe}),bqe=c5e({config:$e,typed:fe}),wqe=qY({typed:fe}),_qe=h5e({config:$e,typed:fe}),xI=dCe({typed:fe}),xqe=MRe({BigNumber:tt,typed:fe}),uQ=MNe({BigNumber:tt,Fraction:Rf,complex:I_,typed:fe}),R_=BRe({typed:fe}),Vn=IDe({Matrix:O_,equalScalar:zt,typed:fe}),Aqe=l2e({typed:fe}),Eqe=FNe({typed:fe}),Sqe=jDe({typed:fe}),ho=_2e({typed:fe}),Tqe=LRe({typed:fe}),lQ=WOe({typed:fe}),AI=TDe({typed:fe}),Dqe=KIe({Complex:Nr,config:$e,typed:fe}),Nqe=tRe({BigNumber:tt,typed:fe}),Cqe=nRe({BigNumber:tt,Complex:Nr,config:$e,typed:fe}),oa=KDe({BigNumber:tt,typed:fe}),Oqe=O6e({typed:fe}),Mqe=_Re({typed:fe}),Iqe=CRe({BigNumber:tt,typed:fe}),_u=EDe({typed:fe}),Rqe=QOe({typed:fe}),og=RC({isInteger:aa,typed:fe}),et=t2e({DenseMatrix:qt,Matrix:O_,SparseMatrix:Vn,typed:fe}),Pqe=n2e({isZero:Is,matrix:et,typed:fe}),Bqe=zCe({BigNumber:tt,config:$e,matrix:et,typed:fe}),Fqe=p5e({config:$e,log2:_I,typed:fe}),cQ=GCe({isInteger:aa,matrix:et,typed:fe}),kqe=RRe({BigNumber:tt,typed:fe}),$qe=kRe({typed:fe}),Lqe=UIe({SparseMatrix:Vn,typed:fe}),Uo=PNe({Complex:Nr,config:$e,typed:fe}),qqe=iOe({typed:fe}),Uqe=jRe({typed:fe}),Bg=cOe({matrix:et,typed:fe}),fQ=qNe({BigNumber:tt,config:$e,matrix:et,typed:fe}),di=pOe({BigNumber:tt,config:$e,matrix:et,typed:fe}),jqe=QIe({BigNumber:tt,Complex:Nr,config:$e,typed:fe}),zqe=sRe({Complex:Nr,config:$e,typed:fe}),Vqe=qOe({format:Pg,typed:fe}),ir=NY({isInteger:aa,matrix:et,typed:fe}),Hqe=SRe({BigNumber:tt,typed:fe}),EI=hOe({conj:Pf,transpose:Bg,typed:fe}),hQ=TCe({DenseMatrix:qt,SparseMatrix:Vn,matrix:et,typed:fe}),Gqe=GNe({concat:ir,equalScalar:zt,matrix:et,multiplyScalar:sn,typed:fe}),po=GMe({DenseMatrix:qt,SparseMatrix:Vn,concat:ir,equalScalar:zt,matrix:et,typed:fe}),Fg=JDe({Fraction:Rf,typed:fe}),rc=FCe({BigNumber:tt,DenseMatrix:qt,SparseMatrix:Vn,config:$e,matrix:et,typed:fe}),kf=vDe({typed:fe}),Kqe=$Ce({matrix:et,multiplyScalar:sn,typed:fe}),P_=oIe({DenseMatrix:qt,SparseMatrix:Vn,concat:ir,config:$e,matrix:et,typed:fe}),Xqe=CMe({DenseMatrix:qt,concat:ir,equalScalar:zt,matrix:et,typed:fe,zeros:di}),Wqe=POe({isNaN:_u,isNumeric:kf,typed:fe}),Yqe=CNe({BigNumber:tt,concat:ir,equalScalar:zt,matrix:et,typed:fe}),so=eMe({bignumber:oa,fraction:Fg,number:Pu}),dQ=FOe({config:$e,multiplyScalar:sn,numeric:so,typed:fe}),Qqe=WCe({config:$e,matrix:et}),Zqe=MMe({DenseMatrix:qt,concat:ir,equalScalar:zt,matrix:et,typed:fe,zeros:di}),bp=oMe({BigNumber:tt,DenseMatrix:qt,config:$e,equalScalar:zt,matrix:et,typed:fe,zeros:di}),yi=rOe({matrix:et,config:$e,typed:fe}),ji=QMe({DenseMatrix:qt,SparseMatrix:Vn,bignumber:oa,concat:ir,config:$e,matrix:et,typed:fe}),Jqe=KOe({concat:ir,matrix:et,typed:fe}),Rs=f2e({typed:fe}),eUe=fIe({DenseMatrix:qt,SparseMatrix:Vn,concat:ir,config:$e,equalScalar:zt,matrix:et,typed:fe}),tUe=yCe({DenseMatrix:qt,SparseMatrix:Vn,concat:ir,matrix:et,typed:fe}),Yt=cPe({DenseMatrix:qt,SparseMatrix:Vn,addScalar:zn,concat:ir,equalScalar:zt,matrix:et,typed:fe}),rUe=mRe({BigNumber:tt,DenseMatrix:qt,concat:ir,equalScalar:zt,matrix:et,typed:fe}),nUe=SY({concat:ir,equalScalar:zt,matrix:et,typed:fe}),iUe=TY({DenseMatrix:qt,concat:ir,equalScalar:zt,matrix:et,typed:fe}),aUe=aCe({DenseMatrix:qt,SparseMatrix:Vn,concat:ir,matrix:et,typed:fe}),pQ=A2e({BigNumber:tt,Complex:Nr,Fraction:Rf,config:$e,isNegative:tc,matrix:et,typed:fe,unaryMinus:Rs}),$f=FMe({BigNumber:tt,DenseMatrix:qt,Fraction:Rf,concat:ir,config:$e,equalScalar:zt,matrix:et,typed:fe}),mQ=VMe({concat:ir,matrix:et,typed:fe}),oUe=xCe({prod:dQ,size:yi,typed:fe}),SI=lIe({equal:po,typed:fe}),Qr=rMe({numeric:so,typed:fe}),kg=gMe({DenseMatrix:qt,SparseMatrix:Vn,concat:ir,divideScalar:Qr,equalScalar:zt,matrix:et,typed:fe}),sUe=WMe({compareText:mQ,isZero:Is,typed:fe}),vQ=xY({DenseMatrix:qt,config:$e,equalScalar:zt,matrix:et,round:bp,typed:fe,zeros:di}),uUe=dNe({BigNumber:tt,DenseMatrix:qt,concat:ir,config:$e,equalScalar:zt,matrix:et,round:bp,typed:fe,zeros:di}),lUe=yDe({isNumeric:kf,typed:fe}),cUe=hPe({abs:Ki,addScalar:zn,divideScalar:Qr,isPositive:Bf,multiplyScalar:sn,smaller:ji,sqrt:Uo,typed:fe}),gQ=_Ie({DenseMatrix:qt,smaller:ji}),Ni=EIe({ImmutableDenseMatrix:gQ,getMatrixDataType:bI}),zi=nIe({DenseMatrix:qt,SparseMatrix:Vn,bignumber:oa,concat:ir,config:$e,matrix:et,typed:fe}),TI=lMe({Complex:Nr,config:$e,divideScalar:Qr,typeOf:AI,typed:fe}),yQ=bMe({DenseMatrix:qt,divideScalar:Qr,equalScalar:zt,matrix:et,multiplyScalar:sn,subtractScalar:ho,typed:fe}),DI=s2e({flatten:Rg,matrix:et,size:yi,typed:fe}),NI=jY({config:$e,isNaN:_u,larger:zi,numeric:so,typed:fe}),fUe=zY({config:$e,isNaN:_u,numeric:so,smaller:ji,typed:fe}),bQ=AY({DenseMatrix:qt,concat:ir,config:$e,equalScalar:zt,matrix:et,round:bp,typed:fe,zeros:di}),hUe=dMe({Complex:Nr,config:$e,divideScalar:Qr,typed:fe}),dUe=DY({DenseMatrix:qt,concat:ir,equalScalar:zt,matrix:et,typed:fe}),B_=pIe({compare:$f,isNaN:_u,isNumeric:kf,typed:fe}),CI=A3e({addScalar:zn,complex:I_,conj:Pf,divideScalar:Qr,equal:po,identity:rc,isZero:Is,matrix:et,multiplyScalar:sn,sign:uQ,sqrt:Uo,subtractScalar:ho,typed:fe,unaryMinus:Rs,zeros:di}),pUe=RMe({DenseMatrix:qt,concat:ir,equalScalar:zt,matrix:et,typed:fe,zeros:di}),Qd=eIe({DenseMatrix:qt,SparseMatrix:Vn,concat:ir,config:$e,matrix:et,typed:fe}),Ma=$Y({add:Yt,matrix:et,typed:fe,zeros:di}),pn=$Ne({DenseMatrix:qt,concat:ir,equalScalar:zt,matrix:et,subtractScalar:ho,typed:fe,unaryMinus:Rs}),mUe=bPe({add:Yt,matrix:et,typed:fe}),OI=_Me({DenseMatrix:qt,divideScalar:Qr,equalScalar:zt,matrix:et,multiplyScalar:sn,subtractScalar:ho,typed:fe}),vUe=w5e({addScalar:zn,combinations:M_,divideScalar:Qr,isInteger:aa,isNegative:tc,multiplyScalar:sn,typed:fe}),Ps=UMe({compare:$f,typed:fe}),gUe=x5e({addScalar:zn,combinations:M_,isInteger:aa,isNegative:tc,isPositive:Bf,larger:zi,typed:fe}),yUe=RY({matrix:et,number:Pu,subtract:pn,typed:fe}),bUe=f6e({abs:Ki,addScalar:zn,deepEqual:SI,divideScalar:Qr,multiplyScalar:sn,sqrt:Uo,subtractScalar:ho,typed:fe}),F_=vPe({addScalar:zn,conj:Pf,multiplyScalar:sn,size:yi,typed:fe}),wQ=DIe({larger:zi,smaller:ji}),_Q=_Pe({Index:Ni,typed:fe}),wUe=jNe({BigNumber:tt,add:Yt,config:$e,equal:po,isInteger:aa,mod:bQ,smaller:ji,typed:fe,xgcd:fQ}),_Ue=gNe({concat:ir,equalScalar:zt,matrix:et,typed:fe}),xUe=fMe({Complex:Nr,config:$e,divideScalar:Qr,log:TI,typed:fe}),AUe=AMe({DenseMatrix:qt,divideScalar:Qr,equalScalar:zt,matrix:et,multiplyScalar:sn,subtractScalar:ho,typed:fe}),EUe=a2e({flatten:Rg,matrix:et,size:yi,typed:fe}),vr=DNe({addScalar:zn,dot:F_,equalScalar:zt,matrix:et,multiplyScalar:sn,typed:fe}),Zd=FY({bignumber:oa,matrix:et,add:Yt,config:$e,isPositive:Bf,larger:zi,largerEq:P_,smaller:ji,smallerEq:Qd,typed:fe}),SUe=kY({Index:Ni,matrix:et,range:Zd,typed:fe}),TUe=VRe({DenseMatrix:qt,Index:Ni,compareNatural:Ps,size:yi,subset:Ma,typed:fe}),DUe=XRe({DenseMatrix:qt,Index:Ni,compareNatural:Ps,size:yi,subset:Ma,typed:fe}),NUe=ZRe({Index:Ni,compareNatural:Ps,size:yi,subset:Ma,typed:fe}),CUe=rPe({Index:Ni,compareNatural:Ps,size:yi,subset:Ma,typed:fe}),xQ=K3e({SparseMatrix:Vn,abs:Ki,add:Yt,divideScalar:Qr,larger:zi,largerEq:P_,multiply:vr,subtract:pn,transpose:Bg,typed:fe}),OUe=vIe({compare:$f,compareNatural:Ps,matrix:et,typed:fe}),MI=d2e({config:$e,numeric:so,typed:fe}),AQ=SMe({DenseMatrix:qt,divideScalar:Qr,equalScalar:zt,matrix:et,multiplyScalar:sn,subtractScalar:ho,typed:fe}),MUe=H5e({Complex:Nr,add:Yt,multiply:vr,number:Pu,typed:fe}),IUe=UY({concat:ir,equalScalar:zt,matrix:et,not:aw,typed:fe,zeros:di}),II=R2e({DenseMatrix:qt,config:$e,equalScalar:zt,matrix:et,round:bp,typed:fe,zeros:di}),EQ=CY({Index:Ni,matrix:et,range:Zd,typed:fe}),RUe=ECe({matrix:et,multiply:vr,subtract:pn,typed:fe}),SQ=U$e({divideScalar:Qr,isZero:Is,matrix:et,multiply:vr,subtractScalar:ho,typed:fe,unaryMinus:Rs}),TQ=j2e({Complex:Nr,DenseMatrix:qt,ceil:II,equalScalar:zt,floor:vQ,matrix:et,typed:fe,zeros:di}),Lf=z$e({abs:Ki,addScalar:zn,det:SQ,divideScalar:Qr,identity:rc,matrix:et,multiply:vr,typed:fe,unaryMinus:Rs}),PUe=H$e({Complex:Nr,add:Yt,ctranspose:EI,deepEqual:SI,divideScalar:Qr,dot:F_,dotDivide:kg,equal:po,inv:Lf,matrix:et,multiply:vr,typed:fe}),jo=iMe({Complex:Nr,config:$e,fraction:Fg,identity:rc,inv:Lf,matrix:et,multiply:vr,number:Pu,typed:fe}),DQ=GRe({DenseMatrix:qt,Index:Ni,compareNatural:Ps,size:yi,subset:Ma,typed:fe}),BUe=ePe({Index:Ni,compareNatural:Ps,size:yi,subset:Ma,typed:fe}),NQ=oPe({Index:Ni,concat:ir,setDifference:DQ,size:yi,subset:Ma,typed:fe}),CQ=OIe({FibonacciHeap:wQ,addScalar:zn,equalScalar:zt}),FUe=e6e({abs:Ki,add:Yt,identity:rc,inv:Lf,map:Ff,max:NI,multiply:vr,size:yi,sqrt:Uo,subtract:pn,typed:fe}),RI=WY({add:Yt,config:$e,numeric:so,typed:fe}),xt=kIe({BigNumber:tt,Complex:Nr,Fraction:Rf,abs:Ki,addScalar:zn,config:$e,divideScalar:Qr,equal:po,fix:TQ,format:Pg,isNumeric:kf,multiplyScalar:sn,number:Pu,pow:jo,round:bp,subtractScalar:ho,toBest:lQ}),kUe=E8e({BigNumber:tt,Unit:xt,config:$e}),$Ue=oLe({BigNumber:tt,Unit:xt,config:$e}),LUe=X8e({BigNumber:tt,Unit:xt,config:$e}),qUe=N8e({BigNumber:tt,Unit:xt,config:$e}),UUe=Y8e({BigNumber:tt,Unit:xt,config:$e}),jUe=C8e({BigNumber:tt,Unit:xt,config:$e}),zUe=S8e({BigNumber:tt,Unit:xt,config:$e}),VUe=zIe({Unit:xt,typed:fe}),HUe=U8e({BigNumber:tt,Unit:xt,config:$e}),GUe=mMe({DenseMatrix:qt,SparseMatrix:Vn,concat:ir,equalScalar:zt,matrix:et,pow:jo,typed:fe}),KUe=A8e({BigNumber:tt,Unit:xt,config:$e}),XUe=D8e({BigNumber:tt,Unit:xt,config:$e}),WUe=Z$e({abs:Ki,add:Yt,identity:rc,inv:Lf,multiply:vr,typed:fe}),YUe=Q8e({BigNumber:tt,Unit:xt,config:$e}),OQ=vOe({addScalar:zn,ceil:II,conj:Pf,divideScalar:Qr,dotDivide:kg,exp:sQ,i:rQ,log2:_I,matrix:et,multiplyScalar:sn,pow:jo,tau:iQ,typed:fe}),PI=I6e({BigNumber:tt,Complex:Nr,config:$e,multiplyScalar:sn,pow:jo,typed:fe}),QUe=b8e({BigNumber:tt,Unit:xt,config:$e}),ZUe=L8e({BigNumber:tt,Unit:xt,config:$e}),JUe=yOe({conj:Pf,dotDivide:kg,fft:OQ,typed:fe}),eje=O8e({BigNumber:tt,Unit:xt,config:$e}),tje=R8e({BigNumber:tt,Unit:xt,config:$e}),rje=J8e({BigNumber:tt,Unit:xt,config:$e}),nje=x8e({BigNumber:tt,Unit:xt,config:$e}),ije=sLe({BigNumber:tt,Unit:xt,config:$e}),aje=tLe({BigNumber:tt,Unit:xt,config:$e}),oje=j8e({BigNumber:tt,Unit:xt,config:$e}),sje=I8e({BigNumber:tt,Unit:xt,config:$e}),uje=dLe({BigNumber:tt,Unit:xt,config:$e}),lje=cLe({BigNumber:tt,Unit:xt,config:$e}),cje=pLe({BigNumber:tt,Unit:xt,config:$e}),fje=q8e({BigNumber:tt,Unit:xt,config:$e}),hje=z8e({BigNumber:tt,Unit:xt,config:$e}),dje=_8e({BigNumber:tt,Unit:xt,config:$e}),pje=V8e({BigNumber:tt,Unit:xt,config:$e}),mje=iLe({BigNumber:tt,Unit:xt,config:$e}),vje=iPe({compareNatural:Ps,typed:fe}),gje=y8e({BigNumber:tt,Unit:xt,config:$e}),yje=aLe({BigNumber:tt,Unit:xt,config:$e}),bje=H8e({BigNumber:tt,Unit:xt,config:$e}),wje=W8e({BigNumber:tt,Unit:xt,config:$e}),_je=P8e({BigNumber:tt,Unit:xt,config:$e}),xje=T8e({BigNumber:tt,Unit:xt,config:$e}),pi=l6e({divideScalar:Qr,equalScalar:zt,inv:Lf,matrix:et,multiply:vr,typed:fe}),Aje=F8e({BigNumber:tt,Unit:xt,config:$e}),$g=F6e({gamma:PI,typed:fe}),Eje=Z8e({BigNumber:tt,Unit:xt,config:$e}),Sje=lLe({BigNumber:tt,Unit:xt,config:$e}),Tje=p6e({abs:Ki,add:Yt,addScalar:zn,config:$e,divideScalar:Qr,equalScalar:zt,flatten:Rg,isNumeric:kf,isZero:Is,matrix:et,multiply:vr,multiplyScalar:sn,smaller:ji,subtract:pn,typed:fe}),MQ=_3e({DenseMatrix:qt,Spa:CQ,SparseMatrix:Vn,abs:Ki,addScalar:zn,divideScalar:Qr,equalScalar:zt,larger:zi,matrix:et,multiplyScalar:sn,subtractScalar:ho,typed:fe,unaryMinus:Rs}),Dje=M8e({BigNumber:tt,Unit:xt,config:$e}),Nje=uLe({BigNumber:tt,Unit:xt,config:$e}),Cje=q6e({add:Yt,divide:pi,factorial:$g,isInteger:aa,isPositive:Bf,multiply:vr,typed:fe}),Oje=j6e({factorial:$g,typed:fe}),Mje=fLe({BigNumber:tt,Unit:xt,config:$e}),Ije=Q3e({add:Yt,cbrt:pQ,divide:pi,equalScalar:zt,im:wI,isZero:Is,multiply:vr,re:xI,sqrt:Uo,subtract:pn,typeOf:AI,typed:fe,unaryMinus:Rs}),IQ=YRe({DenseMatrix:qt,Index:Ni,compareNatural:Ps,size:yi,subset:Ma,typed:fe}),Rje=EOe({abs:Ki,add:Yt,bignumber:oa,divide:pi,isNegative:tc,isPositive:Bf,larger:zi,map:Ff,matrix:et,max:NI,multiply:vr,smaller:ji,subtract:pn,typed:fe,unaryMinus:Rs}),RQ=v5e({bignumber:oa,addScalar:zn,combinations:M_,divideScalar:Qr,factorial:$g,isInteger:aa,isNegative:tc,larger:zi,multiplyScalar:sn,number:Pu,pow:jo,subtractScalar:ho,typed:fe}),Pje=LIe({Unit:xt,typed:fe}),Bje=y5e({addScalar:zn,isInteger:aa,isNegative:tc,stirlingS2:RQ,typed:fe}),Fje=YY({add:Yt,typed:fe,unaryPlus:MI}),PQ=Y$e({abs:Ki,add:Yt,addScalar:zn,atan:oQ,bignumber:oa,column:EQ,complex:I_,config:$e,cos:yI,diag:hQ,divideScalar:Qr,dot:F_,equal:po,flatten:Rg,im:wI,inv:Lf,larger:zi,matrix:et,matrixFromColumns:DI,multiply:vr,multiplyScalar:sn,number:Pu,qr:CI,re:xI,reshape:cQ,sin:R_,size:yi,smaller:ji,sqrt:Uo,subtract:pn,typed:fe,usolve:OI,usolveAll:AQ}),kje=k8e({BigNumber:tt,Unit:xt,config:$e}),$je=eLe({BigNumber:tt,Unit:xt,config:$e}),Lje=$6e({divide:pi,dotDivide:kg,isNumeric:kf,log:TI,map:Ff,matrix:et,multiply:vr,sum:RI,typed:fe}),BQ=W3e({DenseMatrix:qt,lsolve:yQ,lup:MQ,matrix:et,slu:xQ,typed:fe,usolve:OI}),FQ=QY({add:Yt,divide:pi,typed:fe}),qje=rLe({BigNumber:tt,Unit:xt,config:$e}),Uje=w8e({BigNumber:tt,Unit:xt,config:$e}),jje=JY({bignumber:oa,add:Yt,compare:$f,divide:pi,isInteger:aa,larger:zi,mapSlices:og,multiply:vr,partitionSelect:B_,smaller:ji,smallerEq:Qd,subtract:pn,typed:fe}),zje=uPe({Index:Ni,concat:ir,setIntersect:IQ,setSymDifference:NQ,size:yi,subset:Ma,typed:fe}),BI=ZY({add:Yt,divide:pi,isNaN:_u,mapSlices:og,multiply:vr,subtract:pn,typed:fe}),Vje=B8e({BigNumber:tt,Unit:xt,config:$e}),kQ=b6e({add:Yt,compare:$f,divide:pi,partitionSelect:B_,typed:fe}),Hje=T6e({add:Yt,divide:pi,matrix:et,mean:FQ,multiply:vr,pow:jo,sqrt:Uo,subtract:pn,sum:RI,typed:fe}),Gje=K5e({Complex:Nr,add:Yt,divide:pi,matrix:et,multiply:vr,typed:fe}),Kje=_6e({abs:Ki,map:Ff,median:kQ,subtract:pn,typed:fe}),Xje=eQ({map:Ff,sqrt:Uo,typed:fe,variance:BI}),Wje=IOe({BigNumber:tt,Complex:Nr,add:Yt,config:$e,divide:pi,equal:po,factorial:$g,gamma:PI,isNegative:tc,multiply:vr,pi:UC,pow:jo,sin:R_,smallerEq:Qd,subtract:pn,typed:fe}),FI=pPe({abs:Ki,add:Yt,conj:Pf,ctranspose:EI,eigs:PQ,equalScalar:zt,larger:zi,matrix:et,multiply:vr,pow:jo,smaller:ji,sqrt:Uo,typed:fe}),$Q=JCe({BigNumber:tt,DenseMatrix:qt,SparseMatrix:Vn,addScalar:zn,config:$e,cos:yI,matrix:et,multiplyScalar:sn,norm:FI,sin:R_,typed:fe,unaryMinus:Rs}),Yje=hLe({BigNumber:tt,Unit:xt,config:$e}),LQ=i6e({identity:rc,matrix:et,multiply:vr,norm:FI,qr:CI,subtract:pn,typed:fe}),Qje=QCe({multiply:vr,rotationMatrix:$Q,typed:fe}),qQ=r6e({abs:Ki,add:Yt,concat:ir,identity:rc,index:_Q,lusolve:BQ,matrix:et,matrixFromColumns:DI,multiply:vr,range:Zd,schur:LQ,subset:Ma,subtract:pn,transpose:Bg,typed:fe}),Zje=o6e({matrix:et,multiply:vr,sylvester:qQ,transpose:Bg,typed:fe}),wp={},Lg={},UQ={},Ii=EPe({mathWithTransform:Lg}),_p=XPe({Node:Ii}),Bu=YPe({Node:Ii}),qf=ZPe({Node:Ii}),jQ=r3e({Node:Ii}),xp=NPe({Node:Ii}),zQ=PPe({Node:Ii,ResultSet:nQ}),VQ=FPe({Node:Ii}),nc=jPe({Node:Ii}),HQ=e3e({Node:Ii}),Jje=Y5e({classes:UQ}),kI=n4e({math:wp,typed:fe}),GQ=VPe({Node:Ii,typed:fe}),eze=L$e({Chain:kI,typed:fe}),Ap=TPe({Node:Ii,subset:Ma}),KQ=IPe({matrix:et,Node:Ii,subset:Ma}),Ep=GPe({Node:Ii,size:yi}),ic=a3e({Unit:xt,Node:Ii,math:wp}),ac=s3e({Node:Ii,SymbolNode:ic,math:wp}),zo=l3e({AccessorNode:Ap,ArrayNode:xp,AssignmentNode:KQ,BlockNode:zQ,ConditionalNode:VQ,ConstantNode:nc,FunctionAssignmentNode:GQ,FunctionNode:ac,IndexNode:Ep,ObjectNode:_p,OperatorNode:Bu,ParenthesisNode:qf,RangeNode:HQ,RelationalNode:jQ,SymbolNode:ic,config:$e,numeric:so,typed:fe}),XQ=k5e({ConstantNode:nc,FunctionNode:ac,OperatorNode:Bu,ParenthesisNode:qf,parse:zo,typed:fe}),$I=I5e({bignumber:oa,fraction:Fg,AccessorNode:Ap,ArrayNode:xp,ConstantNode:nc,FunctionNode:ac,IndexNode:Ep,ObjectNode:_p,OperatorNode:Bu,SymbolNode:ic,config:$e,mathWithTransform:Lg,matrix:et,typed:fe}),tze=f3e({parse:zo,typed:fe}),LI=P5e({AccessorNode:Ap,ArrayNode:xp,ConstantNode:nc,FunctionNode:ac,IndexNode:Ep,ObjectNode:_p,OperatorNode:Bu,ParenthesisNode:qf,SymbolNode:ic,add:Yt,divide:pi,equal:po,isZero:Is,multiply:vr,parse:zo,pow:jo,subtract:pn,typed:fe}),k_=d3e({parse:zo,typed:fe}),WQ=e4e({evaluate:k_}),YQ=v3e({evaluate:k_,parse:zo}),$_=C5e({AccessorNode:Ap,ArrayNode:xp,ConstantNode:nc,FunctionNode:ac,IndexNode:Ep,ObjectNode:_p,OperatorNode:Bu,ParenthesisNode:qf,SymbolNode:ic,equal:po,parse:zo,replacer:aQ,resolve:XQ,simplifyConstant:$I,simplifyCore:LI,typed:fe}),rze=L5e({OperatorNode:Bu,parse:zo,simplify:$_,typed:fe}),nze=E5e({parse:zo,typed:fe}),ize=b3e({Parser:YQ,typed:fe}),aze=z5e({bignumber:oa,fraction:Fg,AccessorNode:Ap,ArrayNode:xp,ConstantNode:nc,FunctionNode:ac,IndexNode:Ep,ObjectNode:_p,OperatorNode:Bu,ParenthesisNode:qf,SymbolNode:ic,add:Yt,config:$e,divide:pi,equal:po,isZero:Is,mathWithTransform:Lg,matrix:et,multiply:vr,parse:zo,pow:jo,simplify:$_,simplifyConstant:$I,simplifyCore:LI,subtract:pn,typed:fe}),oze=U5e({ConstantNode:nc,FunctionNode:ac,OperatorNode:Bu,ParenthesisNode:qf,SymbolNode:ic,config:$e,equal:po,isZero:Is,numeric:so,parse:zo,simplify:$_,typed:fe}),sze=k$e({Help:WQ,mathWithTransform:Lg,typed:fe});Fn(wp,{e:Mz,false:R9e,fineStructure:P9e,i:rQ,Infinity:B9e,LN10:F9e,LOG10E:k9e,NaN:$9e,null:L9e,phi:q9e,SQRT1_2:j9e,sackurTetrode:z9e,tau:iQ,true:V9e,E:Mz,version:H9e,efimovFactor:G9e,LN2:K9e,pi:UC,replacer:aQ,reviver:Jje,SQRT2:X9e,typed:fe,PI:UC,weakMixingAngle:W9e,abs:Ki,acos:Y9e,acot:Q9e,acsc:Z9e,addScalar:zn,arg:J9e,asech:eqe,asinh:tqe,atan:oQ,atanh:rqe,bigint:nqe,bitNot:iqe,boolean:aqe,clone:oqe,combinations:M_,complex:I_,conj:Pf,cos:yI,cot:sqe,csc:uqe,cube:lqe,equalScalar:zt,erf:cqe,exp:sQ,expm1:fqe,filter:hqe,flatten:Rg,forEach:dqe,format:Pg,getMatrixDataType:bI,hex:pqe,im:wI,isInteger:aa,isNegative:tc,isPositive:Bf,isZero:Is,LOG2E:mqe,lgamma:vqe,log10:gqe,log2:_I,map:Ff,multiplyScalar:sn,not:aw,number:Pu,oct:yqe,pickRandom:bqe,print:wqe,random:_qe,re:xI,sec:xqe,sign:uQ,sin:R_,splitUnit:Aqe,square:Eqe,string:Sqe,subtractScalar:ho,tan:Tqe,toBest:lQ,typeOf:AI,acosh:Dqe,acsch:Nqe,asec:Cqe,bignumber:oa,chain:eze,combinationsWithRep:Oqe,cosh:Mqe,csch:Iqe,isNaN:_u,isPrime:Rqe,mapSlices:og,matrix:et,matrixFromFunction:Pqe,ones:Bqe,randomInt:Fqe,reshape:cQ,sech:kqe,sinh:$qe,sparse:Lqe,sqrt:Uo,squeeze:qqe,tanh:Uqe,transpose:Bg,xgcd:fQ,zeros:di,acoth:jqe,asin:zqe,bin:Vqe,concat:ir,coth:Hqe,ctranspose:EI,diag:hQ,dotMultiply:Gqe,equal:po,fraction:Fg,identity:rc,isNumeric:kf,kron:Kqe,largerEq:P_,leftShift:Xqe,mode:Wqe,nthRoot:Yqe,numeric:so,prod:dQ,resize:Qqe,rightArithShift:Zqe,round:bp,size:yi,smaller:ji,to:Jqe,unaryMinus:Rs,unequal:eUe,xor:tUe,add:Yt,atan2:rUe,bitAnd:nUe,bitOr:iUe,bitXor:aUe,cbrt:pQ,compare:$f,compareText:mQ,count:oUe,deepEqual:SI,divideScalar:Qr,dotDivide:kg,equalText:sUe,floor:vQ,gcd:uUe,hasNumericValue:lUe,hypot:cUe,larger:zi,log:TI,lsolve:yQ,matrixFromColumns:DI,max:NI,min:fUe,mod:bQ,nthRoots:hUe,or:dUe,partitionSelect:B_,qr:CI,rightLogShift:pUe,smallerEq:Qd,subset:Ma,subtract:pn,trace:mUe,usolve:OI,catalan:vUe,compareNatural:Ps,composition:gUe,diff:yUe,distance:bUe,dot:F_,index:_Q,invmod:wUe,lcm:_Ue,log1p:xUe,lsolveAll:AUe,matrixFromRows:EUe,multiply:vr,range:Zd,row:SUe,setCartesian:TUe,setDistinct:DUe,setIsSubset:NUe,setPowerset:CUe,slu:xQ,sort:OUe,unaryPlus:MI,usolveAll:AQ,zpk2tf:MUe,and:IUe,ceil:II,column:EQ,cross:RUe,det:SQ,fix:TQ,inv:Lf,pinv:PUe,pow:jo,setDifference:DQ,setMultiplicity:BUe,setSymDifference:NQ,sqrtm:FUe,sum:RI,vacuumImpedance:kUe,wienDisplacement:$Ue,atomicMass:LUe,bohrMagneton:qUe,boltzmann:UUe,conductanceQuantum:jUe,coulomb:zUe,createUnit:VUe,deuteronMass:HUe,dotPow:GUe,electricConstant:KUe,elementaryCharge:XUe,expm:WUe,faraday:YUe,fft:OQ,gamma:PI,gravitationConstant:QUe,hartreeEnergy:ZUe,ifft:JUe,inverseConductanceQuantum:eje,klitzing:tje,loschmidt:rje,magneticConstant:nje,molarMass:ije,molarPlanckConstant:aje,neutronMass:oje,nuclearMagneton:sje,planckCharge:uje,planckLength:lje,planckTemperature:cje,protonMass:fje,quantumOfCirculation:hje,reducedPlanckConstant:dje,rydberg:pje,secondRadiation:mje,setSize:vje,speedOfLight:gje,stefanBoltzmann:yje,thomsonCrossSection:bje,avogadro:wje,bohrRadius:_je,coulombConstant:xje,divide:pi,electronMass:Aje,factorial:$g,firstRadiation:Eje,gravity:Sje,intersect:Tje,lup:MQ,magneticFluxQuantum:Dje,molarMassC12:Nje,multinomial:Cje,parse:zo,permutations:Oje,planckMass:Mje,polynomialRoot:Ije,resolve:XQ,setIntersect:IQ,simplifyConstant:$I,solveODE:Rje,stirlingS2:RQ,unit:Pje,bellNumbers:Bje,compile:tze,cumsum:Fje,eigs:PQ,fermiCoupling:kje,gasConstant:$je,kldivergence:Lje,lusolve:BQ,mean:FQ,molarVolume:qje,planckConstant:Uje,quantileSeq:jje,setUnion:zje,simplifyCore:LI,variance:BI,classicalElectronRadius:Vje,evaluate:k_,median:kQ,simplify:$_,symbolicEqual:rze,corr:Hje,freqz:Gje,leafCount:nze,mad:Kje,parser:ize,rationalize:aze,std:Xje,zeta:Wje,derivative:oze,norm:FI,rotationMatrix:$Q,help:sze,planckTime:Yje,schur:LQ,rotate:Qje,sylvester:qQ,lyap:Zje,config:$e});Fn(Lg,wp,{mapSlices:yLe({isInteger:aa,typed:fe}),filter:TLe({typed:fe}),forEach:CLe({typed:fe}),map:BLe({typed:fe}),or:T9e({DenseMatrix:qt,concat:ir,equalScalar:zt,matrix:et,typed:fe}),and:A9e({add:Yt,concat:ir,equalScalar:zt,matrix:et,not:aw,typed:fe,zeros:di}),concat:i9e({isInteger:aa,matrix:et,typed:fe}),index:ILe({Index:Ni,getMatrixDataType:bI}),print:w9e({add:Yt,matrix:et,typed:fe,zeros:di}),sum:f9e({add:Yt,config:$e,numeric:so,typed:fe}),bitAnd:C9e({add:Yt,concat:ir,equalScalar:zt,matrix:et,not:aw,typed:fe,zeros:di}),min:GLe({config:$e,isNaN:_u,numeric:so,smaller:ji,typed:fe}),subset:t9e({add:Yt,matrix:et,typed:fe,zeros:di}),bitOr:I9e({DenseMatrix:qt,concat:ir,equalScalar:zt,matrix:et,typed:fe}),cumsum:v9e({add:Yt,typed:fe,unaryPlus:MI}),diff:o9e({bignumber:oa,matrix:et,number:Pu,subtract:pn,typed:fe}),max:qLe({config:$e,isNaN:_u,larger:zi,numeric:so,typed:fe}),range:WLe({bignumber:oa,matrix:et,add:Yt,config:$e,isPositive:Bf,larger:zi,largerEq:P_,smaller:ji,smallerEq:Qd,typed:fe}),row:ZLe({Index:Ni,matrix:et,range:Zd,typed:fe}),column:_Le({Index:Ni,matrix:et,range:Zd,typed:fe}),mean:zLe({add:Yt,divide:pi,typed:fe}),quantileSeq:p9e({add:Yt,bignumber:oa,compare:$f,divide:pi,isInteger:aa,larger:zi,mapSlices:og,multiply:vr,partitionSelect:B_,smaller:ji,smallerEq:Qd,subtract:pn,typed:fe}),variance:y9e({add:Yt,divide:pi,isNaN:_u,mapSlices:og,multiply:vr,subtract:pn,typed:fe}),std:l9e({map:Ff,sqrt:Uo,typed:fe,variance:BI})});Fn(UQ,{BigNumber:tt,Complex:Nr,Fraction:Rf,Matrix:O_,Node:Ii,ObjectNode:_p,OperatorNode:Bu,ParenthesisNode:qf,Range:U9e,RelationalNode:jQ,ResultSet:nQ,ArrayNode:xp,BlockNode:zQ,ConditionalNode:VQ,ConstantNode:nc,DenseMatrix:qt,RangeNode:HQ,Chain:kI,FunctionAssignmentNode:GQ,SparseMatrix:Vn,ImmutableDenseMatrix:gQ,Index:Ni,AccessorNode:Ap,AssignmentNode:KQ,FibonacciHeap:wQ,IndexNode:Ep,Spa:CQ,Unit:xt,SymbolNode:ic,FunctionNode:ac,Help:WQ,Parser:YQ});kI.createProxy(wp);const yn=["#3366d6","#109618","#ff9900","#990099","#0099c6","#dd4477"],K0="#FFD700",X0="#dc3545",W0=({keys:t,visibleKeys:e,onFilterChange:r})=>se.jsx("div",{className:"chart-filters",children:t.map(n=>se.jsxs("label",{children:[se.jsx("input",{type:"checkbox",checked:e.includes(n.dataKey),onChange:()=>r(n.dataKey)}),n.name]},n.dataKey))}),ul=({title:t,children:e,isVisible:r,onToggle:n,filterComponent:i,level:a=0})=>se.jsxs("div",{className:`chart-section level-${a}`,children:[se.jsxs("div",{className:"chart-header",children:[se.jsxs("h4",{onClick:n,style:{cursor:"pointer",flexGrow:1,fontSize:a>0?"1em":"1.17em"},children:[t," ",r?"▼":"▶"]}),r&&i]}),r&&e]}),Iz=({rate:t,title:e})=>{const r=[{name:"Rate",value:t},{name:"Remainder",value:100-t}];return se.jsxs("div",{style:{width:"45%",textAlign:"center"},children:[se.jsx("h5",{style:{marginBottom:"10px"},children:e}),se.jsx(Hh,{width:"100%",height:150,children:se.jsxs(YX,{children:[se.jsxs(Os,{data:r,cx:"50%",cy:"50%",innerRadius:40,outerRadius:55,dataKey:"value",startAngle:90,endAngle:-270,children:[se.jsx(To,{fill:yn[0]}),se.jsx(To,{fill:"#eee"})]}),se.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",fontSize:"24px",fontWeight:"bold",fill:"var(--text-color)",children:`${t.toFixed(1)}%`})]})})]})},uze=we.memo(()=>{const{allArticles:t,setActiveModal:e,dashboardArticles:r,classifications:n,secondaryClassifications:i,kpis:a,startDate:o,endDate:s,lineChartData:l,categoryTotalData:u,secondaryCategoryArticleCountData:f,secondaryCategoryLikeRateData:d,pipelineData:p,pipelineRates:m,selectedClassificationIds:y,selectedSecondaryIds:g,handlePrimaryFilterChange:b,handleSecondaryFilterChange:E}=NH(),[N,_]=Ne.useState(!0),[S,x]=Ne.useState(!0),[A,T]=Ne.useState(!0),[O,C]=Ne.useState(!0),[R,I]=Ne.useState(!0),[P,F]=Ne.useState(!0),[z,U]=Ne.useState(!0),[k,V]=Ne.useState(!0),Y=[{dataKey:"noteビュー",name:"noteビュー"},{dataKey:"noteスキ",name:"noteスキ"},{dataKey:"Xインプレッション",name:"Xインプレッション"},{dataKey:"Xいいね",name:"Xいいね"}],H=[{dataKey:"noteViews",name:"noteビュー"},{dataKey:"noteLikes",name:"noteスキ"},{dataKey:"xImpressions",name:"Xインプレッション"},{dataKey:"xLikes",name:"Xいいね"}],[j,Z]=Ne.useState(Y.map(xe=>xe.dataKey)),[$,W]=Ne.useState(H.map(xe=>xe.dataKey)),[K,ge]=Ne.useState([]),[me,Ee]=Ne.useState([]);Ne.useEffect(()=>{ge(i.map(xe=>xe.name)),Ee(i.map(xe=>xe.name))},[i]);const J=(xe,ze)=>{xe(te=>te.includes(ze)?te.filter(ce=>ce!==ze):[...te,ze])},ee=Ne.useMemo(()=>f.filter(xe=>K.includes(xe.name)),[f,K]),ue=Ne.useMemo(()=>d.filter(xe=>me.includes(xe.name)),[d,me]),le={backgroundColor:"var(--card-background)",border:"1px solid var(--border-color)",color:"var(--text-color)"},ie=Math.PI/180,Te=({cx:xe,cy:ze,midAngle:te,innerRadius:ce,outerRadius:be,percent:Q})=>{if(Q<.05)return null;const oe=ce+(be-ce)*.5,de=xe+oe*Math.cos(-te*ie),ye=ze+oe*Math.sin(-te*ie);return se.jsx("text",{x:de,y:ye,fill:"white",textAnchor:"middle",dominantBaseline:"central",fontSize:"12px",fontWeight:"bold",children:`${(Q*100).toFixed(0)}%`})},he=xe=>`${xe.toFixed(1)}%`,Ce=xe=>Math.log10(xe)%1===0?xe>=1e6?`${xe/1e6}M`:xe>=1e3?`${xe/1e3}k`:xe.toString():"";if(t.length===0)return se.jsxs("div",{className:"card",style:{textAlign:"center",padding:"40px"},children:[se.jsx("h2",{children:"ようこそ、note analyzerへ！"}),se.jsx("p",{style:{margin:"20px 0"},children:"まずはあなたのnoteのデータを読み込み、分析を始めましょう。"}),se.jsx("button",{onClick:()=>e("dataImport"),children:"データを読み込む"})]});const je=se.jsx("div",{className:"table-container",children:se.jsx("div",{style:{overflowX:"auto"},children:se.jsxs("table",{style:{fontSize:"12px"},children:[se.jsx("thead",{children:se.jsxs("tr",{children:[se.jsx("th",{children:"KPI名"}),se.jsx("th",{children:"数式"}),se.jsx("th",{children:"目標値"}),se.jsx("th",{children:"評価結果"})]})}),se.jsx("tbody",{children:a.map(xe=>{const ze=r.reduce((oe,de)=>(oe.note_data.views+=de.note_views_change??0,oe.note_data.likes+=de.note_likes_change??0,oe.note_data.comments+=de.note_comments_change??0,oe),{note_data:{views:0,likes:0,comments:0},x_preliminary_data:{impressions:0,likes:0,replies:0,retweets:0,quotes:0},x_confirmed_data:{impressions:0,likes:0,engagements:0}});let te="N/A";try{const oe=k_(xe.expression,ze);(typeof oe=="number"||typeof oe=="boolean")&&(te=oe)}catch{te="計算エラー"}const ce=typeof te=="number"&&typeof xe.targetValue=="number"&&te>=xe.targetValue,be=ce?"var(--plus-color)":"var(--minus-color)";let Q=te;return typeof te=="boolean"?Q=te?"達成":"未達成":typeof te=="number"&&(Q=te.toLocaleString()),se.jsxs("tr",{children:[se.jsx("td",{children:xe.kpiName}),se.jsx("td",{children:xe.expression}),se.jsx("td",{children:xe.targetValue?.toLocaleString()??"N/A"}),se.jsxs("td",{style:{color:be},children:[Q,typeof te=="number"&&typeof xe.targetValue=="number"&&` (${ce?"達成":"未達成"})`]})]},xe.id)})})]})})}),We=se.jsx("div",{className:"table-container",children:se.jsx("div",{style:{overflowX:"auto"},children:se.jsxs("table",{style:{fontSize:"12px"},children:[se.jsx("thead",{children:se.jsxs("tr",{children:[se.jsx("th",{children:"記事タイトル"}),se.jsx("th",{children:"ビュー変化"}),se.jsx("th",{children:"スキ/いいね変化"})]})}),se.jsx("tbody",{children:r.map(xe=>{const ze=xe.note_views_change??0,te=xe.note_likes_change??0;return se.jsxs("tr",{className:xe.isTopPerformer?"top-performer-row":"",children:[se.jsx("td",{children:xe.title}),se.jsx("td",{style:{color:ze>=0?"var(--plus-color)":"var(--minus-color)"},children:ze>=0?`+${ze}`:ze}),se.jsx("td",{style:{color:te>=0?"var(--plus-color)":"var(--minus-color)"},children:te>=0?`+${te}`:te})]},xe.id)})})]})})});return se.jsxs("div",{className:"card",style:{textAlign:"left"},children:[se.jsxs("h2",{style:{fontSize:"20px",marginBottom:"10px"},children:["ダッシュボード (",o," 〜 ",s,")"]}),se.jsx(ul,{title:"KPI評価",isVisible:S,onToggle:()=>x(!S),children:je}),se.jsx(ul,{title:"パイプライン分析",isVisible:k,onToggle:()=>V(!k),children:se.jsxs("div",{className:"chart-wrapper",style:{height:"auto"},children:[se.jsx(Hh,{width:"100%",height:250,children:se.jsxs(s2,{layout:"vertical",data:p,margin:{top:20,right:150,bottom:20,left:120},children:[se.jsx(Hm,{strokeDasharray:"3 3"}),se.jsx(El,{type:"number",scale:"log",domain:[1,"dataMax"],tickFormatter:Ce,allowDataOverflow:!0}),se.jsx(cu,{type:"category",dataKey:"name",width:120}),se.jsx(Ji,{wrapperStyle:le,formatter:xe=>xe.toLocaleString()}),se.jsxs(eo,{dataKey:"value",isAnimationActive:!0,children:[se.jsx(bs,{dataKey:"value",position:"right",formatter:xe=>xe.toLocaleString()}),p.map((xe,ze)=>se.jsx(To,{fill:yn[ze%yn.length]},`cell-${ze}`))]})]})}),m&&se.jsxs(se.Fragment,{children:[se.jsxs("p",{style:{textAlign:"center",fontSize:"16px",fontWeight:"bold",margin:"20px 0"},children:["閲覧導線（note：X比較）：",m.attractionRate>50?"noteでの閲覧優位":"Xでのインプレッション優位"]}),se.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"10px"},children:[se.jsx(Iz,{rate:m.inducementRate,title:"誘因率"}),se.jsx(Iz,{rate:m.salesRate,title:"販売率"})]})]})]})}),se.jsx(ul,{title:"記事ごとの期間内変化",isVisible:A,onToggle:()=>T(!A),children:We}),se.jsx(ul,{title:"グラフ",isVisible:N,onToggle:()=>_(!N),children:se.jsxs("div",{style:{paddingLeft:"20px",borderLeft:"2px solid var(--border-color)"},children:[se.jsxs("div",{className:"chart-section",style:{padding:"10px 0",border:"none"},children:[se.jsx("h4",{style:{cursor:"default"},children:"分類フィルター"}),se.jsxs("div",{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap",padding:"10px 0"},children:[se.jsxs("div",{style:{width:"45%",minWidth:"280px"},children:[se.jsx("h5",{children:"1次分類"}),se.jsx("div",{children:n.map(xe=>se.jsxs("label",{style:{marginRight:"15px",display:"inline-block",marginBottom:"5px",fontSize:"12px"},children:[se.jsx("input",{type:"checkbox",checked:y.includes(xe.id),onChange:()=>b(xe.id)}),xe.name]},xe.id))})]}),se.jsxs("div",{style:{width:"45%",minWidth:"280px"},children:[se.jsx("h5",{children:"2次分類"}),se.jsx("div",{children:i.map(xe=>se.jsxs("label",{style:{marginRight:"15px",fontWeight:"normal",display:"inline-block",marginBottom:"5px",fontSize:"12px"},children:[se.jsx("input",{type:"checkbox",checked:g.includes(xe.id),onChange:()=>E(xe.id)}),xe.name]},xe.id))})]})]})]}),se.jsx(ul,{title:"合計パフォーマンスの推移",isVisible:O,onToggle:()=>C(!O),filterComponent:se.jsx(W0,{keys:Y,visibleKeys:j,onFilterChange:xe=>J(Z,xe)}),level:1,children:se.jsx("div",{className:"chart-wrapper",children:se.jsx(Hh,{width:"100%",height:"100%",children:se.jsxs(IEe,{data:l,children:[se.jsx(Hm,{strokeDasharray:"3 3"}),se.jsx(El,{dataKey:"date",stroke:"var(--text-color)",tick:{fontSize:12}}),se.jsx(cu,{yAxisId:"left",stroke:yn[0],tick:{fontSize:12}}),se.jsx(cu,{yAxisId:"right",orientation:"right",stroke:yn[1],tick:{fontSize:12}}),se.jsx(Ji,{wrapperStyle:le}),se.jsx(cs,{wrapperStyle:{fontSize:"12px"}}),j.includes("noteビュー")&&se.jsx(Al,{yAxisId:"left",type:"monotone",dataKey:"noteビュー",stroke:yn[0],dot:xe=>{const{cx:ze,cy:te,payload:ce,index:be}=xe;return ce.noteビューIsSpike?se.jsx("circle",{cx:ze,cy:te,r:5,fill:X0},`spike-${be}`):se.jsx("circle",{cx:ze,cy:te,r:3,fill:"transparent",stroke:"transparent"},`dot-${be}`)}}),j.includes("noteスキ")&&se.jsx(Al,{yAxisId:"right",type:"monotone",dataKey:"noteスキ",stroke:yn[1],dot:xe=>{const{cx:ze,cy:te,payload:ce,index:be}=xe;return ce.noteスキIsSpike?se.jsx("circle",{cx:ze,cy:te,r:5,fill:X0},`spike-${be}`):se.jsx("circle",{cx:ze,cy:te,r:3,fill:"transparent",stroke:"transparent"},`dot-${be}`)}}),j.includes("Xインプレッション")&&se.jsx(Al,{yAxisId:"left",type:"monotone",dataKey:"Xインプレッション",stroke:yn[2],dot:xe=>{const{cx:ze,cy:te,payload:ce,index:be}=xe;return ce.XインプレッションIsSpike?se.jsx("circle",{cx:ze,cy:te,r:5,fill:X0},`spike-${be}`):se.jsx("circle",{cx:ze,cy:te,r:3,fill:"transparent",stroke:"transparent"},`dot-${be}`)}}),j.includes("Xいいね")&&se.jsx(Al,{yAxisId:"right",type:"monotone",dataKey:"Xいいね",stroke:yn[3],dot:xe=>{const{cx:ze,cy:te,payload:ce,index:be}=xe;return ce.XいいねIsSpike?se.jsx("circle",{cx:ze,cy:te,r:5,fill:X0},`spike-${be}`):se.jsx("circle",{cx:ze,cy:te,r:3,fill:"transparent",stroke:"transparent"},`dot-${be}`)}})]})})})}),se.jsx(ul,{title:"分類ごとの総量",isVisible:R,onToggle:()=>I(!R),filterComponent:se.jsx(W0,{keys:H,visibleKeys:$,onFilterChange:xe=>J(W,xe)}),level:1,children:se.jsx("div",{className:"chart-wrapper",children:se.jsx(Hh,{width:"100%",height:"100%",children:se.jsxs(s2,{data:u,children:[se.jsx(Hm,{strokeDasharray:"3 3"}),se.jsx(El,{dataKey:"name",stroke:"var(--text-color)",tick:{fontSize:12}}),se.jsx(cu,{stroke:"var(--text-color)",tick:{fontSize:12}}),se.jsx(Ji,{wrapperStyle:le}),se.jsx(cs,{wrapperStyle:{fontSize:"12px"}}),$.includes("noteViews")&&se.jsx(eo,{dataKey:"noteViews",name:"noteビュー",fill:yn[0],children:u.map((xe,ze)=>se.jsx(To,{fill:yn[0],stroke:xe.noteViewsIsAboveAverage?K0:"none",strokeWidth:xe.noteViewsIsAboveAverage?2:0},`cell-noteViews-${ze}`))}),$.includes("noteLikes")&&se.jsx(eo,{dataKey:"noteLikes",name:"noteスキ",fill:yn[1],children:u.map((xe,ze)=>se.jsx(To,{fill:yn[1],stroke:xe.noteLikesIsAboveAverage?K0:"none",strokeWidth:xe.noteLikesIsAboveAverage?2:0},`cell-noteLikes-${ze}`))}),$.includes("xImpressions")&&se.jsx(eo,{dataKey:"xImpressions",name:"Xインプレッション",fill:yn[2],children:u.map((xe,ze)=>se.jsx(To,{fill:yn[2],stroke:xe.xImpressionsIsAboveAverage?K0:"none",strokeWidth:xe.xImpressionsIsAboveAverage?2:0},`cell-xImpressions-${ze}`))}),$.includes("xLikes")&&se.jsx(eo,{dataKey:"xLikes",name:"Xいいね",fill:yn[3],children:u.map((xe,ze)=>se.jsx(To,{fill:yn[3],stroke:xe.xLikesIsAboveAverage?K0:"none",strokeWidth:xe.xLikesIsAboveAverage?2:0},`cell-xLikes-${ze}`))})]})})})}),se.jsx(ul,{title:"二次分類の記事数構成比",isVisible:P,onToggle:()=>F(!P),filterComponent:se.jsx(W0,{keys:i.map(xe=>({dataKey:xe.name,name:xe.name})),visibleKeys:K,onFilterChange:xe=>J(ge,xe)}),level:1,children:se.jsx("div",{className:"chart-wrapper",children:se.jsx(Hh,{width:"100%",height:"100%",children:se.jsxs(YX,{children:[se.jsx(Os,{data:ee,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,fill:"#8884d8",labelLine:!1,label:Te,children:ee.map((xe,ze)=>se.jsx(To,{fill:yn[ze%yn.length]},`cell-${ze}`))}),se.jsx(Ji,{wrapperStyle:le}),se.jsx(cs,{verticalAlign:"bottom",iconSize:10,wrapperStyle:{fontSize:"12px"}})]})})})}),se.jsx(ul,{title:"二次分類のスキ率",isVisible:z,onToggle:()=>U(!z),filterComponent:se.jsx(W0,{keys:i.map(xe=>({dataKey:xe.name,name:xe.name})),visibleKeys:me,onFilterChange:xe=>J(Ee,xe)}),level:1,children:se.jsx("div",{className:"chart-wrapper",children:se.jsx(Hh,{width:"100%",height:"100%",children:se.jsxs(s2,{data:ue,children:[se.jsx(Hm,{strokeDasharray:"3 3"}),se.jsx(El,{dataKey:"name",stroke:"var(--text-color)",tick:{fontSize:12}}),se.jsx(cu,{stroke:"var(--text-color)",tick:{fontSize:12},tickFormatter:he}),se.jsx(Ji,{wrapperStyle:le,formatter:he}),se.jsx(cs,{wrapperStyle:{fontSize:"12px"}}),se.jsx(eo,{dataKey:"スキ率",fill:yn[0]})]})})})})]})})]})}),lze=we.memo(function({notePastedText:e,setNotePastedText:r,handleExtractAndAddArticles:n}){return se.jsxs(se.Fragment,{children:[se.jsx("textarea",{placeholder:"noteの「ダッシュボード > 記事」ページのテキスト全体をここに貼り付け",value:e,onChange:i=>r(i.target.value),style:{width:"100%",minHeight:"150px"}}),se.jsx("button",{onClick:n,style:{marginTop:"10px"},children:"記事を抽出・更新"})]})}),Ao=(t,e)=>{const r=t.daily_snapshots.length>0?t.daily_snapshots[t.daily_snapshots.length-1]:null;switch(e){case"note_views":return r?.note_data?.views??0;case"note_comments":return r?.note_data?.comments??0;case"note_likes":return r?.note_data?.likes??0;case"note_sales":return r?.note_data?.sales??0;case"x_total_impressions":return t.totalXImpressions??0;case"x_total_likes":return t.totalXLikes??0;case"x_total_replies":return t.totalXReplies??0;case"x_total_retweets":return t.totalXRetweets??0;case"x_total_quotes":return t.totalXQuotes??0;case"x_total_engagements":return t.totalXEngagements??0;default:return t[e]??0}},cze=we.memo(function({articles:e,classifications:r,secondaryClassifications:n,handleUpdateArticle:i,handleUpdateLatestSnapshot:a,onReturnToDashboard:o}){const[s,l]=Ne.useState({}),[u,f]=Ne.useState({}),d=Ne.useMemo(()=>[...e],[e]),p=(b,E,N)=>{l(_=>({..._,[b]:{..._[b],[E]:N}}))},m=(b,E,N)=>{f(_=>({..._,[b]:{..._[b],[E]:N}}))},y=b=>{const E=s[b],N=u[b];if(E&&i(b,E),N){const _=N.sales!==void 0?parseInt(N.sales,10):void 0,S={};_!==void 0&&!isNaN(_)&&(S.sales=_),Object.keys(S).length>0&&a(b,S)}l(_=>{const S={..._};return delete S[b],S}),f(_=>{const S={..._};return delete S[b],S})},g=(b,E,N)=>se.jsxs("th",{style:{width:N},children:[b," "]});return se.jsxs("div",{className:"data-management-page",children:[se.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[se.jsx("h2",{children:"登録済み記事一覧"}),se.jsx("button",{onClick:o,children:"ダッシュボードへ戻る"})]}),se.jsx("div",{className:"table-container",children:se.jsxs("table",{style:{fontSize:"12px",tableLayout:"fixed"},children:[se.jsxs("thead",{children:[se.jsxs("tr",{children:[se.jsx("th",{colSpan:2}),se.jsx("th",{colSpan:4,className:"group-header",children:"note"}),se.jsx("th",{colSpan:5,className:"group-header",children:"X (API速報値)"}),se.jsx("th",{colSpan:3,className:"group-header",children:"X (CSV確定値)"}),se.jsx("th",{colSpan:3})]}),se.jsxs("tr",{children:[g("記事タイトル","title","400px"),g("投稿日","publicationDate","180px"),g("ビュー","note_views","100px"),g("コメント","note_comments","80px"),g("スキ","note_likes","80px"),g("販売","note_sales","80px"),g("Imps","x_total_impressions","100px"),g("Likes","x_total_likes","80px"),g("リプライ","x_total_replies","80px"),g("RT","x_total_retweets","80px"),g("引用","x_total_quotes","80px"),g("Imps (C)","x_total_impressions","100px"),g("Likes (C)","x_total_likes","80px"),g("エンゲージ (C)","x_total_engagements","100px"),se.jsx("th",{style:{width:"300px"},children:"URL"}),se.jsx("th",{style:{width:"180px"},children:"分類"}),se.jsx("th",{style:{width:"100px"},children:"操作"})]})]}),se.jsx("tbody",{children:d.map(b=>{const E=s[b.id]||{},N=u[b.id]||{},_=E.publicationDate??b.publicationDate??"",S=E.url??b.url??"",x=E.classificationId??b.classificationId??"",A=E.secondaryClassificationId??b.secondaryClassificationId??"",T=b.daily_snapshots.length>0?b.daily_snapshots[b.daily_snapshots.length-1]:null,O=N.sales??T?.note_data?.sales?.toString()??"0";return se.jsxs("tr",{children:[se.jsx("td",{children:se.jsx("div",{title:b.title,className:"truncate-text",children:b.title})}),se.jsx("td",{children:se.jsx("input",{type:"datetime-local",value:_,onChange:C=>p(b.id,"publicationDate",C.target.value),style:{width:"100%"}})}),se.jsx("td",{children:Ao(b,"note_views")}),se.jsx("td",{children:Ao(b,"note_comments")}),se.jsx("td",{children:Ao(b,"note_likes")}),se.jsx("td",{children:se.jsx("input",{type:"number",value:O,onChange:C=>m(b.id,"sales",C.target.value),style:{width:"100%"}})}),se.jsx("td",{children:Ao(b,"x_total_impressions")}),se.jsx("td",{children:Ao(b,"x_total_likes")}),se.jsx("td",{children:Ao(b,"x_total_replies")}),se.jsx("td",{children:Ao(b,"x_total_retweets")}),se.jsx("td",{children:Ao(b,"x_total_quotes")}),se.jsx("td",{children:Ao(b,"x_total_impressions")}),se.jsx("td",{children:Ao(b,"x_total_likes")}),se.jsx("td",{children:Ao(b,"x_total_engagements")}),se.jsx("td",{children:se.jsx("input",{type:"url",value:S,onChange:C=>p(b.id,"url",C.target.value),style:{width:"100%"}})}),se.jsx("td",{children:se.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[se.jsxs("select",{value:x,onChange:C=>p(b.id,"classificationId",C.target.value),children:[se.jsx("option",{value:"",children:"1次..."}),r.map(C=>se.jsx("option",{value:C.id,children:C.name},C.id))]}),se.jsxs("select",{value:A,onChange:C=>p(b.id,"secondaryClassificationId",C.target.value),children:[se.jsx("option",{value:"",children:"2次..."}),n.map(C=>se.jsx("option",{value:C.id,children:C.name},C.id))]})]})}),se.jsx("td",{className:"action-cell",children:se.jsx("button",{onClick:()=>y(b.id),disabled:!s[b.id]&&!u[b.id],children:"保存"})})]},b.id)})})]})})]})}),fze=["noteビュー (note_data.views)","noteコメント (note_data.comments)","noteスキ (note_data.likes)","Xインプレッション (x_confirmed_data.impressions)","Xエンゲージメント (x_confirmed_data.engagements)","Xいいね (x_confirmed_data.likes)","Xインプレッション(速報) (x_preliminary_data.impressions)","Xいいね(速報) (x_preliminary_data.likes)","+","-","*","/",">=","<=","==",">","<","!=","(",")","&&","||","note_data.views >= 1000","(note_data.likes / note_data.views) * 100"],hze=({kpis:t,onAddKpi:e,onDeleteKpi:r})=>{const[n,i]=Ne.useState(""),[a,o]=Ne.useState(""),[s,l]=Ne.useState(0),u=f=>{if(f.preventDefault(),!n||!a){alert("KPI名と数式を入力してください。");return}e({kpiName:n,expression:a,targetValue:s}),i(""),o(""),l(0)};return se.jsxs(se.Fragment,{children:[se.jsx("h3",{children:"KPI設定"}),se.jsxs("form",{onSubmit:u,style:{marginBottom:"20px"},children:[se.jsx("input",{type:"text",placeholder:"KPI名 (例: 月間目標PV)",value:n,onChange:f=>i(f.target.value)}),se.jsx("input",{type:"text",placeholder:"数式 (例: note_data.views >= 1000)",value:a,onChange:f=>o(f.target.value),style:{width:"300px"},list:"formula-hints"}),se.jsx("datalist",{id:"formula-hints",children:fze.map(f=>se.jsx("option",{value:f.match(/\(([^)]+)\)/)?.[1]||f,children:f},f))}),se.jsx("input",{type:"number",placeholder:"目標値",value:s,onChange:f=>l(Number(f.target.value))}),se.jsx("button",{type:"submit",children:"KPIを追加"})]}),se.jsxs("div",{children:[se.jsx("h4",{children:"設定済みKPI一覧"}),se.jsx("ul",{style:{listStyle:"none",padding:0},children:t.map(f=>se.jsxs("li",{style:{marginBottom:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[se.jsxs("span",{children:[f.kpiName," (数式: ",f.expression,") : ",f.targetValue.toLocaleString()]}),se.jsx("button",{onClick:()=>r(f.id),className:"delete-button",style:{margin:0},children:"削除"})]},f.id))})]})]})},dze=we.memo(function({classifications:e,secondaryClassifications:r,tagName:n,setTagName:i,secondaryTagName:a,setSecondaryTagName:o,handleAddClassification:s,handleAddSecondaryClassification:l,handleDeleteClassification:u,handleDeleteSecondaryClassification:f}){return se.jsxs(se.Fragment,{children:[se.jsx("h3",{children:"分類タグ管理"}),se.jsxs("div",{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"},children:[se.jsxs("div",{style:{width:"45%",minWidth:"280px",marginBottom:"20px"},children:[se.jsx("h4",{children:"1次分類"}),se.jsxs("form",{onSubmit:s,style:{display:"flex",flexDirection:"column",gap:"10px"},children:[se.jsx("input",{type:"text",placeholder:"新しい1次分類名",value:n,onChange:d=>i(d.target.value)}),se.jsx("button",{type:"submit",children:"1次分類を追加"})]}),se.jsx("h5",{children:"登録済み"}),se.jsx("ul",{children:e.map(d=>se.jsxs("li",{children:[d.name,se.jsx("button",{onClick:()=>u(d.id),className:"delete-button",children:"削除"})]},d.id))})]}),se.jsxs("div",{style:{width:"45%",minWidth:"280px",marginBottom:"20px"},children:[se.jsx("h4",{children:"2次分類"}),se.jsxs("form",{onSubmit:l,style:{display:"flex",flexDirection:"column",gap:"10px"},children:[se.jsx("input",{type:"text",placeholder:"新しい2次分類名",value:a,onChange:d=>o(d.target.value)}),se.jsx("button",{type:"submit",children:"2次分類を追加"})]}),se.jsx("h5",{children:"登録済み"}),se.jsx("ul",{children:r.map(d=>se.jsxs("li",{children:[d.name,se.jsx("button",{onClick:()=>f(d.id),className:"delete-button",children:"削除"})]},d.id))})]})]})]})}),_2=({title:t,onClose:e,children:r})=>se.jsx("div",{className:"modal-overlay",onClick:e,children:se.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[se.jsxs("div",{className:"modal-header",children:[se.jsx("h2",{children:t}),se.jsx("button",{onClick:e,className:"modal-close-button",children:"×"})]}),r]})});function pze(){const{user:t,loading:e,login:r,logout:n}=vH(),{allArticles:i,classifications:a,secondaryClassifications:o,kpis:s,startDate:l,endDate:u,setStartDate:f,setEndDate:d,handleExtractAndAddArticles:p,handleUpdateArticle:m,handleUpdateLatestSnapshot:y,handleAddClassification:g,handleAddSecondaryClassification:b,handleDeleteClassification:E,handleDeleteSecondaryClassification:N,handleAddKpi:_,handleDeleteKpi:S,handleFileUpload:x,handleFetchXData:A,isFetchingXData:T,isXConnected:O,activeModal:C,setActiveModal:R}=NH(),[I,P]=Ne.useState("dashboard"),[F,z]=Ne.useState(!1),[U,k]=Ne.useState(""),[V,Y]=Ne.useState(""),[H,j]=Ne.useState(""),[Z,$]=Ne.useState(null),[W,K]=Ne.useState(()=>localStorage.getItem("theme")==="dark");Ne.useEffect(()=>{document.documentElement.setAttribute("data-theme",W?"dark":"light"),localStorage.setItem("theme",W?"dark":"light")},[W]);const ge=()=>K(ie=>!ie),me=()=>p(U).then(()=>k("")),Ee=ie=>{ie.preventDefault(),g(V).then(()=>Y(""))},J=ie=>{ie.preventDefault(),b(H).then(()=>j(""))},ee=ie=>{ie.target.files&&$(ie.target.files[0])},ue=()=>{Z&&x(Z).then(()=>{$(null),document.getElementById("csv-upload-input").value=""})},le=ie=>{z(!1),R(ie)};return e?se.jsx("div",{className:"loading-container",children:"読み込み中..."}):se.jsx("div",{className:"App",children:se.jsx("div",{className:"App-container",children:t?se.jsxs(se.Fragment,{children:[se.jsxs("header",{className:"main-header",children:[se.jsx("h1",{children:"note analyzer"}),se.jsx("div",{className:"header-controls",children:se.jsx("button",{onClick:()=>z(!0),children:"設定"})})]}),se.jsx("div",{className:"user-info-header",children:se.jsxs("p",{children:["ようこそ, ",t.displayName," さん"]})}),I==="dashboard"&&se.jsxs("div",{className:"top-controls-container",children:[se.jsxs("div",{className:"analysis-period-container",children:[se.jsx("label",{children:"分析期間: "}),se.jsx("input",{type:"date",value:l,onChange:ie=>f(ie.target.value)}),se.jsx("span",{children:" 〜 "}),se.jsx("input",{type:"date",value:u,onChange:ie=>d(ie.target.value)})]}),se.jsx("button",{onClick:()=>P("dataManagement"),children:"データ管理へ"})]}),se.jsx("main",{children:I==="dataManagement"?se.jsx(cze,{articles:i,classifications:a,secondaryClassifications:o,handleUpdateArticle:m,handleUpdateLatestSnapshot:y,onReturnToDashboard:()=>P("dashboard")}):se.jsx(uze,{})}),F&&se.jsx(_2,{title:"設定",onClose:()=>z(!1),children:se.jsxs("div",{className:"settings-menu-list",children:[se.jsx("div",{className:"settings-menu-item",onClick:ge,children:se.jsx("span",{children:W?"ライトモードに切り替え":"ダークモードに切り替え"})}),se.jsx("div",{className:"settings-menu-item",onClick:()=>le("dataImport"),children:se.jsx("span",{children:"データ取得"})}),se.jsx("div",{className:"settings-menu-item",onClick:()=>le("classificationKpi"),children:se.jsx("span",{children:"分類・KPI設定"})}),se.jsx("div",{className:"settings-menu-item",onClick:n,children:se.jsx("span",{children:"ログアウト"})})]})}),C==="dataImport"&&se.jsxs(_2,{title:"データ取得",onClose:()=>R(null),children:[se.jsxs("div",{className:"modal-section",children:[se.jsx("h3",{children:"noteから記事を一括登録"}),se.jsx(lze,{notePastedText:U,setNotePastedText:k,handleExtractAndAddArticles:me})]}),se.jsxs("div",{className:"modal-section",children:[se.jsx("h3",{children:"X(Twitter)と連携"}),se.jsx("p",{children:"Xと連携することで、note記事のインプレッションなどを自動で取得できます。"}),O?se.jsx("p",{children:"✅ Xアカウントは連携済みです。"}):se.jsx("button",{children:"Xアカウントと連携"}),se.jsx("button",{onClick:A,disabled:T,children:T?"取得中...":"速報値を今すぐ取得"})]}),se.jsxs("div",{className:"modal-section",children:[se.jsx("h3",{children:"XアナリティクスCSVをアップロード"}),se.jsx("p",{children:"XアナリティクスからダウンロードしたCSVをアップロードすることで、過去のデータを一括で反映できます。"}),se.jsx("input",{type:"file",id:"csv-upload-input",accept:".csv",onChange:ee,style:{marginTop:"10px"}}),se.jsx("button",{onClick:ue,disabled:!Z,children:"CSVをアップロード"})]})]}),C==="classificationKpi"&&se.jsxs(_2,{title:"分類・KPI設定",onClose:()=>R(null),children:[se.jsx("div",{className:"modal-section",children:se.jsx(dze,{classifications:a,secondaryClassifications:o,tagName:V,setTagName:Y,secondaryTagName:H,setSecondaryTagName:j,handleAddClassification:Ee,handleAddSecondaryClassification:J,handleDeleteClassification:E,handleDeleteSecondaryClassification:N})}),se.jsx("div",{className:"modal-section",children:se.jsx(hze,{kpis:s,onAddKpi:_,onDeleteKpi:S})})]})]}):se.jsxs("div",{className:"login-container",children:[se.jsx("h1",{children:"note analyzer"}),se.jsx("button",{onClick:r,children:"Googleでログイン"})]})})})}MJ.createRoot(document.getElementById("root")).render(se.jsx(Ne.StrictMode,{children:se.jsx(Fse,{children:se.jsx(ele,{children:se.jsx(pze,{})})})}));
