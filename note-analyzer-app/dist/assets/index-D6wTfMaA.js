(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function EJ(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var UA={exports:{}},Dm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r4;function SJ(){if(r4)return Dm;r4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:o,ref:i!==void 0?i:null,props:a}}return Dm.Fragment=e,Dm.jsx=r,Dm.jsxs=r,Dm}var n4;function TJ(){return n4||(n4=1,UA.exports=SJ()),UA.exports}var X=TJ(),zA={exports:{}},Vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4;function DJ(){if(i4)return Vt;i4=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;function p(z){return z===null||typeof z!="object"?null:(z=d&&z[d]||z["@@iterator"],typeof z=="function"?z:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function b(z,J,$){this.props=z,this.context=J,this.refs=g,this.updater=$||m}b.prototype.isReactComponent={},b.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},b.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function E(){}E.prototype=b.prototype;function O(z,J,$){this.props=z,this.context=J,this.refs=g,this.updater=$||m}var A=O.prototype=new E;A.constructor=O,y(A,b.prototype),A.isPureReactComponent=!0;var S=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function T(z,J,$,Q,K,we){return $=we.ref,{$$typeof:t,type:z,key:J,ref:$!==void 0?$:null,props:we}}function N(z,J){return T(z.type,J,void 0,void 0,void 0,z.props)}function C(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function R(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function($){return J[$]})}var I=/\/+/g;function P(z,J){return typeof z=="object"&&z!==null&&z.key!=null?R(""+z.key):J.toString(36)}function k(){}function q(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(k,k):(z.status="pending",z.then(function(J){z.status==="pending"&&(z.status="fulfilled",z.value=J)},function(J){z.status==="pending"&&(z.status="rejected",z.reason=J)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function U(z,J,$,Q,K){var we=typeof z;(we==="undefined"||we==="boolean")&&(z=null);var ge=!1;if(z===null)ge=!0;else switch(we){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(z.$$typeof){case t:case e:ge=!0;break;case f:return ge=z._init,U(ge(z._payload),J,$,Q,K)}}if(ge)return K=K(z),ge=Q===""?"."+P(z,0):Q,S(K)?($="",ge!=null&&($=ge.replace(I,"$&/")+"/"),U(K,J,$,"",function(ee){return ee})):K!=null&&(C(K)&&(K=N(K,$+(K.key==null||z&&z.key===K.key?"":(""+K.key).replace(I,"$&/")+"/")+ge)),J.push(K)),1;ge=0;var Ae=Q===""?".":Q+":";if(S(z))for(var te=0;te<z.length;te++)Q=z[te],we=Ae+P(Q,te),ge+=U(Q,J,$,we,K);else if(te=p(z),typeof te=="function")for(z=te.call(z),te=0;!(Q=z.next()).done;)Q=Q.value,we=Ae+P(Q,te++),ge+=U(Q,J,$,we,K);else if(we==="object"){if(typeof z.then=="function")return U(q(z),J,$,Q,K);throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ge}function F(z,J,$){if(z==null)return z;var Q=[],K=0;return U(z,Q,"","",function(we){return J.call($,we,K++)}),Q}function V(z){if(z._status===-1){var J=z._result;J=J(),J.then(function($){(z._status===0||z._status===-1)&&(z._status=1,z._result=$)},function($){(z._status===0||z._status===-1)&&(z._status=2,z._result=$)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var Z=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function H(){}return Vt.Children={map:F,forEach:function(z,J,$){F(z,function(){J.apply(this,arguments)},$)},count:function(z){var J=0;return F(z,function(){J++}),J},toArray:function(z){return F(z,function(J){return J})||[]},only:function(z){if(!C(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Vt.Component=b,Vt.Fragment=r,Vt.Profiler=i,Vt.PureComponent=O,Vt.StrictMode=n,Vt.Suspense=l,Vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Vt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return x.H.useMemoCache(z)}},Vt.cache=function(z){return function(){return z.apply(null,arguments)}},Vt.cloneElement=function(z,J,$){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Q=y({},z.props),K=z.key,we=void 0;if(J!=null)for(ge in J.ref!==void 0&&(we=void 0),J.key!==void 0&&(K=""+J.key),J)!_.call(J,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&J.ref===void 0||(Q[ge]=J[ge]);var ge=arguments.length-2;if(ge===1)Q.children=$;else if(1<ge){for(var Ae=Array(ge),te=0;te<ge;te++)Ae[te]=arguments[te+2];Q.children=Ae}return T(z.type,K,void 0,void 0,we,Q)},Vt.createContext=function(z){return z={$$typeof:o,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:a,_context:z},z},Vt.createElement=function(z,J,$){var Q,K={},we=null;if(J!=null)for(Q in J.key!==void 0&&(we=""+J.key),J)_.call(J,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(K[Q]=J[Q]);var ge=arguments.length-2;if(ge===1)K.children=$;else if(1<ge){for(var Ae=Array(ge),te=0;te<ge;te++)Ae[te]=arguments[te+2];K.children=Ae}if(z&&z.defaultProps)for(Q in ge=z.defaultProps,ge)K[Q]===void 0&&(K[Q]=ge[Q]);return T(z,we,void 0,void 0,null,K)},Vt.createRef=function(){return{current:null}},Vt.forwardRef=function(z){return{$$typeof:s,render:z}},Vt.isValidElement=C,Vt.lazy=function(z){return{$$typeof:f,_payload:{_status:-1,_result:z},_init:V}},Vt.memo=function(z,J){return{$$typeof:u,type:z,compare:J===void 0?null:J}},Vt.startTransition=function(z){var J=x.T,$={};x.T=$;try{var Q=z(),K=x.S;K!==null&&K($,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(H,Z)}catch(we){Z(we)}finally{x.T=J}},Vt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Vt.use=function(z){return x.H.use(z)},Vt.useActionState=function(z,J,$){return x.H.useActionState(z,J,$)},Vt.useCallback=function(z,J){return x.H.useCallback(z,J)},Vt.useContext=function(z){return x.H.useContext(z)},Vt.useDebugValue=function(){},Vt.useDeferredValue=function(z,J){return x.H.useDeferredValue(z,J)},Vt.useEffect=function(z,J,$){var Q=x.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(z,J)},Vt.useId=function(){return x.H.useId()},Vt.useImperativeHandle=function(z,J,$){return x.H.useImperativeHandle(z,J,$)},Vt.useInsertionEffect=function(z,J){return x.H.useInsertionEffect(z,J)},Vt.useLayoutEffect=function(z,J){return x.H.useLayoutEffect(z,J)},Vt.useMemo=function(z,J){return x.H.useMemo(z,J)},Vt.useOptimistic=function(z,J){return x.H.useOptimistic(z,J)},Vt.useReducer=function(z,J,$){return x.H.useReducer(z,J,$)},Vt.useRef=function(z){return x.H.useRef(z)},Vt.useState=function(z){return x.H.useState(z)},Vt.useSyncExternalStore=function(z,J,$){return x.H.useSyncExternalStore(z,J,$)},Vt.useTransition=function(){return x.H.useTransition()},Vt.version="19.1.1",Vt}var a4;function GC(){return a4||(a4=1,zA.exports=DJ()),zA.exports}var Ee=GC();const xe=pr(Ee);var VA={exports:{}},Nm={},HA={exports:{}},GA={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o4;function NJ(){return o4||(o4=1,(function(t){function e(F,V){var Z=F.length;F.push(V);e:for(;0<Z;){var H=Z-1>>>1,z=F[H];if(0<i(z,V))F[H]=V,F[Z]=z,Z=H;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var V=F[0],Z=F.pop();if(Z!==V){F[0]=Z;e:for(var H=0,z=F.length,J=z>>>1;H<J;){var $=2*(H+1)-1,Q=F[$],K=$+1,we=F[K];if(0>i(Q,Z))K<z&&0>i(we,Q)?(F[H]=we,F[K]=Z,H=K):(F[H]=Q,F[$]=Z,H=$);else if(K<z&&0>i(we,Z))F[H]=we,F[K]=Z,H=K;else break e}}return V}function i(F,V){var Z=F.sortIndex-V.sortIndex;return Z!==0?Z:F.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,d=null,p=3,m=!1,y=!1,g=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function S(F){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=F)n(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(u)}}function x(F){if(g=!1,S(F),!y)if(r(l)!==null)y=!0,_||(_=!0,P());else{var V=r(u);V!==null&&U(x,V.startTime-F)}}var _=!1,T=-1,N=5,C=-1;function R(){return b?!0:!(t.unstable_now()-C<N)}function I(){if(b=!1,_){var F=t.unstable_now();C=F;var V=!0;try{e:{y=!1,g&&(g=!1,O(T),T=-1),m=!0;var Z=p;try{t:{for(S(F),d=r(l);d!==null&&!(d.expirationTime>F&&R());){var H=d.callback;if(typeof H=="function"){d.callback=null,p=d.priorityLevel;var z=H(d.expirationTime<=F);if(F=t.unstable_now(),typeof z=="function"){d.callback=z,S(F),V=!0;break t}d===r(l)&&n(l),S(F)}else n(l);d=r(l)}if(d!==null)V=!0;else{var J=r(u);J!==null&&U(x,J.startTime-F),V=!1}}break e}finally{d=null,p=Z,m=!1}V=void 0}}finally{V?P():_=!1}}}var P;if(typeof A=="function")P=function(){A(I)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,q=k.port2;k.port1.onmessage=I,P=function(){q.postMessage(null)}}else P=function(){E(I,0)};function U(F,V){T=E(function(){F(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var Z=p;p=V;try{return F()}finally{p=Z}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Z=p;p=F;try{return V()}finally{p=Z}},t.unstable_scheduleCallback=function(F,V,Z){var H=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?H+Z:H):Z=H,F){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Z+z,F={id:f++,callback:V,priorityLevel:F,startTime:Z,expirationTime:z,sortIndex:-1},Z>H?(F.sortIndex=Z,e(u,F),r(l)===null&&F===r(u)&&(g?(O(T),T=-1):g=!0,U(x,Z-H))):(F.sortIndex=z,e(l,F),y||m||(y=!0,_||(_=!0,P()))),F},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(F){var V=p;return function(){var Z=p;p=V;try{return F.apply(this,arguments)}finally{p=Z}}}})(GA)),GA}var s4;function CJ(){return s4||(s4=1,HA.exports=NJ()),HA.exports}var KA={exports:{}},wi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u4;function OJ(){if(u4)return wi;u4=1;var t=GC();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,u,f){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:l,containerInfo:u,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,wi.createPortal=function(l,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return a(l,u,null,f)},wi.flushSync=function(l){var u=o.T,f=n.p;try{if(o.T=null,n.p=2,l)return l()}finally{o.T=u,n.p=f,n.d.f()}},wi.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},wi.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},wi.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var f=u.as,d=s(f,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,m=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:m}):f==="script"&&n.d.X(l,{crossOrigin:d,integrity:p,fetchPriority:m,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},wi.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=s(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},wi.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,d=s(f,u.crossOrigin);n.d.L(l,f,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},wi.preloadModule=function(l,u){if(typeof l=="string")if(u){var f=s(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},wi.requestFormReset=function(l){n.d.r(l)},wi.unstable_batchedUpdates=function(l,u){return l(u)},wi.useFormState=function(l,u,f){return o.H.useFormState(l,u,f)},wi.useFormStatus=function(){return o.H.useHostTransitionStatus()},wi.version="19.1.1",wi}var l4;function MJ(){if(l4)return KA.exports;l4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),KA.exports=OJ(),KA.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4;function IJ(){if(c4)return Nm;c4=1;var t=CJ(),e=GC(),r=MJ();function n(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var h=c,v=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(v=h.return),c=h.return;while(c)}return h.tag===3?v:null}function o(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function s(c){if(a(c)!==c)throw Error(n(188))}function l(c){var h=c.alternate;if(!h){if(h=a(c),h===null)throw Error(n(188));return h!==c?null:c}for(var v=c,w=h;;){var M=v.return;if(M===null)break;var B=M.alternate;if(B===null){if(w=M.return,w!==null){v=w;continue}break}if(M.child===B.child){for(B=M.child;B;){if(B===v)return s(M),c;if(B===w)return s(M),h;B=B.sibling}throw Error(n(188))}if(v.return!==w.return)v=M,w=B;else{for(var W=!1,re=M.child;re;){if(re===v){W=!0,v=M,w=B;break}if(re===w){W=!0,w=M,v=B;break}re=re.sibling}if(!W){for(re=B.child;re;){if(re===v){W=!0,v=B,w=M;break}if(re===w){W=!0,w=B,v=M;break}re=re.sibling}if(!W)throw Error(n(189))}}if(v.alternate!==w)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?c:h}function u(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=u(c),h!==null)return h;c=c.sibling}return null}var f=Object.assign,d=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function P(c){return c===null||typeof c!="object"?null:(c=I&&c[I]||c["@@iterator"],typeof c=="function"?c:null)}var k=Symbol.for("react.client.reference");function q(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===k?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case y:return"Fragment";case b:return"Profiler";case g:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList";case C:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case m:return"Portal";case A:return(c.displayName||"Context")+".Provider";case O:return(c._context.displayName||"Context")+".Consumer";case S:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case T:return h=c.displayName||null,h!==null?h:q(c.type)||"Memo";case N:h=c._payload,c=c._init;try{return q(c(h))}catch{}}return null}var U=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},H=[],z=-1;function J(c){return{current:c}}function $(c){0>z||(c.current=H[z],H[z]=null,z--)}function Q(c,h){z++,H[z]=c.current,c.current=h}var K=J(null),we=J(null),ge=J(null),Ae=J(null);function te(c,h){switch(Q(ge,h),Q(we,c),Q(K,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?O3(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=O3(h),c=M3(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}$(K),Q(K,c)}function ee(){$(K),$(we),$(ge)}function ue(c){c.memoizedState!==null&&Q(Ae,c);var h=K.current,v=M3(h,c.type);h!==v&&(Q(we,c),Q(K,v))}function ce(c){we.current===c&&($(K),$(we)),Ae.current===c&&($(Ae),_m._currentValue=Z)}var se=Object.prototype.hasOwnProperty,Te=t.unstable_scheduleCallback,pe=t.unstable_cancelCallback,Ne=t.unstable_shouldYield,je=t.unstable_requestPaint,Ke=t.unstable_now,Ue=t.unstable_getCurrentPriorityLevel,nt=t.unstable_ImmediatePriority,ae=t.unstable_UserBlockingPriority,he=t.unstable_NormalPriority,le=t.unstable_LowPriority,Y=t.unstable_IdlePriority,ie=t.log,fe=t.unstable_setDisableYieldValue,ye=null,me=null;function Se(c){if(typeof ie=="function"&&fe(c),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(ye,c)}catch{}}var Be=Math.clz32?Math.clz32:Ye,ze=Math.log,Ze=Math.LN2;function Ye(c){return c>>>=0,c===0?32:31-(ze(c)/Ze|0)|0}var Rt=256,st=4194304;function Gt(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function j(c,h,v){var w=c.pendingLanes;if(w===0)return 0;var M=0,B=c.suspendedLanes,W=c.pingedLanes;c=c.warmLanes;var re=w&134217727;return re!==0?(w=re&~B,w!==0?M=Gt(w):(W&=re,W!==0?M=Gt(W):v||(v=re&~c,v!==0&&(M=Gt(v))))):(re=w&~B,re!==0?M=Gt(re):W!==0?M=Gt(W):v||(v=w&~c,v!==0&&(M=Gt(v)))),M===0?0:h!==0&&h!==M&&(h&B)===0&&(B=M&-M,v=h&-h,B>=v||B===32&&(v&4194048)!==0)?h:M}function ve(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function Ie(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function He(){var c=Rt;return Rt<<=1,(Rt&4194048)===0&&(Rt=256),c}function ht(){var c=st;return st<<=1,(st&62914560)===0&&(st=4194304),c}function dt(c){for(var h=[],v=0;31>v;v++)h.push(c);return h}function _r(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function ks(c,h,v,w,M,B){var W=c.pendingLanes;c.pendingLanes=v,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=v,c.entangledLanes&=v,c.errorRecoveryDisabledLanes&=v,c.shellSuspendCounter=0;var re=c.entanglements,be=c.expirationTimes,Me=c.hiddenUpdates;for(v=W&~v;0<v;){var qe=31-Be(v),Xe=1<<qe;re[qe]=0,be[qe]=-1;var Re=Me[qe];if(Re!==null)for(Me[qe]=null,qe=0;qe<Re.length;qe++){var Pe=Re[qe];Pe!==null&&(Pe.lane&=-536870913)}v&=~Xe}w!==0&&Ba(c,w,0),B!==0&&M===0&&c.tag!==0&&(c.suspendedLanes|=B&~(W&~h))}function Ba(c,h,v){c.pendingLanes|=h,c.suspendedLanes&=~h;var w=31-Be(h);c.entangledLanes|=h,c.entanglements[w]=c.entanglements[w]|1073741824|v&4194090}function oc(c,h){var v=c.entangledLanes|=h;for(c=c.entanglements;v;){var w=31-Be(v),M=1<<w;M&h|c[w]&h&&(c[w]|=h),v&=~M}}function Ho(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ju(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Go(){var c=V.p;return c!==0?c:(c=window.event,c===void 0?32:Y3(c.type))}function Vf(c,h){var v=V.p;try{return V.p=c,h()}finally{V.p=v}}var Lr=Math.random().toString(36).slice(2),cn="__reactFiber$"+Lr,nn="__reactProps$"+Lr,Xi="__reactContainer$"+Lr,sc="__reactEvents$"+Lr,Np="__reactListeners$"+Lr,Ko="__reactHandles$"+Lr,Hf="__reactResources$"+Lr,Fs="__reactMarker$"+Lr;function Xo(c){delete c[cn],delete c[nn],delete c[sc],delete c[Np],delete c[Ko]}function go(c){var h=c[cn];if(h)return h;for(var v=c.parentNode;v;){if(h=v[Xi]||v[cn]){if(v=h.alternate,h.child!==null||v!==null&&v.child!==null)for(c=B3(c);c!==null;){if(v=c[cn])return v;c=B3(c)}return h}c=v,v=c.parentNode}return null}function ka(c){if(c=c[cn]||c[Xi]){var h=c.tag;if(h===5||h===6||h===13||h===26||h===27||h===3)return c}return null}function Fa(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(n(33))}function ii(c){var h=c[Hf];return h||(h=c[Hf]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Jr(c){c[Fs]=!0}var uc=new Set,qu={};function ca(c,h){yo(c,h),yo(c+"Capture",h)}function yo(c,h){for(qu[c]=h,c=0;c<h.length;c++)uc.add(h[c])}var Gf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wo={},Qt={};function Nn(c){return se.call(Qt,c)?!0:se.call(Wo,c)?!1:Gf.test(c)?Qt[c]=!0:(Wo[c]=!0,!1)}function Yo(c,h,v){if(Nn(h))if(v===null)c.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var w=h.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+v)}}function Ri(c,h,v){if(v===null)c.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+v)}}function en(c,h,v,w){if(w===null)c.removeAttribute(v);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(v);return}c.setAttributeNS(h,v,""+w)}}var $s,zg;function Ls(c){if($s===void 0)try{throw Error()}catch(v){var h=v.stack.trim().match(/\n( *(at )?)/);$s=h&&h[1]||"",zg=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$s+c+zg}var Kf=!1;function Xf(c,h){if(!c||Kf)return"";Kf=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(h){var Xe=function(){throw Error()};if(Object.defineProperty(Xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Xe,[])}catch(Pe){var Re=Pe}Reflect.construct(c,[],Xe)}else{try{Xe.call()}catch(Pe){Re=Pe}c.call(Xe.prototype)}}else{try{throw Error()}catch(Pe){Re=Pe}(Xe=c())&&typeof Xe.catch=="function"&&Xe.catch(function(){})}}catch(Pe){if(Pe&&Re&&typeof Pe.stack=="string")return[Pe.stack,Re.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=w.DetermineComponentFrameRoot(),W=B[0],re=B[1];if(W&&re){var be=W.split(`
`),Me=re.split(`
`);for(M=w=0;w<be.length&&!be[w].includes("DetermineComponentFrameRoot");)w++;for(;M<Me.length&&!Me[M].includes("DetermineComponentFrameRoot");)M++;if(w===be.length||M===Me.length)for(w=be.length-1,M=Me.length-1;1<=w&&0<=M&&be[w]!==Me[M];)M--;for(;1<=w&&0<=M;w--,M--)if(be[w]!==Me[M]){if(w!==1||M!==1)do if(w--,M--,0>M||be[w]!==Me[M]){var qe=`
`+be[w].replace(" at new "," at ");return c.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",c.displayName)),qe}while(1<=w&&0<=M);break}}}finally{Kf=!1,Error.prepareStackTrace=v}return(v=c?c.displayName||c.name:"")?Ls(v):""}function Cp(c){switch(c.tag){case 26:case 27:case 5:return Ls(c.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 15:return Xf(c.type,!1);case 11:return Xf(c.type.render,!1);case 1:return Xf(c.type,!0);case 31:return Ls("Activity");default:return""}}function Wf(c){try{var h="";do h+=Cp(c),c=c.return;while(c);return h}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function Pi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Op(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Gx(c){var h=Op(c)?"checked":"value",v=Object.getOwnPropertyDescriptor(c.constructor.prototype,h),w=""+c[h];if(!c.hasOwnProperty(h)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var M=v.get,B=v.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return M.call(this)},set:function(W){w=""+W,B.call(this,W)}}),Object.defineProperty(c,h,{enumerable:v.enumerable}),{getValue:function(){return w},setValue:function(W){w=""+W},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Yf(c){c._valueTracker||(c._valueTracker=Gx(c))}function Mp(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var v=h.getValue(),w="";return c&&(w=Op(c)?c.checked?"true":"false":c.value),c=w,c!==v?(h.setValue(c),!0):!1}function lc(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var Kx=/[\n"\\]/g;function vn(c){return c.replace(Kx,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function fa(c,h,v,w,M,B,W,re){c.name="",W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?c.type=W:c.removeAttribute("type"),h!=null?W==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+Pi(h)):c.value!==""+Pi(h)&&(c.value=""+Pi(h)):W!=="submit"&&W!=="reset"||c.removeAttribute("value"),h!=null?Uu(c,W,Pi(h)):v!=null?Uu(c,W,Pi(v)):w!=null&&c.removeAttribute("value"),M==null&&B!=null&&(c.defaultChecked=!!B),M!=null&&(c.checked=M&&typeof M!="function"&&typeof M!="symbol"),re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?c.name=""+Pi(re):c.removeAttribute("name")}function cc(c,h,v,w,M,B,W,re){if(B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(c.type=B),h!=null||v!=null){if(!(B!=="submit"&&B!=="reset"||h!=null))return;v=v!=null?""+Pi(v):"",h=h!=null?""+Pi(h):v,re||h===c.value||(c.value=h),c.defaultValue=h}w=w??M,w=typeof w!="function"&&typeof w!="symbol"&&!!w,c.checked=re?c.checked:!!w,c.defaultChecked=!!w,W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(c.name=W)}function Uu(c,h,v){h==="number"&&lc(c.ownerDocument)===c||c.defaultValue===""+v||(c.defaultValue=""+v)}function js(c,h,v,w){if(c=c.options,h){h={};for(var M=0;M<v.length;M++)h["$"+v[M]]=!0;for(v=0;v<c.length;v++)M=h.hasOwnProperty("$"+c[v].value),c[v].selected!==M&&(c[v].selected=M),M&&w&&(c[v].defaultSelected=!0)}else{for(v=""+Pi(v),h=null,M=0;M<c.length;M++){if(c[M].value===v){c[M].selected=!0,w&&(c[M].defaultSelected=!0);return}h!==null||c[M].disabled||(h=c[M])}h!==null&&(h.selected=!0)}}function Cr(c,h,v){if(h!=null&&(h=""+Pi(h),h!==c.value&&(c.value=h),v==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=v!=null?""+Pi(v):""}function fc(c,h,v,w){if(h==null){if(w!=null){if(v!=null)throw Error(n(92));if(U(w)){if(1<w.length)throw Error(n(93));w=w[0]}v=w}v==null&&(v=""),h=v}v=Pi(h),c.defaultValue=v,w=c.textContent,w===v&&w!==""&&w!==null&&(c.value=w)}function $a(c,h){if(h){var v=c.firstChild;if(v&&v===c.lastChild&&v.nodeType===3){v.nodeValue=h;return}}c.textContent=h}var hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vg(c,h,v){var w=h.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?w?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":w?c.setProperty(h,v):typeof v!="number"||v===0||hc.has(h)?h==="float"?c.cssFloat=v:c[h]=(""+v).trim():c[h]=v+"px"}function Ip(c,h,v){if(h!=null&&typeof h!="object")throw Error(n(62));if(c=c.style,v!=null){for(var w in v)!v.hasOwnProperty(w)||h!=null&&h.hasOwnProperty(w)||(w.indexOf("--")===0?c.setProperty(w,""):w==="float"?c.cssFloat="":c[w]="");for(var M in h)w=h[M],h.hasOwnProperty(M)&&v[M]!==w&&Vg(c,M,w)}else for(var B in h)h.hasOwnProperty(B)&&Vg(c,B,h[B])}function Rp(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qf(c){return Wx.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var qs=null;function La(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Us=null,zs=null;function Pp(c){var h=ka(c);if(h&&(c=h.stateNode)){var v=c[nn]||null;e:switch(c=h.stateNode,h.type){case"input":if(fa(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),h=v.name,v.type==="radio"&&h!=null){for(v=c;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+vn(""+h)+'"][type="radio"]'),h=0;h<v.length;h++){var w=v[h];if(w!==c&&w.form===c.form){var M=w[nn]||null;if(!M)throw Error(n(90));fa(w,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(h=0;h<v.length;h++)w=v[h],w.form===c.form&&Mp(w)}break e;case"textarea":Cr(c,v.value,v.defaultValue);break e;case"select":h=v.value,h!=null&&js(c,!!v.multiple,h,!1)}}}var Qo=!1;function Hg(c,h,v){if(Qo)return c(h,v);Qo=!0;try{var w=c(h);return w}finally{if(Qo=!1,(Us!==null||zs!==null)&&($y(),Us&&(h=Us,c=zs,zs=Us=null,Pp(h),c)))for(h=0;h<c.length;h++)Pp(c[h])}}function dc(c,h){var v=c.stateNode;if(v===null)return null;var w=v[nn]||null;if(w===null)return null;v=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(v&&typeof v!="function")throw Error(n(231,h,typeof v));return v}var bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=!1;if(bo)try{var pc={};Object.defineProperty(pc,"passive",{get:function(){ja=!0}}),window.addEventListener("test",pc,pc),window.removeEventListener("test",pc,pc)}catch{ja=!1}var Zo=null,zu=null,Vs=null;function Bp(){if(Vs)return Vs;var c,h=zu,v=h.length,w,M="value"in Zo?Zo.value:Zo.textContent,B=M.length;for(c=0;c<v&&h[c]===M[c];c++);var W=v-c;for(w=1;w<=W&&h[v-w]===M[B-w];w++);return Vs=M.slice(c,1<w?1-w:void 0)}function Jo(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function es(){return!0}function kp(){return!1}function Hn(c){function h(v,w,M,B,W){this._reactName=v,this._targetInst=M,this.type=w,this.nativeEvent=B,this.target=W,this.currentTarget=null;for(var re in c)c.hasOwnProperty(re)&&(v=c[re],this[re]=v?v(B):B[re]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?es:kp,this.isPropagationStopped=kp,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),h}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zf=Hn(gr),mc=f({},gr,{view:0,detail:0}),Gg=Hn(mc),Jf,eh,ts,vc=f({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==ts&&(ts&&c.type==="mousemove"?(Jf=c.screenX-ts.screenX,eh=c.screenY-ts.screenY):eh=Jf=0,ts=c),Jf)},movementY:function(c){return"movementY"in c?c.movementY:eh}}),qa=Hn(vc),Kg=f({},vc,{dataTransfer:0}),Yx=Hn(Kg),gc=f({},mc,{relatedTarget:0}),th=Hn(gc),Fp=f({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),rh=Hn(Fp),Xg=f({},gr,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),nh=Hn(Xg),Qx=f({},gr,{data:0}),$p=Hn(Qx),yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lp(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=Yg[c])?!!h[c]:!1}function bc(){return Lp}var Qg=f({},mc,{key:function(c){if(c.key){var h=yc[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=Jo(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Wg[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(c){return c.type==="keypress"?Jo(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Jo(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),ih=Hn(Qg),Zg=f({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jp=Hn(Zg),Hs=f({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),Jg=Hn(Hs),ey=f({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ty=Hn(ey),ry=f({},vc,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),ah=Hn(ry),Bi=f({},gr,{newState:0,oldState:0}),ny=Hn(Bi),iy=[9,13,27,32],rs=bo&&"CompositionEvent"in window,D=null;bo&&"documentMode"in document&&(D=document.documentMode);var L=bo&&"TextEvent"in window&&!D,G=bo&&(!rs||D&&8<D&&11>=D),oe=" ",Ce=!1;function ke(c,h){switch(c){case"keyup":return iy.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rt(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var sr=!1;function Cn(c,h){switch(c){case"compositionend":return rt(h);case"keypress":return h.which!==32?null:(Ce=!0,oe);case"textInput":return c=h.data,c===oe&&Ce?null:c;default:return null}}function ur(c,h){if(sr)return c==="compositionend"||!rs&&ke(c,h)?(c=Bp(),Vs=zu=Zo=null,sr=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return G&&h.locale!=="ko"?null:h.data;default:return null}}var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!Gn[c.type]:h==="textarea"}function Gs(c,h,v,w){Us?zs?zs.push(w):zs=[w]:Us=w,h=Vy(h,"onChange"),0<h.length&&(v=new Zf("onChange","change",null,v,w),c.push({event:v,listeners:h}))}var ai=null,ns=null;function qp(c){S3(c,0)}function ay(c){var h=Fa(c);if(Mp(h))return c}function GI(c,h){if(c==="change")return h}var KI=!1;if(bo){var Zx;if(bo){var Jx="oninput"in document;if(!Jx){var XI=document.createElement("div");XI.setAttribute("oninput","return;"),Jx=typeof XI.oninput=="function"}Zx=Jx}else Zx=!1;KI=Zx&&(!document.documentMode||9<document.documentMode)}function WI(){ai&&(ai.detachEvent("onpropertychange",YI),ns=ai=null)}function YI(c){if(c.propertyName==="value"&&ay(ns)){var h=[];Gs(h,ns,c,La(c)),Hg(qp,h)}}function eZ(c,h,v){c==="focusin"?(WI(),ai=h,ns=v,ai.attachEvent("onpropertychange",YI)):c==="focusout"&&WI()}function tZ(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return ay(ns)}function rZ(c,h){if(c==="click")return ay(h)}function nZ(c,h){if(c==="input"||c==="change")return ay(h)}function iZ(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var ha=typeof Object.is=="function"?Object.is:iZ;function Up(c,h){if(ha(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var v=Object.keys(c),w=Object.keys(h);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var M=v[w];if(!se.call(h,M)||!ha(c[M],h[M]))return!1}return!0}function QI(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ZI(c,h){var v=QI(c);c=0;for(var w;v;){if(v.nodeType===3){if(w=c+v.textContent.length,c<=h&&w>=h)return{node:v,offset:h-c};c=w}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=QI(v)}}function JI(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?JI(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function eR(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=lc(c.document);h instanceof c.HTMLIFrameElement;){try{var v=typeof h.contentWindow.location.href=="string"}catch{v=!1}if(v)c=h.contentWindow;else break;h=lc(c.document)}return h}function e_(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var aZ=bo&&"documentMode"in document&&11>=document.documentMode,oh=null,t_=null,zp=null,r_=!1;function tR(c,h,v){var w=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;r_||oh==null||oh!==lc(w)||(w=oh,"selectionStart"in w&&e_(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),zp&&Up(zp,w)||(zp=w,w=Vy(t_,"onSelect"),0<w.length&&(h=new Zf("onSelect","select",null,h,v),c.push({event:h,listeners:w}),h.target=oh)))}function wc(c,h){var v={};return v[c.toLowerCase()]=h.toLowerCase(),v["Webkit"+c]="webkit"+h,v["Moz"+c]="moz"+h,v}var sh={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionrun:wc("Transition","TransitionRun"),transitionstart:wc("Transition","TransitionStart"),transitioncancel:wc("Transition","TransitionCancel"),transitionend:wc("Transition","TransitionEnd")},n_={},rR={};bo&&(rR=document.createElement("div").style,"AnimationEvent"in window||(delete sh.animationend.animation,delete sh.animationiteration.animation,delete sh.animationstart.animation),"TransitionEvent"in window||delete sh.transitionend.transition);function xc(c){if(n_[c])return n_[c];if(!sh[c])return c;var h=sh[c],v;for(v in h)if(h.hasOwnProperty(v)&&v in rR)return n_[c]=h[v];return c}var nR=xc("animationend"),iR=xc("animationiteration"),aR=xc("animationstart"),oZ=xc("transitionrun"),sZ=xc("transitionstart"),uZ=xc("transitioncancel"),oR=xc("transitionend"),sR=new Map,i_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");i_.push("scrollEnd");function wo(c,h){sR.set(c,h),ca(h,[c])}var uR=new WeakMap;function Ua(c,h){if(typeof c=="object"&&c!==null){var v=uR.get(c);return v!==void 0?v:(h={value:c,source:h,stack:Wf(h)},uR.set(c,h),h)}return{value:c,source:h,stack:Wf(h)}}var za=[],uh=0,a_=0;function oy(){for(var c=uh,h=a_=uh=0;h<c;){var v=za[h];za[h++]=null;var w=za[h];za[h++]=null;var M=za[h];za[h++]=null;var B=za[h];if(za[h++]=null,w!==null&&M!==null){var W=w.pending;W===null?M.next=M:(M.next=W.next,W.next=M),w.pending=M}B!==0&&lR(v,M,B)}}function sy(c,h,v,w){za[uh++]=c,za[uh++]=h,za[uh++]=v,za[uh++]=w,a_|=w,c.lanes|=w,c=c.alternate,c!==null&&(c.lanes|=w)}function o_(c,h,v,w){return sy(c,h,v,w),uy(c)}function lh(c,h){return sy(c,null,null,h),uy(c)}function lR(c,h,v){c.lanes|=v;var w=c.alternate;w!==null&&(w.lanes|=v);for(var M=!1,B=c.return;B!==null;)B.childLanes|=v,w=B.alternate,w!==null&&(w.childLanes|=v),B.tag===22&&(c=B.stateNode,c===null||c._visibility&1||(M=!0)),c=B,B=B.return;return c.tag===3?(B=c.stateNode,M&&h!==null&&(M=31-Be(v),c=B.hiddenUpdates,w=c[M],w===null?c[M]=[h]:w.push(h),h.lane=v|536870912),B):null}function uy(c){if(50<pm)throw pm=0,hA=null,Error(n(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var ch={};function lZ(c,h,v,w){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(c,h,v,w){return new lZ(c,h,v,w)}function s_(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Ks(c,h){var v=c.alternate;return v===null?(v=da(c.tag,h,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=h,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&65011712,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,h=c.dependencies,v.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v.refCleanup=c.refCleanup,v}function cR(c,h){c.flags&=65011714;var v=c.alternate;return v===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=v.childLanes,c.lanes=v.lanes,c.child=v.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=v.memoizedProps,c.memoizedState=v.memoizedState,c.updateQueue=v.updateQueue,c.type=v.type,h=v.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function ly(c,h,v,w,M,B){var W=0;if(w=c,typeof c=="function")s_(c)&&(W=1);else if(typeof c=="string")W=fJ(c,v,K.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case C:return c=da(31,v,h,M),c.elementType=C,c.lanes=B,c;case y:return _c(v.children,M,B,h);case g:W=8,M|=24;break;case b:return c=da(12,v,h,M|2),c.elementType=b,c.lanes=B,c;case x:return c=da(13,v,h,M),c.elementType=x,c.lanes=B,c;case _:return c=da(19,v,h,M),c.elementType=_,c.lanes=B,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case E:case A:W=10;break e;case O:W=9;break e;case S:W=11;break e;case T:W=14;break e;case N:W=16,w=null;break e}W=29,v=Error(n(130,c===null?"null":typeof c,"")),w=null}return h=da(W,v,h,M),h.elementType=c,h.type=w,h.lanes=B,h}function _c(c,h,v,w){return c=da(7,c,w,h),c.lanes=v,c}function u_(c,h,v){return c=da(6,c,null,h),c.lanes=v,c}function l_(c,h,v){return h=da(4,c.children!==null?c.children:[],c.key,h),h.lanes=v,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var fh=[],hh=0,cy=null,fy=0,Va=[],Ha=0,Ac=null,Xs=1,Ws="";function Ec(c,h){fh[hh++]=fy,fh[hh++]=cy,cy=c,fy=h}function fR(c,h,v){Va[Ha++]=Xs,Va[Ha++]=Ws,Va[Ha++]=Ac,Ac=c;var w=Xs;c=Ws;var M=32-Be(w)-1;w&=~(1<<M),v+=1;var B=32-Be(h)+M;if(30<B){var W=M-M%5;B=(w&(1<<W)-1).toString(32),w>>=W,M-=W,Xs=1<<32-Be(h)+M|v<<M|w,Ws=B+c}else Xs=1<<B|v<<M|w,Ws=c}function c_(c){c.return!==null&&(Ec(c,1),fR(c,1,0))}function f_(c){for(;c===cy;)cy=fh[--hh],fh[hh]=null,fy=fh[--hh],fh[hh]=null;for(;c===Ac;)Ac=Va[--Ha],Va[Ha]=null,Ws=Va[--Ha],Va[Ha]=null,Xs=Va[--Ha],Va[Ha]=null}var ki=null,an=null,mr=!1,Sc=null,is=!1,h_=Error(n(519));function Tc(c){var h=Error(n(418,""));throw Gp(Ua(h,c)),h_}function hR(c){var h=c.stateNode,v=c.type,w=c.memoizedProps;switch(h[cn]=c,h[nn]=w,v){case"dialog":Jt("cancel",h),Jt("close",h);break;case"iframe":case"object":case"embed":Jt("load",h);break;case"video":case"audio":for(v=0;v<vm.length;v++)Jt(vm[v],h);break;case"source":Jt("error",h);break;case"img":case"image":case"link":Jt("error",h),Jt("load",h);break;case"details":Jt("toggle",h);break;case"input":Jt("invalid",h),cc(h,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),Yf(h);break;case"select":Jt("invalid",h);break;case"textarea":Jt("invalid",h),fc(h,w.value,w.defaultValue,w.children),Yf(h)}v=w.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||h.textContent===""+v||w.suppressHydrationWarning===!0||C3(h.textContent,v)?(w.popover!=null&&(Jt("beforetoggle",h),Jt("toggle",h)),w.onScroll!=null&&Jt("scroll",h),w.onScrollEnd!=null&&Jt("scrollend",h),w.onClick!=null&&(h.onclick=Hy),h=!0):h=!1,h||Tc(c)}function dR(c){for(ki=c.return;ki;)switch(ki.tag){case 5:case 13:is=!1;return;case 27:case 3:is=!0;return;default:ki=ki.return}}function Vp(c){if(c!==ki)return!1;if(!mr)return dR(c),mr=!0,!1;var h=c.tag,v;if((v=h!==3&&h!==27)&&((v=h===5)&&(v=c.type,v=!(v!=="form"&&v!=="button")||NA(c.type,c.memoizedProps)),v=!v),v&&an&&Tc(c),dR(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,h=0;c;){if(c.nodeType===8)if(v=c.data,v==="/$"){if(h===0){an=_o(c.nextSibling);break e}h--}else v!=="$"&&v!=="$!"&&v!=="$?"||h++;c=c.nextSibling}an=null}}else h===27?(h=an,al(c.type)?(c=IA,IA=null,an=c):an=h):an=ki?_o(c.stateNode.nextSibling):null;return!0}function Hp(){an=ki=null,mr=!1}function pR(){var c=Sc;return c!==null&&(Qi===null?Qi=c:Qi.push.apply(Qi,c),Sc=null),c}function Gp(c){Sc===null?Sc=[c]:Sc.push(c)}var d_=J(null),Dc=null,Ys=null;function Vu(c,h,v){Q(d_,h._currentValue),h._currentValue=v}function Qs(c){c._currentValue=d_.current,$(d_)}function p_(c,h,v){for(;c!==null;){var w=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),c===v)break;c=c.return}}function m_(c,h,v,w){var M=c.child;for(M!==null&&(M.return=c);M!==null;){var B=M.dependencies;if(B!==null){var W=M.child;B=B.firstContext;e:for(;B!==null;){var re=B;B=M;for(var be=0;be<h.length;be++)if(re.context===h[be]){B.lanes|=v,re=B.alternate,re!==null&&(re.lanes|=v),p_(B.return,v,c),w||(W=null);break e}B=re.next}}else if(M.tag===18){if(W=M.return,W===null)throw Error(n(341));W.lanes|=v,B=W.alternate,B!==null&&(B.lanes|=v),p_(W,v,c),W=null}else W=M.child;if(W!==null)W.return=M;else for(W=M;W!==null;){if(W===c){W=null;break}if(M=W.sibling,M!==null){M.return=W.return,W=M;break}W=W.return}M=W}}function Kp(c,h,v,w){c=null;for(var M=h,B=!1;M!==null;){if(!B){if((M.flags&524288)!==0)B=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var W=M.alternate;if(W===null)throw Error(n(387));if(W=W.memoizedProps,W!==null){var re=M.type;ha(M.pendingProps.value,W.value)||(c!==null?c.push(re):c=[re])}}else if(M===Ae.current){if(W=M.alternate,W===null)throw Error(n(387));W.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(c!==null?c.push(_m):c=[_m])}M=M.return}c!==null&&m_(h,c,v,w),h.flags|=262144}function hy(c){for(c=c.firstContext;c!==null;){if(!ha(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Nc(c){Dc=c,Ys=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function bi(c){return mR(Dc,c)}function dy(c,h){return Dc===null&&Nc(c),mR(c,h)}function mR(c,h){var v=h._currentValue;if(h={context:h,memoizedValue:v,next:null},Ys===null){if(c===null)throw Error(n(308));Ys=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else Ys=Ys.next=h;return v}var cZ=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(v,w){c.push(w)}};this.abort=function(){h.aborted=!0,c.forEach(function(v){return v()})}},fZ=t.unstable_scheduleCallback,hZ=t.unstable_NormalPriority,Mn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function v_(){return{controller:new cZ,data:new Map,refCount:0}}function Xp(c){c.refCount--,c.refCount===0&&fZ(hZ,function(){c.controller.abort()})}var Wp=null,g_=0,dh=0,ph=null;function dZ(c,h){if(Wp===null){var v=Wp=[];g_=0,dh=bA(),ph={status:"pending",value:void 0,then:function(w){v.push(w)}}}return g_++,h.then(vR,vR),h}function vR(){if(--g_===0&&Wp!==null){ph!==null&&(ph.status="fulfilled");var c=Wp;Wp=null,dh=0,ph=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function pZ(c,h){var v=[],w={status:"pending",value:null,reason:null,then:function(M){v.push(M)}};return c.then(function(){w.status="fulfilled",w.value=h;for(var M=0;M<v.length;M++)(0,v[M])(h)},function(M){for(w.status="rejected",w.reason=M,M=0;M<v.length;M++)(0,v[M])(void 0)}),w}var gR=F.S;F.S=function(c,h){typeof h=="object"&&h!==null&&typeof h.then=="function"&&dZ(c,h),gR!==null&&gR(c,h)};var Cc=J(null);function y_(){var c=Cc.current;return c!==null?c:jr.pooledCache}function py(c,h){h===null?Q(Cc,Cc.current):Q(Cc,h.pool)}function yR(){var c=y_();return c===null?null:{parent:Mn._currentValue,pool:c}}var Yp=Error(n(460)),bR=Error(n(474)),my=Error(n(542)),b_={then:function(){}};function wR(c){return c=c.status,c==="fulfilled"||c==="rejected"}function vy(){}function xR(c,h,v){switch(v=c[v],v===void 0?c.push(h):v!==h&&(h.then(vy,vy),h=v),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,AR(c),c;default:if(typeof h.status=="string")h.then(vy,vy);else{if(c=jr,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=h,c.status="pending",c.then(function(w){if(h.status==="pending"){var M=h;M.status="fulfilled",M.value=w}},function(w){if(h.status==="pending"){var M=h;M.status="rejected",M.reason=w}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,AR(c),c}throw Qp=h,Yp}}var Qp=null;function _R(){if(Qp===null)throw Error(n(459));var c=Qp;return Qp=null,c}function AR(c){if(c===Yp||c===my)throw Error(n(483))}var Hu=!1;function w_(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function x_(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Gu(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Ku(c,h,v){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(Ar&2)!==0){var M=w.pending;return M===null?h.next=h:(h.next=M.next,M.next=h),w.pending=h,h=uy(c),lR(c,null,v),h}return sy(c,w,h,v),uy(c)}function Zp(c,h,v){if(h=h.updateQueue,h!==null&&(h=h.shared,(v&4194048)!==0)){var w=h.lanes;w&=c.pendingLanes,v|=w,h.lanes=v,oc(c,v)}}function __(c,h){var v=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var M=null,B=null;if(v=v.firstBaseUpdate,v!==null){do{var W={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};B===null?M=B=W:B=B.next=W,v=v.next}while(v!==null);B===null?M=B=h:B=B.next=h}else M=B=h;v={baseState:w.baseState,firstBaseUpdate:M,lastBaseUpdate:B,shared:w.shared,callbacks:w.callbacks},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=h:c.next=h,v.lastBaseUpdate=h}var A_=!1;function Jp(){if(A_){var c=ph;if(c!==null)throw c}}function em(c,h,v,w){A_=!1;var M=c.updateQueue;Hu=!1;var B=M.firstBaseUpdate,W=M.lastBaseUpdate,re=M.shared.pending;if(re!==null){M.shared.pending=null;var be=re,Me=be.next;be.next=null,W===null?B=Me:W.next=Me,W=be;var qe=c.alternate;qe!==null&&(qe=qe.updateQueue,re=qe.lastBaseUpdate,re!==W&&(re===null?qe.firstBaseUpdate=Me:re.next=Me,qe.lastBaseUpdate=be))}if(B!==null){var Xe=M.baseState;W=0,qe=Me=be=null,re=B;do{var Re=re.lane&-536870913,Pe=Re!==re.lane;if(Pe?(lr&Re)===Re:(w&Re)===Re){Re!==0&&Re===dh&&(A_=!0),qe!==null&&(qe=qe.next={lane:0,tag:re.tag,payload:re.payload,callback:null,next:null});e:{var Tt=c,wt=re;Re=h;var Ir=v;switch(wt.tag){case 1:if(Tt=wt.payload,typeof Tt=="function"){Xe=Tt.call(Ir,Xe,Re);break e}Xe=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=wt.payload,Re=typeof Tt=="function"?Tt.call(Ir,Xe,Re):Tt,Re==null)break e;Xe=f({},Xe,Re);break e;case 2:Hu=!0}}Re=re.callback,Re!==null&&(c.flags|=64,Pe&&(c.flags|=8192),Pe=M.callbacks,Pe===null?M.callbacks=[Re]:Pe.push(Re))}else Pe={lane:Re,tag:re.tag,payload:re.payload,callback:re.callback,next:null},qe===null?(Me=qe=Pe,be=Xe):qe=qe.next=Pe,W|=Re;if(re=re.next,re===null){if(re=M.shared.pending,re===null)break;Pe=re,re=Pe.next,Pe.next=null,M.lastBaseUpdate=Pe,M.shared.pending=null}}while(!0);qe===null&&(be=Xe),M.baseState=be,M.firstBaseUpdate=Me,M.lastBaseUpdate=qe,B===null&&(M.shared.lanes=0),tl|=W,c.lanes=W,c.memoizedState=Xe}}function ER(c,h){if(typeof c!="function")throw Error(n(191,c));c.call(h)}function SR(c,h){var v=c.callbacks;if(v!==null)for(c.callbacks=null,c=0;c<v.length;c++)ER(v[c],h)}var mh=J(null),gy=J(0);function TR(c,h){c=iu,Q(gy,c),Q(mh,h),iu=c|h.baseLanes}function E_(){Q(gy,iu),Q(mh,mh.current)}function S_(){iu=gy.current,$(mh),$(gy)}var Xu=0,Xt=null,Or=null,gn=null,yy=!1,vh=!1,Oc=!1,by=0,tm=0,gh=null,mZ=0;function fn(){throw Error(n(321))}function T_(c,h){if(h===null)return!1;for(var v=0;v<h.length&&v<c.length;v++)if(!ha(c[v],h[v]))return!1;return!0}function D_(c,h,v,w,M,B){return Xu=B,Xt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,F.H=c===null||c.memoizedState===null?lP:cP,Oc=!1,B=v(w,M),Oc=!1,vh&&(B=NR(h,v,w,M)),DR(c),B}function DR(c){F.H=Sy;var h=Or!==null&&Or.next!==null;if(Xu=0,gn=Or=Xt=null,yy=!1,tm=0,gh=null,h)throw Error(n(300));c===null||Kn||(c=c.dependencies,c!==null&&hy(c)&&(Kn=!0))}function NR(c,h,v,w){Xt=c;var M=0;do{if(vh&&(gh=null),tm=0,vh=!1,25<=M)throw Error(n(301));if(M+=1,gn=Or=null,c.updateQueue!=null){var B=c.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}F.H=_Z,B=h(v,w)}while(vh);return B}function vZ(){var c=F.H,h=c.useState()[0];return h=typeof h.then=="function"?rm(h):h,c=c.useState()[0],(Or!==null?Or.memoizedState:null)!==c&&(Xt.flags|=1024),h}function N_(){var c=by!==0;return by=0,c}function C_(c,h,v){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~v}function O_(c){if(yy){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}yy=!1}Xu=0,gn=Or=Xt=null,vh=!1,tm=by=0,gh=null}function Wi(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?Xt.memoizedState=gn=c:gn=gn.next=c,gn}function yn(){if(Or===null){var c=Xt.alternate;c=c!==null?c.memoizedState:null}else c=Or.next;var h=gn===null?Xt.memoizedState:gn.next;if(h!==null)gn=h,Or=c;else{if(c===null)throw Xt.alternate===null?Error(n(467)):Error(n(310));Or=c,c={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},gn===null?Xt.memoizedState=gn=c:gn=gn.next=c}return gn}function M_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rm(c){var h=tm;return tm+=1,gh===null&&(gh=[]),c=xR(gh,c,h),h=Xt,(gn===null?h.memoizedState:gn.next)===null&&(h=h.alternate,F.H=h===null||h.memoizedState===null?lP:cP),c}function wy(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return rm(c);if(c.$$typeof===A)return bi(c)}throw Error(n(438,String(c)))}function I_(c){var h=null,v=Xt.updateQueue;if(v!==null&&(h=v.memoCache),h==null){var w=Xt.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(h={data:w.data.map(function(M){return M.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),v===null&&(v=M_(),Xt.updateQueue=v),v.memoCache=h,v=h.data[h.index],v===void 0)for(v=h.data[h.index]=Array(c),w=0;w<c;w++)v[w]=R;return h.index++,v}function Zs(c,h){return typeof h=="function"?h(c):h}function xy(c){var h=yn();return R_(h,Or,c)}function R_(c,h,v){var w=c.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=v;var M=c.baseQueue,B=w.pending;if(B!==null){if(M!==null){var W=M.next;M.next=B.next,B.next=W}h.baseQueue=M=B,w.pending=null}if(B=c.baseState,M===null)c.memoizedState=B;else{h=M.next;var re=W=null,be=null,Me=h,qe=!1;do{var Xe=Me.lane&-536870913;if(Xe!==Me.lane?(lr&Xe)===Xe:(Xu&Xe)===Xe){var Re=Me.revertLane;if(Re===0)be!==null&&(be=be.next={lane:0,revertLane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),Xe===dh&&(qe=!0);else if((Xu&Re)===Re){Me=Me.next,Re===dh&&(qe=!0);continue}else Xe={lane:0,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},be===null?(re=be=Xe,W=B):be=be.next=Xe,Xt.lanes|=Re,tl|=Re;Xe=Me.action,Oc&&v(B,Xe),B=Me.hasEagerState?Me.eagerState:v(B,Xe)}else Re={lane:Xe,revertLane:Me.revertLane,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null},be===null?(re=be=Re,W=B):be=be.next=Re,Xt.lanes|=Xe,tl|=Xe;Me=Me.next}while(Me!==null&&Me!==h);if(be===null?W=B:be.next=re,!ha(B,c.memoizedState)&&(Kn=!0,qe&&(v=ph,v!==null)))throw v;c.memoizedState=B,c.baseState=W,c.baseQueue=be,w.lastRenderedState=B}return M===null&&(w.lanes=0),[c.memoizedState,w.dispatch]}function P_(c){var h=yn(),v=h.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=c;var w=v.dispatch,M=v.pending,B=h.memoizedState;if(M!==null){v.pending=null;var W=M=M.next;do B=c(B,W.action),W=W.next;while(W!==M);ha(B,h.memoizedState)||(Kn=!0),h.memoizedState=B,h.baseQueue===null&&(h.baseState=B),v.lastRenderedState=B}return[B,w]}function CR(c,h,v){var w=Xt,M=yn(),B=mr;if(B){if(v===void 0)throw Error(n(407));v=v()}else v=h();var W=!ha((Or||M).memoizedState,v);W&&(M.memoizedState=v,Kn=!0),M=M.queue;var re=IR.bind(null,w,M,c);if(nm(2048,8,re,[c]),M.getSnapshot!==h||W||gn!==null&&gn.memoizedState.tag&1){if(w.flags|=2048,yh(9,_y(),MR.bind(null,w,M,v,h),null),jr===null)throw Error(n(349));B||(Xu&124)!==0||OR(w,h,v)}return v}function OR(c,h,v){c.flags|=16384,c={getSnapshot:h,value:v},h=Xt.updateQueue,h===null?(h=M_(),Xt.updateQueue=h,h.stores=[c]):(v=h.stores,v===null?h.stores=[c]:v.push(c))}function MR(c,h,v,w){h.value=v,h.getSnapshot=w,RR(h)&&PR(c)}function IR(c,h,v){return v(function(){RR(h)&&PR(c)})}function RR(c){var h=c.getSnapshot;c=c.value;try{var v=h();return!ha(c,v)}catch{return!0}}function PR(c){var h=lh(c,2);h!==null&&ya(h,c,2)}function B_(c){var h=Wi();if(typeof c=="function"){var v=c;if(c=v(),Oc){Se(!0);try{v()}finally{Se(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:c},h}function BR(c,h,v,w){return c.baseState=v,R_(c,Or,typeof w=="function"?w:Zs)}function gZ(c,h,v,w,M){if(Ey(c))throw Error(n(485));if(c=h.action,c!==null){var B={payload:M,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(W){B.listeners.push(W)}};F.T!==null?v(!0):B.isTransition=!1,w(B),v=h.pending,v===null?(B.next=h.pending=B,kR(h,B)):(B.next=v.next,h.pending=v.next=B)}}function kR(c,h){var v=h.action,w=h.payload,M=c.state;if(h.isTransition){var B=F.T,W={};F.T=W;try{var re=v(M,w),be=F.S;be!==null&&be(W,re),FR(c,h,re)}catch(Me){k_(c,h,Me)}finally{F.T=B}}else try{B=v(M,w),FR(c,h,B)}catch(Me){k_(c,h,Me)}}function FR(c,h,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(w){$R(c,h,w)},function(w){return k_(c,h,w)}):$R(c,h,v)}function $R(c,h,v){h.status="fulfilled",h.value=v,LR(h),c.state=v,h=c.pending,h!==null&&(v=h.next,v===h?c.pending=null:(v=v.next,h.next=v,kR(c,v)))}function k_(c,h,v){var w=c.pending;if(c.pending=null,w!==null){w=w.next;do h.status="rejected",h.reason=v,LR(h),h=h.next;while(h!==w)}c.action=null}function LR(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function jR(c,h){return h}function qR(c,h){if(mr){var v=jr.formState;if(v!==null){e:{var w=Xt;if(mr){if(an){t:{for(var M=an,B=is;M.nodeType!==8;){if(!B){M=null;break t}if(M=_o(M.nextSibling),M===null){M=null;break t}}B=M.data,M=B==="F!"||B==="F"?M:null}if(M){an=_o(M.nextSibling),w=M.data==="F!";break e}}Tc(w)}w=!1}w&&(h=v[0])}}return v=Wi(),v.memoizedState=v.baseState=h,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jR,lastRenderedState:h},v.queue=w,v=oP.bind(null,Xt,w),w.dispatch=v,w=B_(!1),B=q_.bind(null,Xt,!1,w.queue),w=Wi(),M={state:h,dispatch:null,action:c,pending:null},w.queue=M,v=gZ.bind(null,Xt,M,B,v),M.dispatch=v,w.memoizedState=c,[h,v,!1]}function UR(c){var h=yn();return zR(h,Or,c)}function zR(c,h,v){if(h=R_(c,h,jR)[0],c=xy(Zs)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var w=rm(h)}catch(W){throw W===Yp?my:W}else w=h;h=yn();var M=h.queue,B=M.dispatch;return v!==h.memoizedState&&(Xt.flags|=2048,yh(9,_y(),yZ.bind(null,M,v),null)),[w,B,c]}function yZ(c,h){c.action=h}function VR(c){var h=yn(),v=Or;if(v!==null)return zR(h,v,c);yn(),h=h.memoizedState,v=yn();var w=v.queue.dispatch;return v.memoizedState=c,[h,w,!1]}function yh(c,h,v,w){return c={tag:c,create:v,deps:w,inst:h,next:null},h=Xt.updateQueue,h===null&&(h=M_(),Xt.updateQueue=h),v=h.lastEffect,v===null?h.lastEffect=c.next=c:(w=v.next,v.next=c,c.next=w,h.lastEffect=c),c}function _y(){return{destroy:void 0,resource:void 0}}function HR(){return yn().memoizedState}function Ay(c,h,v,w){var M=Wi();w=w===void 0?null:w,Xt.flags|=c,M.memoizedState=yh(1|h,_y(),v,w)}function nm(c,h,v,w){var M=yn();w=w===void 0?null:w;var B=M.memoizedState.inst;Or!==null&&w!==null&&T_(w,Or.memoizedState.deps)?M.memoizedState=yh(h,B,v,w):(Xt.flags|=c,M.memoizedState=yh(1|h,B,v,w))}function GR(c,h){Ay(8390656,8,c,h)}function KR(c,h){nm(2048,8,c,h)}function XR(c,h){return nm(4,2,c,h)}function WR(c,h){return nm(4,4,c,h)}function YR(c,h){if(typeof h=="function"){c=c();var v=h(c);return function(){typeof v=="function"?v():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function QR(c,h,v){v=v!=null?v.concat([c]):null,nm(4,4,YR.bind(null,h,c),v)}function F_(){}function ZR(c,h){var v=yn();h=h===void 0?null:h;var w=v.memoizedState;return h!==null&&T_(h,w[1])?w[0]:(v.memoizedState=[c,h],c)}function JR(c,h){var v=yn();h=h===void 0?null:h;var w=v.memoizedState;if(h!==null&&T_(h,w[1]))return w[0];if(w=c(),Oc){Se(!0);try{c()}finally{Se(!1)}}return v.memoizedState=[w,h],w}function $_(c,h,v){return v===void 0||(Xu&1073741824)!==0?c.memoizedState=h:(c.memoizedState=v,c=r3(),Xt.lanes|=c,tl|=c,v)}function eP(c,h,v,w){return ha(v,h)?v:mh.current!==null?(c=$_(c,v,w),ha(c,h)||(Kn=!0),c):(Xu&42)===0?(Kn=!0,c.memoizedState=v):(c=r3(),Xt.lanes|=c,tl|=c,h)}function tP(c,h,v,w,M){var B=V.p;V.p=B!==0&&8>B?B:8;var W=F.T,re={};F.T=re,q_(c,!1,h,v);try{var be=M(),Me=F.S;if(Me!==null&&Me(re,be),be!==null&&typeof be=="object"&&typeof be.then=="function"){var qe=pZ(be,w);im(c,h,qe,ga(c))}else im(c,h,w,ga(c))}catch(Xe){im(c,h,{then:function(){},status:"rejected",reason:Xe},ga())}finally{V.p=B,F.T=W}}function bZ(){}function L_(c,h,v,w){if(c.tag!==5)throw Error(n(476));var M=rP(c).queue;tP(c,M,h,Z,v===null?bZ:function(){return nP(c),v(w)})}function rP(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:Z},next:null};var v={};return h.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zs,lastRenderedState:v},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function nP(c){var h=rP(c).next.queue;im(c,h,{},ga())}function j_(){return bi(_m)}function iP(){return yn().memoizedState}function aP(){return yn().memoizedState}function wZ(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var v=ga();c=Gu(v);var w=Ku(h,c,v);w!==null&&(ya(w,h,v),Zp(w,h,v)),h={cache:v_()},c.payload=h;return}h=h.return}}function xZ(c,h,v){var w=ga();v={lane:w,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},Ey(c)?sP(h,v):(v=o_(c,h,v,w),v!==null&&(ya(v,c,w),uP(v,h,w)))}function oP(c,h,v){var w=ga();im(c,h,v,w)}function im(c,h,v,w){var M={lane:w,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(Ey(c))sP(h,M);else{var B=c.alternate;if(c.lanes===0&&(B===null||B.lanes===0)&&(B=h.lastRenderedReducer,B!==null))try{var W=h.lastRenderedState,re=B(W,v);if(M.hasEagerState=!0,M.eagerState=re,ha(re,W))return sy(c,h,M,0),jr===null&&oy(),!1}catch{}finally{}if(v=o_(c,h,M,w),v!==null)return ya(v,c,w),uP(v,h,w),!0}return!1}function q_(c,h,v,w){if(w={lane:2,revertLane:bA(),action:w,hasEagerState:!1,eagerState:null,next:null},Ey(c)){if(h)throw Error(n(479))}else h=o_(c,v,w,2),h!==null&&ya(h,c,2)}function Ey(c){var h=c.alternate;return c===Xt||h!==null&&h===Xt}function sP(c,h){vh=yy=!0;var v=c.pending;v===null?h.next=h:(h.next=v.next,v.next=h),c.pending=h}function uP(c,h,v){if((v&4194048)!==0){var w=h.lanes;w&=c.pendingLanes,v|=w,h.lanes=v,oc(c,v)}}var Sy={readContext:bi,use:wy,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn},lP={readContext:bi,use:wy,useCallback:function(c,h){return Wi().memoizedState=[c,h===void 0?null:h],c},useContext:bi,useEffect:GR,useImperativeHandle:function(c,h,v){v=v!=null?v.concat([c]):null,Ay(4194308,4,YR.bind(null,h,c),v)},useLayoutEffect:function(c,h){return Ay(4194308,4,c,h)},useInsertionEffect:function(c,h){Ay(4,2,c,h)},useMemo:function(c,h){var v=Wi();h=h===void 0?null:h;var w=c();if(Oc){Se(!0);try{c()}finally{Se(!1)}}return v.memoizedState=[w,h],w},useReducer:function(c,h,v){var w=Wi();if(v!==void 0){var M=v(h);if(Oc){Se(!0);try{v(h)}finally{Se(!1)}}}else M=h;return w.memoizedState=w.baseState=M,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:M},w.queue=c,c=c.dispatch=xZ.bind(null,Xt,c),[w.memoizedState,c]},useRef:function(c){var h=Wi();return c={current:c},h.memoizedState=c},useState:function(c){c=B_(c);var h=c.queue,v=oP.bind(null,Xt,h);return h.dispatch=v,[c.memoizedState,v]},useDebugValue:F_,useDeferredValue:function(c,h){var v=Wi();return $_(v,c,h)},useTransition:function(){var c=B_(!1);return c=tP.bind(null,Xt,c.queue,!0,!1),Wi().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,v){var w=Xt,M=Wi();if(mr){if(v===void 0)throw Error(n(407));v=v()}else{if(v=h(),jr===null)throw Error(n(349));(lr&124)!==0||OR(w,h,v)}M.memoizedState=v;var B={value:v,getSnapshot:h};return M.queue=B,GR(IR.bind(null,w,B,c),[c]),w.flags|=2048,yh(9,_y(),MR.bind(null,w,B,v,h),null),v},useId:function(){var c=Wi(),h=jr.identifierPrefix;if(mr){var v=Ws,w=Xs;v=(w&~(1<<32-Be(w)-1)).toString(32)+v,h=""+h+"R"+v,v=by++,0<v&&(h+="H"+v.toString(32)),h+=""}else v=mZ++,h=""+h+"r"+v.toString(32)+"";return c.memoizedState=h},useHostTransitionStatus:j_,useFormState:qR,useActionState:qR,useOptimistic:function(c){var h=Wi();h.memoizedState=h.baseState=c;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=v,h=q_.bind(null,Xt,!0,v),v.dispatch=h,[c,h]},useMemoCache:I_,useCacheRefresh:function(){return Wi().memoizedState=wZ.bind(null,Xt)}},cP={readContext:bi,use:wy,useCallback:ZR,useContext:bi,useEffect:KR,useImperativeHandle:QR,useInsertionEffect:XR,useLayoutEffect:WR,useMemo:JR,useReducer:xy,useRef:HR,useState:function(){return xy(Zs)},useDebugValue:F_,useDeferredValue:function(c,h){var v=yn();return eP(v,Or.memoizedState,c,h)},useTransition:function(){var c=xy(Zs)[0],h=yn().memoizedState;return[typeof c=="boolean"?c:rm(c),h]},useSyncExternalStore:CR,useId:iP,useHostTransitionStatus:j_,useFormState:UR,useActionState:UR,useOptimistic:function(c,h){var v=yn();return BR(v,Or,c,h)},useMemoCache:I_,useCacheRefresh:aP},_Z={readContext:bi,use:wy,useCallback:ZR,useContext:bi,useEffect:KR,useImperativeHandle:QR,useInsertionEffect:XR,useLayoutEffect:WR,useMemo:JR,useReducer:P_,useRef:HR,useState:function(){return P_(Zs)},useDebugValue:F_,useDeferredValue:function(c,h){var v=yn();return Or===null?$_(v,c,h):eP(v,Or.memoizedState,c,h)},useTransition:function(){var c=P_(Zs)[0],h=yn().memoizedState;return[typeof c=="boolean"?c:rm(c),h]},useSyncExternalStore:CR,useId:iP,useHostTransitionStatus:j_,useFormState:VR,useActionState:VR,useOptimistic:function(c,h){var v=yn();return Or!==null?BR(v,Or,c,h):(v.baseState=c,[c,v.queue.dispatch])},useMemoCache:I_,useCacheRefresh:aP},bh=null,am=0;function Ty(c){var h=am;return am+=1,bh===null&&(bh=[]),xR(bh,c,h)}function om(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function Dy(c,h){throw h.$$typeof===d?Error(n(525)):(c=Object.prototype.toString.call(h),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function fP(c){var h=c._init;return h(c._payload)}function hP(c){function h(De,_e){if(c){var Oe=De.deletions;Oe===null?(De.deletions=[_e],De.flags|=16):Oe.push(_e)}}function v(De,_e){if(!c)return null;for(;_e!==null;)h(De,_e),_e=_e.sibling;return null}function w(De){for(var _e=new Map;De!==null;)De.key!==null?_e.set(De.key,De):_e.set(De.index,De),De=De.sibling;return _e}function M(De,_e){return De=Ks(De,_e),De.index=0,De.sibling=null,De}function B(De,_e,Oe){return De.index=Oe,c?(Oe=De.alternate,Oe!==null?(Oe=Oe.index,Oe<_e?(De.flags|=67108866,_e):Oe):(De.flags|=67108866,_e)):(De.flags|=1048576,_e)}function W(De){return c&&De.alternate===null&&(De.flags|=67108866),De}function re(De,_e,Oe,Ve){return _e===null||_e.tag!==6?(_e=u_(Oe,De.mode,Ve),_e.return=De,_e):(_e=M(_e,Oe),_e.return=De,_e)}function be(De,_e,Oe,Ve){var ct=Oe.type;return ct===y?qe(De,_e,Oe.props.children,Ve,Oe.key):_e!==null&&(_e.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===N&&fP(ct)===_e.type)?(_e=M(_e,Oe.props),om(_e,Oe),_e.return=De,_e):(_e=ly(Oe.type,Oe.key,Oe.props,null,De.mode,Ve),om(_e,Oe),_e.return=De,_e)}function Me(De,_e,Oe,Ve){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Oe.containerInfo||_e.stateNode.implementation!==Oe.implementation?(_e=l_(Oe,De.mode,Ve),_e.return=De,_e):(_e=M(_e,Oe.children||[]),_e.return=De,_e)}function qe(De,_e,Oe,Ve,ct){return _e===null||_e.tag!==7?(_e=_c(Oe,De.mode,Ve,ct),_e.return=De,_e):(_e=M(_e,Oe),_e.return=De,_e)}function Xe(De,_e,Oe){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return _e=u_(""+_e,De.mode,Oe),_e.return=De,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case p:return Oe=ly(_e.type,_e.key,_e.props,null,De.mode,Oe),om(Oe,_e),Oe.return=De,Oe;case m:return _e=l_(_e,De.mode,Oe),_e.return=De,_e;case N:var Ve=_e._init;return _e=Ve(_e._payload),Xe(De,_e,Oe)}if(U(_e)||P(_e))return _e=_c(_e,De.mode,Oe,null),_e.return=De,_e;if(typeof _e.then=="function")return Xe(De,Ty(_e),Oe);if(_e.$$typeof===A)return Xe(De,dy(De,_e),Oe);Dy(De,_e)}return null}function Re(De,_e,Oe,Ve){var ct=_e!==null?_e.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return ct!==null?null:re(De,_e,""+Oe,Ve);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:return Oe.key===ct?be(De,_e,Oe,Ve):null;case m:return Oe.key===ct?Me(De,_e,Oe,Ve):null;case N:return ct=Oe._init,Oe=ct(Oe._payload),Re(De,_e,Oe,Ve)}if(U(Oe)||P(Oe))return ct!==null?null:qe(De,_e,Oe,Ve,null);if(typeof Oe.then=="function")return Re(De,_e,Ty(Oe),Ve);if(Oe.$$typeof===A)return Re(De,_e,dy(De,Oe),Ve);Dy(De,Oe)}return null}function Pe(De,_e,Oe,Ve,ct){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return De=De.get(Oe)||null,re(_e,De,""+Ve,ct);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case p:return De=De.get(Ve.key===null?Oe:Ve.key)||null,be(_e,De,Ve,ct);case m:return De=De.get(Ve.key===null?Oe:Ve.key)||null,Me(_e,De,Ve,ct);case N:var Wt=Ve._init;return Ve=Wt(Ve._payload),Pe(De,_e,Oe,Ve,ct)}if(U(Ve)||P(Ve))return De=De.get(Oe)||null,qe(_e,De,Ve,ct,null);if(typeof Ve.then=="function")return Pe(De,_e,Oe,Ty(Ve),ct);if(Ve.$$typeof===A)return Pe(De,_e,Oe,dy(_e,Ve),ct);Dy(_e,Ve)}return null}function Tt(De,_e,Oe,Ve){for(var ct=null,Wt=null,mt=_e,At=_e=0,Wn=null;mt!==null&&At<Oe.length;At++){mt.index>At?(Wn=mt,mt=null):Wn=mt.sibling;var fr=Re(De,mt,Oe[At],Ve);if(fr===null){mt===null&&(mt=Wn);break}c&&mt&&fr.alternate===null&&h(De,mt),_e=B(fr,_e,At),Wt===null?ct=fr:Wt.sibling=fr,Wt=fr,mt=Wn}if(At===Oe.length)return v(De,mt),mr&&Ec(De,At),ct;if(mt===null){for(;At<Oe.length;At++)mt=Xe(De,Oe[At],Ve),mt!==null&&(_e=B(mt,_e,At),Wt===null?ct=mt:Wt.sibling=mt,Wt=mt);return mr&&Ec(De,At),ct}for(mt=w(mt);At<Oe.length;At++)Wn=Pe(mt,De,At,Oe[At],Ve),Wn!==null&&(c&&Wn.alternate!==null&&mt.delete(Wn.key===null?At:Wn.key),_e=B(Wn,_e,At),Wt===null?ct=Wn:Wt.sibling=Wn,Wt=Wn);return c&&mt.forEach(function(cl){return h(De,cl)}),mr&&Ec(De,At),ct}function wt(De,_e,Oe,Ve){if(Oe==null)throw Error(n(151));for(var ct=null,Wt=null,mt=_e,At=_e=0,Wn=null,fr=Oe.next();mt!==null&&!fr.done;At++,fr=Oe.next()){mt.index>At?(Wn=mt,mt=null):Wn=mt.sibling;var cl=Re(De,mt,fr.value,Ve);if(cl===null){mt===null&&(mt=Wn);break}c&&mt&&cl.alternate===null&&h(De,mt),_e=B(cl,_e,At),Wt===null?ct=cl:Wt.sibling=cl,Wt=cl,mt=Wn}if(fr.done)return v(De,mt),mr&&Ec(De,At),ct;if(mt===null){for(;!fr.done;At++,fr=Oe.next())fr=Xe(De,fr.value,Ve),fr!==null&&(_e=B(fr,_e,At),Wt===null?ct=fr:Wt.sibling=fr,Wt=fr);return mr&&Ec(De,At),ct}for(mt=w(mt);!fr.done;At++,fr=Oe.next())fr=Pe(mt,De,At,fr.value,Ve),fr!==null&&(c&&fr.alternate!==null&&mt.delete(fr.key===null?At:fr.key),_e=B(fr,_e,At),Wt===null?ct=fr:Wt.sibling=fr,Wt=fr);return c&&mt.forEach(function(AJ){return h(De,AJ)}),mr&&Ec(De,At),ct}function Ir(De,_e,Oe,Ve){if(typeof Oe=="object"&&Oe!==null&&Oe.type===y&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case p:e:{for(var ct=Oe.key;_e!==null;){if(_e.key===ct){if(ct=Oe.type,ct===y){if(_e.tag===7){v(De,_e.sibling),Ve=M(_e,Oe.props.children),Ve.return=De,De=Ve;break e}}else if(_e.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===N&&fP(ct)===_e.type){v(De,_e.sibling),Ve=M(_e,Oe.props),om(Ve,Oe),Ve.return=De,De=Ve;break e}v(De,_e);break}else h(De,_e);_e=_e.sibling}Oe.type===y?(Ve=_c(Oe.props.children,De.mode,Ve,Oe.key),Ve.return=De,De=Ve):(Ve=ly(Oe.type,Oe.key,Oe.props,null,De.mode,Ve),om(Ve,Oe),Ve.return=De,De=Ve)}return W(De);case m:e:{for(ct=Oe.key;_e!==null;){if(_e.key===ct)if(_e.tag===4&&_e.stateNode.containerInfo===Oe.containerInfo&&_e.stateNode.implementation===Oe.implementation){v(De,_e.sibling),Ve=M(_e,Oe.children||[]),Ve.return=De,De=Ve;break e}else{v(De,_e);break}else h(De,_e);_e=_e.sibling}Ve=l_(Oe,De.mode,Ve),Ve.return=De,De=Ve}return W(De);case N:return ct=Oe._init,Oe=ct(Oe._payload),Ir(De,_e,Oe,Ve)}if(U(Oe))return Tt(De,_e,Oe,Ve);if(P(Oe)){if(ct=P(Oe),typeof ct!="function")throw Error(n(150));return Oe=ct.call(Oe),wt(De,_e,Oe,Ve)}if(typeof Oe.then=="function")return Ir(De,_e,Ty(Oe),Ve);if(Oe.$$typeof===A)return Ir(De,_e,dy(De,Oe),Ve);Dy(De,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,_e!==null&&_e.tag===6?(v(De,_e.sibling),Ve=M(_e,Oe),Ve.return=De,De=Ve):(v(De,_e),Ve=u_(Oe,De.mode,Ve),Ve.return=De,De=Ve),W(De)):v(De,_e)}return function(De,_e,Oe,Ve){try{am=0;var ct=Ir(De,_e,Oe,Ve);return bh=null,ct}catch(mt){if(mt===Yp||mt===my)throw mt;var Wt=da(29,mt,null,De.mode);return Wt.lanes=Ve,Wt.return=De,Wt}finally{}}}var wh=hP(!0),dP=hP(!1),Ga=J(null),as=null;function Wu(c){var h=c.alternate;Q(In,In.current&1),Q(Ga,c),as===null&&(h===null||mh.current!==null||h.memoizedState!==null)&&(as=c)}function pP(c){if(c.tag===22){if(Q(In,In.current),Q(Ga,c),as===null){var h=c.alternate;h!==null&&h.memoizedState!==null&&(as=c)}}else Yu()}function Yu(){Q(In,In.current),Q(Ga,Ga.current)}function Js(c){$(Ga),as===c&&(as=null),$(In)}var In=J(0);function Ny(c){for(var h=c;h!==null;){if(h.tag===13){var v=h.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||MA(v)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}function U_(c,h,v,w){h=c.memoizedState,v=v(w,h),v=v==null?h:f({},h,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var z_={enqueueSetState:function(c,h,v){c=c._reactInternals;var w=ga(),M=Gu(w);M.payload=h,v!=null&&(M.callback=v),h=Ku(c,M,w),h!==null&&(ya(h,c,w),Zp(h,c,w))},enqueueReplaceState:function(c,h,v){c=c._reactInternals;var w=ga(),M=Gu(w);M.tag=1,M.payload=h,v!=null&&(M.callback=v),h=Ku(c,M,w),h!==null&&(ya(h,c,w),Zp(h,c,w))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var v=ga(),w=Gu(v);w.tag=2,h!=null&&(w.callback=h),h=Ku(c,w,v),h!==null&&(ya(h,c,v),Zp(h,c,v))}};function mP(c,h,v,w,M,B,W){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,B,W):h.prototype&&h.prototype.isPureReactComponent?!Up(v,w)||!Up(M,B):!0}function vP(c,h,v,w){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(v,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(v,w),h.state!==c&&z_.enqueueReplaceState(h,h.state,null)}function Mc(c,h){var v=h;if("ref"in h){v={};for(var w in h)w!=="ref"&&(v[w]=h[w])}if(c=c.defaultProps){v===h&&(v=f({},v));for(var M in c)v[M]===void 0&&(v[M]=c[M])}return v}var Cy=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function gP(c){Cy(c)}function yP(c){console.error(c)}function bP(c){Cy(c)}function Oy(c,h){try{var v=c.onUncaughtError;v(h.value,{componentStack:h.stack})}catch(w){setTimeout(function(){throw w})}}function wP(c,h,v){try{var w=c.onCaughtError;w(v.value,{componentStack:v.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function V_(c,h,v){return v=Gu(v),v.tag=3,v.payload={element:null},v.callback=function(){Oy(c,h)},v}function xP(c){return c=Gu(c),c.tag=3,c}function _P(c,h,v,w){var M=v.type.getDerivedStateFromError;if(typeof M=="function"){var B=w.value;c.payload=function(){return M(B)},c.callback=function(){wP(h,v,w)}}var W=v.stateNode;W!==null&&typeof W.componentDidCatch=="function"&&(c.callback=function(){wP(h,v,w),typeof M!="function"&&(rl===null?rl=new Set([this]):rl.add(this));var re=w.stack;this.componentDidCatch(w.value,{componentStack:re!==null?re:""})})}function AZ(c,h,v,w,M){if(v.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(h=v.alternate,h!==null&&Kp(h,v,M,!0),v=Ga.current,v!==null){switch(v.tag){case 13:return as===null?pA():v.alternate===null&&on===0&&(on=3),v.flags&=-257,v.flags|=65536,v.lanes=M,w===b_?v.flags|=16384:(h=v.updateQueue,h===null?v.updateQueue=new Set([w]):h.add(w),vA(c,w,M)),!1;case 22:return v.flags|=65536,w===b_?v.flags|=16384:(h=v.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([w])},v.updateQueue=h):(v=h.retryQueue,v===null?h.retryQueue=new Set([w]):v.add(w)),vA(c,w,M)),!1}throw Error(n(435,v.tag))}return vA(c,w,M),pA(),!1}if(mr)return h=Ga.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=M,w!==h_&&(c=Error(n(422),{cause:w}),Gp(Ua(c,v)))):(w!==h_&&(h=Error(n(423),{cause:w}),Gp(Ua(h,v))),c=c.current.alternate,c.flags|=65536,M&=-M,c.lanes|=M,w=Ua(w,v),M=V_(c.stateNode,w,M),__(c,M),on!==4&&(on=2)),!1;var B=Error(n(520),{cause:w});if(B=Ua(B,v),dm===null?dm=[B]:dm.push(B),on!==4&&(on=2),h===null)return!0;w=Ua(w,v),v=h;do{switch(v.tag){case 3:return v.flags|=65536,c=M&-M,v.lanes|=c,c=V_(v.stateNode,w,c),__(v,c),!1;case 1:if(h=v.type,B=v.stateNode,(v.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(rl===null||!rl.has(B))))return v.flags|=65536,M&=-M,v.lanes|=M,M=xP(M),_P(M,c,v,w),__(v,M),!1}v=v.return}while(v!==null);return!1}var AP=Error(n(461)),Kn=!1;function oi(c,h,v,w){h.child=c===null?dP(h,null,v,w):wh(h,c.child,v,w)}function EP(c,h,v,w,M){v=v.render;var B=h.ref;if("ref"in w){var W={};for(var re in w)re!=="ref"&&(W[re]=w[re])}else W=w;return Nc(h),w=D_(c,h,v,W,B,M),re=N_(),c!==null&&!Kn?(C_(c,h,M),eu(c,h,M)):(mr&&re&&c_(h),h.flags|=1,oi(c,h,w,M),h.child)}function SP(c,h,v,w,M){if(c===null){var B=v.type;return typeof B=="function"&&!s_(B)&&B.defaultProps===void 0&&v.compare===null?(h.tag=15,h.type=B,TP(c,h,B,w,M)):(c=ly(v.type,null,w,h,h.mode,M),c.ref=h.ref,c.return=h,h.child=c)}if(B=c.child,!Z_(c,M)){var W=B.memoizedProps;if(v=v.compare,v=v!==null?v:Up,v(W,w)&&c.ref===h.ref)return eu(c,h,M)}return h.flags|=1,c=Ks(B,w),c.ref=h.ref,c.return=h,h.child=c}function TP(c,h,v,w,M){if(c!==null){var B=c.memoizedProps;if(Up(B,w)&&c.ref===h.ref)if(Kn=!1,h.pendingProps=w=B,Z_(c,M))(c.flags&131072)!==0&&(Kn=!0);else return h.lanes=c.lanes,eu(c,h,M)}return H_(c,h,v,w,M)}function DP(c,h,v){var w=h.pendingProps,M=w.children,B=c!==null?c.memoizedState:null;if(w.mode==="hidden"){if((h.flags&128)!==0){if(w=B!==null?B.baseLanes|v:v,c!==null){for(M=h.child=c.child,B=0;M!==null;)B=B|M.lanes|M.childLanes,M=M.sibling;h.childLanes=B&~w}else h.childLanes=0,h.child=null;return NP(c,h,w,v)}if((v&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&py(h,B!==null?B.cachePool:null),B!==null?TR(h,B):E_(),pP(h);else return h.lanes=h.childLanes=536870912,NP(c,h,B!==null?B.baseLanes|v:v,v)}else B!==null?(py(h,B.cachePool),TR(h,B),Yu(),h.memoizedState=null):(c!==null&&py(h,null),E_(),Yu());return oi(c,h,M,v),h.child}function NP(c,h,v,w){var M=y_();return M=M===null?null:{parent:Mn._currentValue,pool:M},h.memoizedState={baseLanes:v,cachePool:M},c!==null&&py(h,null),E_(),pP(h),c!==null&&Kp(c,h,w,!0),null}function My(c,h){var v=h.ref;if(v===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(n(284));(c===null||c.ref!==v)&&(h.flags|=4194816)}}function H_(c,h,v,w,M){return Nc(h),v=D_(c,h,v,w,void 0,M),w=N_(),c!==null&&!Kn?(C_(c,h,M),eu(c,h,M)):(mr&&w&&c_(h),h.flags|=1,oi(c,h,v,M),h.child)}function CP(c,h,v,w,M,B){return Nc(h),h.updateQueue=null,v=NR(h,w,v,M),DR(c),w=N_(),c!==null&&!Kn?(C_(c,h,B),eu(c,h,B)):(mr&&w&&c_(h),h.flags|=1,oi(c,h,v,B),h.child)}function OP(c,h,v,w,M){if(Nc(h),h.stateNode===null){var B=ch,W=v.contextType;typeof W=="object"&&W!==null&&(B=bi(W)),B=new v(w,B),h.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=z_,h.stateNode=B,B._reactInternals=h,B=h.stateNode,B.props=w,B.state=h.memoizedState,B.refs={},w_(h),W=v.contextType,B.context=typeof W=="object"&&W!==null?bi(W):ch,B.state=h.memoizedState,W=v.getDerivedStateFromProps,typeof W=="function"&&(U_(h,v,W,w),B.state=h.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(W=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),W!==B.state&&z_.enqueueReplaceState(B,B.state,null),em(h,w,B,M),Jp(),B.state=h.memoizedState),typeof B.componentDidMount=="function"&&(h.flags|=4194308),w=!0}else if(c===null){B=h.stateNode;var re=h.memoizedProps,be=Mc(v,re);B.props=be;var Me=B.context,qe=v.contextType;W=ch,typeof qe=="object"&&qe!==null&&(W=bi(qe));var Xe=v.getDerivedStateFromProps;qe=typeof Xe=="function"||typeof B.getSnapshotBeforeUpdate=="function",re=h.pendingProps!==re,qe||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(re||Me!==W)&&vP(h,B,w,W),Hu=!1;var Re=h.memoizedState;B.state=Re,em(h,w,B,M),Jp(),Me=h.memoizedState,re||Re!==Me||Hu?(typeof Xe=="function"&&(U_(h,v,Xe,w),Me=h.memoizedState),(be=Hu||mP(h,v,be,w,Re,Me,W))?(qe||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(h.flags|=4194308)):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=Me),B.props=w,B.state=Me,B.context=W,w=be):(typeof B.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{B=h.stateNode,x_(c,h),W=h.memoizedProps,qe=Mc(v,W),B.props=qe,Xe=h.pendingProps,Re=B.context,Me=v.contextType,be=ch,typeof Me=="object"&&Me!==null&&(be=bi(Me)),re=v.getDerivedStateFromProps,(Me=typeof re=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(W!==Xe||Re!==be)&&vP(h,B,w,be),Hu=!1,Re=h.memoizedState,B.state=Re,em(h,w,B,M),Jp();var Pe=h.memoizedState;W!==Xe||Re!==Pe||Hu||c!==null&&c.dependencies!==null&&hy(c.dependencies)?(typeof re=="function"&&(U_(h,v,re,w),Pe=h.memoizedState),(qe=Hu||mP(h,v,qe,w,Re,Pe,be)||c!==null&&c.dependencies!==null&&hy(c.dependencies))?(Me||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(w,Pe,be),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(w,Pe,be)),typeof B.componentDidUpdate=="function"&&(h.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof B.componentDidUpdate!="function"||W===c.memoizedProps&&Re===c.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||W===c.memoizedProps&&Re===c.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Pe),B.props=w,B.state=Pe,B.context=be,w=qe):(typeof B.componentDidUpdate!="function"||W===c.memoizedProps&&Re===c.memoizedState||(h.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||W===c.memoizedProps&&Re===c.memoizedState||(h.flags|=1024),w=!1)}return B=w,My(c,h),w=(h.flags&128)!==0,B||w?(B=h.stateNode,v=w&&typeof v.getDerivedStateFromError!="function"?null:B.render(),h.flags|=1,c!==null&&w?(h.child=wh(h,c.child,null,M),h.child=wh(h,null,v,M)):oi(c,h,v,M),h.memoizedState=B.state,c=h.child):c=eu(c,h,M),c}function MP(c,h,v,w){return Hp(),h.flags|=256,oi(c,h,v,w),h.child}var G_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function K_(c){return{baseLanes:c,cachePool:yR()}}function X_(c,h,v){return c=c!==null?c.childLanes&~v:0,h&&(c|=Ka),c}function IP(c,h,v){var w=h.pendingProps,M=!1,B=(h.flags&128)!==0,W;if((W=B)||(W=c!==null&&c.memoizedState===null?!1:(In.current&2)!==0),W&&(M=!0,h.flags&=-129),W=(h.flags&32)!==0,h.flags&=-33,c===null){if(mr){if(M?Wu(h):Yu(),mr){var re=an,be;if(be=re){e:{for(be=re,re=is;be.nodeType!==8;){if(!re){re=null;break e}if(be=_o(be.nextSibling),be===null){re=null;break e}}re=be}re!==null?(h.memoizedState={dehydrated:re,treeContext:Ac!==null?{id:Xs,overflow:Ws}:null,retryLane:536870912,hydrationErrors:null},be=da(18,null,null,0),be.stateNode=re,be.return=h,h.child=be,ki=h,an=null,be=!0):be=!1}be||Tc(h)}if(re=h.memoizedState,re!==null&&(re=re.dehydrated,re!==null))return MA(re)?h.lanes=32:h.lanes=536870912,null;Js(h)}return re=w.children,w=w.fallback,M?(Yu(),M=h.mode,re=Iy({mode:"hidden",children:re},M),w=_c(w,M,v,null),re.return=h,w.return=h,re.sibling=w,h.child=re,M=h.child,M.memoizedState=K_(v),M.childLanes=X_(c,W,v),h.memoizedState=G_,w):(Wu(h),W_(h,re))}if(be=c.memoizedState,be!==null&&(re=be.dehydrated,re!==null)){if(B)h.flags&256?(Wu(h),h.flags&=-257,h=Y_(c,h,v)):h.memoizedState!==null?(Yu(),h.child=c.child,h.flags|=128,h=null):(Yu(),M=w.fallback,re=h.mode,w=Iy({mode:"visible",children:w.children},re),M=_c(M,re,v,null),M.flags|=2,w.return=h,M.return=h,w.sibling=M,h.child=w,wh(h,c.child,null,v),w=h.child,w.memoizedState=K_(v),w.childLanes=X_(c,W,v),h.memoizedState=G_,h=M);else if(Wu(h),MA(re)){if(W=re.nextSibling&&re.nextSibling.dataset,W)var Me=W.dgst;W=Me,w=Error(n(419)),w.stack="",w.digest=W,Gp({value:w,source:null,stack:null}),h=Y_(c,h,v)}else if(Kn||Kp(c,h,v,!1),W=(v&c.childLanes)!==0,Kn||W){if(W=jr,W!==null&&(w=v&-v,w=(w&42)!==0?1:Ho(w),w=(w&(W.suspendedLanes|v))!==0?0:w,w!==0&&w!==be.retryLane))throw be.retryLane=w,lh(c,w),ya(W,c,w),AP;re.data==="$?"||pA(),h=Y_(c,h,v)}else re.data==="$?"?(h.flags|=192,h.child=c.child,h=null):(c=be.treeContext,an=_o(re.nextSibling),ki=h,mr=!0,Sc=null,is=!1,c!==null&&(Va[Ha++]=Xs,Va[Ha++]=Ws,Va[Ha++]=Ac,Xs=c.id,Ws=c.overflow,Ac=h),h=W_(h,w.children),h.flags|=4096);return h}return M?(Yu(),M=w.fallback,re=h.mode,be=c.child,Me=be.sibling,w=Ks(be,{mode:"hidden",children:w.children}),w.subtreeFlags=be.subtreeFlags&65011712,Me!==null?M=Ks(Me,M):(M=_c(M,re,v,null),M.flags|=2),M.return=h,w.return=h,w.sibling=M,h.child=w,w=M,M=h.child,re=c.child.memoizedState,re===null?re=K_(v):(be=re.cachePool,be!==null?(Me=Mn._currentValue,be=be.parent!==Me?{parent:Me,pool:Me}:be):be=yR(),re={baseLanes:re.baseLanes|v,cachePool:be}),M.memoizedState=re,M.childLanes=X_(c,W,v),h.memoizedState=G_,w):(Wu(h),v=c.child,c=v.sibling,v=Ks(v,{mode:"visible",children:w.children}),v.return=h,v.sibling=null,c!==null&&(W=h.deletions,W===null?(h.deletions=[c],h.flags|=16):W.push(c)),h.child=v,h.memoizedState=null,v)}function W_(c,h){return h=Iy({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function Iy(c,h){return c=da(22,c,null,h),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function Y_(c,h,v){return wh(h,c.child,null,v),c=W_(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function RP(c,h,v){c.lanes|=h;var w=c.alternate;w!==null&&(w.lanes|=h),p_(c.return,h,v)}function Q_(c,h,v,w,M){var B=c.memoizedState;B===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:M}:(B.isBackwards=h,B.rendering=null,B.renderingStartTime=0,B.last=w,B.tail=v,B.tailMode=M)}function PP(c,h,v){var w=h.pendingProps,M=w.revealOrder,B=w.tail;if(oi(c,h,w.children,v),w=In.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&RP(c,v,h);else if(c.tag===19)RP(c,v,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}switch(Q(In,w),M){case"forwards":for(v=h.child,M=null;v!==null;)c=v.alternate,c!==null&&Ny(c)===null&&(M=v),v=v.sibling;v=M,v===null?(M=h.child,h.child=null):(M=v.sibling,v.sibling=null),Q_(h,!1,M,v,B);break;case"backwards":for(v=null,M=h.child,h.child=null;M!==null;){if(c=M.alternate,c!==null&&Ny(c)===null){h.child=M;break}c=M.sibling,M.sibling=v,v=M,M=c}Q_(h,!0,v,null,B);break;case"together":Q_(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function eu(c,h,v){if(c!==null&&(h.dependencies=c.dependencies),tl|=h.lanes,(v&h.childLanes)===0)if(c!==null){if(Kp(c,h,v,!1),(v&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(n(153));if(h.child!==null){for(c=h.child,v=Ks(c,c.pendingProps),h.child=v,v.return=h;c.sibling!==null;)c=c.sibling,v=v.sibling=Ks(c,c.pendingProps),v.return=h;v.sibling=null}return h.child}function Z_(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&hy(c)))}function EZ(c,h,v){switch(h.tag){case 3:te(h,h.stateNode.containerInfo),Vu(h,Mn,c.memoizedState.cache),Hp();break;case 27:case 5:ue(h);break;case 4:te(h,h.stateNode.containerInfo);break;case 10:Vu(h,h.type,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(Wu(h),h.flags|=128,null):(v&h.child.childLanes)!==0?IP(c,h,v):(Wu(h),c=eu(c,h,v),c!==null?c.sibling:null);Wu(h);break;case 19:var M=(c.flags&128)!==0;if(w=(v&h.childLanes)!==0,w||(Kp(c,h,v,!1),w=(v&h.childLanes)!==0),M){if(w)return PP(c,h,v);h.flags|=128}if(M=h.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Q(In,In.current),w)break;return null;case 22:case 23:return h.lanes=0,DP(c,h,v);case 24:Vu(h,Mn,c.memoizedState.cache)}return eu(c,h,v)}function BP(c,h,v){if(c!==null)if(c.memoizedProps!==h.pendingProps)Kn=!0;else{if(!Z_(c,v)&&(h.flags&128)===0)return Kn=!1,EZ(c,h,v);Kn=(c.flags&131072)!==0}else Kn=!1,mr&&(h.flags&1048576)!==0&&fR(h,fy,h.index);switch(h.lanes=0,h.tag){case 16:e:{c=h.pendingProps;var w=h.elementType,M=w._init;if(w=M(w._payload),h.type=w,typeof w=="function")s_(w)?(c=Mc(w,c),h.tag=1,h=OP(null,h,w,c,v)):(h.tag=0,h=H_(null,h,w,c,v));else{if(w!=null){if(M=w.$$typeof,M===S){h.tag=11,h=EP(null,h,w,c,v);break e}else if(M===T){h.tag=14,h=SP(null,h,w,c,v);break e}}throw h=q(w)||w,Error(n(306,h,""))}}return h;case 0:return H_(c,h,h.type,h.pendingProps,v);case 1:return w=h.type,M=Mc(w,h.pendingProps),OP(c,h,w,M,v);case 3:e:{if(te(h,h.stateNode.containerInfo),c===null)throw Error(n(387));w=h.pendingProps;var B=h.memoizedState;M=B.element,x_(c,h),em(h,w,null,v);var W=h.memoizedState;if(w=W.cache,Vu(h,Mn,w),w!==B.cache&&m_(h,[Mn],v,!0),Jp(),w=W.element,B.isDehydrated)if(B={element:w,isDehydrated:!1,cache:W.cache},h.updateQueue.baseState=B,h.memoizedState=B,h.flags&256){h=MP(c,h,w,v);break e}else if(w!==M){M=Ua(Error(n(424)),h),Gp(M),h=MP(c,h,w,v);break e}else{switch(c=h.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(an=_o(c.firstChild),ki=h,mr=!0,Sc=null,is=!0,v=dP(h,null,w,v),h.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(Hp(),w===M){h=eu(c,h,v);break e}oi(c,h,w,v)}h=h.child}return h;case 26:return My(c,h),c===null?(v=L3(h.type,null,h.pendingProps,null))?h.memoizedState=v:mr||(v=h.type,c=h.pendingProps,w=Gy(ge.current).createElement(v),w[cn]=h,w[nn]=c,ui(w,v,c),Jr(w),h.stateNode=w):h.memoizedState=L3(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return ue(h),c===null&&mr&&(w=h.stateNode=k3(h.type,h.pendingProps,ge.current),ki=h,is=!0,M=an,al(h.type)?(IA=M,an=_o(w.firstChild)):an=M),oi(c,h,h.pendingProps.children,v),My(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&mr&&((M=w=an)&&(w=ZZ(w,h.type,h.pendingProps,is),w!==null?(h.stateNode=w,ki=h,an=_o(w.firstChild),is=!1,M=!0):M=!1),M||Tc(h)),ue(h),M=h.type,B=h.pendingProps,W=c!==null?c.memoizedProps:null,w=B.children,NA(M,B)?w=null:W!==null&&NA(M,W)&&(h.flags|=32),h.memoizedState!==null&&(M=D_(c,h,vZ,null,null,v),_m._currentValue=M),My(c,h),oi(c,h,w,v),h.child;case 6:return c===null&&mr&&((c=v=an)&&(v=JZ(v,h.pendingProps,is),v!==null?(h.stateNode=v,ki=h,an=null,c=!0):c=!1),c||Tc(h)),null;case 13:return IP(c,h,v);case 4:return te(h,h.stateNode.containerInfo),w=h.pendingProps,c===null?h.child=wh(h,null,w,v):oi(c,h,w,v),h.child;case 11:return EP(c,h,h.type,h.pendingProps,v);case 7:return oi(c,h,h.pendingProps,v),h.child;case 8:return oi(c,h,h.pendingProps.children,v),h.child;case 12:return oi(c,h,h.pendingProps.children,v),h.child;case 10:return w=h.pendingProps,Vu(h,h.type,w.value),oi(c,h,w.children,v),h.child;case 9:return M=h.type._context,w=h.pendingProps.children,Nc(h),M=bi(M),w=w(M),h.flags|=1,oi(c,h,w,v),h.child;case 14:return SP(c,h,h.type,h.pendingProps,v);case 15:return TP(c,h,h.type,h.pendingProps,v);case 19:return PP(c,h,v);case 31:return w=h.pendingProps,v=h.mode,w={mode:w.mode,children:w.children},c===null?(v=Iy(w,v),v.ref=h.ref,h.child=v,v.return=h,h=v):(v=Ks(c.child,w),v.ref=h.ref,h.child=v,v.return=h,h=v),h;case 22:return DP(c,h,v);case 24:return Nc(h),w=bi(Mn),c===null?(M=y_(),M===null&&(M=jr,B=v_(),M.pooledCache=B,B.refCount++,B!==null&&(M.pooledCacheLanes|=v),M=B),h.memoizedState={parent:w,cache:M},w_(h),Vu(h,Mn,M)):((c.lanes&v)!==0&&(x_(c,h),em(h,null,null,v),Jp()),M=c.memoizedState,B=h.memoizedState,M.parent!==w?(M={parent:w,cache:w},h.memoizedState=M,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=M),Vu(h,Mn,w)):(w=B.cache,Vu(h,Mn,w),w!==M.cache&&m_(h,[Mn],v,!0))),oi(c,h,h.pendingProps.children,v),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function tu(c){c.flags|=4}function kP(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!V3(h)){if(h=Ga.current,h!==null&&((lr&4194048)===lr?as!==null:(lr&62914560)!==lr&&(lr&536870912)===0||h!==as))throw Qp=b_,bR;c.flags|=8192}}function Ry(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?ht():536870912,c.lanes|=h,Eh|=h)}function sm(c,h){if(!mr)switch(c.tailMode){case"hidden":h=c.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function tn(c){var h=c.alternate!==null&&c.alternate.child===c.child,v=0,w=0;if(h)for(var M=c.child;M!==null;)v|=M.lanes|M.childLanes,w|=M.subtreeFlags&65011712,w|=M.flags&65011712,M.return=c,M=M.sibling;else for(M=c.child;M!==null;)v|=M.lanes|M.childLanes,w|=M.subtreeFlags,w|=M.flags,M.return=c,M=M.sibling;return c.subtreeFlags|=w,c.childLanes=v,h}function SZ(c,h,v){var w=h.pendingProps;switch(f_(h),h.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(h),null;case 1:return tn(h),null;case 3:return v=h.stateNode,w=null,c!==null&&(w=c.memoizedState.cache),h.memoizedState.cache!==w&&(h.flags|=2048),Qs(Mn),ee(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(c===null||c.child===null)&&(Vp(h)?tu(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,pR())),tn(h),null;case 26:return v=h.memoizedState,c===null?(tu(h),v!==null?(tn(h),kP(h,v)):(tn(h),h.flags&=-16777217)):v?v!==c.memoizedState?(tu(h),tn(h),kP(h,v)):(tn(h),h.flags&=-16777217):(c.memoizedProps!==w&&tu(h),tn(h),h.flags&=-16777217),null;case 27:ce(h),v=ge.current;var M=h.type;if(c!==null&&h.stateNode!=null)c.memoizedProps!==w&&tu(h);else{if(!w){if(h.stateNode===null)throw Error(n(166));return tn(h),null}c=K.current,Vp(h)?hR(h):(c=k3(M,w,v),h.stateNode=c,tu(h))}return tn(h),null;case 5:if(ce(h),v=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==w&&tu(h);else{if(!w){if(h.stateNode===null)throw Error(n(166));return tn(h),null}if(c=K.current,Vp(h))hR(h);else{switch(M=Gy(ge.current),c){case 1:c=M.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:c=M.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":c=M.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":c=M.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":c=M.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof w.is=="string"?M.createElement("select",{is:w.is}):M.createElement("select"),w.multiple?c.multiple=!0:w.size&&(c.size=w.size);break;default:c=typeof w.is=="string"?M.createElement(v,{is:w.is}):M.createElement(v)}}c[cn]=h,c[nn]=w;e:for(M=h.child;M!==null;){if(M.tag===5||M.tag===6)c.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===h)break e;for(;M.sibling===null;){if(M.return===null||M.return===h)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}h.stateNode=c;e:switch(ui(c,v,w),v){case"button":case"input":case"select":case"textarea":c=!!w.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&tu(h)}}return tn(h),h.flags&=-16777217,null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==w&&tu(h);else{if(typeof w!="string"&&h.stateNode===null)throw Error(n(166));if(c=ge.current,Vp(h)){if(c=h.stateNode,v=h.memoizedProps,w=null,M=ki,M!==null)switch(M.tag){case 27:case 5:w=M.memoizedProps}c[cn]=h,c=!!(c.nodeValue===v||w!==null&&w.suppressHydrationWarning===!0||C3(c.nodeValue,v)),c||Tc(h)}else c=Gy(c).createTextNode(w),c[cn]=h,h.stateNode=c}return tn(h),null;case 13:if(w=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(M=Vp(h),w!==null&&w.dehydrated!==null){if(c===null){if(!M)throw Error(n(318));if(M=h.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[cn]=h}else Hp(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;tn(h),M=!1}else M=pR(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=M),M=!0;if(!M)return h.flags&256?(Js(h),h):(Js(h),null)}if(Js(h),(h.flags&128)!==0)return h.lanes=v,h;if(v=w!==null,c=c!==null&&c.memoizedState!==null,v){w=h.child,M=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(M=w.alternate.memoizedState.cachePool.pool);var B=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(B=w.memoizedState.cachePool.pool),B!==M&&(w.flags|=2048)}return v!==c&&v&&(h.child.flags|=8192),Ry(h,h.updateQueue),tn(h),null;case 4:return ee(),c===null&&AA(h.stateNode.containerInfo),tn(h),null;case 10:return Qs(h.type),tn(h),null;case 19:if($(In),M=h.memoizedState,M===null)return tn(h),null;if(w=(h.flags&128)!==0,B=M.rendering,B===null)if(w)sm(M,!1);else{if(on!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(B=Ny(c),B!==null){for(h.flags|=128,sm(M,!1),c=B.updateQueue,h.updateQueue=c,Ry(h,c),h.subtreeFlags=0,c=v,v=h.child;v!==null;)cR(v,c),v=v.sibling;return Q(In,In.current&1|2),h.child}c=c.sibling}M.tail!==null&&Ke()>ky&&(h.flags|=128,w=!0,sm(M,!1),h.lanes=4194304)}else{if(!w)if(c=Ny(B),c!==null){if(h.flags|=128,w=!0,c=c.updateQueue,h.updateQueue=c,Ry(h,c),sm(M,!0),M.tail===null&&M.tailMode==="hidden"&&!B.alternate&&!mr)return tn(h),null}else 2*Ke()-M.renderingStartTime>ky&&v!==536870912&&(h.flags|=128,w=!0,sm(M,!1),h.lanes=4194304);M.isBackwards?(B.sibling=h.child,h.child=B):(c=M.last,c!==null?c.sibling=B:h.child=B,M.last=B)}return M.tail!==null?(h=M.tail,M.rendering=h,M.tail=h.sibling,M.renderingStartTime=Ke(),h.sibling=null,c=In.current,Q(In,w?c&1|2:c&1),h):(tn(h),null);case 22:case 23:return Js(h),S_(),w=h.memoizedState!==null,c!==null?c.memoizedState!==null!==w&&(h.flags|=8192):w&&(h.flags|=8192),w?(v&536870912)!==0&&(h.flags&128)===0&&(tn(h),h.subtreeFlags&6&&(h.flags|=8192)):tn(h),v=h.updateQueue,v!==null&&Ry(h,v.retryQueue),v=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==v&&(h.flags|=2048),c!==null&&$(Cc),null;case 24:return v=null,c!==null&&(v=c.memoizedState.cache),h.memoizedState.cache!==v&&(h.flags|=2048),Qs(Mn),tn(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function TZ(c,h){switch(f_(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Qs(Mn),ee(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return ce(h),null;case 13:if(Js(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Hp()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return $(In),null;case 4:return ee(),null;case 10:return Qs(h.type),null;case 22:case 23:return Js(h),S_(),c!==null&&$(Cc),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return Qs(Mn),null;case 25:return null;default:return null}}function FP(c,h){switch(f_(h),h.tag){case 3:Qs(Mn),ee();break;case 26:case 27:case 5:ce(h);break;case 4:ee();break;case 13:Js(h);break;case 19:$(In);break;case 10:Qs(h.type);break;case 22:case 23:Js(h),S_(),c!==null&&$(Cc);break;case 24:Qs(Mn)}}function um(c,h){try{var v=h.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var M=w.next;v=M;do{if((v.tag&c)===c){w=void 0;var B=v.create,W=v.inst;w=B(),W.destroy=w}v=v.next}while(v!==M)}}catch(re){kr(h,h.return,re)}}function Qu(c,h,v){try{var w=h.updateQueue,M=w!==null?w.lastEffect:null;if(M!==null){var B=M.next;w=B;do{if((w.tag&c)===c){var W=w.inst,re=W.destroy;if(re!==void 0){W.destroy=void 0,M=h;var be=v,Me=re;try{Me()}catch(qe){kr(M,be,qe)}}}w=w.next}while(w!==B)}}catch(qe){kr(h,h.return,qe)}}function $P(c){var h=c.updateQueue;if(h!==null){var v=c.stateNode;try{SR(h,v)}catch(w){kr(c,c.return,w)}}}function LP(c,h,v){v.props=Mc(c.type,c.memoizedProps),v.state=c.memoizedState;try{v.componentWillUnmount()}catch(w){kr(c,h,w)}}function lm(c,h){try{var v=c.ref;if(v!==null){switch(c.tag){case 26:case 27:case 5:var w=c.stateNode;break;case 30:w=c.stateNode;break;default:w=c.stateNode}typeof v=="function"?c.refCleanup=v(w):v.current=w}}catch(M){kr(c,h,M)}}function os(c,h){var v=c.ref,w=c.refCleanup;if(v!==null)if(typeof w=="function")try{w()}catch(M){kr(c,h,M)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(M){kr(c,h,M)}else v.current=null}function jP(c){var h=c.type,v=c.memoizedProps,w=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":v.autoFocus&&w.focus();break e;case"img":v.src?w.src=v.src:v.srcSet&&(w.srcset=v.srcSet)}}catch(M){kr(c,c.return,M)}}function J_(c,h,v){try{var w=c.stateNode;KZ(w,c.type,v,h),w[nn]=h}catch(M){kr(c,c.return,M)}}function qP(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&al(c.type)||c.tag===4}function eA(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||qP(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&al(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function tA(c,h,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(c,h):(h=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,h.appendChild(c),v=v._reactRootContainer,v!=null||h.onclick!==null||(h.onclick=Hy));else if(w!==4&&(w===27&&al(c.type)&&(v=c.stateNode,h=null),c=c.child,c!==null))for(tA(c,h,v),c=c.sibling;c!==null;)tA(c,h,v),c=c.sibling}function Py(c,h,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,h?v.insertBefore(c,h):v.appendChild(c);else if(w!==4&&(w===27&&al(c.type)&&(v=c.stateNode),c=c.child,c!==null))for(Py(c,h,v),c=c.sibling;c!==null;)Py(c,h,v),c=c.sibling}function UP(c){var h=c.stateNode,v=c.memoizedProps;try{for(var w=c.type,M=h.attributes;M.length;)h.removeAttributeNode(M[0]);ui(h,w,v),h[cn]=c,h[nn]=v}catch(B){kr(c,c.return,B)}}var ru=!1,hn=!1,rA=!1,zP=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function DZ(c,h){if(c=c.containerInfo,TA=Zy,c=eR(c),e_(c)){if("selectionStart"in c)var v={start:c.selectionStart,end:c.selectionEnd};else e:{v=(v=c.ownerDocument)&&v.defaultView||window;var w=v.getSelection&&v.getSelection();if(w&&w.rangeCount!==0){v=w.anchorNode;var M=w.anchorOffset,B=w.focusNode;w=w.focusOffset;try{v.nodeType,B.nodeType}catch{v=null;break e}var W=0,re=-1,be=-1,Me=0,qe=0,Xe=c,Re=null;t:for(;;){for(var Pe;Xe!==v||M!==0&&Xe.nodeType!==3||(re=W+M),Xe!==B||w!==0&&Xe.nodeType!==3||(be=W+w),Xe.nodeType===3&&(W+=Xe.nodeValue.length),(Pe=Xe.firstChild)!==null;)Re=Xe,Xe=Pe;for(;;){if(Xe===c)break t;if(Re===v&&++Me===M&&(re=W),Re===B&&++qe===w&&(be=W),(Pe=Xe.nextSibling)!==null)break;Xe=Re,Re=Xe.parentNode}Xe=Pe}v=re===-1||be===-1?null:{start:re,end:be}}else v=null}v=v||{start:0,end:0}}else v=null;for(DA={focusedElem:c,selectionRange:v},Zy=!1,Xn=h;Xn!==null;)if(h=Xn,c=h.child,(h.subtreeFlags&1024)!==0&&c!==null)c.return=h,Xn=c;else for(;Xn!==null;){switch(h=Xn,B=h.alternate,c=h.flags,h.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&B!==null){c=void 0,v=h,M=B.memoizedProps,B=B.memoizedState,w=v.stateNode;try{var Tt=Mc(v.type,M,v.elementType===v.type);c=w.getSnapshotBeforeUpdate(Tt,B),w.__reactInternalSnapshotBeforeUpdate=c}catch(wt){kr(v,v.return,wt)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,v=c.nodeType,v===9)OA(c);else if(v===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":OA(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=h.sibling,c!==null){c.return=h.return,Xn=c;break}Xn=h.return}}function VP(c,h,v){var w=v.flags;switch(v.tag){case 0:case 11:case 15:Zu(c,v),w&4&&um(5,v);break;case 1:if(Zu(c,v),w&4)if(c=v.stateNode,h===null)try{c.componentDidMount()}catch(W){kr(v,v.return,W)}else{var M=Mc(v.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(M,h,c.__reactInternalSnapshotBeforeUpdate)}catch(W){kr(v,v.return,W)}}w&64&&$P(v),w&512&&lm(v,v.return);break;case 3:if(Zu(c,v),w&64&&(c=v.updateQueue,c!==null)){if(h=null,v.child!==null)switch(v.child.tag){case 27:case 5:h=v.child.stateNode;break;case 1:h=v.child.stateNode}try{SR(c,h)}catch(W){kr(v,v.return,W)}}break;case 27:h===null&&w&4&&UP(v);case 26:case 5:Zu(c,v),h===null&&w&4&&jP(v),w&512&&lm(v,v.return);break;case 12:Zu(c,v);break;case 13:Zu(c,v),w&4&&KP(c,v),w&64&&(c=v.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(v=kZ.bind(null,v),eJ(c,v))));break;case 22:if(w=v.memoizedState!==null||ru,!w){h=h!==null&&h.memoizedState!==null||hn,M=ru;var B=hn;ru=w,(hn=h)&&!B?Ju(c,v,(v.subtreeFlags&8772)!==0):Zu(c,v),ru=M,hn=B}break;case 30:break;default:Zu(c,v)}}function HP(c){var h=c.alternate;h!==null&&(c.alternate=null,HP(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&Xo(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Wr=null,Yi=!1;function nu(c,h,v){for(v=v.child;v!==null;)GP(c,h,v),v=v.sibling}function GP(c,h,v){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(ye,v)}catch{}switch(v.tag){case 26:hn||os(v,h),nu(c,h,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:hn||os(v,h);var w=Wr,M=Yi;al(v.type)&&(Wr=v.stateNode,Yi=!1),nu(c,h,v),ym(v.stateNode),Wr=w,Yi=M;break;case 5:hn||os(v,h);case 6:if(w=Wr,M=Yi,Wr=null,nu(c,h,v),Wr=w,Yi=M,Wr!==null)if(Yi)try{(Wr.nodeType===9?Wr.body:Wr.nodeName==="HTML"?Wr.ownerDocument.body:Wr).removeChild(v.stateNode)}catch(B){kr(v,h,B)}else try{Wr.removeChild(v.stateNode)}catch(B){kr(v,h,B)}break;case 18:Wr!==null&&(Yi?(c=Wr,P3(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,v.stateNode),Tm(c)):P3(Wr,v.stateNode));break;case 4:w=Wr,M=Yi,Wr=v.stateNode.containerInfo,Yi=!0,nu(c,h,v),Wr=w,Yi=M;break;case 0:case 11:case 14:case 15:hn||Qu(2,v,h),hn||Qu(4,v,h),nu(c,h,v);break;case 1:hn||(os(v,h),w=v.stateNode,typeof w.componentWillUnmount=="function"&&LP(v,h,w)),nu(c,h,v);break;case 21:nu(c,h,v);break;case 22:hn=(w=hn)||v.memoizedState!==null,nu(c,h,v),hn=w;break;default:nu(c,h,v)}}function KP(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Tm(c)}catch(v){kr(h,h.return,v)}}function NZ(c){switch(c.tag){case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new zP),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new zP),h;default:throw Error(n(435,c.tag))}}function nA(c,h){var v=NZ(c);h.forEach(function(w){var M=FZ.bind(null,c,w);v.has(w)||(v.add(w),w.then(M,M))})}function pa(c,h){var v=h.deletions;if(v!==null)for(var w=0;w<v.length;w++){var M=v[w],B=c,W=h,re=W;e:for(;re!==null;){switch(re.tag){case 27:if(al(re.type)){Wr=re.stateNode,Yi=!1;break e}break;case 5:Wr=re.stateNode,Yi=!1;break e;case 3:case 4:Wr=re.stateNode.containerInfo,Yi=!0;break e}re=re.return}if(Wr===null)throw Error(n(160));GP(B,W,M),Wr=null,Yi=!1,B=M.alternate,B!==null&&(B.return=null),M.return=null}if(h.subtreeFlags&13878)for(h=h.child;h!==null;)XP(h,c),h=h.sibling}var xo=null;function XP(c,h){var v=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:pa(h,c),ma(c),w&4&&(Qu(3,c,c.return),um(3,c),Qu(5,c,c.return));break;case 1:pa(h,c),ma(c),w&512&&(hn||v===null||os(v,v.return)),w&64&&ru&&(c=c.updateQueue,c!==null&&(w=c.callbacks,w!==null&&(v=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=v===null?w:v.concat(w))));break;case 26:var M=xo;if(pa(h,c),ma(c),w&512&&(hn||v===null||os(v,v.return)),w&4){var B=v!==null?v.memoizedState:null;if(w=c.memoizedState,v===null)if(w===null)if(c.stateNode===null){e:{w=c.type,v=c.memoizedProps,M=M.ownerDocument||M;t:switch(w){case"title":B=M.getElementsByTagName("title")[0],(!B||B[Fs]||B[cn]||B.namespaceURI==="http://www.w3.org/2000/svg"||B.hasAttribute("itemprop"))&&(B=M.createElement(w),M.head.insertBefore(B,M.querySelector("head > title"))),ui(B,w,v),B[cn]=c,Jr(B),w=B;break e;case"link":var W=U3("link","href",M).get(w+(v.href||""));if(W){for(var re=0;re<W.length;re++)if(B=W[re],B.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&B.getAttribute("rel")===(v.rel==null?null:v.rel)&&B.getAttribute("title")===(v.title==null?null:v.title)&&B.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){W.splice(re,1);break t}}B=M.createElement(w),ui(B,w,v),M.head.appendChild(B);break;case"meta":if(W=U3("meta","content",M).get(w+(v.content||""))){for(re=0;re<W.length;re++)if(B=W[re],B.getAttribute("content")===(v.content==null?null:""+v.content)&&B.getAttribute("name")===(v.name==null?null:v.name)&&B.getAttribute("property")===(v.property==null?null:v.property)&&B.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&B.getAttribute("charset")===(v.charSet==null?null:v.charSet)){W.splice(re,1);break t}}B=M.createElement(w),ui(B,w,v),M.head.appendChild(B);break;default:throw Error(n(468,w))}B[cn]=c,Jr(B),w=B}c.stateNode=w}else z3(M,c.type,c.stateNode);else c.stateNode=q3(M,w,c.memoizedProps);else B!==w?(B===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):B.count--,w===null?z3(M,c.type,c.stateNode):q3(M,w,c.memoizedProps)):w===null&&c.stateNode!==null&&J_(c,c.memoizedProps,v.memoizedProps)}break;case 27:pa(h,c),ma(c),w&512&&(hn||v===null||os(v,v.return)),v!==null&&w&4&&J_(c,c.memoizedProps,v.memoizedProps);break;case 5:if(pa(h,c),ma(c),w&512&&(hn||v===null||os(v,v.return)),c.flags&32){M=c.stateNode;try{$a(M,"")}catch(Pe){kr(c,c.return,Pe)}}w&4&&c.stateNode!=null&&(M=c.memoizedProps,J_(c,M,v!==null?v.memoizedProps:M)),w&1024&&(rA=!0);break;case 6:if(pa(h,c),ma(c),w&4){if(c.stateNode===null)throw Error(n(162));w=c.memoizedProps,v=c.stateNode;try{v.nodeValue=w}catch(Pe){kr(c,c.return,Pe)}}break;case 3:if(Wy=null,M=xo,xo=Ky(h.containerInfo),pa(h,c),xo=M,ma(c),w&4&&v!==null&&v.memoizedState.isDehydrated)try{Tm(h.containerInfo)}catch(Pe){kr(c,c.return,Pe)}rA&&(rA=!1,WP(c));break;case 4:w=xo,xo=Ky(c.stateNode.containerInfo),pa(h,c),ma(c),xo=w;break;case 12:pa(h,c),ma(c);break;case 13:pa(h,c),ma(c),c.child.flags&8192&&c.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(lA=Ke()),w&4&&(w=c.updateQueue,w!==null&&(c.updateQueue=null,nA(c,w)));break;case 22:M=c.memoizedState!==null;var be=v!==null&&v.memoizedState!==null,Me=ru,qe=hn;if(ru=Me||M,hn=qe||be,pa(h,c),hn=qe,ru=Me,ma(c),w&8192)e:for(h=c.stateNode,h._visibility=M?h._visibility&-2:h._visibility|1,M&&(v===null||be||ru||hn||Ic(c)),v=null,h=c;;){if(h.tag===5||h.tag===26){if(v===null){be=v=h;try{if(B=be.stateNode,M)W=B.style,typeof W.setProperty=="function"?W.setProperty("display","none","important"):W.display="none";else{re=be.stateNode;var Xe=be.memoizedProps.style,Re=Xe!=null&&Xe.hasOwnProperty("display")?Xe.display:null;re.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(Pe){kr(be,be.return,Pe)}}}else if(h.tag===6){if(v===null){be=h;try{be.stateNode.nodeValue=M?"":be.memoizedProps}catch(Pe){kr(be,be.return,Pe)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;v===h&&(v=null),h=h.return}v===h&&(v=null),h.sibling.return=h.return,h=h.sibling}w&4&&(w=c.updateQueue,w!==null&&(v=w.retryQueue,v!==null&&(w.retryQueue=null,nA(c,v))));break;case 19:pa(h,c),ma(c),w&4&&(w=c.updateQueue,w!==null&&(c.updateQueue=null,nA(c,w)));break;case 30:break;case 21:break;default:pa(h,c),ma(c)}}function ma(c){var h=c.flags;if(h&2){try{for(var v,w=c.return;w!==null;){if(qP(w)){v=w;break}w=w.return}if(v==null)throw Error(n(160));switch(v.tag){case 27:var M=v.stateNode,B=eA(c);Py(c,B,M);break;case 5:var W=v.stateNode;v.flags&32&&($a(W,""),v.flags&=-33);var re=eA(c);Py(c,re,W);break;case 3:case 4:var be=v.stateNode.containerInfo,Me=eA(c);tA(c,Me,be);break;default:throw Error(n(161))}}catch(qe){kr(c,c.return,qe)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function WP(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;WP(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function Zu(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)VP(c,h.alternate,h),h=h.sibling}function Ic(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:Qu(4,h,h.return),Ic(h);break;case 1:os(h,h.return);var v=h.stateNode;typeof v.componentWillUnmount=="function"&&LP(h,h.return,v),Ic(h);break;case 27:ym(h.stateNode);case 26:case 5:os(h,h.return),Ic(h);break;case 22:h.memoizedState===null&&Ic(h);break;case 30:Ic(h);break;default:Ic(h)}c=c.sibling}}function Ju(c,h,v){for(v=v&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var w=h.alternate,M=c,B=h,W=B.flags;switch(B.tag){case 0:case 11:case 15:Ju(M,B,v),um(4,B);break;case 1:if(Ju(M,B,v),w=B,M=w.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Me){kr(w,w.return,Me)}if(w=B,M=w.updateQueue,M!==null){var re=w.stateNode;try{var be=M.shared.hiddenCallbacks;if(be!==null)for(M.shared.hiddenCallbacks=null,M=0;M<be.length;M++)ER(be[M],re)}catch(Me){kr(w,w.return,Me)}}v&&W&64&&$P(B),lm(B,B.return);break;case 27:UP(B);case 26:case 5:Ju(M,B,v),v&&w===null&&W&4&&jP(B),lm(B,B.return);break;case 12:Ju(M,B,v);break;case 13:Ju(M,B,v),v&&W&4&&KP(M,B);break;case 22:B.memoizedState===null&&Ju(M,B,v),lm(B,B.return);break;case 30:break;default:Ju(M,B,v)}h=h.sibling}}function iA(c,h){var v=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==v&&(c!=null&&c.refCount++,v!=null&&Xp(v))}function aA(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Xp(c))}function ss(c,h,v,w){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)YP(c,h,v,w),h=h.sibling}function YP(c,h,v,w){var M=h.flags;switch(h.tag){case 0:case 11:case 15:ss(c,h,v,w),M&2048&&um(9,h);break;case 1:ss(c,h,v,w);break;case 3:ss(c,h,v,w),M&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&Xp(c)));break;case 12:if(M&2048){ss(c,h,v,w),c=h.stateNode;try{var B=h.memoizedProps,W=B.id,re=B.onPostCommit;typeof re=="function"&&re(W,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(be){kr(h,h.return,be)}}else ss(c,h,v,w);break;case 13:ss(c,h,v,w);break;case 23:break;case 22:B=h.stateNode,W=h.alternate,h.memoizedState!==null?B._visibility&2?ss(c,h,v,w):cm(c,h):B._visibility&2?ss(c,h,v,w):(B._visibility|=2,xh(c,h,v,w,(h.subtreeFlags&10256)!==0)),M&2048&&iA(W,h);break;case 24:ss(c,h,v,w),M&2048&&aA(h.alternate,h);break;default:ss(c,h,v,w)}}function xh(c,h,v,w,M){for(M=M&&(h.subtreeFlags&10256)!==0,h=h.child;h!==null;){var B=c,W=h,re=v,be=w,Me=W.flags;switch(W.tag){case 0:case 11:case 15:xh(B,W,re,be,M),um(8,W);break;case 23:break;case 22:var qe=W.stateNode;W.memoizedState!==null?qe._visibility&2?xh(B,W,re,be,M):cm(B,W):(qe._visibility|=2,xh(B,W,re,be,M)),M&&Me&2048&&iA(W.alternate,W);break;case 24:xh(B,W,re,be,M),M&&Me&2048&&aA(W.alternate,W);break;default:xh(B,W,re,be,M)}h=h.sibling}}function cm(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var v=c,w=h,M=w.flags;switch(w.tag){case 22:cm(v,w),M&2048&&iA(w.alternate,w);break;case 24:cm(v,w),M&2048&&aA(w.alternate,w);break;default:cm(v,w)}h=h.sibling}}var fm=8192;function _h(c){if(c.subtreeFlags&fm)for(c=c.child;c!==null;)QP(c),c=c.sibling}function QP(c){switch(c.tag){case 26:_h(c),c.flags&fm&&c.memoizedState!==null&&dJ(xo,c.memoizedState,c.memoizedProps);break;case 5:_h(c);break;case 3:case 4:var h=xo;xo=Ky(c.stateNode.containerInfo),_h(c),xo=h;break;case 22:c.memoizedState===null&&(h=c.alternate,h!==null&&h.memoizedState!==null?(h=fm,fm=16777216,_h(c),fm=h):_h(c));break;default:_h(c)}}function ZP(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function hm(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];Xn=w,e3(w,c)}ZP(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)JP(c),c=c.sibling}function JP(c){switch(c.tag){case 0:case 11:case 15:hm(c),c.flags&2048&&Qu(9,c,c.return);break;case 3:hm(c);break;case 12:hm(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,By(c)):hm(c);break;default:hm(c)}}function By(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var v=0;v<h.length;v++){var w=h[v];Xn=w,e3(w,c)}ZP(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:Qu(8,h,h.return),By(h);break;case 22:v=h.stateNode,v._visibility&2&&(v._visibility&=-3,By(h));break;default:By(h)}c=c.sibling}}function e3(c,h){for(;Xn!==null;){var v=Xn;switch(v.tag){case 0:case 11:case 15:Qu(8,v,h);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var w=v.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Xp(v.memoizedState.cache)}if(w=v.child,w!==null)w.return=v,Xn=w;else e:for(v=c;Xn!==null;){w=Xn;var M=w.sibling,B=w.return;if(HP(w),w===v){Xn=null;break e}if(M!==null){M.return=B,Xn=M;break e}Xn=B}}}var CZ={getCacheForType:function(c){var h=bi(Mn),v=h.data.get(c);return v===void 0&&(v=c(),h.data.set(c,v)),v}},OZ=typeof WeakMap=="function"?WeakMap:Map,Ar=0,jr=null,Zt=null,lr=0,Er=0,va=null,el=!1,Ah=!1,oA=!1,iu=0,on=0,tl=0,Rc=0,sA=0,Ka=0,Eh=0,dm=null,Qi=null,uA=!1,lA=0,ky=1/0,Fy=null,rl=null,si=0,nl=null,Sh=null,Th=0,cA=0,fA=null,t3=null,pm=0,hA=null;function ga(){if((Ar&2)!==0&&lr!==0)return lr&-lr;if(F.T!==null){var c=dh;return c!==0?c:bA()}return Go()}function r3(){Ka===0&&(Ka=(lr&536870912)===0||mr?He():536870912);var c=Ga.current;return c!==null&&(c.flags|=32),Ka}function ya(c,h,v){(c===jr&&(Er===2||Er===9)||c.cancelPendingCommit!==null)&&(Dh(c,0),il(c,lr,Ka,!1)),_r(c,v),((Ar&2)===0||c!==jr)&&(c===jr&&((Ar&2)===0&&(Rc|=v),on===4&&il(c,lr,Ka,!1)),us(c))}function n3(c,h,v){if((Ar&6)!==0)throw Error(n(327));var w=!v&&(h&124)===0&&(h&c.expiredLanes)===0||ve(c,h),M=w?RZ(c,h):mA(c,h,!0),B=w;do{if(M===0){Ah&&!w&&il(c,h,0,!1);break}else{if(v=c.current.alternate,B&&!MZ(v)){M=mA(c,h,!1),B=!1;continue}if(M===2){if(B=h,c.errorRecoveryDisabledLanes&B)var W=0;else W=c.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){h=W;e:{var re=c;M=dm;var be=re.current.memoizedState.isDehydrated;if(be&&(Dh(re,W).flags|=256),W=mA(re,W,!1),W!==2){if(oA&&!be){re.errorRecoveryDisabledLanes|=B,Rc|=B,M=4;break e}B=Qi,Qi=M,B!==null&&(Qi===null?Qi=B:Qi.push.apply(Qi,B))}M=W}if(B=!1,M!==2)continue}}if(M===1){Dh(c,0),il(c,h,0,!0);break}e:{switch(w=c,B=M,B){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:il(w,h,Ka,!el);break e;case 2:Qi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(M=lA+300-Ke(),10<M)){if(il(w,h,Ka,!el),j(w,0,!0)!==0)break e;w.timeoutHandle=I3(i3.bind(null,w,v,Qi,Fy,uA,h,Ka,Rc,Eh,el,B,2,-0,0),M);break e}i3(w,v,Qi,Fy,uA,h,Ka,Rc,Eh,el,B,0,-0,0)}}break}while(!0);us(c)}function i3(c,h,v,w,M,B,W,re,be,Me,qe,Xe,Re,Pe){if(c.timeoutHandle=-1,Xe=h.subtreeFlags,(Xe&8192||(Xe&16785408)===16785408)&&(xm={stylesheets:null,count:0,unsuspend:hJ},QP(h),Xe=pJ(),Xe!==null)){c.cancelPendingCommit=Xe(f3.bind(null,c,h,B,v,w,M,W,re,be,qe,1,Re,Pe)),il(c,B,W,!Me);return}f3(c,h,B,v,w,M,W,re,be)}function MZ(c){for(var h=c;;){var v=h.tag;if((v===0||v===11||v===15)&&h.flags&16384&&(v=h.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var w=0;w<v.length;w++){var M=v[w],B=M.getSnapshot;M=M.value;try{if(!ha(B(),M))return!1}catch{return!1}}if(v=h.child,h.subtreeFlags&16384&&v!==null)v.return=h,h=v;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function il(c,h,v,w){h&=~sA,h&=~Rc,c.suspendedLanes|=h,c.pingedLanes&=~h,w&&(c.warmLanes|=h),w=c.expirationTimes;for(var M=h;0<M;){var B=31-Be(M),W=1<<B;w[B]=-1,M&=~W}v!==0&&Ba(c,v,h)}function $y(){return(Ar&6)===0?(mm(0),!1):!0}function dA(){if(Zt!==null){if(Er===0)var c=Zt.return;else c=Zt,Ys=Dc=null,O_(c),bh=null,am=0,c=Zt;for(;c!==null;)FP(c.alternate,c),c=c.return;Zt=null}}function Dh(c,h){var v=c.timeoutHandle;v!==-1&&(c.timeoutHandle=-1,WZ(v)),v=c.cancelPendingCommit,v!==null&&(c.cancelPendingCommit=null,v()),dA(),jr=c,Zt=v=Ks(c.current,null),lr=h,Er=0,va=null,el=!1,Ah=ve(c,h),oA=!1,Eh=Ka=sA=Rc=tl=on=0,Qi=dm=null,uA=!1,(h&8)!==0&&(h|=h&32);var w=c.entangledLanes;if(w!==0)for(c=c.entanglements,w&=h;0<w;){var M=31-Be(w),B=1<<M;h|=c[M],w&=~B}return iu=h,oy(),v}function a3(c,h){Xt=null,F.H=Sy,h===Yp||h===my?(h=_R(),Er=3):h===bR?(h=_R(),Er=4):Er=h===AP?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,va=h,Zt===null&&(on=1,Oy(c,Ua(h,c.current)))}function o3(){var c=F.H;return F.H=Sy,c===null?Sy:c}function s3(){var c=F.A;return F.A=CZ,c}function pA(){on=4,el||(lr&4194048)!==lr&&Ga.current!==null||(Ah=!0),(tl&134217727)===0&&(Rc&134217727)===0||jr===null||il(jr,lr,Ka,!1)}function mA(c,h,v){var w=Ar;Ar|=2;var M=o3(),B=s3();(jr!==c||lr!==h)&&(Fy=null,Dh(c,h)),h=!1;var W=on;e:do try{if(Er!==0&&Zt!==null){var re=Zt,be=va;switch(Er){case 8:dA(),W=6;break e;case 3:case 2:case 9:case 6:Ga.current===null&&(h=!0);var Me=Er;if(Er=0,va=null,Nh(c,re,be,Me),v&&Ah){W=0;break e}break;default:Me=Er,Er=0,va=null,Nh(c,re,be,Me)}}IZ(),W=on;break}catch(qe){a3(c,qe)}while(!0);return h&&c.shellSuspendCounter++,Ys=Dc=null,Ar=w,F.H=M,F.A=B,Zt===null&&(jr=null,lr=0,oy()),W}function IZ(){for(;Zt!==null;)u3(Zt)}function RZ(c,h){var v=Ar;Ar|=2;var w=o3(),M=s3();jr!==c||lr!==h?(Fy=null,ky=Ke()+500,Dh(c,h)):Ah=ve(c,h);e:do try{if(Er!==0&&Zt!==null){h=Zt;var B=va;t:switch(Er){case 1:Er=0,va=null,Nh(c,h,B,1);break;case 2:case 9:if(wR(B)){Er=0,va=null,l3(h);break}h=function(){Er!==2&&Er!==9||jr!==c||(Er=7),us(c)},B.then(h,h);break e;case 3:Er=7;break e;case 4:Er=5;break e;case 7:wR(B)?(Er=0,va=null,l3(h)):(Er=0,va=null,Nh(c,h,B,7));break;case 5:var W=null;switch(Zt.tag){case 26:W=Zt.memoizedState;case 5:case 27:var re=Zt;if(!W||V3(W)){Er=0,va=null;var be=re.sibling;if(be!==null)Zt=be;else{var Me=re.return;Me!==null?(Zt=Me,Ly(Me)):Zt=null}break t}}Er=0,va=null,Nh(c,h,B,5);break;case 6:Er=0,va=null,Nh(c,h,B,6);break;case 8:dA(),on=6;break e;default:throw Error(n(462))}}PZ();break}catch(qe){a3(c,qe)}while(!0);return Ys=Dc=null,F.H=w,F.A=M,Ar=v,Zt!==null?0:(jr=null,lr=0,oy(),on)}function PZ(){for(;Zt!==null&&!Ne();)u3(Zt)}function u3(c){var h=BP(c.alternate,c,iu);c.memoizedProps=c.pendingProps,h===null?Ly(c):Zt=h}function l3(c){var h=c,v=h.alternate;switch(h.tag){case 15:case 0:h=CP(v,h,h.pendingProps,h.type,void 0,lr);break;case 11:h=CP(v,h,h.pendingProps,h.type.render,h.ref,lr);break;case 5:O_(h);default:FP(v,h),h=Zt=cR(h,iu),h=BP(v,h,iu)}c.memoizedProps=c.pendingProps,h===null?Ly(c):Zt=h}function Nh(c,h,v,w){Ys=Dc=null,O_(h),bh=null,am=0;var M=h.return;try{if(AZ(c,M,h,v,lr)){on=1,Oy(c,Ua(v,c.current)),Zt=null;return}}catch(B){if(M!==null)throw Zt=M,B;on=1,Oy(c,Ua(v,c.current)),Zt=null;return}h.flags&32768?(mr||w===1?c=!0:Ah||(lr&536870912)!==0?c=!1:(el=c=!0,(w===2||w===9||w===3||w===6)&&(w=Ga.current,w!==null&&w.tag===13&&(w.flags|=16384))),c3(h,c)):Ly(h)}function Ly(c){var h=c;do{if((h.flags&32768)!==0){c3(h,el);return}c=h.return;var v=SZ(h.alternate,h,iu);if(v!==null){Zt=v;return}if(h=h.sibling,h!==null){Zt=h;return}Zt=h=c}while(h!==null);on===0&&(on=5)}function c3(c,h){do{var v=TZ(c.alternate,c);if(v!==null){v.flags&=32767,Zt=v;return}if(v=c.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!h&&(c=c.sibling,c!==null)){Zt=c;return}Zt=c=v}while(c!==null);on=6,Zt=null}function f3(c,h,v,w,M,B,W,re,be){c.cancelPendingCommit=null;do jy();while(si!==0);if((Ar&6)!==0)throw Error(n(327));if(h!==null){if(h===c.current)throw Error(n(177));if(B=h.lanes|h.childLanes,B|=a_,ks(c,v,B,W,re,be),c===jr&&(Zt=jr=null,lr=0),Sh=h,nl=c,Th=v,cA=B,fA=M,t3=w,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,$Z(he,function(){return v3(),null})):(c.callbackNode=null,c.callbackPriority=0),w=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||w){w=F.T,F.T=null,M=V.p,V.p=2,W=Ar,Ar|=4;try{DZ(c,h,v)}finally{Ar=W,V.p=M,F.T=w}}si=1,h3(),d3(),p3()}}function h3(){if(si===1){si=0;var c=nl,h=Sh,v=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||v){v=F.T,F.T=null;var w=V.p;V.p=2;var M=Ar;Ar|=4;try{XP(h,c);var B=DA,W=eR(c.containerInfo),re=B.focusedElem,be=B.selectionRange;if(W!==re&&re&&re.ownerDocument&&JI(re.ownerDocument.documentElement,re)){if(be!==null&&e_(re)){var Me=be.start,qe=be.end;if(qe===void 0&&(qe=Me),"selectionStart"in re)re.selectionStart=Me,re.selectionEnd=Math.min(qe,re.value.length);else{var Xe=re.ownerDocument||document,Re=Xe&&Xe.defaultView||window;if(Re.getSelection){var Pe=Re.getSelection(),Tt=re.textContent.length,wt=Math.min(be.start,Tt),Ir=be.end===void 0?wt:Math.min(be.end,Tt);!Pe.extend&&wt>Ir&&(W=Ir,Ir=wt,wt=W);var De=ZI(re,wt),_e=ZI(re,Ir);if(De&&_e&&(Pe.rangeCount!==1||Pe.anchorNode!==De.node||Pe.anchorOffset!==De.offset||Pe.focusNode!==_e.node||Pe.focusOffset!==_e.offset)){var Oe=Xe.createRange();Oe.setStart(De.node,De.offset),Pe.removeAllRanges(),wt>Ir?(Pe.addRange(Oe),Pe.extend(_e.node,_e.offset)):(Oe.setEnd(_e.node,_e.offset),Pe.addRange(Oe))}}}}for(Xe=[],Pe=re;Pe=Pe.parentNode;)Pe.nodeType===1&&Xe.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof re.focus=="function"&&re.focus(),re=0;re<Xe.length;re++){var Ve=Xe[re];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Zy=!!TA,DA=TA=null}finally{Ar=M,V.p=w,F.T=v}}c.current=h,si=2}}function d3(){if(si===2){si=0;var c=nl,h=Sh,v=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||v){v=F.T,F.T=null;var w=V.p;V.p=2;var M=Ar;Ar|=4;try{VP(c,h.alternate,h)}finally{Ar=M,V.p=w,F.T=v}}si=3}}function p3(){if(si===4||si===3){si=0,je();var c=nl,h=Sh,v=Th,w=t3;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?si=5:(si=0,Sh=nl=null,m3(c,c.pendingLanes));var M=c.pendingLanes;if(M===0&&(rl=null),ju(v),h=h.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(ye,h,void 0,(h.current.flags&128)===128)}catch{}if(w!==null){h=F.T,M=V.p,V.p=2,F.T=null;try{for(var B=c.onRecoverableError,W=0;W<w.length;W++){var re=w[W];B(re.value,{componentStack:re.stack})}}finally{F.T=h,V.p=M}}(Th&3)!==0&&jy(),us(c),M=c.pendingLanes,(v&4194090)!==0&&(M&42)!==0?c===hA?pm++:(pm=0,hA=c):pm=0,mm(0)}}function m3(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,Xp(h)))}function jy(c){return h3(),d3(),p3(),v3()}function v3(){if(si!==5)return!1;var c=nl,h=cA;cA=0;var v=ju(Th),w=F.T,M=V.p;try{V.p=32>v?32:v,F.T=null,v=fA,fA=null;var B=nl,W=Th;if(si=0,Sh=nl=null,Th=0,(Ar&6)!==0)throw Error(n(331));var re=Ar;if(Ar|=4,JP(B.current),YP(B,B.current,W,v),Ar=re,mm(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(ye,B)}catch{}return!0}finally{V.p=M,F.T=w,m3(c,h)}}function g3(c,h,v){h=Ua(v,h),h=V_(c.stateNode,h,2),c=Ku(c,h,2),c!==null&&(_r(c,2),us(c))}function kr(c,h,v){if(c.tag===3)g3(c,c,v);else for(;h!==null;){if(h.tag===3){g3(h,c,v);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(rl===null||!rl.has(w))){c=Ua(v,c),v=xP(2),w=Ku(h,v,2),w!==null&&(_P(v,w,h,c),_r(w,2),us(w));break}}h=h.return}}function vA(c,h,v){var w=c.pingCache;if(w===null){w=c.pingCache=new OZ;var M=new Set;w.set(h,M)}else M=w.get(h),M===void 0&&(M=new Set,w.set(h,M));M.has(v)||(oA=!0,M.add(v),c=BZ.bind(null,c,h,v),h.then(c,c))}function BZ(c,h,v){var w=c.pingCache;w!==null&&w.delete(h),c.pingedLanes|=c.suspendedLanes&v,c.warmLanes&=~v,jr===c&&(lr&v)===v&&(on===4||on===3&&(lr&62914560)===lr&&300>Ke()-lA?(Ar&2)===0&&Dh(c,0):sA|=v,Eh===lr&&(Eh=0)),us(c)}function y3(c,h){h===0&&(h=ht()),c=lh(c,h),c!==null&&(_r(c,h),us(c))}function kZ(c){var h=c.memoizedState,v=0;h!==null&&(v=h.retryLane),y3(c,v)}function FZ(c,h){var v=0;switch(c.tag){case 13:var w=c.stateNode,M=c.memoizedState;M!==null&&(v=M.retryLane);break;case 19:w=c.stateNode;break;case 22:w=c.stateNode._retryCache;break;default:throw Error(n(314))}w!==null&&w.delete(h),y3(c,v)}function $Z(c,h){return Te(c,h)}var qy=null,Ch=null,gA=!1,Uy=!1,yA=!1,Pc=0;function us(c){c!==Ch&&c.next===null&&(Ch===null?qy=Ch=c:Ch=Ch.next=c),Uy=!0,gA||(gA=!0,jZ())}function mm(c,h){if(!yA&&Uy){yA=!0;do for(var v=!1,w=qy;w!==null;){if(c!==0){var M=w.pendingLanes;if(M===0)var B=0;else{var W=w.suspendedLanes,re=w.pingedLanes;B=(1<<31-Be(42|c)+1)-1,B&=M&~(W&~re),B=B&201326741?B&201326741|1:B?B|2:0}B!==0&&(v=!0,_3(w,B))}else B=lr,B=j(w,w===jr?B:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(B&3)===0||ve(w,B)||(v=!0,_3(w,B));w=w.next}while(v);yA=!1}}function LZ(){b3()}function b3(){Uy=gA=!1;var c=0;Pc!==0&&(XZ()&&(c=Pc),Pc=0);for(var h=Ke(),v=null,w=qy;w!==null;){var M=w.next,B=w3(w,h);B===0?(w.next=null,v===null?qy=M:v.next=M,M===null&&(Ch=v)):(v=w,(c!==0||(B&3)!==0)&&(Uy=!0)),w=M}mm(c)}function w3(c,h){for(var v=c.suspendedLanes,w=c.pingedLanes,M=c.expirationTimes,B=c.pendingLanes&-62914561;0<B;){var W=31-Be(B),re=1<<W,be=M[W];be===-1?((re&v)===0||(re&w)!==0)&&(M[W]=Ie(re,h)):be<=h&&(c.expiredLanes|=re),B&=~re}if(h=jr,v=lr,v=j(c,c===h?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),w=c.callbackNode,v===0||c===h&&(Er===2||Er===9)||c.cancelPendingCommit!==null)return w!==null&&w!==null&&pe(w),c.callbackNode=null,c.callbackPriority=0;if((v&3)===0||ve(c,v)){if(h=v&-v,h===c.callbackPriority)return h;switch(w!==null&&pe(w),ju(v)){case 2:case 8:v=ae;break;case 32:v=he;break;case 268435456:v=Y;break;default:v=he}return w=x3.bind(null,c),v=Te(v,w),c.callbackPriority=h,c.callbackNode=v,h}return w!==null&&w!==null&&pe(w),c.callbackPriority=2,c.callbackNode=null,2}function x3(c,h){if(si!==0&&si!==5)return c.callbackNode=null,c.callbackPriority=0,null;var v=c.callbackNode;if(jy()&&c.callbackNode!==v)return null;var w=lr;return w=j(c,c===jr?w:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),w===0?null:(n3(c,w,h),w3(c,Ke()),c.callbackNode!=null&&c.callbackNode===v?x3.bind(null,c):null)}function _3(c,h){if(jy())return null;n3(c,h,!0)}function jZ(){YZ(function(){(Ar&6)!==0?Te(nt,LZ):b3()})}function bA(){return Pc===0&&(Pc=He()),Pc}function A3(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Qf(""+c)}function E3(c,h){var v=h.ownerDocument.createElement("input");return v.name=h.name,v.value=h.value,c.id&&v.setAttribute("form",c.id),h.parentNode.insertBefore(v,h),c=new FormData(c),v.parentNode.removeChild(v),c}function qZ(c,h,v,w,M){if(h==="submit"&&v&&v.stateNode===M){var B=A3((M[nn]||null).action),W=w.submitter;W&&(h=(h=W[nn]||null)?A3(h.formAction):W.getAttribute("formAction"),h!==null&&(B=h,W=null));var re=new Zf("action","action",null,w,M);c.push({event:re,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Pc!==0){var be=W?E3(M,W):new FormData(M);L_(v,{pending:!0,data:be,method:M.method,action:B},null,be)}}else typeof B=="function"&&(re.preventDefault(),be=W?E3(M,W):new FormData(M),L_(v,{pending:!0,data:be,method:M.method,action:B},B,be))},currentTarget:M}]})}}for(var wA=0;wA<i_.length;wA++){var xA=i_[wA],UZ=xA.toLowerCase(),zZ=xA[0].toUpperCase()+xA.slice(1);wo(UZ,"on"+zZ)}wo(nR,"onAnimationEnd"),wo(iR,"onAnimationIteration"),wo(aR,"onAnimationStart"),wo("dblclick","onDoubleClick"),wo("focusin","onFocus"),wo("focusout","onBlur"),wo(oZ,"onTransitionRun"),wo(sZ,"onTransitionStart"),wo(uZ,"onTransitionCancel"),wo(oR,"onTransitionEnd"),yo("onMouseEnter",["mouseout","mouseover"]),yo("onMouseLeave",["mouseout","mouseover"]),yo("onPointerEnter",["pointerout","pointerover"]),yo("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vm));function S3(c,h){h=(h&4)!==0;for(var v=0;v<c.length;v++){var w=c[v],M=w.event;w=w.listeners;e:{var B=void 0;if(h)for(var W=w.length-1;0<=W;W--){var re=w[W],be=re.instance,Me=re.currentTarget;if(re=re.listener,be!==B&&M.isPropagationStopped())break e;B=re,M.currentTarget=Me;try{B(M)}catch(qe){Cy(qe)}M.currentTarget=null,B=be}else for(W=0;W<w.length;W++){if(re=w[W],be=re.instance,Me=re.currentTarget,re=re.listener,be!==B&&M.isPropagationStopped())break e;B=re,M.currentTarget=Me;try{B(M)}catch(qe){Cy(qe)}M.currentTarget=null,B=be}}}}function Jt(c,h){var v=h[sc];v===void 0&&(v=h[sc]=new Set);var w=c+"__bubble";v.has(w)||(T3(h,c,2,!1),v.add(w))}function _A(c,h,v){var w=0;h&&(w|=4),T3(v,c,w,h)}var zy="_reactListening"+Math.random().toString(36).slice(2);function AA(c){if(!c[zy]){c[zy]=!0,uc.forEach(function(v){v!=="selectionchange"&&(VZ.has(v)||_A(v,!1,c),_A(v,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[zy]||(h[zy]=!0,_A("selectionchange",!1,h))}}function T3(c,h,v,w){switch(Y3(h)){case 2:var M=gJ;break;case 8:M=yJ;break;default:M=FA}v=M.bind(null,h,v,c),M=void 0,!ja||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(M=!0),w?M!==void 0?c.addEventListener(h,v,{capture:!0,passive:M}):c.addEventListener(h,v,!0):M!==void 0?c.addEventListener(h,v,{passive:M}):c.addEventListener(h,v,!1)}function EA(c,h,v,w,M){var B=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var W=w.tag;if(W===3||W===4){var re=w.stateNode.containerInfo;if(re===M)break;if(W===4)for(W=w.return;W!==null;){var be=W.tag;if((be===3||be===4)&&W.stateNode.containerInfo===M)return;W=W.return}for(;re!==null;){if(W=go(re),W===null)return;if(be=W.tag,be===5||be===6||be===26||be===27){w=B=W;continue e}re=re.parentNode}}w=w.return}Hg(function(){var Me=B,qe=La(v),Xe=[];e:{var Re=sR.get(c);if(Re!==void 0){var Pe=Zf,Tt=c;switch(c){case"keypress":if(Jo(v)===0)break e;case"keydown":case"keyup":Pe=ih;break;case"focusin":Tt="focus",Pe=th;break;case"focusout":Tt="blur",Pe=th;break;case"beforeblur":case"afterblur":Pe=th;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=qa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Yx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=Jg;break;case nR:case iR:case aR:Pe=rh;break;case oR:Pe=ty;break;case"scroll":case"scrollend":Pe=Gg;break;case"wheel":Pe=ah;break;case"copy":case"cut":case"paste":Pe=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=jp;break;case"toggle":case"beforetoggle":Pe=ny}var wt=(h&4)!==0,Ir=!wt&&(c==="scroll"||c==="scrollend"),De=wt?Re!==null?Re+"Capture":null:Re;wt=[];for(var _e=Me,Oe;_e!==null;){var Ve=_e;if(Oe=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Oe===null||De===null||(Ve=dc(_e,De),Ve!=null&&wt.push(gm(_e,Ve,Oe))),Ir)break;_e=_e.return}0<wt.length&&(Re=new Pe(Re,Tt,null,v,qe),Xe.push({event:Re,listeners:wt}))}}if((h&7)===0){e:{if(Re=c==="mouseover"||c==="pointerover",Pe=c==="mouseout"||c==="pointerout",Re&&v!==qs&&(Tt=v.relatedTarget||v.fromElement)&&(go(Tt)||Tt[Xi]))break e;if((Pe||Re)&&(Re=qe.window===qe?qe:(Re=qe.ownerDocument)?Re.defaultView||Re.parentWindow:window,Pe?(Tt=v.relatedTarget||v.toElement,Pe=Me,Tt=Tt?go(Tt):null,Tt!==null&&(Ir=a(Tt),wt=Tt.tag,Tt!==Ir||wt!==5&&wt!==27&&wt!==6)&&(Tt=null)):(Pe=null,Tt=Me),Pe!==Tt)){if(wt=qa,Ve="onMouseLeave",De="onMouseEnter",_e="mouse",(c==="pointerout"||c==="pointerover")&&(wt=jp,Ve="onPointerLeave",De="onPointerEnter",_e="pointer"),Ir=Pe==null?Re:Fa(Pe),Oe=Tt==null?Re:Fa(Tt),Re=new wt(Ve,_e+"leave",Pe,v,qe),Re.target=Ir,Re.relatedTarget=Oe,Ve=null,go(qe)===Me&&(wt=new wt(De,_e+"enter",Tt,v,qe),wt.target=Oe,wt.relatedTarget=Ir,Ve=wt),Ir=Ve,Pe&&Tt)t:{for(wt=Pe,De=Tt,_e=0,Oe=wt;Oe;Oe=Oh(Oe))_e++;for(Oe=0,Ve=De;Ve;Ve=Oh(Ve))Oe++;for(;0<_e-Oe;)wt=Oh(wt),_e--;for(;0<Oe-_e;)De=Oh(De),Oe--;for(;_e--;){if(wt===De||De!==null&&wt===De.alternate)break t;wt=Oh(wt),De=Oh(De)}wt=null}else wt=null;Pe!==null&&D3(Xe,Re,Pe,wt,!1),Tt!==null&&Ir!==null&&D3(Xe,Ir,Tt,wt,!0)}}e:{if(Re=Me?Fa(Me):window,Pe=Re.nodeName&&Re.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Re.type==="file")var ct=GI;else if(On(Re))if(KI)ct=nZ;else{ct=tZ;var Wt=eZ}else Pe=Re.nodeName,!Pe||Pe.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Me&&Rp(Me.elementType)&&(ct=GI):ct=rZ;if(ct&&(ct=ct(c,Me))){Gs(Xe,ct,v,qe);break e}Wt&&Wt(c,Re,Me),c==="focusout"&&Me&&Re.type==="number"&&Me.memoizedProps.value!=null&&Uu(Re,"number",Re.value)}switch(Wt=Me?Fa(Me):window,c){case"focusin":(On(Wt)||Wt.contentEditable==="true")&&(oh=Wt,t_=Me,zp=null);break;case"focusout":zp=t_=oh=null;break;case"mousedown":r_=!0;break;case"contextmenu":case"mouseup":case"dragend":r_=!1,tR(Xe,v,qe);break;case"selectionchange":if(aZ)break;case"keydown":case"keyup":tR(Xe,v,qe)}var mt;if(rs)e:{switch(c){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else sr?ke(c,v)&&(At="onCompositionEnd"):c==="keydown"&&v.keyCode===229&&(At="onCompositionStart");At&&(G&&v.locale!=="ko"&&(sr||At!=="onCompositionStart"?At==="onCompositionEnd"&&sr&&(mt=Bp()):(Zo=qe,zu="value"in Zo?Zo.value:Zo.textContent,sr=!0)),Wt=Vy(Me,At),0<Wt.length&&(At=new $p(At,c,null,v,qe),Xe.push({event:At,listeners:Wt}),mt?At.data=mt:(mt=rt(v),mt!==null&&(At.data=mt)))),(mt=L?Cn(c,v):ur(c,v))&&(At=Vy(Me,"onBeforeInput"),0<At.length&&(Wt=new $p("onBeforeInput","beforeinput",null,v,qe),Xe.push({event:Wt,listeners:At}),Wt.data=mt)),qZ(Xe,c,Me,v,qe)}S3(Xe,h)})}function gm(c,h,v){return{instance:c,listener:h,currentTarget:v}}function Vy(c,h){for(var v=h+"Capture",w=[];c!==null;){var M=c,B=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||B===null||(M=dc(c,v),M!=null&&w.unshift(gm(c,M,B)),M=dc(c,h),M!=null&&w.push(gm(c,M,B))),c.tag===3)return w;c=c.return}return[]}function Oh(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function D3(c,h,v,w,M){for(var B=h._reactName,W=[];v!==null&&v!==w;){var re=v,be=re.alternate,Me=re.stateNode;if(re=re.tag,be!==null&&be===w)break;re!==5&&re!==26&&re!==27||Me===null||(be=Me,M?(Me=dc(v,B),Me!=null&&W.unshift(gm(v,Me,be))):M||(Me=dc(v,B),Me!=null&&W.push(gm(v,Me,be)))),v=v.return}W.length!==0&&c.push({event:h,listeners:W})}var HZ=/\r\n?/g,GZ=/\u0000|\uFFFD/g;function N3(c){return(typeof c=="string"?c:""+c).replace(HZ,`
`).replace(GZ,"")}function C3(c,h){return h=N3(h),N3(c)===h}function Hy(){}function Mr(c,h,v,w,M,B){switch(v){case"children":typeof w=="string"?h==="body"||h==="textarea"&&w===""||$a(c,w):(typeof w=="number"||typeof w=="bigint")&&h!=="body"&&$a(c,""+w);break;case"className":Ri(c,"class",w);break;case"tabIndex":Ri(c,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(c,v,w);break;case"style":Ip(c,w,B);break;case"data":if(h!=="object"){Ri(c,"data",w);break}case"src":case"href":if(w===""&&(h!=="a"||v!=="href")){c.removeAttribute(v);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){c.removeAttribute(v);break}w=Qf(""+w),c.setAttribute(v,w);break;case"action":case"formAction":if(typeof w=="function"){c.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof B=="function"&&(v==="formAction"?(h!=="input"&&Mr(c,h,"name",M.name,M,null),Mr(c,h,"formEncType",M.formEncType,M,null),Mr(c,h,"formMethod",M.formMethod,M,null),Mr(c,h,"formTarget",M.formTarget,M,null)):(Mr(c,h,"encType",M.encType,M,null),Mr(c,h,"method",M.method,M,null),Mr(c,h,"target",M.target,M,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){c.removeAttribute(v);break}w=Qf(""+w),c.setAttribute(v,w);break;case"onClick":w!=null&&(c.onclick=Hy);break;case"onScroll":w!=null&&Jt("scroll",c);break;case"onScrollEnd":w!=null&&Jt("scrollend",c);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(v=w.__html,v!=null){if(M.children!=null)throw Error(n(60));c.innerHTML=v}}break;case"multiple":c.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":c.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){c.removeAttribute("xlink:href");break}v=Qf(""+w),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?c.setAttribute(v,""+w):c.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?c.setAttribute(v,""):c.removeAttribute(v);break;case"capture":case"download":w===!0?c.setAttribute(v,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?c.setAttribute(v,w):c.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?c.setAttribute(v,w):c.removeAttribute(v);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?c.removeAttribute(v):c.setAttribute(v,w);break;case"popover":Jt("beforetoggle",c),Jt("toggle",c),Yo(c,"popover",w);break;case"xlinkActuate":en(c,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":en(c,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":en(c,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":en(c,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":en(c,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":en(c,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":en(c,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":en(c,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":en(c,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":Yo(c,"is",w);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=Xx.get(v)||v,Yo(c,v,w))}}function SA(c,h,v,w,M,B){switch(v){case"style":Ip(c,w,B);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(n(61));if(v=w.__html,v!=null){if(M.children!=null)throw Error(n(60));c.innerHTML=v}}break;case"children":typeof w=="string"?$a(c,w):(typeof w=="number"||typeof w=="bigint")&&$a(c,""+w);break;case"onScroll":w!=null&&Jt("scroll",c);break;case"onScrollEnd":w!=null&&Jt("scrollend",c);break;case"onClick":w!=null&&(c.onclick=Hy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qu.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(M=v.endsWith("Capture"),h=v.slice(2,M?v.length-7:void 0),B=c[nn]||null,B=B!=null?B[v]:null,typeof B=="function"&&c.removeEventListener(h,B,M),typeof w=="function")){typeof B!="function"&&B!==null&&(v in c?c[v]=null:c.hasAttribute(v)&&c.removeAttribute(v)),c.addEventListener(h,w,M);break e}v in c?c[v]=w:w===!0?c.setAttribute(v,""):Yo(c,v,w)}}}function ui(c,h,v){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",c),Jt("load",c);var w=!1,M=!1,B;for(B in v)if(v.hasOwnProperty(B)){var W=v[B];if(W!=null)switch(B){case"src":w=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Mr(c,h,B,W,v,null)}}M&&Mr(c,h,"srcSet",v.srcSet,v,null),w&&Mr(c,h,"src",v.src,v,null);return;case"input":Jt("invalid",c);var re=B=W=M=null,be=null,Me=null;for(w in v)if(v.hasOwnProperty(w)){var qe=v[w];if(qe!=null)switch(w){case"name":M=qe;break;case"type":W=qe;break;case"checked":be=qe;break;case"defaultChecked":Me=qe;break;case"value":B=qe;break;case"defaultValue":re=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(n(137,h));break;default:Mr(c,h,w,qe,v,null)}}cc(c,B,re,be,Me,W,M,!1),Yf(c);return;case"select":Jt("invalid",c),w=W=B=null;for(M in v)if(v.hasOwnProperty(M)&&(re=v[M],re!=null))switch(M){case"value":B=re;break;case"defaultValue":W=re;break;case"multiple":w=re;default:Mr(c,h,M,re,v,null)}h=B,v=W,c.multiple=!!w,h!=null?js(c,!!w,h,!1):v!=null&&js(c,!!w,v,!0);return;case"textarea":Jt("invalid",c),B=M=w=null;for(W in v)if(v.hasOwnProperty(W)&&(re=v[W],re!=null))switch(W){case"value":w=re;break;case"defaultValue":M=re;break;case"children":B=re;break;case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(91));break;default:Mr(c,h,W,re,v,null)}fc(c,w,M,B),Yf(c);return;case"option":for(be in v)if(v.hasOwnProperty(be)&&(w=v[be],w!=null))switch(be){case"selected":c.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Mr(c,h,be,w,v,null)}return;case"dialog":Jt("beforetoggle",c),Jt("toggle",c),Jt("cancel",c),Jt("close",c);break;case"iframe":case"object":Jt("load",c);break;case"video":case"audio":for(w=0;w<vm.length;w++)Jt(vm[w],c);break;case"image":Jt("error",c),Jt("load",c);break;case"details":Jt("toggle",c);break;case"embed":case"source":case"link":Jt("error",c),Jt("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Me in v)if(v.hasOwnProperty(Me)&&(w=v[Me],w!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:Mr(c,h,Me,w,v,null)}return;default:if(Rp(h)){for(qe in v)v.hasOwnProperty(qe)&&(w=v[qe],w!==void 0&&SA(c,h,qe,w,v,void 0));return}}for(re in v)v.hasOwnProperty(re)&&(w=v[re],w!=null&&Mr(c,h,re,w,v,null))}function KZ(c,h,v,w){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,B=null,W=null,re=null,be=null,Me=null,qe=null;for(Pe in v){var Xe=v[Pe];if(v.hasOwnProperty(Pe)&&Xe!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":be=Xe;default:w.hasOwnProperty(Pe)||Mr(c,h,Pe,null,w,Xe)}}for(var Re in w){var Pe=w[Re];if(Xe=v[Re],w.hasOwnProperty(Re)&&(Pe!=null||Xe!=null))switch(Re){case"type":B=Pe;break;case"name":M=Pe;break;case"checked":Me=Pe;break;case"defaultChecked":qe=Pe;break;case"value":W=Pe;break;case"defaultValue":re=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(n(137,h));break;default:Pe!==Xe&&Mr(c,h,Re,Pe,w,Xe)}}fa(c,W,re,be,Me,qe,B,M);return;case"select":Pe=W=re=Re=null;for(B in v)if(be=v[B],v.hasOwnProperty(B)&&be!=null)switch(B){case"value":break;case"multiple":Pe=be;default:w.hasOwnProperty(B)||Mr(c,h,B,null,w,be)}for(M in w)if(B=w[M],be=v[M],w.hasOwnProperty(M)&&(B!=null||be!=null))switch(M){case"value":Re=B;break;case"defaultValue":re=B;break;case"multiple":W=B;default:B!==be&&Mr(c,h,M,B,w,be)}h=re,v=W,w=Pe,Re!=null?js(c,!!v,Re,!1):!!w!=!!v&&(h!=null?js(c,!!v,h,!0):js(c,!!v,v?[]:"",!1));return;case"textarea":Pe=Re=null;for(re in v)if(M=v[re],v.hasOwnProperty(re)&&M!=null&&!w.hasOwnProperty(re))switch(re){case"value":break;case"children":break;default:Mr(c,h,re,null,w,M)}for(W in w)if(M=w[W],B=v[W],w.hasOwnProperty(W)&&(M!=null||B!=null))switch(W){case"value":Re=M;break;case"defaultValue":Pe=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:M!==B&&Mr(c,h,W,M,w,B)}Cr(c,Re,Pe);return;case"option":for(var Tt in v)if(Re=v[Tt],v.hasOwnProperty(Tt)&&Re!=null&&!w.hasOwnProperty(Tt))switch(Tt){case"selected":c.selected=!1;break;default:Mr(c,h,Tt,null,w,Re)}for(be in w)if(Re=w[be],Pe=v[be],w.hasOwnProperty(be)&&Re!==Pe&&(Re!=null||Pe!=null))switch(be){case"selected":c.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:Mr(c,h,be,Re,w,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in v)Re=v[wt],v.hasOwnProperty(wt)&&Re!=null&&!w.hasOwnProperty(wt)&&Mr(c,h,wt,null,w,Re);for(Me in w)if(Re=w[Me],Pe=v[Me],w.hasOwnProperty(Me)&&Re!==Pe&&(Re!=null||Pe!=null))switch(Me){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,h));break;default:Mr(c,h,Me,Re,w,Pe)}return;default:if(Rp(h)){for(var Ir in v)Re=v[Ir],v.hasOwnProperty(Ir)&&Re!==void 0&&!w.hasOwnProperty(Ir)&&SA(c,h,Ir,void 0,w,Re);for(qe in w)Re=w[qe],Pe=v[qe],!w.hasOwnProperty(qe)||Re===Pe||Re===void 0&&Pe===void 0||SA(c,h,qe,Re,w,Pe);return}}for(var De in v)Re=v[De],v.hasOwnProperty(De)&&Re!=null&&!w.hasOwnProperty(De)&&Mr(c,h,De,null,w,Re);for(Xe in w)Re=w[Xe],Pe=v[Xe],!w.hasOwnProperty(Xe)||Re===Pe||Re==null&&Pe==null||Mr(c,h,Xe,Re,w,Pe)}var TA=null,DA=null;function Gy(c){return c.nodeType===9?c:c.ownerDocument}function O3(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M3(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function NA(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var CA=null;function XZ(){var c=window.event;return c&&c.type==="popstate"?c===CA?!1:(CA=c,!0):(CA=null,!1)}var I3=typeof setTimeout=="function"?setTimeout:void 0,WZ=typeof clearTimeout=="function"?clearTimeout:void 0,R3=typeof Promise=="function"?Promise:void 0,YZ=typeof queueMicrotask=="function"?queueMicrotask:typeof R3<"u"?function(c){return R3.resolve(null).then(c).catch(QZ)}:I3;function QZ(c){setTimeout(function(){throw c})}function al(c){return c==="head"}function P3(c,h){var v=h,w=0,M=0;do{var B=v.nextSibling;if(c.removeChild(v),B&&B.nodeType===8)if(v=B.data,v==="/$"){if(0<w&&8>w){v=w;var W=c.ownerDocument;if(v&1&&ym(W.documentElement),v&2&&ym(W.body),v&4)for(v=W.head,ym(v),W=v.firstChild;W;){var re=W.nextSibling,be=W.nodeName;W[Fs]||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&W.rel.toLowerCase()==="stylesheet"||v.removeChild(W),W=re}}if(M===0){c.removeChild(B),Tm(h);return}M--}else v==="$"||v==="$?"||v==="$!"?M++:w=v.charCodeAt(0)-48;else w=0;v=B}while(v);Tm(h)}function OA(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var v=h;switch(h=h.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":OA(v),Xo(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}c.removeChild(v)}}function ZZ(c,h,v,w){for(;c.nodeType===1;){var M=v;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!w&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(w){if(!c[Fs])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(B=c.getAttribute("rel"),B==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(B!==M.rel||c.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||c.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||c.getAttribute("title")!==(M.title==null?null:M.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(B=c.getAttribute("src"),(B!==(M.src==null?null:M.src)||c.getAttribute("type")!==(M.type==null?null:M.type)||c.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&B&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var B=M.name==null?null:""+M.name;if(M.type==="hidden"&&c.getAttribute("name")===B)return c}else return c;if(c=_o(c.nextSibling),c===null)break}return null}function JZ(c,h,v){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!v||(c=_o(c.nextSibling),c===null))return null;return c}function MA(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function eJ(c,h){var v=c.ownerDocument;if(c.data!=="$?"||v.readyState==="complete")h();else{var w=function(){h(),v.removeEventListener("DOMContentLoaded",w)};v.addEventListener("DOMContentLoaded",w),c._reactRetry=w}}function _o(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="F!"||h==="F")break;if(h==="/$")return null}}return c}var IA=null;function B3(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var v=c.data;if(v==="$"||v==="$!"||v==="$?"){if(h===0)return c;h--}else v==="/$"&&h++}c=c.previousSibling}return null}function k3(c,h,v){switch(h=Gy(v),c){case"html":if(c=h.documentElement,!c)throw Error(n(452));return c;case"head":if(c=h.head,!c)throw Error(n(453));return c;case"body":if(c=h.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function ym(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);Xo(c)}var Xa=new Map,F3=new Set;function Ky(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var au=V.d;V.d={f:tJ,r:rJ,D:nJ,C:iJ,L:aJ,m:oJ,X:uJ,S:sJ,M:lJ};function tJ(){var c=au.f(),h=$y();return c||h}function rJ(c){var h=ka(c);h!==null&&h.tag===5&&h.type==="form"?nP(h):au.r(c)}var Mh=typeof document>"u"?null:document;function $3(c,h,v){var w=Mh;if(w&&typeof h=="string"&&h){var M=vn(h);M='link[rel="'+c+'"][href="'+M+'"]',typeof v=="string"&&(M+='[crossorigin="'+v+'"]'),F3.has(M)||(F3.add(M),c={rel:c,crossOrigin:v,href:h},w.querySelector(M)===null&&(h=w.createElement("link"),ui(h,"link",c),Jr(h),w.head.appendChild(h)))}}function nJ(c){au.D(c),$3("dns-prefetch",c,null)}function iJ(c,h){au.C(c,h),$3("preconnect",c,h)}function aJ(c,h,v){au.L(c,h,v);var w=Mh;if(w&&c&&h){var M='link[rel="preload"][as="'+vn(h)+'"]';h==="image"&&v&&v.imageSrcSet?(M+='[imagesrcset="'+vn(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(M+='[imagesizes="'+vn(v.imageSizes)+'"]')):M+='[href="'+vn(c)+'"]';var B=M;switch(h){case"style":B=Ih(c);break;case"script":B=Rh(c)}Xa.has(B)||(c=f({rel:"preload",href:h==="image"&&v&&v.imageSrcSet?void 0:c,as:h},v),Xa.set(B,c),w.querySelector(M)!==null||h==="style"&&w.querySelector(bm(B))||h==="script"&&w.querySelector(wm(B))||(h=w.createElement("link"),ui(h,"link",c),Jr(h),w.head.appendChild(h)))}}function oJ(c,h){au.m(c,h);var v=Mh;if(v&&c){var w=h&&typeof h.as=="string"?h.as:"script",M='link[rel="modulepreload"][as="'+vn(w)+'"][href="'+vn(c)+'"]',B=M;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":B=Rh(c)}if(!Xa.has(B)&&(c=f({rel:"modulepreload",href:c},h),Xa.set(B,c),v.querySelector(M)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(wm(B)))return}w=v.createElement("link"),ui(w,"link",c),Jr(w),v.head.appendChild(w)}}}function sJ(c,h,v){au.S(c,h,v);var w=Mh;if(w&&c){var M=ii(w).hoistableStyles,B=Ih(c);h=h||"default";var W=M.get(B);if(!W){var re={loading:0,preload:null};if(W=w.querySelector(bm(B)))re.loading=5;else{c=f({rel:"stylesheet",href:c,"data-precedence":h},v),(v=Xa.get(B))&&RA(c,v);var be=W=w.createElement("link");Jr(be),ui(be,"link",c),be._p=new Promise(function(Me,qe){be.onload=Me,be.onerror=qe}),be.addEventListener("load",function(){re.loading|=1}),be.addEventListener("error",function(){re.loading|=2}),re.loading|=4,Xy(W,h,w)}W={type:"stylesheet",instance:W,count:1,state:re},M.set(B,W)}}}function uJ(c,h){au.X(c,h);var v=Mh;if(v&&c){var w=ii(v).hoistableScripts,M=Rh(c),B=w.get(M);B||(B=v.querySelector(wm(M)),B||(c=f({src:c,async:!0},h),(h=Xa.get(M))&&PA(c,h),B=v.createElement("script"),Jr(B),ui(B,"link",c),v.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},w.set(M,B))}}function lJ(c,h){au.M(c,h);var v=Mh;if(v&&c){var w=ii(v).hoistableScripts,M=Rh(c),B=w.get(M);B||(B=v.querySelector(wm(M)),B||(c=f({src:c,async:!0,type:"module"},h),(h=Xa.get(M))&&PA(c,h),B=v.createElement("script"),Jr(B),ui(B,"link",c),v.head.appendChild(B)),B={type:"script",instance:B,count:1,state:null},w.set(M,B))}}function L3(c,h,v,w){var M=(M=ge.current)?Ky(M):null;if(!M)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(h=Ih(v.href),v=ii(M).hoistableStyles,w=v.get(h),w||(w={type:"style",instance:null,count:0,state:null},v.set(h,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){c=Ih(v.href);var B=ii(M).hoistableStyles,W=B.get(c);if(W||(M=M.ownerDocument||M,W={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},B.set(c,W),(B=M.querySelector(bm(c)))&&!B._p&&(W.instance=B,W.state.loading=5),Xa.has(c)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},Xa.set(c,v),B||cJ(M,c,v,W.state))),h&&w===null)throw Error(n(528,""));return W}if(h&&w!==null)throw Error(n(529,""));return null;case"script":return h=v.async,v=v.src,typeof v=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Rh(v),v=ii(M).hoistableScripts,w=v.get(h),w||(w={type:"script",instance:null,count:0,state:null},v.set(h,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function Ih(c){return'href="'+vn(c)+'"'}function bm(c){return'link[rel="stylesheet"]['+c+"]"}function j3(c){return f({},c,{"data-precedence":c.precedence,precedence:null})}function cJ(c,h,v,w){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?w.loading=1:(h=c.createElement("link"),w.preload=h,h.addEventListener("load",function(){return w.loading|=1}),h.addEventListener("error",function(){return w.loading|=2}),ui(h,"link",v),Jr(h),c.head.appendChild(h))}function Rh(c){return'[src="'+vn(c)+'"]'}function wm(c){return"script[async]"+c}function q3(c,h,v){if(h.count++,h.instance===null)switch(h.type){case"style":var w=c.querySelector('style[data-href~="'+vn(v.href)+'"]');if(w)return h.instance=w,Jr(w),w;var M=f({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return w=(c.ownerDocument||c).createElement("style"),Jr(w),ui(w,"style",M),Xy(w,v.precedence,c),h.instance=w;case"stylesheet":M=Ih(v.href);var B=c.querySelector(bm(M));if(B)return h.state.loading|=4,h.instance=B,Jr(B),B;w=j3(v),(M=Xa.get(M))&&RA(w,M),B=(c.ownerDocument||c).createElement("link"),Jr(B);var W=B;return W._p=new Promise(function(re,be){W.onload=re,W.onerror=be}),ui(B,"link",w),h.state.loading|=4,Xy(B,v.precedence,c),h.instance=B;case"script":return B=Rh(v.src),(M=c.querySelector(wm(B)))?(h.instance=M,Jr(M),M):(w=v,(M=Xa.get(B))&&(w=f({},v),PA(w,M)),c=c.ownerDocument||c,M=c.createElement("script"),Jr(M),ui(M,"link",w),c.head.appendChild(M),h.instance=M);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(w=h.instance,h.state.loading|=4,Xy(w,v.precedence,c));return h.instance}function Xy(c,h,v){for(var w=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=w.length?w[w.length-1]:null,B=M,W=0;W<w.length;W++){var re=w[W];if(re.dataset.precedence===h)B=re;else if(B!==M)break}B?B.parentNode.insertBefore(c,B.nextSibling):(h=v.nodeType===9?v.head:v,h.insertBefore(c,h.firstChild))}function RA(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function PA(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var Wy=null;function U3(c,h,v){if(Wy===null){var w=new Map,M=Wy=new Map;M.set(v,w)}else M=Wy,w=M.get(v),w||(w=new Map,M.set(v,w));if(w.has(c))return w;for(w.set(c,null),v=v.getElementsByTagName(c),M=0;M<v.length;M++){var B=v[M];if(!(B[Fs]||B[cn]||c==="link"&&B.getAttribute("rel")==="stylesheet")&&B.namespaceURI!=="http://www.w3.org/2000/svg"){var W=B.getAttribute(h)||"";W=c+W;var re=w.get(W);re?re.push(B):w.set(W,[B])}}return w}function z3(c,h,v){c=c.ownerDocument||c,c.head.insertBefore(v,h==="title"?c.querySelector("head > title"):null)}function fJ(c,h,v){if(v===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function V3(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var xm=null;function hJ(){}function dJ(c,h,v){if(xm===null)throw Error(n(475));var w=xm;if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var M=Ih(v.href),B=c.querySelector(bm(M));if(B){c=B._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(w.count++,w=Yy.bind(w),c.then(w,w)),h.state.loading|=4,h.instance=B,Jr(B);return}B=c.ownerDocument||c,v=j3(v),(M=Xa.get(M))&&RA(v,M),B=B.createElement("link"),Jr(B);var W=B;W._p=new Promise(function(re,be){W.onload=re,W.onerror=be}),ui(B,"link",v),h.instance=B}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(w.count++,h=Yy.bind(w),c.addEventListener("load",h),c.addEventListener("error",h))}}function pJ(){if(xm===null)throw Error(n(475));var c=xm;return c.stylesheets&&c.count===0&&BA(c,c.stylesheets),0<c.count?function(h){var v=setTimeout(function(){if(c.stylesheets&&BA(c,c.stylesheets),c.unsuspend){var w=c.unsuspend;c.unsuspend=null,w()}},6e4);return c.unsuspend=h,function(){c.unsuspend=null,clearTimeout(v)}}:null}function Yy(){if(this.count--,this.count===0){if(this.stylesheets)BA(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Qy=null;function BA(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Qy=new Map,h.forEach(mJ,c),Qy=null,Yy.call(c))}function mJ(c,h){if(!(h.state.loading&4)){var v=Qy.get(c);if(v)var w=v.get(null);else{v=new Map,Qy.set(c,v);for(var M=c.querySelectorAll("link[data-precedence],style[data-precedence]"),B=0;B<M.length;B++){var W=M[B];(W.nodeName==="LINK"||W.getAttribute("media")!=="not all")&&(v.set(W.dataset.precedence,W),w=W)}w&&v.set(null,w)}M=h.instance,W=M.getAttribute("data-precedence"),B=v.get(W)||w,B===w&&v.set(null,M),v.set(W,M),this.count++,w=Yy.bind(this),M.addEventListener("load",w),M.addEventListener("error",w),B?B.parentNode.insertBefore(M,B.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(M,c.firstChild)),h.state.loading|=4}}var _m={$$typeof:A,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function vJ(c,h,v,w,M,B,W,re){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.hiddenUpdates=dt(null),this.identifierPrefix=w,this.onUncaughtError=M,this.onCaughtError=B,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function H3(c,h,v,w,M,B,W,re,be,Me,qe,Xe){return c=new vJ(c,h,v,W,re,be,Me,Xe),h=1,B===!0&&(h|=24),B=da(3,null,null,h),c.current=B,B.stateNode=c,h=v_(),h.refCount++,c.pooledCache=h,h.refCount++,B.memoizedState={element:w,isDehydrated:v,cache:h},w_(B),c}function G3(c){return c?(c=ch,c):ch}function K3(c,h,v,w,M,B){M=G3(M),w.context===null?w.context=M:w.pendingContext=M,w=Gu(h),w.payload={element:v},B=B===void 0?null:B,B!==null&&(w.callback=B),v=Ku(c,w,h),v!==null&&(ya(v,c,h),Zp(v,c,h))}function X3(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<h?v:h}}function kA(c,h){X3(c,h),(c=c.alternate)&&X3(c,h)}function W3(c){if(c.tag===13){var h=lh(c,67108864);h!==null&&ya(h,c,67108864),kA(c,67108864)}}var Zy=!0;function gJ(c,h,v,w){var M=F.T;F.T=null;var B=V.p;try{V.p=2,FA(c,h,v,w)}finally{V.p=B,F.T=M}}function yJ(c,h,v,w){var M=F.T;F.T=null;var B=V.p;try{V.p=8,FA(c,h,v,w)}finally{V.p=B,F.T=M}}function FA(c,h,v,w){if(Zy){var M=$A(w);if(M===null)EA(c,h,w,Jy,v),Q3(c,w);else if(wJ(M,c,h,v,w))w.stopPropagation();else if(Q3(c,w),h&4&&-1<bJ.indexOf(c)){for(;M!==null;){var B=ka(M);if(B!==null)switch(B.tag){case 3:if(B=B.stateNode,B.current.memoizedState.isDehydrated){var W=Gt(B.pendingLanes);if(W!==0){var re=B;for(re.pendingLanes|=2,re.entangledLanes|=2;W;){var be=1<<31-Be(W);re.entanglements[1]|=be,W&=~be}us(B),(Ar&6)===0&&(ky=Ke()+500,mm(0))}}break;case 13:re=lh(B,2),re!==null&&ya(re,B,2),$y(),kA(B,2)}if(B=$A(w),B===null&&EA(c,h,w,Jy,v),B===M)break;M=B}M!==null&&w.stopPropagation()}else EA(c,h,w,null,v)}}function $A(c){return c=La(c),LA(c)}var Jy=null;function LA(c){if(Jy=null,c=go(c),c!==null){var h=a(c);if(h===null)c=null;else{var v=h.tag;if(v===13){if(c=o(h),c!==null)return c;c=null}else if(v===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return Jy=c,null}function Y3(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case nt:return 2;case ae:return 8;case he:case le:return 32;case Y:return 268435456;default:return 32}default:return 32}}var jA=!1,ol=null,sl=null,ul=null,Am=new Map,Em=new Map,ll=[],bJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q3(c,h){switch(c){case"focusin":case"focusout":ol=null;break;case"dragenter":case"dragleave":sl=null;break;case"mouseover":case"mouseout":ul=null;break;case"pointerover":case"pointerout":Am.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Em.delete(h.pointerId)}}function Sm(c,h,v,w,M,B){return c===null||c.nativeEvent!==B?(c={blockedOn:h,domEventName:v,eventSystemFlags:w,nativeEvent:B,targetContainers:[M]},h!==null&&(h=ka(h),h!==null&&W3(h)),c):(c.eventSystemFlags|=w,h=c.targetContainers,M!==null&&h.indexOf(M)===-1&&h.push(M),c)}function wJ(c,h,v,w,M){switch(h){case"focusin":return ol=Sm(ol,c,h,v,w,M),!0;case"dragenter":return sl=Sm(sl,c,h,v,w,M),!0;case"mouseover":return ul=Sm(ul,c,h,v,w,M),!0;case"pointerover":var B=M.pointerId;return Am.set(B,Sm(Am.get(B)||null,c,h,v,w,M)),!0;case"gotpointercapture":return B=M.pointerId,Em.set(B,Sm(Em.get(B)||null,c,h,v,w,M)),!0}return!1}function Z3(c){var h=go(c.target);if(h!==null){var v=a(h);if(v!==null){if(h=v.tag,h===13){if(h=o(v),h!==null){c.blockedOn=h,Vf(c.priority,function(){if(v.tag===13){var w=ga();w=Ho(w);var M=lh(v,w);M!==null&&ya(M,v,w),kA(v,w)}});return}}else if(h===3&&v.stateNode.current.memoizedState.isDehydrated){c.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}c.blockedOn=null}function e0(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var v=$A(c.nativeEvent);if(v===null){v=c.nativeEvent;var w=new v.constructor(v.type,v);qs=w,v.target.dispatchEvent(w),qs=null}else return h=ka(v),h!==null&&W3(h),c.blockedOn=v,!1;h.shift()}return!0}function J3(c,h,v){e0(c)&&v.delete(h)}function xJ(){jA=!1,ol!==null&&e0(ol)&&(ol=null),sl!==null&&e0(sl)&&(sl=null),ul!==null&&e0(ul)&&(ul=null),Am.forEach(J3),Em.forEach(J3)}function t0(c,h){c.blockedOn===h&&(c.blockedOn=null,jA||(jA=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,xJ)))}var r0=null;function e4(c){r0!==c&&(r0=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){r0===c&&(r0=null);for(var h=0;h<c.length;h+=3){var v=c[h],w=c[h+1],M=c[h+2];if(typeof w!="function"){if(LA(w||v)===null)continue;break}var B=ka(v);B!==null&&(c.splice(h,3),h-=3,L_(B,{pending:!0,data:M,method:v.method,action:w},w,M))}}))}function Tm(c){function h(be){return t0(be,c)}ol!==null&&t0(ol,c),sl!==null&&t0(sl,c),ul!==null&&t0(ul,c),Am.forEach(h),Em.forEach(h);for(var v=0;v<ll.length;v++){var w=ll[v];w.blockedOn===c&&(w.blockedOn=null)}for(;0<ll.length&&(v=ll[0],v.blockedOn===null);)Z3(v),v.blockedOn===null&&ll.shift();if(v=(c.ownerDocument||c).$$reactFormReplay,v!=null)for(w=0;w<v.length;w+=3){var M=v[w],B=v[w+1],W=M[nn]||null;if(typeof B=="function")W||e4(v);else if(W){var re=null;if(B&&B.hasAttribute("formAction")){if(M=B,W=B[nn]||null)re=W.formAction;else if(LA(M)!==null)continue}else re=W.action;typeof re=="function"?v[w+1]=re:(v.splice(w,3),w-=3),e4(v)}}}function qA(c){this._internalRoot=c}n0.prototype.render=qA.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(n(409));var v=h.current,w=ga();K3(v,w,c,h,null,null)},n0.prototype.unmount=qA.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;K3(c.current,2,null,c,null,null),$y(),h[Xi]=null}};function n0(c){this._internalRoot=c}n0.prototype.unstable_scheduleHydration=function(c){if(c){var h=Go();c={blockedOn:null,target:c,priority:h};for(var v=0;v<ll.length&&h!==0&&h<ll[v].priority;v++);ll.splice(v,0,c),v===0&&Z3(c)}};var t4=e.version;if(t4!=="19.1.1")throw Error(n(527,t4,"19.1.1"));V.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=l(h),c=c!==null?u(c):null,c=c===null?null:c.stateNode,c};var _J={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{ye=i0.inject(_J),me=i0}catch{}}return Nm.createRoot=function(c,h){if(!i(c))throw Error(n(299));var v=!1,w="",M=gP,B=yP,W=bP,re=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onUncaughtError!==void 0&&(M=h.onUncaughtError),h.onCaughtError!==void 0&&(B=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(re=h.unstable_transitionCallbacks)),h=H3(c,1,!1,null,null,v,w,M,B,W,re,null),c[Xi]=h.current,AA(c),new qA(h)},Nm.hydrateRoot=function(c,h,v){if(!i(c))throw Error(n(299));var w=!1,M="",B=gP,W=yP,re=bP,be=null,Me=null;return v!=null&&(v.unstable_strictMode===!0&&(w=!0),v.identifierPrefix!==void 0&&(M=v.identifierPrefix),v.onUncaughtError!==void 0&&(B=v.onUncaughtError),v.onCaughtError!==void 0&&(W=v.onCaughtError),v.onRecoverableError!==void 0&&(re=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(be=v.unstable_transitionCallbacks),v.formState!==void 0&&(Me=v.formState)),h=H3(c,1,!0,h,v??null,w,M,B,W,re,be,Me),h.context=G3(null),v=h.current,w=ga(),w=Ho(w),M=Gu(w),M.callback=null,Ku(v,M,w),v=w,h.current.lanes=v,_r(h,v),us(h),c[Xi]=h.current,AA(c),new n0(h)},Nm.version="19.1.1",Nm}var f4;function RJ(){if(f4)return VA.exports;f4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),VA.exports=IJ(),VA.exports}var PJ=RJ();const BJ=()=>{};var h4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},kJ=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],o=t[r++],s=t[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},KC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,s=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=a>>2,d=(a&3)<<4|s>>4;let p=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(p=64)),n.push(r[f],r[d],r[p],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Lz(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kJ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],s=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const d=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new FJ;const p=a<<2|s>>4;if(n.push(p),u!==64){const m=s<<4&240|u>>2;if(n.push(m),d!==64){const y=u<<6&192|d;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $J=function(t){const e=Lz(t);return KC.encodeByteArray(e,!0)},wb=function(t){return $J(t).replace(/\./g,"")},jz=function(t){try{return KC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ=()=>qz().__FIREBASE_DEFAULTS__,jJ=()=>{if(typeof process>"u"||typeof h4>"u")return;const t=h4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qJ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jz(t[1]);return e&&JSON.parse(e)},cw=()=>{try{return BJ()||LJ()||jJ()||qJ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Uz=t=>cw()?.emulatorHosts?.[t],XC=t=>{const e=Uz(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},zz=()=>cw()?.config,Vz=t=>cw()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hz(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wb(JSON.stringify(r)),wb(JSON.stringify(o)),""].join(".")}const Qm={};function UJ(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qm))Qm[e]?t.emulator.push(e):t.prod.push(e);return t}function zJ(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let d4=!1;function hw(t,e){if(typeof window>"u"||typeof document>"u"||!Ns(window.location.host)||Qm[t]===e||Qm[t]||d4)return;Qm[t]=e;function r(p){return`__firebase__banner__${p}`}const n="__firebase__banner",a=UJ().prod.length>0;function o(){const p=document.getElementById(n);p&&p.remove()}function s(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{d4=!0,o()},p}function f(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=zJ(n),m=r("text"),y=document.getElementById(m)||document.createElement("span"),g=r("learnmore"),b=document.getElementById(g)||document.createElement("a"),E=r("preprendIcon"),O=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;s(A),f(b,g);const S=u();l(O,E),A.append(O,y,b,S),document.body.appendChild(A)}a?(y.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ci())}function HJ(){const t=cw()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GJ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KJ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WJ(){const t=Ci();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YJ(){return!HJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WC(){try{return typeof indexedDB=="object"}catch{return!1}}function QJ(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZJ="FirebaseError";class ko extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=ZJ,Object.setPrototypeOf(this,ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,np.prototype.create)}}class np{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?JJ(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ko(i,s,n)}}function JJ(t,e){return t.replace(eee,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const eee=/\{\$([^}]+)}/g;function tee(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cf(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],o=e[i];if(p4(a)&&p4(o)){if(!cf(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function p4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ree(t,e){const r=new nee(t,e);return r.subscribe.bind(r)}class nee{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");iee(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=XA),i.error===void 0&&(i.error=XA),i.complete===void 0&&(i.complete=XA);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iee(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function XA(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aee=1e3,oee=2,see=14400*1e3,uee=.5;function lee(t,e=aee,r=oee){const n=e*Math.pow(r,t),i=Math.round(uee*n*(Math.random()-.5)*2);return Math.min(see,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t){return t&&t._delegate?t._delegate:t}class Po{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cee{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new pv;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hee(e))try{this.getOrInitializeService({instanceIdentifier:$c})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=$c){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$c){return this.instances.has(e)}getOptions(e=$c){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:fee(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=$c){return this.component?this.component.multipleInstances?e:$c:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fee(t){return t===$c?void 0:t}function hee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new cee(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tr||(tr={}));const pee={debug:tr.DEBUG,verbose:tr.VERBOSE,info:tr.INFO,warn:tr.WARN,error:tr.ERROR,silent:tr.SILENT},mee=tr.INFO,vee={[tr.DEBUG]:"log",[tr.VERBOSE]:"log",[tr.INFO]:"info",[tr.WARN]:"warn",[tr.ERROR]:"error"},gee=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=vee[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dw{constructor(e){this.name=e,this._logLevel=mee,this._logHandler=gee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tr.DEBUG,...e),this._logHandler(this,tr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tr.VERBOSE,...e),this._logHandler(this,tr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tr.INFO,...e),this._logHandler(this,tr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tr.WARN,...e),this._logHandler(this,tr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tr.ERROR,...e),this._logHandler(this,tr.ERROR,...e)}}const yee=(t,e)=>e.some(r=>t instanceof r);let m4,v4;function bee(){return m4||(m4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wee(){return v4||(v4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Gz=new WeakMap,D2=new WeakMap,Kz=new WeakMap,WA=new WeakMap,YC=new WeakMap;function xee(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(Cl(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&Gz.set(r,t)}).catch(()=>{}),YC.set(e,t),e}function _ee(t){if(D2.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});D2.set(t,e)}let N2={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return D2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Kz.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Cl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Aee(t){N2=t(N2)}function Eee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(YA(this),e,...r);return Kz.set(n,e.sort?e.sort():[e]),Cl(n)}:wee().includes(t)?function(...e){return t.apply(YA(this),e),Cl(Gz.get(this))}:function(...e){return Cl(t.apply(YA(this),e))}}function See(t){return typeof t=="function"?Eee(t):(t instanceof IDBTransaction&&_ee(t),yee(t,bee())?new Proxy(t,N2):t)}function Cl(t){if(t instanceof IDBRequest)return xee(t);if(WA.has(t))return WA.get(t);const e=See(t);return e!==t&&(WA.set(t,e),YC.set(e,t)),e}const YA=t=>YC.get(t);function Tee(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),s=Cl(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Cl(o.result),l.oldVersion,l.newVersion,Cl(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const Dee=["get","getKey","getAll","getAllKeys","count"],Nee=["put","add","delete","clear"],QA=new Map;function g4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(QA.get(e))return QA.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Nee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Dee.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return QA.set(e,a),a}Aee(t=>({...t,get:(e,r,n)=>g4(e,r)||t.get(e,r,n),has:(e,r)=>!!g4(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Oee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Oee(t){return t.getComponent()?.type==="VERSION"}const C2="@firebase/app",y4="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su=new dw("@firebase/app"),Mee="@firebase/app-compat",Iee="@firebase/analytics-compat",Ree="@firebase/analytics",Pee="@firebase/app-check-compat",Bee="@firebase/app-check",kee="@firebase/auth",Fee="@firebase/auth-compat",$ee="@firebase/database",Lee="@firebase/data-connect",jee="@firebase/database-compat",qee="@firebase/functions",Uee="@firebase/functions-compat",zee="@firebase/installations",Vee="@firebase/installations-compat",Hee="@firebase/messaging",Gee="@firebase/messaging-compat",Kee="@firebase/performance",Xee="@firebase/performance-compat",Wee="@firebase/remote-config",Yee="@firebase/remote-config-compat",Qee="@firebase/storage",Zee="@firebase/storage-compat",Jee="@firebase/firestore",ete="@firebase/ai",tte="@firebase/firestore-compat",rte="firebase",nte="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="[DEFAULT]",ite={[C2]:"fire-core",[Mee]:"fire-core-compat",[Ree]:"fire-analytics",[Iee]:"fire-analytics-compat",[Bee]:"fire-app-check",[Pee]:"fire-app-check-compat",[kee]:"fire-auth",[Fee]:"fire-auth-compat",[$ee]:"fire-rtdb",[Lee]:"fire-data-connect",[jee]:"fire-rtdb-compat",[qee]:"fire-fn",[Uee]:"fire-fn-compat",[zee]:"fire-iid",[Vee]:"fire-iid-compat",[Hee]:"fire-fcm",[Gee]:"fire-fcm-compat",[Kee]:"fire-perf",[Xee]:"fire-perf-compat",[Wee]:"fire-rc",[Yee]:"fire-rc-compat",[Qee]:"fire-gcs",[Zee]:"fire-gcs-compat",[Jee]:"fire-fst",[tte]:"fire-fst-compat",[ete]:"fire-vertex","fire-js":"fire-js",[rte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=new Map,ate=new Map,M2=new Map;function b4(t,e){try{t.container.addComponent(e)}catch(r){Su.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function _s(t){const e=t.name;if(M2.has(e))return Su.debug(`There were multiple attempts to register component ${e}.`),!1;M2.set(e,t);for(const r of xb.values())b4(r,t);for(const r of ate.values())b4(r,t);return!0}function Af(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Ta(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ol=new np("app","Firebase",ote);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ste{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Po("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ol.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=nte;function Xz(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:O2,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Ol.create("bad-app-name",{appName:String(i)});if(r||(r=zz()),!r)throw Ol.create("no-options");const a=xb.get(i);if(a){if(cf(r,a.options)&&cf(n,a.config))return a;throw Ol.create("duplicate-app",{appName:i})}const o=new dee(i);for(const l of M2.values())o.addComponent(l);const s=new ste(r,n,o);return xb.set(i,s),s}function fg(t=O2){const e=xb.get(t);if(!e&&t===O2&&zz())return Xz();if(!e)throw Ol.create("no-app",{appName:t});return e}function Oa(t,e,r){let n=ite[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Su.warn(o.join(" "));return}_s(new Po(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute="firebase-heartbeat-database",lte=1,mv="firebase-heartbeat-store";let ZA=null;function Wz(){return ZA||(ZA=Tee(ute,lte,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mv)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ol.create("idb-open",{originalErrorMessage:t.message})})),ZA}async function cte(t){try{const r=(await Wz()).transaction(mv),n=await r.objectStore(mv).get(Yz(t));return await r.done,n}catch(e){if(e instanceof ko)Su.warn(e.message);else{const r=Ol.create("idb-get",{originalErrorMessage:e?.message});Su.warn(r.message)}}}async function w4(t,e){try{const n=(await Wz()).transaction(mv,"readwrite");await n.objectStore(mv).put(e,Yz(t)),await n.done}catch(r){if(r instanceof ko)Su.warn(r.message);else{const n=Ol.create("idb-set",{originalErrorMessage:r?.message});Su.warn(n.message)}}}function Yz(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fte=1024,hte=30;class dte{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new mte(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=x4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>hte){const i=vte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Su.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x4(),{heartbeatsToSend:r,unsentEntries:n}=pte(this._heartbeatsCache.heartbeats),i=wb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Su.warn(e),""}}}function x4(){return new Date().toISOString().substring(0,10)}function pte(t,e=fte){const r=[];let n=t.slice();for(const i of t){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),_4(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),_4(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class mte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WC()?QJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await cte(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return w4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return w4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function _4(t){return wb(JSON.stringify({version:2,heartbeats:t})).length}function vte(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gte(t){_s(new Po("platform-logger",e=>new Cee(e),"PRIVATE")),_s(new Po("heartbeat",e=>new dte(e),"PRIVATE")),Oa(C2,y4,t),Oa(C2,y4,"esm2020"),Oa("fire-js","")}gte("");function Qz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yte=Qz,Zz=new np("auth","Firebase",Qz());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new dw("@firebase/auth");function bte(t,...e){_b.logLevel<=tr.WARN&&_b.warn(`Auth (${Ef}): ${t}`,...e)}function J0(t,...e){_b.logLevel<=tr.ERROR&&_b.error(`Auth (${Ef}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(t,...e){throw ZC(t,...e)}function Mo(t,...e){return ZC(t,...e)}function QC(t,e,r){const n={...yte(),[e]:r};return new np("auth","Firebase",n).create(e,{appName:t.name})}function tf(t){return QC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wte(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&As(t,"argument-error"),QC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ZC(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Zz.create(t,...e)}function Ot(t,e,...r){if(!t)throw ZC(e,...r)}function du(t){const e="INTERNAL ASSERTION FAILED: "+t;throw J0(e),new Error(e)}function Tu(t,e){t||du(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return typeof self<"u"&&self.location?.href||""}function xte(){return A4()==="http:"||A4()==="https:"}function A4(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _te(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xte()||KJ()||"connection"in navigator)?navigator.onLine:!0}function Ate(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,r){this.shortDelay=e,this.longDelay=r,Tu(r>e,"Short delay should be less than long delay!"),this.isMobile=VJ()||XJ()}get(){return _te()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t,e){Tu(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;du("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;du("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;du("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ste=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Tte=new hg(3e4,6e4);function eO(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Sf(t,e,r,n,i={}){return e7(t,i,async()=>{let a={},o={};n&&(e==="GET"?o=n:a={body:JSON.stringify(n)});const s=cg({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...a};return GJ()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ns(t.emulatorConfig.host)&&(u.credentials="include"),Jz.fetch()(await t7(t,t.config.apiHost,r,s),u)})}async function e7(t,e,r){t._canInitEmulator=!1;const n={...Ete,...e};try{const i=new Nte(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw o0(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw o0(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw o0(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw o0(t,"user-disabled",o);const f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw QC(t,f,u);As(t,f)}}catch(i){if(i instanceof ko)throw i;As(t,"network-request-failed",{message:String(i)})}}async function Dte(t,e,r,n,i={}){const a=await Sf(t,e,r,n,i);return"mfaPendingCredential"in a&&As(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function t7(t,e,r,n){const i=`${e}${r}?${n}`,a=t,o=a.config.emulator?JC(t.config,i):`${t.config.apiScheme}://${i}`;return Ste.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}class Nte{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Mo(this.auth,"network-request-failed")),Tte.get())})}}function o0(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Mo(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cte(t,e){return Sf(t,"POST","/v1/accounts:delete",e)}async function Ab(t,e){return Sf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ote(t,e=!1){const r=Gr(t),n=await r.getIdToken(e),i=tO(n);Ot(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:n,authTime:Zm(JA(i.auth_time)),issuedAtTime:Zm(JA(i.iat)),expirationTime:Zm(JA(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function JA(t){return Number(t)*1e3}function tO(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return J0("JWT malformed, contained fewer than 3 sections"),null;try{const i=jz(r);return i?JSON.parse(i):(J0("Failed to decode base64 JWT payload"),null)}catch(i){return J0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function E4(t){const e=tO(t);return Ot(e,"internal-error"),Ot(typeof e.exp<"u","internal-error"),Ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ko&&Mte(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Mte({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ite{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zm(this.lastLoginAt),this.creationTime=Zm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(t){const e=t.auth,r=await t.getIdToken(),n=await md(t,Ab(e,{idToken:r}));Ot(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?r7(i.providerUserInfo):[],o=Pte(t.providerData,a),s=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!o?.length,u=s?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new R2(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Rte(t){const e=Gr(t);await Eb(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Pte(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function r7(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bte(t,e){const r=await e7(t,{},async()=>{const n=cg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await t7(t,i,"/v1/token",`key=${a}`),s=await t._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:s,body:n};return t.emulatorConfig&&Ns(t.emulatorConfig.host)&&(l.credentials="include"),Jz.fetch()(o,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function kte(t,e){return Sf(t,"POST","/v2/accounts:revokeToken",eO(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ot(e.idToken,"internal-error"),Ot(typeof e.idToken<"u","internal-error"),Ot(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):E4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ot(e.length!==0,"internal-error");const r=E4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await Bte(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new ad;return n&&(Ot(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(Ot(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ot(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ad,this.toJSON())}_performRefresh(){return du("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t,e){Ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oo{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Ite(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new R2(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await md(this,this.stsTokenManager.getToken(this.auth,e));return Ot(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Ote(this,e)}reload(){return Rte(this)}_assign(e){this!==e&&(Ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Oo({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Eb(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ta(this.auth.app))return Promise.reject(tf(this.auth));const e=await this.getIdToken();return await md(this,Cte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,o=r.photoURL??void 0,s=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:m,providerData:y,stsTokenManager:g}=r;Ot(d&&g,e,"internal-error");const b=ad.fromJSON(this.name,g);Ot(typeof d=="string",e,"internal-error"),fl(n,e.name),fl(i,e.name),Ot(typeof p=="boolean",e,"internal-error"),Ot(typeof m=="boolean",e,"internal-error"),fl(a,e.name),fl(o,e.name),fl(s,e.name),fl(l,e.name),fl(u,e.name),fl(f,e.name);const E=new Oo({uid:d,auth:e,email:i,emailVerified:p,displayName:n,isAnonymous:m,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:b,createdAt:u,lastLoginAt:f});return y&&Array.isArray(y)&&(E.providerData=y.map(O=>({...O}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,r,n=!1){const i=new ad;i.updateFromServerResponse(r);const a=new Oo({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Eb(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ot(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?r7(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,s=new ad;s.updateFromIdToken(n);const l=new Oo({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new R2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new Map;function pu(t){Tu(t instanceof Function,"Expected a class definition");let e=S4.get(t);return e?(Tu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,S4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}n7.type="NONE";const T4=n7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t,e,r){return`firebase:${t}:${e}:${r}`}class od{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=eb(this.userKey,i.apiKey,a),this.fullPersistenceKey=eb("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Ab(this.auth,{idToken:e}).catch(()=>{});return r?Oo._fromGetAccountInfoResponse(this.auth,r,e):null}return Oo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new od(pu(T4),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||pu(T4);const o=eb(n,e.config.apiKey,e.name);let s=null;for(const u of r)try{const f=await u._get(o);if(f){let d;if(typeof f=="string"){const p=await Ab(e,{idToken:f}).catch(()=>{});if(!p)break;d=await Oo._fromGetAccountInfoResponse(e,p,f)}else d=Oo._fromJSON(e,f);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new od(a,e,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new od(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s7(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i7(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l7(e))return"Blackberry";if(c7(e))return"Webos";if(a7(e))return"Safari";if((e.includes("chrome/")||o7(e))&&!e.includes("edge/"))return"Chrome";if(u7(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function i7(t=Ci()){return/firefox\//i.test(t)}function a7(t=Ci()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o7(t=Ci()){return/crios\//i.test(t)}function s7(t=Ci()){return/iemobile/i.test(t)}function u7(t=Ci()){return/android/i.test(t)}function l7(t=Ci()){return/blackberry/i.test(t)}function c7(t=Ci()){return/webos/i.test(t)}function rO(t=Ci()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Fte(t=Ci()){return rO(t)&&!!window.navigator?.standalone}function $te(){return WJ()&&document.documentMode===10}function f7(t=Ci()){return rO(t)||u7(t)||c7(t)||l7(t)||/windows phone/i.test(t)||s7(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h7(t,e=[]){let r;switch(t){case"Browser":r=D4(Ci());break;case"Worker":r=`${D4(Ci())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ef}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((o,s)=>{try{const l=e(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jte(t,e={}){return Sf(t,"GET","/v2/passwordPolicy",eO(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte=6;class Ute{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??qte,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zte{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N4(this),this.idTokenSubscription=new N4(this),this.beforeStateQueue=new Lte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Zz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=pu(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await od.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Ab(this,{idToken:e}),n=await Oo._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ta(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=n?._redirectEventId,s=await this.tryRedirectSignIn(e);(!a||a===o)&&s?.user&&(n=s.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Eb(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ate()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ta(this.app))return Promise.reject(tf(this));const r=e?Gr(e):null;return r&&Ot(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ta(this.app)?Promise.reject(tf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ta(this.app)?Promise.reject(tf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jte(this),r=new Ute(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new np("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await kte(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&pu(e)||this._popupRedirectResolver;Ot(r,this,"argument-error"),this.redirectPersistenceManager=await od.create(this,[pu(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h7(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Ta(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&bte(`Error while retrieving App Check token: ${e.error}`),e?.token}}function pw(t){return Gr(t)}class N4{constructor(e){this.auth=e,this.observer=null,this.addObserver=ree(r=>this.observer=r)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nO={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vte(t){nO=t}function Hte(t){return nO.loadJS(t)}function Gte(){return nO.gapiScript}function Kte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(t,e){const r=Af(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(cf(a,e??{}))return i;As(i,"already-initialized")}return r.initialize({options:e})}function Wte(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(pu);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function Yte(t,e,r){const n=pw(t);Ot(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=d7(e),{host:o,port:s}=Qte(e),l=s===null?"":`:${s}`,u={url:`${a}//${o}${l}/`},f=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ot(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ot(cf(u,n.config.emulator)&&cf(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,Ns(o)?(fw(`${a}//${o}${l}`),hw("Auth",!0)):Zte()}function d7(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qte(t){const e=d7(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:C4(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:C4(o)}}}function C4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Zte(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return du("not implemented")}_getIdTokenResponse(e){return du("not implemented")}_linkToIdToken(e,r){return du("not implemented")}_getReauthenticationResolver(e){return du("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(t,e){return Dte(t,"POST","/v1/accounts:signInWithIdp",eO(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte="http://localhost";class ff extends p7{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new ff(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):As("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const o=new ff(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return sd(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,sd(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,sd(e,r)}buildRequest(){const e={requestUri:Jte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=cg(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends iO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends dg{constructor(){super("facebook.com")}static credential(e){return ff._fromParams({providerId:gl.PROVIDER_ID,signInMethod:gl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gl.credentialFromTaggedObject(e)}static credentialFromError(e){return gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gl.credential(e.oauthAccessToken)}catch{return null}}}gl.FACEBOOK_SIGN_IN_METHOD="facebook.com";gl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends dg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ff._fromParams({providerId:fu.PROVIDER_ID,signInMethod:fu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return fu.credentialFromTaggedObject(e)}static credentialFromError(e){return fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return fu.credential(r,n)}catch{return null}}}fu.GOOGLE_SIGN_IN_METHOD="google.com";fu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends dg{constructor(){super("github.com")}static credential(e){return ff._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yl.credentialFromTaggedObject(e)}static credentialFromError(e){return yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yl.credential(e.oauthAccessToken)}catch{return null}}}yl.GITHUB_SIGN_IN_METHOD="github.com";yl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends dg{constructor(){super("twitter.com")}static credential(e,r){return ff._fromParams({providerId:bl.PROVIDER_ID,signInMethod:bl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return bl.credentialFromTaggedObject(e)}static credentialFromError(e){return bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return bl.credential(r,n)}catch{return null}}}bl.TWITTER_SIGN_IN_METHOD="twitter.com";bl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await Oo._fromIdTokenResponse(e,n,i),o=O4(n);return new vd({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=O4(n);return new vd({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function O4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends ko{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Sb.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Sb(e,r,n,i)}}function m7(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Sb._fromErrorAndOperation(t,a,e,n):a})}async function ere(t,e,r=!1){const n=await md(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return vd._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tre(t,e,r=!1){const{auth:n}=t;if(Ta(n.app))return Promise.reject(tf(n));const i="reauthenticate";try{const a=await md(t,m7(n,i,e,t),r);Ot(a.idToken,n,"internal-error");const o=tO(a.idToken);Ot(o,n,"internal-error");const{sub:s}=o;return Ot(t.uid===s,n,"user-mismatch"),vd._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&As(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rre(t,e,r=!1){if(Ta(t.app))return Promise.reject(tf(t));const n="signIn",i=await m7(t,n,e),a=await vd._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nre(t,e){return Sf(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Gr(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await md(n,nre(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function ire(t,e,r,n){return Gr(t).onIdTokenChanged(e,r,n)}function are(t,e,r){return Gr(t).beforeAuthStateChanged(e,r)}function ore(t,e,r,n){return Gr(t).onAuthStateChanged(e,r,n)}function sre(t){return Gr(t).signOut()}const Tb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Tb,"1"),this.storage.removeItem(Tb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ure=1e3,lre=10;class y7 extends g7{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f7(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);$te()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lre):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},ure)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}y7.type="LOCAL";const cre=y7;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7 extends g7{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}b7.type="SESSION";const w7=b7;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fre(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new mw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!o?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await fre(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mw.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=aO("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(p.data.response);break;default:clearTimeout(f),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(){return window}function dre(t){ps().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(){return typeof ps().WorkerGlobalScope<"u"&&typeof ps().importScripts=="function"}async function pre(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mre(){return navigator?.serviceWorker?.controller||null}function vre(){return x7()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7="firebaseLocalStorageDb",gre=1,Db="firebaseLocalStorage",A7="fbase_key";class pg{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function vw(t,e){return t.transaction([Db],e?"readwrite":"readonly").objectStore(Db)}function yre(){const t=indexedDB.deleteDatabase(_7);return new pg(t).toPromise()}function P2(){const t=indexedDB.open(_7,gre);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Db,{keyPath:A7})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Db)?e(n):(n.close(),await yre(),e(await P2()))})})}async function M4(t,e,r){const n=vw(t,!0).put({[A7]:e,value:r});return new pg(n).toPromise()}async function bre(t,e){const r=vw(t,!1).get(e),n=await new pg(r).toPromise();return n===void 0?null:n.value}function I4(t,e){const r=vw(t,!0).delete(e);return new pg(r).toPromise()}const wre=800,xre=3;class E7{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P2(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>xre)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x7()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mw._getInstance(vre()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await pre(),!this.activeServiceWorker)return;this.sender=new hre(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mre()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P2();return await M4(e,Tb,"1"),await I4(e,Tb),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>M4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>bre(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>I4(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=vw(i,!1).getAll();return new pg(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wre)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}E7.type="LOCAL";const _re=E7;new hg(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t,e){return e?pu(e):(Ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO extends p7{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sd(e,this._buildIdpRequest())}_linkToIdToken(e,r){return sd(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return sd(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Are(t){return rre(t.auth,new oO(t),t.bypassAuthState)}function Ere(t){const{auth:e,user:r}=t;return Ot(r,e,"internal-error"),tre(r,new oO(t),t.bypassAuthState)}async function Sre(t){const{auth:e,user:r}=t;return Ot(r,e,"internal-error"),ere(r,new oO(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Are;case"linkViaPopup":case"linkViaRedirect":return Sre;case"reauthViaPopup":case"reauthViaRedirect":return Ere;default:As(this.auth,"internal-error")}}resolve(e){Tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tre=new hg(2e3,1e4);async function Dre(t,e,r){if(Ta(t.app))return Promise.reject(Mo(t,"operation-not-supported-in-this-environment"));const n=pw(t);wte(t,e,iO);const i=S7(n,r);return new Gc(n,"signInViaPopup",e,i).executeNotNull()}class Gc extends T7{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Gc.currentPopupAction&&Gc.currentPopupAction.cancel(),Gc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ot(e,this.auth,"internal-error"),e}async onExecution(){Tu(this.filter.length===1,"Popup operations only handle one event");const e=aO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Mo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tre.get())};e()}}Gc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nre="pendingRedirect",tb=new Map;class Cre extends T7{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=tb.get(this.auth._key());if(!e){try{const n=await Ore(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}tb.set(this.auth._key(),e)}return this.bypassAuthState||tb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ore(t,e){const r=Rre(e),n=Ire(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Mre(t,e){tb.set(t._key(),e)}function Ire(t){return pu(t._redirectPersistence)}function Rre(t){return eb(Nre,t.config.apiKey,t.name)}async function Pre(t,e,r=!1){if(Ta(t.app))return Promise.reject(tf(t));const n=pw(t),i=S7(n,e),o=await new Cre(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bre=600*1e3;class kre{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Fre(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!D7(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Mo(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Bre&&this.cachedEventUids.clear(),this.cachedEventUids.has(R4(e))}saveEventToCache(e){this.cachedEventUids.add(R4(e)),this.lastProcessedEventTime=Date.now()}}function R4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function D7({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Fre(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return D7(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $re(t,e={}){return Sf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jre=/^https?/;async function qre(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $re(t);for(const r of e)try{if(Ure(r))return}catch{}As(t,"unauthorized-domain")}function Ure(t){const e=I2(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!jre.test(r))return!1;if(Lre.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zre=new hg(3e4,6e4);function P4(){const t=ps().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function Vre(t){return new Promise((e,r)=>{function n(){P4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P4(),r(Mo(t,"network-request-failed"))},timeout:zre.get()})}if(ps().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ps().gapi?.load)n();else{const i=Kte("iframefcb");return ps()[i]=()=>{gapi.load?n():r(Mo(t,"network-request-failed"))},Hte(`${Gte()}?onload=${i}`).catch(a=>r(a))}}).catch(e=>{throw rb=null,e})}let rb=null;function Hre(t){return rb=rb||Vre(t),rb}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gre=new hg(5e3,15e3),Kre="__/auth/iframe",Xre="emulator/auth/iframe",Wre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Yre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qre(t){const e=t.config;Ot(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?JC(e,Xre):`https://${t.config.authDomain}/${Kre}`,n={apiKey:e.apiKey,appName:t.name,v:Ef},i=Yre.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${cg(n).slice(1)}`}async function Zre(t){const e=await Hre(t),r=ps().gapi;return Ot(r,t,"internal-error"),e.open({where:document.body,url:Qre(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wre,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=Mo(t,"network-request-failed"),s=ps().setTimeout(()=>{a(o)},Gre.get());function l(){ps().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ene=500,tne=600,rne="_blank",nne="http://localhost";class B4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ine(t,e,r,n=ene,i=tne){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l={...Jre,width:n.toString(),height:i.toString(),top:a,left:o},u=Ci().toLowerCase();r&&(s=o7(u)?rne:r),i7(u)&&(e=e||nne,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(Fte(u)&&s!=="_self")return ane(e||"",s),new B4(null);const d=window.open(e||"",s,f);Ot(d,t,"popup-blocked");try{d.focus()}catch{}return new B4(d)}function ane(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const one="__/auth/handler",sne="emulator/auth/handler",une=encodeURIComponent("fac");async function k4(t,e,r,n,i,a){Ot(t.config.authDomain,t,"auth-domain-config-required"),Ot(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ef,eventId:i};if(e instanceof iO){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tee(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,d]of Object.entries({}))o[f]=d}if(e instanceof dg){const f=e.getScopes().filter(d=>d!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const s=o;for(const f of Object.keys(s))s[f]===void 0&&delete s[f];const l=await t._getAppCheckToken(),u=l?`#${une}=${encodeURIComponent(l)}`:"";return`${lne(t)}?${cg(s).slice(1)}${u}`}function lne({config:t}){return t.emulator?JC(t,sne):`https://${t.authDomain}/${one}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="webStorageSupport";class cne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w7,this._completeRedirectFn=Pre,this._overrideRedirectResult=Mre}async _openPopup(e,r,n,i){Tu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await k4(e,r,n,I2(),i);return ine(e,a,aO())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await k4(e,r,n,I2(),i);return dre(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Tu(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Zre(e),n=new kre(e);return r.register("authEvent",i=>(Ot(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(eE,{type:eE},i=>{const a=i?.[0]?.[eE];a!==void 0&&r(!!a),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=qre(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return f7()||a7()||rO()}}const fne=cne;var F4="@firebase/auth",$4="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pne(t){_s(new Po("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;Ot(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h7(t)},u=new zte(n,i,a,l);return Wte(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),_s(new Po("auth-internal",e=>{const r=pw(e.getProvider("auth").getImmediate());return(n=>new hne(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oa(F4,$4,dne(t)),Oa(F4,$4,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mne=300,vne=Vz("authIdTokenMaxAge")||mne;let L4=null;const gne=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>vne)return;const i=r?.token;L4!==i&&(L4=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yne(t=fg()){const e=Af(t,"auth");if(e.isInitialized())return e.getImmediate();const r=Xte(t,{popupRedirectResolver:fne,persistence:[_re,cre,w7]}),n=Vz("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=gne(a.toString());are(r,o,()=>o(r.currentUser)),ire(r,s=>o(s))}}const i=Uz("auth");return i&&Yte(r,`http://${i}`),r}function bne(){return document.getElementsByTagName("head")?.[0]??document}Vte({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Mo("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",bne().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pne("Browser");var j4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ml,N7;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,N){function C(){}C.prototype=N.prototype,T.D=N.prototype,T.prototype=new C,T.prototype.constructor=T,T.C=function(R,I,P){for(var k=Array(arguments.length-2),q=2;q<arguments.length;q++)k[q-2]=arguments[q];return N.prototype[I].apply(R,k)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,N,C){C||(C=0);var R=Array(16);if(typeof N=="string")for(var I=0;16>I;++I)R[I]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(I=0;16>I;++I)R[I]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=T.g[0],C=T.g[1],I=T.g[2];var P=T.g[3],k=N+(P^C&(I^P))+R[0]+3614090360&4294967295;N=C+(k<<7&4294967295|k>>>25),k=P+(I^N&(C^I))+R[1]+3905402710&4294967295,P=N+(k<<12&4294967295|k>>>20),k=I+(C^P&(N^C))+R[2]+606105819&4294967295,I=P+(k<<17&4294967295|k>>>15),k=C+(N^I&(P^N))+R[3]+3250441966&4294967295,C=I+(k<<22&4294967295|k>>>10),k=N+(P^C&(I^P))+R[4]+4118548399&4294967295,N=C+(k<<7&4294967295|k>>>25),k=P+(I^N&(C^I))+R[5]+1200080426&4294967295,P=N+(k<<12&4294967295|k>>>20),k=I+(C^P&(N^C))+R[6]+2821735955&4294967295,I=P+(k<<17&4294967295|k>>>15),k=C+(N^I&(P^N))+R[7]+4249261313&4294967295,C=I+(k<<22&4294967295|k>>>10),k=N+(P^C&(I^P))+R[8]+1770035416&4294967295,N=C+(k<<7&4294967295|k>>>25),k=P+(I^N&(C^I))+R[9]+2336552879&4294967295,P=N+(k<<12&4294967295|k>>>20),k=I+(C^P&(N^C))+R[10]+4294925233&4294967295,I=P+(k<<17&4294967295|k>>>15),k=C+(N^I&(P^N))+R[11]+2304563134&4294967295,C=I+(k<<22&4294967295|k>>>10),k=N+(P^C&(I^P))+R[12]+1804603682&4294967295,N=C+(k<<7&4294967295|k>>>25),k=P+(I^N&(C^I))+R[13]+4254626195&4294967295,P=N+(k<<12&4294967295|k>>>20),k=I+(C^P&(N^C))+R[14]+2792965006&4294967295,I=P+(k<<17&4294967295|k>>>15),k=C+(N^I&(P^N))+R[15]+1236535329&4294967295,C=I+(k<<22&4294967295|k>>>10),k=N+(I^P&(C^I))+R[1]+4129170786&4294967295,N=C+(k<<5&4294967295|k>>>27),k=P+(C^I&(N^C))+R[6]+3225465664&4294967295,P=N+(k<<9&4294967295|k>>>23),k=I+(N^C&(P^N))+R[11]+643717713&4294967295,I=P+(k<<14&4294967295|k>>>18),k=C+(P^N&(I^P))+R[0]+3921069994&4294967295,C=I+(k<<20&4294967295|k>>>12),k=N+(I^P&(C^I))+R[5]+3593408605&4294967295,N=C+(k<<5&4294967295|k>>>27),k=P+(C^I&(N^C))+R[10]+38016083&4294967295,P=N+(k<<9&4294967295|k>>>23),k=I+(N^C&(P^N))+R[15]+3634488961&4294967295,I=P+(k<<14&4294967295|k>>>18),k=C+(P^N&(I^P))+R[4]+3889429448&4294967295,C=I+(k<<20&4294967295|k>>>12),k=N+(I^P&(C^I))+R[9]+568446438&4294967295,N=C+(k<<5&4294967295|k>>>27),k=P+(C^I&(N^C))+R[14]+3275163606&4294967295,P=N+(k<<9&4294967295|k>>>23),k=I+(N^C&(P^N))+R[3]+4107603335&4294967295,I=P+(k<<14&4294967295|k>>>18),k=C+(P^N&(I^P))+R[8]+1163531501&4294967295,C=I+(k<<20&4294967295|k>>>12),k=N+(I^P&(C^I))+R[13]+2850285829&4294967295,N=C+(k<<5&4294967295|k>>>27),k=P+(C^I&(N^C))+R[2]+4243563512&4294967295,P=N+(k<<9&4294967295|k>>>23),k=I+(N^C&(P^N))+R[7]+1735328473&4294967295,I=P+(k<<14&4294967295|k>>>18),k=C+(P^N&(I^P))+R[12]+2368359562&4294967295,C=I+(k<<20&4294967295|k>>>12),k=N+(C^I^P)+R[5]+4294588738&4294967295,N=C+(k<<4&4294967295|k>>>28),k=P+(N^C^I)+R[8]+2272392833&4294967295,P=N+(k<<11&4294967295|k>>>21),k=I+(P^N^C)+R[11]+1839030562&4294967295,I=P+(k<<16&4294967295|k>>>16),k=C+(I^P^N)+R[14]+4259657740&4294967295,C=I+(k<<23&4294967295|k>>>9),k=N+(C^I^P)+R[1]+2763975236&4294967295,N=C+(k<<4&4294967295|k>>>28),k=P+(N^C^I)+R[4]+1272893353&4294967295,P=N+(k<<11&4294967295|k>>>21),k=I+(P^N^C)+R[7]+4139469664&4294967295,I=P+(k<<16&4294967295|k>>>16),k=C+(I^P^N)+R[10]+3200236656&4294967295,C=I+(k<<23&4294967295|k>>>9),k=N+(C^I^P)+R[13]+681279174&4294967295,N=C+(k<<4&4294967295|k>>>28),k=P+(N^C^I)+R[0]+3936430074&4294967295,P=N+(k<<11&4294967295|k>>>21),k=I+(P^N^C)+R[3]+3572445317&4294967295,I=P+(k<<16&4294967295|k>>>16),k=C+(I^P^N)+R[6]+76029189&4294967295,C=I+(k<<23&4294967295|k>>>9),k=N+(C^I^P)+R[9]+3654602809&4294967295,N=C+(k<<4&4294967295|k>>>28),k=P+(N^C^I)+R[12]+3873151461&4294967295,P=N+(k<<11&4294967295|k>>>21),k=I+(P^N^C)+R[15]+530742520&4294967295,I=P+(k<<16&4294967295|k>>>16),k=C+(I^P^N)+R[2]+3299628645&4294967295,C=I+(k<<23&4294967295|k>>>9),k=N+(I^(C|~P))+R[0]+4096336452&4294967295,N=C+(k<<6&4294967295|k>>>26),k=P+(C^(N|~I))+R[7]+1126891415&4294967295,P=N+(k<<10&4294967295|k>>>22),k=I+(N^(P|~C))+R[14]+2878612391&4294967295,I=P+(k<<15&4294967295|k>>>17),k=C+(P^(I|~N))+R[5]+4237533241&4294967295,C=I+(k<<21&4294967295|k>>>11),k=N+(I^(C|~P))+R[12]+1700485571&4294967295,N=C+(k<<6&4294967295|k>>>26),k=P+(C^(N|~I))+R[3]+2399980690&4294967295,P=N+(k<<10&4294967295|k>>>22),k=I+(N^(P|~C))+R[10]+4293915773&4294967295,I=P+(k<<15&4294967295|k>>>17),k=C+(P^(I|~N))+R[1]+2240044497&4294967295,C=I+(k<<21&4294967295|k>>>11),k=N+(I^(C|~P))+R[8]+1873313359&4294967295,N=C+(k<<6&4294967295|k>>>26),k=P+(C^(N|~I))+R[15]+4264355552&4294967295,P=N+(k<<10&4294967295|k>>>22),k=I+(N^(P|~C))+R[6]+2734768916&4294967295,I=P+(k<<15&4294967295|k>>>17),k=C+(P^(I|~N))+R[13]+1309151649&4294967295,C=I+(k<<21&4294967295|k>>>11),k=N+(I^(C|~P))+R[4]+4149444226&4294967295,N=C+(k<<6&4294967295|k>>>26),k=P+(C^(N|~I))+R[11]+3174756917&4294967295,P=N+(k<<10&4294967295|k>>>22),k=I+(N^(P|~C))+R[2]+718787259&4294967295,I=P+(k<<15&4294967295|k>>>17),k=C+(P^(I|~N))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+N&4294967295,T.g[1]=T.g[1]+(I+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+I&4294967295,T.g[3]=T.g[3]+P&4294967295}n.prototype.u=function(T,N){N===void 0&&(N=T.length);for(var C=N-this.blockSize,R=this.B,I=this.h,P=0;P<N;){if(I==0)for(;P<=C;)i(this,T,P),P+=this.blockSize;if(typeof T=="string"){for(;P<N;)if(R[I++]=T.charCodeAt(P++),I==this.blockSize){i(this,R),I=0;break}}else for(;P<N;)if(R[I++]=T[P++],I==this.blockSize){i(this,R),I=0;break}}this.h=I,this.o+=N},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var N=1;N<T.length-8;++N)T[N]=0;var C=8*this.o;for(N=T.length-8;N<T.length;++N)T[N]=C&255,C/=256;for(this.u(T),T=Array(16),N=C=0;4>N;++N)for(var R=0;32>R;R+=8)T[C++]=this.g[N]>>>R&255;return T};function a(T,N){var C=s;return Object.prototype.hasOwnProperty.call(C,T)?C[T]:C[T]=N(T)}function o(T,N){this.h=N;for(var C=[],R=!0,I=T.length-1;0<=I;I--){var P=T[I]|0;R&&P==N||(C[I]=P,R=!1)}this.g=C}var s={};function l(T){return-128<=T&&128>T?a(T,function(N){return new o([N|0],0>N?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return b(u(-T));for(var N=[],C=1,R=0;T>=C;R++)N[R]=T/C|0,C*=4294967296;return new o(N,0)}function f(T,N){if(T.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(T.charAt(0)=="-")return b(f(T.substring(1),N));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(N,8)),R=d,I=0;I<T.length;I+=8){var P=Math.min(8,T.length-I),k=parseInt(T.substring(I,I+P),N);8>P?(P=u(Math.pow(N,P)),R=R.j(P).add(u(k))):(R=R.j(C),R=R.add(u(k)))}return R}var d=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(g(this))return-b(this).m();for(var T=0,N=1,C=0;C<this.g.length;C++){var R=this.i(C);T+=(0<=R?R:4294967296+R)*N,N*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(g(this))return"-"+b(this).toString(T);for(var N=u(Math.pow(T,6)),C=this,R="";;){var I=S(C,N).g;C=E(C,I.j(N));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(T);if(C=I,y(C))return P+R;for(;6>P.length;)P="0"+P;R=P+R}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var N=0;N<T.g.length;N++)if(T.g[N]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=E(this,T),g(T)?-1:y(T)?0:1};function b(T){for(var N=T.g.length,C=[],R=0;R<N;R++)C[R]=~T.g[R];return new o(C,~T.h).add(p)}t.abs=function(){return g(this)?b(this):this},t.add=function(T){for(var N=Math.max(this.g.length,T.g.length),C=[],R=0,I=0;I<=N;I++){var P=R+(this.i(I)&65535)+(T.i(I)&65535),k=(P>>>16)+(this.i(I)>>>16)+(T.i(I)>>>16);R=k>>>16,P&=65535,k&=65535,C[I]=k<<16|P}return new o(C,C[C.length-1]&-2147483648?-1:0)};function E(T,N){return T.add(b(N))}t.j=function(T){if(y(this)||y(T))return d;if(g(this))return g(T)?b(this).j(b(T)):b(b(this).j(T));if(g(T))return b(this.j(b(T)));if(0>this.l(m)&&0>T.l(m))return u(this.m()*T.m());for(var N=this.g.length+T.g.length,C=[],R=0;R<2*N;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var I=0;I<T.g.length;I++){var P=this.i(R)>>>16,k=this.i(R)&65535,q=T.i(I)>>>16,U=T.i(I)&65535;C[2*R+2*I]+=k*U,O(C,2*R+2*I),C[2*R+2*I+1]+=P*U,O(C,2*R+2*I+1),C[2*R+2*I+1]+=k*q,O(C,2*R+2*I+1),C[2*R+2*I+2]+=P*q,O(C,2*R+2*I+2)}for(R=0;R<N;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=N;R<2*N;R++)C[R]=0;return new o(C,0)};function O(T,N){for(;(T[N]&65535)!=T[N];)T[N+1]+=T[N]>>>16,T[N]&=65535,N++}function A(T,N){this.g=T,this.h=N}function S(T,N){if(y(N))throw Error("division by zero");if(y(T))return new A(d,d);if(g(T))return N=S(b(T),N),new A(b(N.g),b(N.h));if(g(N))return N=S(T,b(N)),new A(b(N.g),N.h);if(30<T.g.length){if(g(T)||g(N))throw Error("slowDivide_ only works with positive integers.");for(var C=p,R=N;0>=R.l(T);)C=x(C),R=x(R);var I=_(C,1),P=_(R,1);for(R=_(R,2),C=_(C,2);!y(R);){var k=P.add(R);0>=k.l(T)&&(I=I.add(C),P=k),R=_(R,1),C=_(C,1)}return N=E(T,I.j(N)),new A(I,N)}for(I=d;0<=T.l(N);){for(C=Math.max(1,Math.floor(T.m()/N.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),P=u(C),k=P.j(N);g(k)||0<k.l(T);)C-=R,P=u(C),k=P.j(N);y(P)&&(P=p),I=I.add(P),T=E(T,k)}return new A(I,T)}t.A=function(T){return S(this,T).h},t.and=function(T){for(var N=Math.max(this.g.length,T.g.length),C=[],R=0;R<N;R++)C[R]=this.i(R)&T.i(R);return new o(C,this.h&T.h)},t.or=function(T){for(var N=Math.max(this.g.length,T.g.length),C=[],R=0;R<N;R++)C[R]=this.i(R)|T.i(R);return new o(C,this.h|T.h)},t.xor=function(T){for(var N=Math.max(this.g.length,T.g.length),C=[],R=0;R<N;R++)C[R]=this.i(R)^T.i(R);return new o(C,this.h^T.h)};function x(T){for(var N=T.g.length+1,C=[],R=0;R<N;R++)C[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(C,T.h)}function _(T,N){var C=N>>5;N%=32;for(var R=T.g.length-C,I=[],P=0;P<R;P++)I[P]=0<N?T.i(P+C)>>>N|T.i(P+C+1)<<32-N:T.i(P+C);return new o(I,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,N7=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Ml=o}).apply(typeof j4<"u"?j4:typeof self<"u"?self:typeof window<"u"?window:{});var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var C7,qm,O7,nb,B2,M7,I7,R7;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(D,L,G){return D==Array.prototype||D==Object.prototype||(D[L]=G.value),D};function r(D){D=[typeof globalThis=="object"&&globalThis,D,typeof window=="object"&&window,typeof self=="object"&&self,typeof s0=="object"&&s0];for(var L=0;L<D.length;++L){var G=D[L];if(G&&G.Math==Math)return G}throw Error("Cannot find global object")}var n=r(this);function i(D,L){if(L)e:{var G=n;D=D.split(".");for(var oe=0;oe<D.length-1;oe++){var Ce=D[oe];if(!(Ce in G))break e;G=G[Ce]}D=D[D.length-1],oe=G[D],L=L(oe),L!=oe&&L!=null&&e(G,D,{configurable:!0,writable:!0,value:L})}}function a(D,L){D instanceof String&&(D+="");var G=0,oe=!1,Ce={next:function(){if(!oe&&G<D.length){var ke=G++;return{value:L(ke,D[ke]),done:!1}}return oe=!0,{done:!0,value:void 0}}};return Ce[Symbol.iterator]=function(){return Ce},Ce}i("Array.prototype.values",function(D){return D||function(){return a(this,function(L,G){return G})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(D){var L=typeof D;return L=L!="object"?L:D?Array.isArray(D)?"array":L:"null",L=="array"||L=="object"&&typeof D.length=="number"}function u(D){var L=typeof D;return L=="object"&&D!=null||L=="function"}function f(D,L,G){return D.call.apply(D.bind,arguments)}function d(D,L,G){if(!D)throw Error();if(2<arguments.length){var oe=Array.prototype.slice.call(arguments,2);return function(){var Ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ce,oe),D.apply(L,Ce)}}return function(){return D.apply(L,arguments)}}function p(D,L,G){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:d,p.apply(null,arguments)}function m(D,L){var G=Array.prototype.slice.call(arguments,1);return function(){var oe=G.slice();return oe.push.apply(oe,arguments),D.apply(this,oe)}}function y(D,L){function G(){}G.prototype=L.prototype,D.aa=L.prototype,D.prototype=new G,D.prototype.constructor=D,D.Qb=function(oe,Ce,ke){for(var rt=Array(arguments.length-2),sr=2;sr<arguments.length;sr++)rt[sr-2]=arguments[sr];return L.prototype[Ce].apply(oe,rt)}}function g(D){const L=D.length;if(0<L){const G=Array(L);for(let oe=0;oe<L;oe++)G[oe]=D[oe];return G}return[]}function b(D,L){for(let G=1;G<arguments.length;G++){const oe=arguments[G];if(l(oe)){const Ce=D.length||0,ke=oe.length||0;D.length=Ce+ke;for(let rt=0;rt<ke;rt++)D[Ce+rt]=oe[rt]}else D.push(oe)}}class E{constructor(L,G){this.i=L,this.j=G,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function O(D){return/^[\s\xa0]*$/.test(D)}function A(){var D=s.navigator;return D&&(D=D.userAgent)?D:""}function S(D){return S[" "](D),D}S[" "]=function(){};var x=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function _(D,L,G){for(const oe in D)L.call(G,D[oe],oe,D)}function T(D,L){for(const G in D)L.call(void 0,D[G],G,D)}function N(D){const L={};for(const G in D)L[G]=D[G];return L}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(D,L){let G,oe;for(let Ce=1;Ce<arguments.length;Ce++){oe=arguments[Ce];for(G in oe)D[G]=oe[G];for(let ke=0;ke<C.length;ke++)G=C[ke],Object.prototype.hasOwnProperty.call(oe,G)&&(D[G]=oe[G])}}function I(D){var L=1;D=D.split(":");const G=[];for(;0<L&&D.length;)G.push(D.shift()),L--;return D.length&&G.push(D.join(":")),G}function P(D){s.setTimeout(()=>{throw D},0)}function k(){var D=H;let L=null;return D.g&&(L=D.g,D.g=D.g.next,D.g||(D.h=null),L.next=null),L}class q{constructor(){this.h=this.g=null}add(L,G){const oe=U.get();oe.set(L,G),this.h?this.h.next=oe:this.g=oe,this.h=oe}}var U=new E(()=>new F,D=>D.reset());class F{constructor(){this.next=this.g=this.h=null}set(L,G){this.h=L,this.g=G,this.next=null}reset(){this.next=this.g=this.h=null}}let V,Z=!1,H=new q,z=()=>{const D=s.Promise.resolve(void 0);V=()=>{D.then(J)}};var J=()=>{for(var D;D=k();){try{D.h.call(D.g)}catch(G){P(G)}var L=U;L.j(D),100>L.h&&(L.h++,D.next=L.g,L.g=D)}Z=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(D,L){this.type=D,this.g=this.target=L,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var K=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var D=!1,L=Object.defineProperty({},"passive",{get:function(){D=!0}});try{const G=()=>{};s.addEventListener("test",G,L),s.removeEventListener("test",G,L)}catch{}return D})();function we(D,L){if(Q.call(this,D?D.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,D){var G=this.type=D.type,oe=D.changedTouches&&D.changedTouches.length?D.changedTouches[0]:null;if(this.target=D.target||D.srcElement,this.g=L,L=D.relatedTarget){if(x){e:{try{S(L.nodeName);var Ce=!0;break e}catch{}Ce=!1}Ce||(L=null)}}else G=="mouseover"?L=D.fromElement:G=="mouseout"&&(L=D.toElement);this.relatedTarget=L,oe?(this.clientX=oe.clientX!==void 0?oe.clientX:oe.pageX,this.clientY=oe.clientY!==void 0?oe.clientY:oe.pageY,this.screenX=oe.screenX||0,this.screenY=oe.screenY||0):(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0),this.button=D.button,this.key=D.key||"",this.ctrlKey=D.ctrlKey,this.altKey=D.altKey,this.shiftKey=D.shiftKey,this.metaKey=D.metaKey,this.pointerId=D.pointerId||0,this.pointerType=typeof D.pointerType=="string"?D.pointerType:ge[D.pointerType]||"",this.state=D.state,this.i=D,D.defaultPrevented&&we.aa.h.call(this)}}y(we,Q);var ge={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var D=this.i;D.preventDefault?D.preventDefault():D.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),te=0;function ee(D,L,G,oe,Ce){this.listener=D,this.proxy=null,this.src=L,this.type=G,this.capture=!!oe,this.ha=Ce,this.key=++te,this.da=this.fa=!1}function ue(D){D.da=!0,D.listener=null,D.proxy=null,D.src=null,D.ha=null}function ce(D){this.src=D,this.g={},this.h=0}ce.prototype.add=function(D,L,G,oe,Ce){var ke=D.toString();D=this.g[ke],D||(D=this.g[ke]=[],this.h++);var rt=Te(D,L,oe,Ce);return-1<rt?(L=D[rt],G||(L.fa=!1)):(L=new ee(L,this.src,ke,!!oe,Ce),L.fa=G,D.push(L)),L};function se(D,L){var G=L.type;if(G in D.g){var oe=D.g[G],Ce=Array.prototype.indexOf.call(oe,L,void 0),ke;(ke=0<=Ce)&&Array.prototype.splice.call(oe,Ce,1),ke&&(ue(L),D.g[G].length==0&&(delete D.g[G],D.h--))}}function Te(D,L,G,oe){for(var Ce=0;Ce<D.length;++Ce){var ke=D[Ce];if(!ke.da&&ke.listener==L&&ke.capture==!!G&&ke.ha==oe)return Ce}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),Ne={};function je(D,L,G,oe,Ce){if(Array.isArray(L)){for(var ke=0;ke<L.length;ke++)je(D,L[ke],G,oe,Ce);return null}return G=fe(G),D&&D[Ae]?D.K(L,G,u(oe)?!!oe.capture:!1,Ce):Ke(D,L,G,!1,oe,Ce)}function Ke(D,L,G,oe,Ce,ke){if(!L)throw Error("Invalid event type");var rt=u(Ce)?!!Ce.capture:!!Ce,sr=Y(D);if(sr||(D[pe]=sr=new ce(D)),G=sr.add(L,G,oe,rt,ke),G.proxy)return G;if(oe=Ue(),G.proxy=oe,oe.src=D,oe.listener=G,D.addEventListener)K||(Ce=rt),Ce===void 0&&(Ce=!1),D.addEventListener(L.toString(),oe,Ce);else if(D.attachEvent)D.attachEvent(he(L.toString()),oe);else if(D.addListener&&D.removeListener)D.addListener(oe);else throw Error("addEventListener and attachEvent are unavailable.");return G}function Ue(){function D(G){return L.call(D.src,D.listener,G)}const L=le;return D}function nt(D,L,G,oe,Ce){if(Array.isArray(L))for(var ke=0;ke<L.length;ke++)nt(D,L[ke],G,oe,Ce);else oe=u(oe)?!!oe.capture:!!oe,G=fe(G),D&&D[Ae]?(D=D.i,L=String(L).toString(),L in D.g&&(ke=D.g[L],G=Te(ke,G,oe,Ce),-1<G&&(ue(ke[G]),Array.prototype.splice.call(ke,G,1),ke.length==0&&(delete D.g[L],D.h--)))):D&&(D=Y(D))&&(L=D.g[L.toString()],D=-1,L&&(D=Te(L,G,oe,Ce)),(G=-1<D?L[D]:null)&&ae(G))}function ae(D){if(typeof D!="number"&&D&&!D.da){var L=D.src;if(L&&L[Ae])se(L.i,D);else{var G=D.type,oe=D.proxy;L.removeEventListener?L.removeEventListener(G,oe,D.capture):L.detachEvent?L.detachEvent(he(G),oe):L.addListener&&L.removeListener&&L.removeListener(oe),(G=Y(L))?(se(G,D),G.h==0&&(G.src=null,L[pe]=null)):ue(D)}}}function he(D){return D in Ne?Ne[D]:Ne[D]="on"+D}function le(D,L){if(D.da)D=!0;else{L=new we(L,this);var G=D.listener,oe=D.ha||D.src;D.fa&&ae(D),D=G.call(oe,L)}return D}function Y(D){return D=D[pe],D instanceof ce?D:null}var ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(D){return typeof D=="function"?D:(D[ie]||(D[ie]=function(L){return D.handleEvent(L)}),D[ie])}function ye(){$.call(this),this.i=new ce(this),this.M=this,this.F=null}y(ye,$),ye.prototype[Ae]=!0,ye.prototype.removeEventListener=function(D,L,G,oe){nt(this,D,L,G,oe)};function me(D,L){var G,oe=D.F;if(oe)for(G=[];oe;oe=oe.F)G.push(oe);if(D=D.M,oe=L.type||L,typeof L=="string")L=new Q(L,D);else if(L instanceof Q)L.target=L.target||D;else{var Ce=L;L=new Q(oe,D),R(L,Ce)}if(Ce=!0,G)for(var ke=G.length-1;0<=ke;ke--){var rt=L.g=G[ke];Ce=Se(rt,oe,!0,L)&&Ce}if(rt=L.g=D,Ce=Se(rt,oe,!0,L)&&Ce,Ce=Se(rt,oe,!1,L)&&Ce,G)for(ke=0;ke<G.length;ke++)rt=L.g=G[ke],Ce=Se(rt,oe,!1,L)&&Ce}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var D=this.i,L;for(L in D.g){for(var G=D.g[L],oe=0;oe<G.length;oe++)ue(G[oe]);delete D.g[L],D.h--}}this.F=null},ye.prototype.K=function(D,L,G,oe){return this.i.add(String(D),L,!1,G,oe)},ye.prototype.L=function(D,L,G,oe){return this.i.add(String(D),L,!0,G,oe)};function Se(D,L,G,oe){if(L=D.i.g[String(L)],!L)return!0;L=L.concat();for(var Ce=!0,ke=0;ke<L.length;++ke){var rt=L[ke];if(rt&&!rt.da&&rt.capture==G){var sr=rt.listener,Cn=rt.ha||rt.src;rt.fa&&se(D.i,rt),Ce=sr.call(Cn,oe)!==!1&&Ce}}return Ce&&!oe.defaultPrevented}function Be(D,L,G){if(typeof D=="function")G&&(D=p(D,G));else if(D&&typeof D.handleEvent=="function")D=p(D.handleEvent,D);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:s.setTimeout(D,L||0)}function ze(D){D.g=Be(()=>{D.g=null,D.i&&(D.i=!1,ze(D))},D.l);const L=D.h;D.h=null,D.m.apply(null,L)}class Ze extends ${constructor(L,G){super(),this.m=L,this.l=G,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:ze(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(D){$.call(this),this.h=D,this.g={}}y(Ye,$);var Rt=[];function st(D){_(D.g,function(L,G){this.g.hasOwnProperty(G)&&ae(L)},D),D.g={}}Ye.prototype.N=function(){Ye.aa.N.call(this),st(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gt=s.JSON.stringify,j=s.JSON.parse,ve=class{stringify(D){return s.JSON.stringify(D,void 0)}parse(D){return s.JSON.parse(D,void 0)}};function Ie(){}Ie.prototype.h=null;function He(D){return D.h||(D.h=D.i())}function ht(){}var dt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){Q.call(this,"d")}y(_r,Q);function ks(){Q.call(this,"c")}y(ks,Q);var Ba={},oc=null;function Ho(){return oc=oc||new ye}Ba.La="serverreachability";function ju(D){Q.call(this,Ba.La,D)}y(ju,Q);function Go(D){const L=Ho();me(L,new ju(L))}Ba.STAT_EVENT="statevent";function Vf(D,L){Q.call(this,Ba.STAT_EVENT,D),this.stat=L}y(Vf,Q);function Lr(D){const L=Ho();me(L,new Vf(L,D))}Ba.Ma="timingevent";function cn(D,L){Q.call(this,Ba.Ma,D),this.size=L}y(cn,Q);function nn(D,L){if(typeof D!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){D()},L)}function Xi(){this.g=!0}Xi.prototype.xa=function(){this.g=!1};function sc(D,L,G,oe,Ce,ke){D.info(function(){if(D.g)if(ke)for(var rt="",sr=ke.split("&"),Cn=0;Cn<sr.length;Cn++){var ur=sr[Cn].split("=");if(1<ur.length){var Gn=ur[0];ur=ur[1];var On=Gn.split("_");rt=2<=On.length&&On[1]=="type"?rt+(Gn+"="+ur+"&"):rt+(Gn+"=redacted&")}}else rt=null;else rt=ke;return"XMLHTTP REQ ("+oe+") [attempt "+Ce+"]: "+L+`
`+G+`
`+rt})}function Np(D,L,G,oe,Ce,ke,rt){D.info(function(){return"XMLHTTP RESP ("+oe+") [ attempt "+Ce+"]: "+L+`
`+G+`
`+ke+" "+rt})}function Ko(D,L,G,oe){D.info(function(){return"XMLHTTP TEXT ("+L+"): "+Fs(D,G)+(oe?" "+oe:"")})}function Hf(D,L){D.info(function(){return"TIMEOUT: "+L})}Xi.prototype.info=function(){};function Fs(D,L){if(!D.g)return L;if(!L)return null;try{var G=JSON.parse(L);if(G){for(D=0;D<G.length;D++)if(Array.isArray(G[D])){var oe=G[D];if(!(2>oe.length)){var Ce=oe[1];if(Array.isArray(Ce)&&!(1>Ce.length)){var ke=Ce[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var rt=1;rt<Ce.length;rt++)Ce[rt]=""}}}}return Gt(G)}catch{return L}}var Xo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},go={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ka;function Fa(){}y(Fa,Ie),Fa.prototype.g=function(){return new XMLHttpRequest},Fa.prototype.i=function(){return{}},ka=new Fa;function ii(D,L,G,oe){this.j=D,this.i=L,this.l=G,this.R=oe||1,this.U=new Ye(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jr}function Jr(){this.i=null,this.g="",this.h=!1}var uc={},qu={};function ca(D,L,G){D.L=1,D.v=fc(fa(L)),D.m=G,D.P=!0,yo(D,null)}function yo(D,L){D.F=Date.now(),Qt(D),D.A=fa(D.v);var G=D.A,oe=D.R;Array.isArray(oe)||(oe=[String(oe)]),Pp(G.i,"t",oe),D.C=0,G=D.j.J,D.h=new Jr,D.g=ty(D.j,G?L:null,!D.m),0<D.O&&(D.M=new Ze(p(D.Y,D,D.g),D.O)),L=D.U,G=D.g,oe=D.ca;var Ce="readystatechange";Array.isArray(Ce)||(Ce&&(Rt[0]=Ce.toString()),Ce=Rt);for(var ke=0;ke<Ce.length;ke++){var rt=je(G,Ce[ke],oe||L.handleEvent,!1,L.h||L);if(!rt)break;L.g[rt.key]=rt}L=D.H?N(D.H):{},D.m?(D.u||(D.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",D.g.ea(D.A,D.u,D.m,L)):(D.u="GET",D.g.ea(D.A,D.u,null,L)),Go(),sc(D.i,D.u,D.A,D.l,D.R,D.m)}ii.prototype.ca=function(D){D=D.target;const L=this.M;L&&qa(D)==3?L.j():this.Y(D)},ii.prototype.Y=function(D){try{if(D==this.g)e:{const On=qa(this.g);var L=this.g.Ba();const Gs=this.g.Z();if(!(3>On)&&(On!=3||this.g&&(this.h.h||this.g.oa()||Kg(this.g)))){this.J||On!=4||L==7||(L==8||0>=Gs?Go(3):Go(2)),Yo(this);var G=this.g.Z();this.X=G;t:if(Gf(this)){var oe=Kg(this.g);D="";var Ce=oe.length,ke=qa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),Ri(this);var rt="";break t}this.h.i=new s.TextDecoder}for(L=0;L<Ce;L++)this.h.h=!0,D+=this.h.i.decode(oe[L],{stream:!(ke&&L==Ce-1)});oe.length=0,this.h.g+=D,this.C=0,rt=this.h.g}else rt=this.g.oa();if(this.o=G==200,Np(this.i,this.u,this.A,this.l,this.R,On,G),this.o){if(this.T&&!this.K){t:{if(this.g){var sr,Cn=this.g;if((sr=Cn.g?Cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(sr)){var ur=sr;break t}}ur=null}if(G=ur)Ko(this.i,this.l,G,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$s(this,G);else{this.o=!1,this.s=3,Lr(12),en(this),Ri(this);break e}}if(this.P){G=!0;let ai;for(;!this.J&&this.C<rt.length;)if(ai=Wo(this,rt),ai==qu){On==4&&(this.s=4,Lr(14),G=!1),Ko(this.i,this.l,null,"[Incomplete Response]");break}else if(ai==uc){this.s=4,Lr(15),Ko(this.i,this.l,rt,"[Invalid Chunk]"),G=!1;break}else Ko(this.i,this.l,ai,null),$s(this,ai);if(Gf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),On!=4||rt.length!=0||this.h.h||(this.s=1,Lr(16),G=!1),this.o=this.o&&G,!G)Ko(this.i,this.l,rt,"[Invalid Chunked Response]"),en(this),Ri(this);else if(0<rt.length&&!this.W){this.W=!0;var Gn=this.j;Gn.g==this&&Gn.ba&&!Gn.M&&(Gn.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),bc(Gn),Gn.M=!0,Lr(11))}}else Ko(this.i,this.l,rt,null),$s(this,rt);On==4&&en(this),this.o&&!this.J&&(On==4?Zg(this.j,this):(this.o=!1,Qt(this)))}else Yx(this.g),G==400&&0<rt.indexOf("Unknown SID")?(this.s=3,Lr(12)):(this.s=0,Lr(13)),en(this),Ri(this)}}}catch{}finally{}};function Gf(D){return D.g?D.u=="GET"&&D.L!=2&&D.j.Ca:!1}function Wo(D,L){var G=D.C,oe=L.indexOf(`
`,G);return oe==-1?qu:(G=Number(L.substring(G,oe)),isNaN(G)?uc:(oe+=1,oe+G>L.length?qu:(L=L.slice(oe,oe+G),D.C=oe+G,L)))}ii.prototype.cancel=function(){this.J=!0,en(this)};function Qt(D){D.S=Date.now()+D.I,Nn(D,D.I)}function Nn(D,L){if(D.B!=null)throw Error("WatchDog timer not null");D.B=nn(p(D.ba,D),L)}function Yo(D){D.B&&(s.clearTimeout(D.B),D.B=null)}ii.prototype.ba=function(){this.B=null;const D=Date.now();0<=D-this.S?(Hf(this.i,this.A),this.L!=2&&(Go(),Lr(17)),en(this),this.s=2,Ri(this)):Nn(this,this.S-D)};function Ri(D){D.j.G==0||D.J||Zg(D.j,D)}function en(D){Yo(D);var L=D.M;L&&typeof L.ma=="function"&&L.ma(),D.M=null,st(D.U),D.g&&(L=D.g,D.g=null,L.abort(),L.ma())}function $s(D,L){try{var G=D.j;if(G.G!=0&&(G.g==D||Cp(G.h,D))){if(!D.K&&Cp(G.h,D)&&G.G==3){try{var oe=G.Da.g.parse(L)}catch{oe=null}if(Array.isArray(oe)&&oe.length==3){var Ce=oe;if(Ce[0]==0){e:if(!G.u){if(G.g)if(G.g.F+3e3<D.F)ih(G),rh(G);else break e;Lp(G),Lr(18)}}else G.za=Ce[1],0<G.za-G.T&&37500>Ce[2]&&G.F&&G.v==0&&!G.C&&(G.C=nn(p(G.Za,G),6e3));if(1>=Xf(G.h)&&G.ca){try{G.ca()}catch{}G.ca=void 0}}else Hs(G,11)}else if((D.K||G.g==D)&&ih(G),!O(L))for(Ce=G.Da.g.parse(L),L=0;L<Ce.length;L++){let ur=Ce[L];if(G.T=ur[0],ur=ur[1],G.G==2)if(ur[0]=="c"){G.K=ur[1],G.ia=ur[2];const Gn=ur[3];Gn!=null&&(G.la=Gn,G.j.info("VER="+G.la));const On=ur[4];On!=null&&(G.Aa=On,G.j.info("SVER="+G.Aa));const Gs=ur[5];Gs!=null&&typeof Gs=="number"&&0<Gs&&(oe=1.5*Gs,G.L=oe,G.j.info("backChannelRequestTimeoutMs_="+oe)),oe=G;const ai=D.g;if(ai){const ns=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ns){var ke=oe.h;ke.g||ns.indexOf("spdy")==-1&&ns.indexOf("quic")==-1&&ns.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(Wf(ke,ke.h),ke.h=null))}if(oe.D){const qp=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;qp&&(oe.ya=qp,Cr(oe.I,oe.D,qp))}}G.G=3,G.l&&G.l.ua(),G.ba&&(G.R=Date.now()-D.F,G.j.info("Handshake RTT: "+G.R+"ms")),oe=G;var rt=D;if(oe.qa=ey(oe,oe.J?oe.ia:null,oe.W),rt.K){Pi(oe.h,rt);var sr=rt,Cn=oe.L;Cn&&(sr.I=Cn),sr.B&&(Yo(sr),Qt(sr)),oe.g=rt}else Yg(oe);0<G.i.length&&nh(G)}else ur[0]!="stop"&&ur[0]!="close"||Hs(G,7);else G.G==3&&(ur[0]=="stop"||ur[0]=="close"?ur[0]=="stop"?Hs(G,7):Fp(G):ur[0]!="noop"&&G.l&&G.l.ta(ur),G.v=0)}}Go(4)}catch{}}var zg=class{constructor(D,L){this.g=D,this.map=L}};function Ls(D){this.l=D||10,s.PerformanceNavigationTiming?(D=s.performance.getEntriesByType("navigation"),D=0<D.length&&(D[0].nextHopProtocol=="hq"||D[0].nextHopProtocol=="h2")):D=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=D?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kf(D){return D.h?!0:D.g?D.g.size>=D.j:!1}function Xf(D){return D.h?1:D.g?D.g.size:0}function Cp(D,L){return D.h?D.h==L:D.g?D.g.has(L):!1}function Wf(D,L){D.g?D.g.add(L):D.h=L}function Pi(D,L){D.h&&D.h==L?D.h=null:D.g&&D.g.has(L)&&D.g.delete(L)}Ls.prototype.cancel=function(){if(this.i=Op(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const D of this.g.values())D.cancel();this.g.clear()}};function Op(D){if(D.h!=null)return D.i.concat(D.h.D);if(D.g!=null&&D.g.size!==0){let L=D.i;for(const G of D.g.values())L=L.concat(G.D);return L}return g(D.i)}function Gx(D){if(D.V&&typeof D.V=="function")return D.V();if(typeof Map<"u"&&D instanceof Map||typeof Set<"u"&&D instanceof Set)return Array.from(D.values());if(typeof D=="string")return D.split("");if(l(D)){for(var L=[],G=D.length,oe=0;oe<G;oe++)L.push(D[oe]);return L}L=[],G=0;for(oe in D)L[G++]=D[oe];return L}function Yf(D){if(D.na&&typeof D.na=="function")return D.na();if(!D.V||typeof D.V!="function"){if(typeof Map<"u"&&D instanceof Map)return Array.from(D.keys());if(!(typeof Set<"u"&&D instanceof Set)){if(l(D)||typeof D=="string"){var L=[];D=D.length;for(var G=0;G<D;G++)L.push(G);return L}L=[],G=0;for(const oe in D)L[G++]=oe;return L}}}function Mp(D,L){if(D.forEach&&typeof D.forEach=="function")D.forEach(L,void 0);else if(l(D)||typeof D=="string")Array.prototype.forEach.call(D,L,void 0);else for(var G=Yf(D),oe=Gx(D),Ce=oe.length,ke=0;ke<Ce;ke++)L.call(void 0,oe[ke],G&&G[ke],D)}var lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kx(D,L){if(D){D=D.split("&");for(var G=0;G<D.length;G++){var oe=D[G].indexOf("="),Ce=null;if(0<=oe){var ke=D[G].substring(0,oe);Ce=D[G].substring(oe+1)}else ke=D[G];L(ke,Ce?decodeURIComponent(Ce.replace(/\+/g," ")):"")}}}function vn(D){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,D instanceof vn){this.h=D.h,cc(this,D.j),this.o=D.o,this.g=D.g,Uu(this,D.s),this.l=D.l;var L=D.i,G=new qs;G.i=L.i,L.g&&(G.g=new Map(L.g),G.h=L.h),js(this,G),this.m=D.m}else D&&(L=String(D).match(lc))?(this.h=!1,cc(this,L[1]||"",!0),this.o=$a(L[2]||""),this.g=$a(L[3]||"",!0),Uu(this,L[4]),this.l=$a(L[5]||"",!0),js(this,L[6]||"",!0),this.m=$a(L[7]||"")):(this.h=!1,this.i=new qs(null,this.h))}vn.prototype.toString=function(){var D=[],L=this.j;L&&D.push(hc(L,Ip,!0),":");var G=this.g;return(G||L=="file")&&(D.push("//"),(L=this.o)&&D.push(hc(L,Ip,!0),"@"),D.push(encodeURIComponent(String(G)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),G=this.s,G!=null&&D.push(":",String(G))),(G=this.l)&&(this.g&&G.charAt(0)!="/"&&D.push("/"),D.push(hc(G,G.charAt(0)=="/"?Xx:Rp,!0))),(G=this.i.toString())&&D.push("?",G),(G=this.m)&&D.push("#",hc(G,Qf)),D.join("")};function fa(D){return new vn(D)}function cc(D,L,G){D.j=G?$a(L,!0):L,D.j&&(D.j=D.j.replace(/:$/,""))}function Uu(D,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);D.s=L}else D.s=null}function js(D,L,G){L instanceof qs?(D.i=L,Hg(D.i,D.h)):(G||(L=hc(L,Wx)),D.i=new qs(L,D.h))}function Cr(D,L,G){D.i.set(L,G)}function fc(D){return Cr(D,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),D}function $a(D,L){return D?L?decodeURI(D.replace(/%25/g,"%2525")):decodeURIComponent(D):""}function hc(D,L,G){return typeof D=="string"?(D=encodeURI(D).replace(L,Vg),G&&(D=D.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D):null}function Vg(D){return D=D.charCodeAt(0),"%"+(D>>4&15).toString(16)+(D&15).toString(16)}var Ip=/[#\/\?@]/g,Rp=/[#\?:]/g,Xx=/[#\?]/g,Wx=/[#\?@]/g,Qf=/#/g;function qs(D,L){this.h=this.g=null,this.i=D||null,this.j=!!L}function La(D){D.g||(D.g=new Map,D.h=0,D.i&&Kx(D.i,function(L,G){D.add(decodeURIComponent(L.replace(/\+/g," ")),G)}))}t=qs.prototype,t.add=function(D,L){La(this),this.i=null,D=Qo(this,D);var G=this.g.get(D);return G||this.g.set(D,G=[]),G.push(L),this.h+=1,this};function Us(D,L){La(D),L=Qo(D,L),D.g.has(L)&&(D.i=null,D.h-=D.g.get(L).length,D.g.delete(L))}function zs(D,L){return La(D),L=Qo(D,L),D.g.has(L)}t.forEach=function(D,L){La(this),this.g.forEach(function(G,oe){G.forEach(function(Ce){D.call(L,Ce,oe,this)},this)},this)},t.na=function(){La(this);const D=Array.from(this.g.values()),L=Array.from(this.g.keys()),G=[];for(let oe=0;oe<L.length;oe++){const Ce=D[oe];for(let ke=0;ke<Ce.length;ke++)G.push(L[oe])}return G},t.V=function(D){La(this);let L=[];if(typeof D=="string")zs(this,D)&&(L=L.concat(this.g.get(Qo(this,D))));else{D=Array.from(this.g.values());for(let G=0;G<D.length;G++)L=L.concat(D[G])}return L},t.set=function(D,L){return La(this),this.i=null,D=Qo(this,D),zs(this,D)&&(this.h-=this.g.get(D).length),this.g.set(D,[L]),this.h+=1,this},t.get=function(D,L){return D?(D=this.V(D),0<D.length?String(D[0]):L):L};function Pp(D,L,G){Us(D,L),0<G.length&&(D.i=null,D.g.set(Qo(D,L),g(G)),D.h+=G.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const D=[],L=Array.from(this.g.keys());for(var G=0;G<L.length;G++){var oe=L[G];const ke=encodeURIComponent(String(oe)),rt=this.V(oe);for(oe=0;oe<rt.length;oe++){var Ce=ke;rt[oe]!==""&&(Ce+="="+encodeURIComponent(String(rt[oe]))),D.push(Ce)}}return this.i=D.join("&")};function Qo(D,L){return L=String(L),D.j&&(L=L.toLowerCase()),L}function Hg(D,L){L&&!D.j&&(La(D),D.i=null,D.g.forEach(function(G,oe){var Ce=oe.toLowerCase();oe!=Ce&&(Us(this,oe),Pp(this,Ce,G))},D)),D.j=L}function dc(D,L){const G=new Xi;if(s.Image){const oe=new Image;oe.onload=m(ja,G,"TestLoadImage: loaded",!0,L,oe),oe.onerror=m(ja,G,"TestLoadImage: error",!1,L,oe),oe.onabort=m(ja,G,"TestLoadImage: abort",!1,L,oe),oe.ontimeout=m(ja,G,"TestLoadImage: timeout",!1,L,oe),s.setTimeout(function(){oe.ontimeout&&oe.ontimeout()},1e4),oe.src=D}else L(!1)}function bo(D,L){const G=new Xi,oe=new AbortController,Ce=setTimeout(()=>{oe.abort(),ja(G,"TestPingServer: timeout",!1,L)},1e4);fetch(D,{signal:oe.signal}).then(ke=>{clearTimeout(Ce),ke.ok?ja(G,"TestPingServer: ok",!0,L):ja(G,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Ce),ja(G,"TestPingServer: error",!1,L)})}function ja(D,L,G,oe,Ce){try{Ce&&(Ce.onload=null,Ce.onerror=null,Ce.onabort=null,Ce.ontimeout=null),oe(G)}catch{}}function pc(){this.g=new ve}function Zo(D,L,G){const oe=G||"";try{Mp(D,function(Ce,ke){let rt=Ce;u(Ce)&&(rt=Gt(Ce)),L.push(oe+ke+"="+encodeURIComponent(rt))})}catch(Ce){throw L.push(oe+"type="+encodeURIComponent("_badmap")),Ce}}function zu(D){this.l=D.Ub||null,this.j=D.eb||!1}y(zu,Ie),zu.prototype.g=function(){return new Vs(this.l,this.j)},zu.prototype.i=(function(D){return function(){return D}})({});function Vs(D,L){ye.call(this),this.D=D,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Vs,ye),t=Vs.prototype,t.open=function(D,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=D,this.A=L,this.readyState=1,es(this)},t.send=function(D){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};D&&(L.body=D),(this.D||s).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=0},t.Sa=function(D){if(this.g&&(this.l=D,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=D.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")D.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in D){if(this.j=D.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bp(this)}else D.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bp(D){D.j.read().then(D.Pa.bind(D)).catch(D.ga.bind(D))}t.Pa=function(D){if(this.g){if(this.o&&D.value)this.response.push(D.value);else if(!this.o){var L=D.value?D.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!D.done}))&&(this.response=this.responseText+=L)}D.done?Jo(this):es(this),this.readyState==3&&Bp(this)}},t.Ra=function(D){this.g&&(this.response=this.responseText=D,Jo(this))},t.Qa=function(D){this.g&&(this.response=D,Jo(this))},t.ga=function(){this.g&&Jo(this)};function Jo(D){D.readyState=4,D.l=null,D.j=null,D.v=null,es(D)}t.setRequestHeader=function(D,L){this.u.append(D,L)},t.getResponseHeader=function(D){return this.h&&this.h.get(D.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const D=[],L=this.h.entries();for(var G=L.next();!G.done;)G=G.value,D.push(G[0]+": "+G[1]),G=L.next();return D.join(`\r
`)};function es(D){D.onreadystatechange&&D.onreadystatechange.call(D)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(D){this.m=D?"include":"same-origin"}});function kp(D){let L="";return _(D,function(G,oe){L+=oe,L+=":",L+=G,L+=`\r
`}),L}function Hn(D,L,G){e:{for(oe in G){var oe=!1;break e}oe=!0}oe||(G=kp(G),typeof D=="string"?G!=null&&encodeURIComponent(String(G)):Cr(D,L,G))}function gr(D){ye.call(this),this.headers=new Map,this.o=D||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(gr,ye);var Zf=/^https?$/i,mc=["POST","PUT"];t=gr.prototype,t.Ha=function(D){this.J=D},t.ea=function(D,L,G,oe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+D);L=L?L.toUpperCase():"GET",this.D=D,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ka.g(),this.v=this.o?He(this.o):He(ka),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(L,String(D),!0),this.B=!1}catch(ke){Gg(this,ke);return}if(D=G||"",G=new Map(this.headers),oe)if(Object.getPrototypeOf(oe)===Object.prototype)for(var Ce in oe)G.set(Ce,oe[Ce]);else if(typeof oe.keys=="function"&&typeof oe.get=="function")for(const ke of oe.keys())G.set(ke,oe.get(ke));else throw Error("Unknown input type for opt_headers: "+String(oe));oe=Array.from(G.keys()).find(ke=>ke.toLowerCase()=="content-type"),Ce=s.FormData&&D instanceof s.FormData,!(0<=Array.prototype.indexOf.call(mc,L,void 0))||oe||Ce||G.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,rt]of G)this.g.setRequestHeader(ke,rt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vc(this),this.u=!0,this.g.send(D),this.u=!1}catch(ke){Gg(this,ke)}};function Gg(D,L){D.h=!1,D.g&&(D.j=!0,D.g.abort(),D.j=!1),D.l=L,D.m=5,Jf(D),ts(D)}function Jf(D){D.A||(D.A=!0,me(D,"complete"),me(D,"error"))}t.abort=function(D){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=D||7,me(this,"complete"),me(this,"abort"),ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),gr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?eh(this):this.bb())},t.bb=function(){eh(this)};function eh(D){if(D.h&&typeof o<"u"&&(!D.v[1]||qa(D)!=4||D.Z()!=2)){if(D.u&&qa(D)==4)Be(D.Ea,0,D);else if(me(D,"readystatechange"),qa(D)==4){D.h=!1;try{const rt=D.Z();e:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var G;if(!(G=L)){var oe;if(oe=rt===0){var Ce=String(D.D).match(lc)[1]||null;!Ce&&s.self&&s.self.location&&(Ce=s.self.location.protocol.slice(0,-1)),oe=!Zf.test(Ce?Ce.toLowerCase():"")}G=oe}if(G)me(D,"complete"),me(D,"success");else{D.m=6;try{var ke=2<qa(D)?D.g.statusText:""}catch{ke=""}D.l=ke+" ["+D.Z()+"]",Jf(D)}}finally{ts(D)}}}}function ts(D,L){if(D.g){vc(D);const G=D.g,oe=D.v[0]?()=>{}:null;D.g=null,D.v=null,L||me(D,"ready");try{G.onreadystatechange=oe}catch{}}}function vc(D){D.I&&(s.clearTimeout(D.I),D.I=null)}t.isActive=function(){return!!this.g};function qa(D){return D.g?D.g.readyState:0}t.Z=function(){try{return 2<qa(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(D){if(this.g){var L=this.g.responseText;return D&&L.indexOf(D)==0&&(L=L.substring(D.length)),j(L)}};function Kg(D){try{if(!D.g)return null;if("response"in D.g)return D.g.response;switch(D.H){case"":case"text":return D.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in D.g)return D.g.mozResponseArrayBuffer}return null}catch{return null}}function Yx(D){const L={};D=(D.g&&2<=qa(D)&&D.g.getAllResponseHeaders()||"").split(`\r
`);for(let oe=0;oe<D.length;oe++){if(O(D[oe]))continue;var G=I(D[oe]);const Ce=G[0];if(G=G[1],typeof G!="string")continue;G=G.trim();const ke=L[Ce]||[];L[Ce]=ke,ke.push(G)}T(L,function(oe){return oe.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gc(D,L,G){return G&&G.internalChannelParams&&G.internalChannelParams[D]||L}function th(D){this.Aa=0,this.i=[],this.j=new Xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gc("failFast",!1,D),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gc("baseRetryDelayMs",5e3,D),this.cb=gc("retryDelaySeedMs",1e4,D),this.Wa=gc("forwardChannelMaxRetries",2,D),this.wa=gc("forwardChannelRequestTimeoutMs",2e4,D),this.pa=D&&D.xmlHttpFactory||void 0,this.Xa=D&&D.Tb||void 0,this.Ca=D&&D.useFetchStreams||!1,this.L=void 0,this.J=D&&D.supportsCrossDomainXhr||!1,this.K="",this.h=new Ls(D&&D.concurrentRequestLimit),this.Da=new pc,this.P=D&&D.fastHandshake||!1,this.O=D&&D.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=D&&D.Rb||!1,D&&D.xa&&this.j.xa(),D&&D.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&D&&D.detectBufferingProxy||!1,this.ja=void 0,D&&D.longPollingTimeout&&0<D.longPollingTimeout&&(this.ja=D.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=th.prototype,t.la=8,t.G=1,t.connect=function(D,L,G,oe){Lr(0),this.W=D,this.H=L||{},G&&oe!==void 0&&(this.H.OSID=G,this.H.OAID=oe),this.F=this.X,this.I=ey(this,null,this.W),nh(this)};function Fp(D){if(Xg(D),D.G==3){var L=D.U++,G=fa(D.I);if(Cr(G,"SID",D.K),Cr(G,"RID",L),Cr(G,"TYPE","terminate"),yc(D,G),L=new ii(D,D.j,L),L.L=2,L.v=fc(fa(G)),G=!1,s.navigator&&s.navigator.sendBeacon)try{G=s.navigator.sendBeacon(L.v.toString(),"")}catch{}!G&&s.Image&&(new Image().src=L.v,G=!0),G||(L.g=ty(L.j,null),L.g.ea(L.v)),L.F=Date.now(),Qt(L)}Jg(D)}function rh(D){D.g&&(bc(D),D.g.cancel(),D.g=null)}function Xg(D){rh(D),D.u&&(s.clearTimeout(D.u),D.u=null),ih(D),D.h.cancel(),D.s&&(typeof D.s=="number"&&s.clearTimeout(D.s),D.s=null)}function nh(D){if(!Kf(D.h)&&!D.s){D.s=!0;var L=D.Ga;V||z(),Z||(V(),Z=!0),H.add(L,D),D.B=0}}function Qx(D,L){return Xf(D.h)>=D.h.j-(D.s?1:0)?!1:D.s?(D.i=L.D.concat(D.i),!0):D.G==1||D.G==2||D.B>=(D.Va?0:D.Wa)?!1:(D.s=nn(p(D.Ga,D,L),jp(D,D.B)),D.B++,!0)}t.Ga=function(D){if(this.s)if(this.s=null,this.G==1){if(!D){this.U=Math.floor(1e5*Math.random()),D=this.U++;const Ce=new ii(this,this.j,D);let ke=this.o;if(this.S&&(ke?(ke=N(ke),R(ke,this.S)):ke=this.S),this.m!==null||this.O||(Ce.H=ke,ke=null),this.P)e:{for(var L=0,G=0;G<this.i.length;G++){t:{var oe=this.i[G];if("__data__"in oe.map&&(oe=oe.map.__data__,typeof oe=="string")){oe=oe.length;break t}oe=void 0}if(oe===void 0)break;if(L+=oe,4096<L){L=G;break e}if(L===4096||G===this.i.length-1){L=G+1;break e}}L=1e3}else L=1e3;L=Wg(this,Ce,L),G=fa(this.I),Cr(G,"RID",D),Cr(G,"CVER",22),this.D&&Cr(G,"X-HTTP-Session-Id",this.D),yc(this,G),ke&&(this.O?L="headers="+encodeURIComponent(String(kp(ke)))+"&"+L:this.m&&Hn(G,this.m,ke)),Wf(this.h,Ce),this.Ua&&Cr(G,"TYPE","init"),this.P?(Cr(G,"$req",L),Cr(G,"SID","null"),Ce.T=!0,ca(Ce,G,null)):ca(Ce,G,L),this.G=2}}else this.G==3&&(D?$p(this,D):this.i.length==0||Kf(this.h)||$p(this))};function $p(D,L){var G;L?G=L.l:G=D.U++;const oe=fa(D.I);Cr(oe,"SID",D.K),Cr(oe,"RID",G),Cr(oe,"AID",D.T),yc(D,oe),D.m&&D.o&&Hn(oe,D.m,D.o),G=new ii(D,D.j,G,D.B+1),D.m===null&&(G.H=D.o),L&&(D.i=L.D.concat(D.i)),L=Wg(D,G,1e3),G.I=Math.round(.5*D.wa)+Math.round(.5*D.wa*Math.random()),Wf(D.h,G),ca(G,oe,L)}function yc(D,L){D.H&&_(D.H,function(G,oe){Cr(L,oe,G)}),D.l&&Mp({},function(G,oe){Cr(L,oe,G)})}function Wg(D,L,G){G=Math.min(D.i.length,G);var oe=D.l?p(D.l.Na,D.l,D):null;e:{var Ce=D.i;let ke=-1;for(;;){const rt=["count="+G];ke==-1?0<G?(ke=Ce[0].g,rt.push("ofs="+ke)):ke=0:rt.push("ofs="+ke);let sr=!0;for(let Cn=0;Cn<G;Cn++){let ur=Ce[Cn].g;const Gn=Ce[Cn].map;if(ur-=ke,0>ur)ke=Math.max(0,Ce[Cn].g-100),sr=!1;else try{Zo(Gn,rt,"req"+ur+"_")}catch{oe&&oe(Gn)}}if(sr){oe=rt.join("&");break e}}}return D=D.i.splice(0,G),L.D=D,oe}function Yg(D){if(!D.g&&!D.u){D.Y=1;var L=D.Fa;V||z(),Z||(V(),Z=!0),H.add(L,D),D.v=0}}function Lp(D){return D.g||D.u||3<=D.v?!1:(D.Y++,D.u=nn(p(D.Fa,D),jp(D,D.v)),D.v++,!0)}t.Fa=function(){if(this.u=null,Qg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var D=2*this.R;this.j.info("BP detection timer enabled: "+D),this.A=nn(p(this.ab,this),D)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Lr(10),rh(this),Qg(this))};function bc(D){D.A!=null&&(s.clearTimeout(D.A),D.A=null)}function Qg(D){D.g=new ii(D,D.j,"rpc",D.Y),D.m===null&&(D.g.H=D.o),D.g.O=0;var L=fa(D.qa);Cr(L,"RID","rpc"),Cr(L,"SID",D.K),Cr(L,"AID",D.T),Cr(L,"CI",D.F?"0":"1"),!D.F&&D.ja&&Cr(L,"TO",D.ja),Cr(L,"TYPE","xmlhttp"),yc(D,L),D.m&&D.o&&Hn(L,D.m,D.o),D.L&&(D.g.I=D.L);var G=D.g;D=D.ia,G.L=1,G.v=fc(fa(L)),G.m=null,G.P=!0,yo(G,D)}t.Za=function(){this.C!=null&&(this.C=null,rh(this),Lp(this),Lr(19))};function ih(D){D.C!=null&&(s.clearTimeout(D.C),D.C=null)}function Zg(D,L){var G=null;if(D.g==L){ih(D),bc(D),D.g=null;var oe=2}else if(Cp(D.h,L))G=L.D,Pi(D.h,L),oe=1;else return;if(D.G!=0){if(L.o)if(oe==1){G=L.m?L.m.length:0,L=Date.now()-L.F;var Ce=D.B;oe=Ho(),me(oe,new cn(oe,G)),nh(D)}else Yg(D);else if(Ce=L.s,Ce==3||Ce==0&&0<L.X||!(oe==1&&Qx(D,L)||oe==2&&Lp(D)))switch(G&&0<G.length&&(L=D.h,L.i=L.i.concat(G)),Ce){case 1:Hs(D,5);break;case 4:Hs(D,10);break;case 3:Hs(D,6);break;default:Hs(D,2)}}}function jp(D,L){let G=D.Ta+Math.floor(Math.random()*D.cb);return D.isActive()||(G*=2),G*L}function Hs(D,L){if(D.j.info("Error code "+L),L==2){var G=p(D.fb,D),oe=D.Xa;const Ce=!oe;oe=new vn(oe||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||cc(oe,"https"),fc(oe),Ce?dc(oe.toString(),G):bo(oe.toString(),G)}else Lr(2);D.G=0,D.l&&D.l.sa(L),Jg(D),Xg(D)}t.fb=function(D){D?(this.j.info("Successfully pinged google.com"),Lr(2)):(this.j.info("Failed to ping google.com"),Lr(1))};function Jg(D){if(D.G=0,D.ka=[],D.l){const L=Op(D.h);(L.length!=0||D.i.length!=0)&&(b(D.ka,L),b(D.ka,D.i),D.h.i.length=0,g(D.i),D.i.length=0),D.l.ra()}}function ey(D,L,G){var oe=G instanceof vn?fa(G):new vn(G);if(oe.g!="")L&&(oe.g=L+"."+oe.g),Uu(oe,oe.s);else{var Ce=s.location;oe=Ce.protocol,L=L?L+"."+Ce.hostname:Ce.hostname,Ce=+Ce.port;var ke=new vn(null);oe&&cc(ke,oe),L&&(ke.g=L),Ce&&Uu(ke,Ce),G&&(ke.l=G),oe=ke}return G=D.D,L=D.ya,G&&L&&Cr(oe,G,L),Cr(oe,"VER",D.la),yc(D,oe),oe}function ty(D,L,G){if(L&&!D.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=D.Ca&&!D.pa?new gr(new zu({eb:G})):new gr(D.pa),L.Ha(D.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ry(){}t=ry.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ah(){}ah.prototype.g=function(D,L){return new Bi(D,L)};function Bi(D,L){ye.call(this),this.g=new th(L),this.l=D,this.h=L&&L.messageUrlParams||null,D=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(D?D["X-Client-Protocol"]="webchannel":D={"X-Client-Protocol":"webchannel"}),this.g.o=D,D=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(D?D["X-WebChannel-Content-Type"]=L.messageContentType:D={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(D?D["X-WebChannel-Client-Profile"]=L.va:D={"X-WebChannel-Client-Profile":L.va}),this.g.S=D,(D=L&&L.Sb)&&!O(D)&&(this.g.m=D),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!O(L)&&(this.g.D=L,D=this.h,D!==null&&L in D&&(D=this.h,L in D&&delete D[L])),this.j=new rs(this)}y(Bi,ye),Bi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bi.prototype.close=function(){Fp(this.g)},Bi.prototype.o=function(D){var L=this.g;if(typeof D=="string"){var G={};G.__data__=D,D=G}else this.u&&(G={},G.__data__=Gt(D),D=G);L.i.push(new zg(L.Ya++,D)),L.G==3&&nh(L)},Bi.prototype.N=function(){this.g.l=null,delete this.j,Fp(this.g),delete this.g,Bi.aa.N.call(this)};function ny(D){_r.call(this),D.__headers__&&(this.headers=D.__headers__,this.statusCode=D.__status__,delete D.__headers__,delete D.__status__);var L=D.__sm__;if(L){e:{for(const G in L){D=G;break e}D=void 0}(this.i=D)&&(D=this.i,L=L!==null&&D in L?L[D]:void 0),this.data=L}else this.data=D}y(ny,_r);function iy(){ks.call(this),this.status=1}y(iy,ks);function rs(D){this.g=D}y(rs,ry),rs.prototype.ua=function(){me(this.g,"a")},rs.prototype.ta=function(D){me(this.g,new ny(D))},rs.prototype.sa=function(D){me(this.g,new iy)},rs.prototype.ra=function(){me(this.g,"b")},ah.prototype.createWebChannel=ah.prototype.g,Bi.prototype.send=Bi.prototype.o,Bi.prototype.open=Bi.prototype.m,Bi.prototype.close=Bi.prototype.close,R7=function(){return new ah},I7=function(){return Ho()},M7=Ba,B2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xo.NO_ERROR=0,Xo.TIMEOUT=8,Xo.HTTP_ERROR=6,nb=Xo,go.COMPLETE="complete",O7=go,ht.EventType=dt,dt.OPEN="a",dt.CLOSE="b",dt.ERROR="c",dt.MESSAGE="d",ye.prototype.listen=ye.prototype.K,qm=ht,gr.prototype.listenOnce=gr.prototype.L,gr.prototype.getLastError=gr.prototype.Ka,gr.prototype.getLastErrorCode=gr.prototype.Ba,gr.prototype.getStatus=gr.prototype.Z,gr.prototype.getResponseJson=gr.prototype.Oa,gr.prototype.getResponseText=gr.prototype.oa,gr.prototype.send=gr.prototype.ea,gr.prototype.setWithCredentials=gr.prototype.Ha,C7=gr}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});const q4="@firebase/firestore",U4="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ei.UNAUTHENTICATED=new Ei(null),Ei.GOOGLE_CREDENTIALS=new Ei("google-credentials-uid"),Ei.FIRST_PARTY=new Ei("first-party-uid"),Ei.MOCK_USER=new Ei("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new dw("@firebase/firestore");function Vh(){return hf.logLevel}function ot(t,...e){if(hf.logLevel<=tr.DEBUG){const r=e.map(sO);hf.debug(`Firestore (${ip}): ${t}`,...r)}}function Du(t,...e){if(hf.logLevel<=tr.ERROR){const r=e.map(sO);hf.error(`Firestore (${ip}): ${t}`,...r)}}function gd(t,...e){if(hf.logLevel<=tr.WARN){const r=e.map(sO);hf.warn(`Firestore (${ip}): ${t}`,...r)}}function sO(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,P7(t,n,r)}function P7(t,e,r){let n=`FIRESTORE (${ip}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Du(n),new Error(n)}function xr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||P7(e,i,n)}function Lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ko{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wne{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(Ei.UNAUTHENTICATED)))}shutdown(){}}class xne{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class _ne{constructor(e){this.t=e,this.currentUser=Ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){xr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new wu;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new wu,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const l=a;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},s=l=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((l=>s(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wu)}}),0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(xr(typeof n.accessToken=="string",31837,{l:n}),new B7(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xr(e===null||typeof e=="string",2055,{h:e}),new Ei(e)}}class Ane{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Ei.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ene{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Ane(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(Ei.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class z4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sne{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ta(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){xr(this.o===void 0,3512);const n=a=>{a.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,ot("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new z4(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(xr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new z4(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tne(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Tne(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function rr(t,e){return t<e?-1:t>e?1:0}function k2(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return tE(i)===tE(a)?rr(i,a):tE(i)?1:-1}return rr(t.length,e.length)}const Dne=55296,Nne=57343;function tE(t){const e=t.charCodeAt(0);return e>=Dne&&e<=Nne}function yd(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="__name__";class ls{constructor(e,r,n){r===void 0?r=0:r>e.length&&St(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&St(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ls.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ls?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=ls.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return rr(e.length,r.length)}static compareSegments(e,r){const n=ls.isNumericId(e),i=ls.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?ls.extractNumericId(e).compare(ls.extractNumericId(r)):k2(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ml.fromString(e.substring(4,e.length-2))}}class Vr extends ls{construct(e,r,n){return new Vr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new at(Ge.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Vr(r)}static emptyPath(){return new Vr([])}}const Cne=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends ls{construct(e,r,n){return new fi(e,r,n)}static isValidIdentifier(e){return Cne.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V4}static keyField(){return new fi([V4])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new at(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new at(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new at(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new at(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fi(r)}static emptyPath(){return new fi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.path=e}static fromPath(e){return new yt(Vr.fromString(e))}static fromName(e){return new yt(Vr.fromString(e).popFirst(5))}static empty(){return new yt(Vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Vr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new yt(new Vr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k7(t,e,r){if(!r)throw new at(Ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function One(t,e,r,n){if(e===!0&&n===!0)throw new at(Ge.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function H4(t){if(!yt.isDocumentKey(t))throw new at(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function G4(t){if(yt.isDocumentKey(t))throw new at(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function F7(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gw(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":St(12329,{type:typeof t})}function aa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new at(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=gw(t);throw new at(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,e){const r={typeString:t};return e&&(r.value=e),r}function mg(t,e){if(!F7(t))throw new at(Ge.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new at(Ge.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=-62135596800,X4=1e6;class Xr{static now(){return Xr.fromMillis(Date.now())}static fromDate(e){return Xr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*X4);return new Xr(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new at(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new at(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<K4)throw new at(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X4}_compareTo(e){return this.seconds===e.seconds?rr(this.nanoseconds,e.nanoseconds):rr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mg(e,Xr._jsonSchema))return new Xr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K4;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xr._jsonSchemaVersion="firestore/timestamp/1.0",Xr._jsonSchema={type:An("string",Xr._jsonSchemaVersion),seconds:An("number"),nanoseconds:An("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Xr(0,0))}static max(){return new Pt(new Xr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=-1;function Mne(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(n===1e9?new Xr(r+1,0):new Xr(r,n));return new Bl(i,yt.empty(),e)}function Ine(t){return new Bl(t.readTime,t.key,vv)}class Bl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Bl(Pt.min(),yt.empty(),vv)}static max(){return new Bl(Pt.max(),yt.empty(),vv)}}function Rne(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=yt.comparator(t.documentKey,e.documentKey),r!==0?r:rr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(t){if(t.code!==Ge.FAILED_PRECONDITION||t.message!==Pne)throw t;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new We(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof We?r:We.resolve(r)}catch(r){return We.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):We.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):We.reject(r)}static resolve(e){return new We(((r,n)=>{r(e)}))}static reject(e){return new We(((r,n)=>{n(e)}))}static waitFor(e){return new We(((r,n)=>{let i=0,a=0,o=!1;e.forEach((s=>{++i,s.next((()=>{++a,o&&a===i&&r()}),(l=>n(l)))})),o=!0,a===i&&r()}))}static or(e){let r=We.resolve(!1);for(const n of e)r=r.next((i=>i?We.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new We(((n,i)=>{const a=e.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(e[u]).next((f=>{o[u]=f,++s,s===a&&n(o)}),(f=>i(f)))}}))}static doWhile(e,r){return new We(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function kne(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function op(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yw.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=-1;function bw(t){return t==null}function Nb(t){return t===0&&1/t==-1/0}function Fne(t){return typeof t=="number"&&Number.isInteger(t)&&!Nb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7="";function $ne(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=W4(e)),e=Lne(t.get(r),e);return W4(e)}function Lne(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case $7:r+="";break;default:r+=a}}return r}function W4(t){return t+$7+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Hl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function L7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,r){this.comparator=e,this.root=r||ci.EMPTY}insert(e,r){return new rn(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new u0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new u0(this.root,e,this.comparator,!1)}getReverseIterator(){return new u0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new u0(this.root,e,this.comparator,!0)}}class u0{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ci{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??ci.RED,this.left=i??ci.EMPTY,this.right=a??ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new ci(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ci.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw St(27949);return e+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1;ci.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new ci(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Q4(this.data.getIterator())}getIteratorFrom(e){return new Q4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Ln(this.comparator);return r.data=e,r}}class Q4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.fields=e,e.sort(fi.comparator)}static empty(){return new Na([])}unionWith(e){let r=new Ln(fi.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Na(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return yd(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new j7("Invalid base64 string: "+a):a}})(e);return new mi(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new mi(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const jne=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kl(t){if(xr(!!t,39018),typeof t=="string"){let e=0;const r=jne.exec(t);if(xr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:pn(t.seconds),nanos:pn(t.nanos)}}function pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fl(t){return typeof t=="string"?mi.fromBase64String(t):mi.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7="server_timestamp",U7="__type__",z7="__previous_value__",V7="__local_write_time__";function cO(t){return(t?.mapValue?.fields||{})[U7]?.stringValue===q7}function ww(t){const e=t.mapValue.fields[z7];return cO(e)?ww(e):e}function gv(t){const e=kl(t.mapValue.fields[V7].timestampValue);return new Xr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{constructor(e,r,n,i,a,o,s,l,u,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const Cb="(default)";class yv{constructor(e,r){this.projectId=e,this.database=r||Cb}static empty(){return new yv("","")}get isDefaultDatabase(){return this.database===Cb}isEqual(e){return e instanceof yv&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7="__type__",Une="__max__",l0={mapValue:{}},G7="__vector__",Ob="value";function $l(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cO(t)?4:Vne(t)?9007199254740991:zne(t)?10:11:St(28295,{value:t})}function Es(t,e){if(t===e)return!0;const r=$l(t);if(r!==$l(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gv(t).isEqual(gv(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=kl(i.timestampValue),s=kl(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Fl(i.bytesValue).isEqual(Fl(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return pn(i.geoPointValue.latitude)===pn(a.geoPointValue.latitude)&&pn(i.geoPointValue.longitude)===pn(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return pn(i.integerValue)===pn(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=pn(i.doubleValue),s=pn(a.doubleValue);return o===s?Nb(o)===Nb(s):isNaN(o)&&isNaN(s)}return!1})(t,e);case 9:return yd(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(Y4(o)!==Y4(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!Es(o[l],s[l])))return!1;return!0})(t,e);default:return St(52216,{left:t})}}function bv(t,e){return(t.values||[]).find((r=>Es(r,e)))!==void 0}function bd(t,e){if(t===e)return 0;const r=$l(t),n=$l(e);if(r!==n)return rr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return rr(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const s=pn(a.integerValue||a.doubleValue),l=pn(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1})(t,e);case 3:return Z4(t.timestampValue,e.timestampValue);case 4:return Z4(gv(t),gv(e));case 5:return k2(t.stringValue,e.stringValue);case 6:return(function(a,o){const s=Fl(a),l=Fl(o);return s.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const f=rr(s[u],l[u]);if(f!==0)return f}return rr(s.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const s=rr(pn(a.latitude),pn(o.latitude));return s!==0?s:rr(pn(a.longitude),pn(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return J4(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const s=a.fields||{},l=o.fields||{},u=s[Ob]?.arrayValue,f=l[Ob]?.arrayValue,d=rr(u?.values?.length||0,f?.values?.length||0);return d!==0?d:J4(u,f)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===l0.mapValue&&o===l0.mapValue)return 0;if(a===l0.mapValue)return 1;if(o===l0.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let d=0;d<l.length&&d<f.length;++d){const p=k2(l[d],f[d]);if(p!==0)return p;const m=bd(s[l[d]],u[f[d]]);if(m!==0)return m}return rr(l.length,f.length)})(t.mapValue,e.mapValue);default:throw St(23264,{he:r})}}function Z4(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return rr(t,e);const r=kl(t),n=kl(e),i=rr(r.seconds,n.seconds);return i!==0?i:rr(r.nanos,n.nanos)}function J4(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=bd(r[i],n[i]);if(a)return a}return rr(r.length,n.length)}function wd(t){return F2(t)}function F2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=kl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Fl(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return yt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=F2(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${F2(r.fields[o])}`;return i+"}"})(t.mapValue):St(61005,{value:t})}function ib(t){switch($l(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ww(t);return e?16+ib(e):16;case 5:return 2*t.stringValue.length;case 6:return Fl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+ib(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Hl(n.fields,((a,o)=>{i+=a.length+ib(o)})),i})(t.mapValue);default:throw St(13486,{value:t})}}function eB(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $2(t){return!!t&&"integerValue"in t}function fO(t){return!!t&&"arrayValue"in t}function tB(t){return!!t&&"nullValue"in t}function rB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ab(t){return!!t&&"mapValue"in t}function zne(t){return(t?.mapValue?.fields||{})[H7]?.stringValue===G7}function Jm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hl(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Jm(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Jm(t.arrayValue.values[r]);return e}return{...t}}function Vne(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Une}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.value=e}static empty(){return new ta({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!ab(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jm(r)}setAll(e){let r=fi.emptyPath(),n={},i=[];e.forEach(((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Jm(o):i.push(s.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());ab(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];ab(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Hl(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new ta(Jm(this.value))}}function K7(t){const e=[];return Hl(t.fields,((r,n)=>{const i=new fi([r]);if(ab(n)){const a=K7(n.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Na(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,r,n,i,a,o,s){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Si(e,0,Pt.min(),Pt.min(),Pt.min(),ta.empty(),0)}static newFoundDocument(e,r,n,i){return new Si(e,1,r,Pt.min(),n,i,0)}static newNoDocument(e,r){return new Si(e,2,r,Pt.min(),Pt.min(),ta.empty(),0)}static newUnknownDocument(e,r){return new Si(e,3,r,Pt.min(),Pt.min(),ta.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ta.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ta.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,r){this.position=e,this.inclusive=r}}function nB(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?n=yt.comparator(yt.fromName(o.referenceValue),r.key):n=bd(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function iB(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Es(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,r="asc"){this.field=e,this.dir=r}}function Hne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{}class _n extends X7{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Kne(e,r,n):r==="array-contains"?new Yne(e,n):r==="in"?new Qne(e,n):r==="not-in"?new Zne(e,n):r==="array-contains-any"?new Jne(e,n):new _n(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Xne(e,n):new Wne(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(bd(r,this.value)):r!==null&&$l(this.value)===$l(r)&&this.matchesComparison(bd(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bo extends X7{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Bo(e,r)}matches(e){return W7(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W7(t){return t.op==="and"}function Y7(t){return Gne(t)&&W7(t)}function Gne(t){for(const e of t.filters)if(e instanceof Bo)return!1;return!0}function L2(t){if(t instanceof _n)return t.field.canonicalString()+t.op.toString()+wd(t.value);if(Y7(t))return t.filters.map((e=>L2(e))).join(",");{const e=t.filters.map((r=>L2(r))).join(",");return`${t.op}(${e})`}}function Q7(t,e){return t instanceof _n?(function(n,i){return i instanceof _n&&n.op===i.op&&n.field.isEqual(i.field)&&Es(n.value,i.value)})(t,e):t instanceof Bo?(function(n,i){return i instanceof Bo&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,o,s)=>a&&Q7(o,i.filters[s])),!0):!1})(t,e):void St(19439)}function Z7(t){return t instanceof _n?(function(r){return`${r.field.canonicalString()} ${r.op} ${wd(r.value)}`})(t):t instanceof Bo?(function(r){return r.op.toString()+" {"+r.getFilters().map(Z7).join(" ,")+"}"})(t):"Filter"}class Kne extends _n{constructor(e,r,n){super(e,r,n),this.key=yt.fromName(n.referenceValue)}matches(e){const r=yt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Xne extends _n{constructor(e,r){super(e,"in",r),this.keys=J7("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class Wne extends _n{constructor(e,r){super(e,"not-in",r),this.keys=J7("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function J7(t,e){return(e.arrayValue?.values||[]).map((r=>yt.fromName(r.referenceValue)))}class Yne extends _n{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return fO(r)&&bv(r.arrayValue,this.value)}}class Qne extends _n{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&bv(this.value.arrayValue,r)}}class Zne extends _n{constructor(e,r){super(e,"not-in",r)}matches(e){if(bv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!bv(this.value.arrayValue,r)}}class Jne extends _n{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!fO(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>bv(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{constructor(e,r=null,n=[],i=[],a=null,o=null,s=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.Te=null}}function aB(t,e=null,r=[],n=[],i=null,a=null,o=null){return new eie(t,e,r,n,i,a,o)}function hO(t){const e=Lt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>L2(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),bw(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>wd(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>wd(n))).join(",")),e.Te=r}return e.Te}function dO(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Hne(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Q7(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iB(t.startAt,e.startAt)&&iB(t.endAt,e.endAt)}function j2(t){return yt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tie(t,e,r,n,i,a,o,s){return new vg(t,e,r,n,i,a,o,s)}function xw(t){return new vg(t)}function oB(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eV(t){return t.collectionGroup!==null}function ev(t){const e=Lt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new Ln(fi.comparator);return o.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(s=s.add(u.field))}))})),s})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ib(a,n))})),r.has(fi.keyField().canonicalString())||e.Ie.push(new Ib(fi.keyField(),n))}return e.Ie}function ms(t){const e=Lt(t);return e.Ee||(e.Ee=rie(e,ev(t))),e.Ee}function rie(t,e){if(t.limitType==="F")return aB(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Ib(i.field,a)}));const r=t.endAt?new Mb(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Mb(t.startAt.position,t.startAt.inclusive):null;return aB(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function q2(t,e){const r=t.filters.concat([e]);return new vg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function U2(t,e,r){return new vg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function _w(t,e){return dO(ms(t),ms(e))&&t.limitType===e.limitType}function tV(t){return`${hO(ms(t))}|lt:${t.limitType}`}function Hh(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>Z7(i))).join(", ")}]`),bw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>wd(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>wd(i))).join(",")),`Target(${n})`})(ms(t))}; limitType=${t.limitType})`}function Aw(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):yt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of ev(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(o,s,l){const u=nB(o,s,l);return o.inclusive?u<=0:u<0})(n.startAt,ev(n),i)||n.endAt&&!(function(o,s,l){const u=nB(o,s,l);return o.inclusive?u>=0:u>0})(n.endAt,ev(n),i))})(t,e)}function nie(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rV(t){return(e,r)=>{let n=!1;for(const i of ev(t)){const a=iie(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function iie(t,e,r){const n=t.field.isKeyField()?yt.comparator(e.key,r.key):(function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?bd(l,u):St(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return St(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hl(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return L7(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aie=new rn(yt.comparator);function Nu(){return aie}const nV=new rn(yt.comparator);function Um(...t){let e=nV;for(const r of t)e=e.insert(r.key,r);return e}function iV(t){let e=nV;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function Kc(){return tv()}function aV(){return tv()}function tv(){return new Tf((t=>t.toString()),((t,e)=>t.isEqual(e)))}const oie=new rn(yt.comparator),sie=new Ln(yt.comparator);function nr(...t){let e=sie;for(const r of t)e=e.add(r);return e}const uie=new Ln(rr);function lie(){return uie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nb(e)?"-0":e}}function oV(t){return{integerValue:""+t}}function cie(t,e){return Fne(e)?oV(e):pO(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this._=void 0}}function fie(t,e,r){return t instanceof wv?(function(i,a){const o={fields:{[U7]:{stringValue:q7},[V7]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&cO(a)&&(a=ww(a)),a&&(o.fields[z7]=a),{mapValue:o}})(r,e):t instanceof xv?uV(t,e):t instanceof _v?lV(t,e):(function(i,a){const o=sV(i,a),s=sB(o)+sB(i.Ae);return $2(o)&&$2(i.Ae)?oV(s):pO(i.serializer,s)})(t,e)}function hie(t,e,r){return t instanceof xv?uV(t,e):t instanceof _v?lV(t,e):r}function sV(t,e){return t instanceof Rb?(function(n){return $2(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class wv extends Ew{}class xv extends Ew{constructor(e){super(),this.elements=e}}function uV(t,e){const r=cV(e);for(const n of t.elements)r.some((i=>Es(i,n)))||r.push(n);return{arrayValue:{values:r}}}class _v extends Ew{constructor(e){super(),this.elements=e}}function lV(t,e){let r=cV(e);for(const n of t.elements)r=r.filter((i=>!Es(i,n)));return{arrayValue:{values:r}}}class Rb extends Ew{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function sB(t){return pn(t.integerValue||t.doubleValue)}function cV(t){return fO(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class die{constructor(e,r){this.field=e,this.transform=r}}function pie(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof xv&&i instanceof xv||n instanceof _v&&i instanceof _v?yd(n.elements,i.elements,Es):n instanceof Rb&&i instanceof Rb?Es(n.Ae,i.Ae):n instanceof wv&&i instanceof wv})(t.transform,e.transform)}class mie{constructor(e,r){this.version=e,this.transformResults=r}}class uo{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new uo}static exists(e){return new uo(void 0,e)}static updateTime(e){return new uo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ob(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sw{}function fV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mO(t.key,uo.none()):new gg(t.key,t.data,uo.none());{const r=t.data,n=ta.empty();let i=new Ln(fi.comparator);for(let a of e.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Gl(t.key,n,new Na(i.toArray()),uo.none())}}function vie(t,e,r){t instanceof gg?(function(i,a,o){const s=i.value.clone(),l=lB(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()})(t,e,r):t instanceof Gl?(function(i,a,o){if(!ob(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=lB(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(hV(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()})(t,e,r):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,r)}function rv(t,e,r,n){return t instanceof gg?(function(a,o,s,l){if(!ob(a.precondition,o))return s;const u=a.value.clone(),f=cB(a.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null})(t,e,r,n):t instanceof Gl?(function(a,o,s,l){if(!ob(a.precondition,o))return s;const u=cB(a.fieldTransforms,l,o),f=o.data;return f.setAll(hV(a)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((d=>d.field)))})(t,e,r,n):(function(a,o,s){return ob(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s})(t,e,r)}function gie(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=sV(n.transform,i||null);a!=null&&(r===null&&(r=ta.empty()),r.set(n.field,a))}return r||null}function uB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&yd(n,i,((a,o)=>pie(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gg extends Sw{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Gl extends Sw{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hV(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function lB(t,e,r){const n=new Map;xr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],o=a.transform,s=e.data.field(a.field);n.set(a.field,hie(o,s,r[i]))}return n}function cB(t,e,r){const n=new Map;for(const i of t){const a=i.transform,o=r.data.field(i.field);n.set(i.field,fie(a,o,e))}return n}class mO extends Sw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yie extends Sw{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bie{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&vie(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=rv(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=rv(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=aV();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=fV(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Pt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),nr())}isEqual(e){return this.batchId===e.batchId&&yd(this.mutations,e.mutations,((r,n)=>uB(r,n)))&&yd(this.baseMutations,e.baseMutations,((r,n)=>uB(r,n)))}}class vO{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){xr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return oie})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new vO(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wie{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,cr;function _ie(t){switch(t){case Ge.OK:return St(64938);case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return St(15467,{code:t})}}function dV(t){if(t===void 0)return Du("GRPC error has no .code"),Ge.UNKNOWN;switch(t){case wn.OK:return Ge.OK;case wn.CANCELLED:return Ge.CANCELLED;case wn.UNKNOWN:return Ge.UNKNOWN;case wn.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case wn.INTERNAL:return Ge.INTERNAL;case wn.UNAVAILABLE:return Ge.UNAVAILABLE;case wn.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case wn.NOT_FOUND:return Ge.NOT_FOUND;case wn.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case wn.ABORTED:return Ge.ABORTED;case wn.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case wn.DATA_LOSS:return Ge.DATA_LOSS;default:return St(39323,{code:t})}}(cr=wn||(wn={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aie(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eie=new Ml([4294967295,4294967295],0);function fB(t){const e=Aie().encode(t),r=new N7;return r.update(e),new Uint8Array(r.digest())}function hB(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ml([r,n],0),new Ml([i,a],0)]}class gO{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new zm(`Invalid padding: ${r}`);if(n<0)throw new zm(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new zm(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new zm(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Ml.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Ml.fromNumber(n)));return i.compare(Eie)===1&&(i=new Ml([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=fB(e),[n,i]=hB(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new gO(a,i,r);return n.forEach((s=>o.insert(s))),o}insert(e){if(this.ge===0)return;const r=fB(e),[n,i]=hB(r);for(let a=0;a<this.hashCount;a++){const o=this.ye(n,i,a);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class zm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,yg.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Tw(Pt.min(),i,new rn(rr),Nu(),nr())}}class yg{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new yg(n,r,nr(),nr(),nr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class pV{constructor(e,r){this.targetId=e,this.Ce=r}}class mV{constructor(e,r,n=mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class dB{constructor(){this.ve=0,this.Fe=pB(),this.Me=mi.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=nr(),r=nr(),n=nr();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:St(38017,{changeType:a})}})),new yg(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=pB()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Sie{constructor(e){this.Ge=e,this.ze=new Map,this.je=Nu(),this.Je=c0(),this.He=c0(),this.Ye=new rn(rr)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:St(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(j2(a))if(n===0){const o=new yt(a.path);this.et(r,o,Si.newNoDocument(o,Pt.min()))}else xr(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const s=this.ut(e),l=s?this.ct(s,e,o):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Fl(n).toUint8Array()}catch(l){if(l instanceof j7)return gd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new gO(o,i,a)}catch(l){return gd(l instanceof zm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.ge===0?null:s}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const o=this.Ge.ht(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(s)||(this.et(r,a,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((a,o)=>{const s=this.ot(o);if(s){if(a.current&&j2(s.target)){const l=new yt(s.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Si.newNoDocument(l,e))}a.Be&&(r.set(o,a.ke()),a.qe())}}));let n=nr();this.He.forEach(((a,o)=>{let s=!0;o.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)})),s&&(n=n.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Tw(e,r,this.Ye,this.je,n);return this.je=Nu(),this.Je=c0(),this.He=c0(),this.Ye=new rn(rr),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new dB,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new Ln(rr),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new Ln(rr),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ot("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dB),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function c0(){return new rn(yt.comparator)}function pB(){return new rn(yt.comparator)}const Tie={asc:"ASCENDING",desc:"DESCENDING"},Die={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nie={and:"AND",or:"OR"};class Cie{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function z2(t,e){return t.useProto3Json||bw(e)?e:{value:e}}function Pb(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Oie(t,e){return Pb(t,e.toTimestamp())}function vs(t){return xr(!!t,49232),Pt.fromTimestamp((function(r){const n=kl(r);return new Xr(n.seconds,n.nanos)})(t))}function yO(t,e){return V2(t,e).canonicalString()}function V2(t,e){const r=(function(i){return new Vr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function gV(t){const e=Vr.fromString(t);return xr(_V(e),10190,{key:e.toString()}),e}function H2(t,e){return yO(t.databaseId,e.path)}function rE(t,e){const r=gV(e);if(r.get(1)!==t.databaseId.projectId)throw new at(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new at(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new yt(bV(r))}function yV(t,e){return yO(t.databaseId,e)}function Mie(t){const e=gV(t);return e.length===4?Vr.emptyPath():bV(e)}function G2(t){return new Vr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function bV(t){return xr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function mB(t,e,r){return{name:H2(t,e),fields:r.value.mapValue.fields}}function Iie(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:St(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(u,f){return u.useProto3Json?(xr(f===void 0||typeof f=="string",58123),mi.fromBase64String(f||"")):(xr(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),mi.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,s=o&&(function(u){const f=u.code===void 0?Ge.UNKNOWN:dV(u.code);return new at(f,u.message||"")})(o);r=new mV(n,i,a,s||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=rE(t,n.document.name),a=vs(n.document.updateTime),o=n.document.createTime?vs(n.document.createTime):Pt.min(),s=new ta({mapValue:{fields:n.document.fields}}),l=Si.newFoundDocument(i,a,o,s),u=n.targetIds||[],f=n.removedTargetIds||[];r=new sb(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=rE(t,n.document),a=n.readTime?vs(n.readTime):Pt.min(),o=Si.newNoDocument(i,a),s=n.removedTargetIds||[];r=new sb([],s,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=rE(t,n.document),a=n.removedTargetIds||[];r=new sb([],a,i,null)}else{if(!("filter"in e))return St(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new xie(i,a),s=n.targetId;r=new pV(s,o)}}return r}function Rie(t,e){let r;if(e instanceof gg)r={update:mB(t,e.key,e.value)};else if(e instanceof mO)r={delete:H2(t,e.key)};else if(e instanceof Gl)r={update:mB(t,e.key,e.data),updateMask:Uie(e.fieldMask)};else{if(!(e instanceof yie))return St(16599,{Vt:e.type});r={verify:H2(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,o){const s=o.transform;if(s instanceof wv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof xv)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof _v)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Rb)return{fieldPath:o.field.canonicalString(),increment:s.Ae};throw St(20930,{transform:o.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:Oie(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:St(27497)})(t,e.precondition)),r}function Pie(t,e){return t&&t.length>0?(xr(e!==void 0,14353),t.map((r=>(function(i,a){let o=i.updateTime?vs(i.updateTime):vs(a);return o.isEqual(Pt.min())&&(o=vs(a)),new mie(o,i.transformResults||[])})(r,e)))):[]}function Bie(t,e){return{documents:[yV(t,e.path)]}}function kie(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=yV(t,i);const a=(function(u){if(u.length!==0)return xV(Bo.create(u,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const o=(function(u){if(u.length!==0)return u.map((f=>(function(p){return{field:Gh(p.field),direction:Lie(p.dir)}})(f)))})(e.orderBy);o&&(r.structuredQuery.orderBy=o);const s=z2(t,e.limit);return s!==null&&(r.structuredQuery.limit=s),e.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:r,parent:i}}function Fie(t){let e=Mie(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){xr(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];r.where&&(a=(function(d){const p=wV(d);return p instanceof Bo&&Y7(p)?p.getFilters():[p]})(r.where));let o=[];r.orderBy&&(o=(function(d){return d.map((p=>(function(y){return new Ib(Kh(y.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(p)))})(r.orderBy));let s=null;r.limit&&(s=(function(d){let p;return p=typeof d=="object"?d.value:d,bw(p)?null:p})(r.limit));let l=null;r.startAt&&(l=(function(d){const p=!!d.before,m=d.values||[];return new Mb(m,p)})(r.startAt));let u=null;return r.endAt&&(u=(function(d){const p=!d.before,m=d.values||[];return new Mb(m,p)})(r.endAt)),tie(e,i,o,a,s,"F",l,u)}function $ie(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function wV(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Kh(r.unaryFilter.field);return _n.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Kh(r.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Kh(r.unaryFilter.field);return _n.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Kh(r.unaryFilter.field);return _n.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(t):t.fieldFilter!==void 0?(function(r){return _n.create(Kh(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Bo.create(r.compositeFilter.filters.map((n=>wV(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(r.compositeFilter.op))})(t):St(30097,{filter:t})}function Lie(t){return Tie[t]}function jie(t){return Die[t]}function qie(t){return Nie[t]}function Gh(t){return{fieldPath:t.canonicalString()}}function Kh(t){return fi.fromServerFormat(t.fieldPath)}function xV(t){return t instanceof _n?(function(r){if(r.op==="=="){if(rB(r.value))return{unaryFilter:{field:Gh(r.field),op:"IS_NAN"}};if(tB(r.value))return{unaryFilter:{field:Gh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(rB(r.value))return{unaryFilter:{field:Gh(r.field),op:"IS_NOT_NAN"}};if(tB(r.value))return{unaryFilter:{field:Gh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gh(r.field),op:jie(r.op),value:r.value}}})(t):t instanceof Bo?(function(r){const n=r.getFilters().map((i=>xV(i)));return n.length===1?n[0]:{compositeFilter:{op:qie(r.op),filters:n}}})(t):St(54877,{filter:t})}function Uie(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function _V(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,r,n,i,a=Pt.min(),o=Pt.min(),s=mi.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new _l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zie{constructor(e){this.yt=e}}function Vie(t){const e=Fie({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?U2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hie{constructor(){this.Cn=new Gie}addToCollectionParentIndex(e,r){return this.Cn.add(r),We.resolve()}getCollectionParents(e,r){return We.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return We.resolve()}deleteFieldIndex(e,r){return We.resolve()}deleteAllFieldIndexes(e){return We.resolve()}createTargetIndexes(e,r){return We.resolve()}getDocumentsMatchingTarget(e,r){return We.resolve(null)}getIndexType(e,r){return We.resolve(0)}getFieldIndexes(e,r){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,r){return We.resolve(Bl.min())}getMinOffsetFromCollectionGroup(e,r){return We.resolve(Bl.min())}updateCollectionGroup(e,r,n){return We.resolve()}updateIndexEntries(e,r){return We.resolve()}}class Gie{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Ln(Vr.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Ln(Vr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AV=41943040;class Zi{static withCacheSize(e){return new Zi(e,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi.DEFAULT_COLLECTION_PERCENTILE=10,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zi.DEFAULT=new Zi(AV,Zi.DEFAULT_COLLECTION_PERCENTILE,Zi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zi.DISABLED=new Zi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xd(0)}static cr(){return new xd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="LruGarbageCollector",Kie=1048576;function yB([t,e],[r,n]){const i=rr(t,r);return i===0?rr(e,n):i}class Xie{constructor(e){this.Ir=e,this.buffer=new Ln(yB),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();yB(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Wie{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(gB,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){op(r)?ot(gB,"Ignoring IndexedDB error during garbage collection: ",r):await ap(r)}await this.Vr(3e5)}))}}class Yie{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return We.resolve(yw.ce);const n=new Xie(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),We.resolve(vB)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vB):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,o,s,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((d=>(d>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i)))).next((d=>(n=d,s=Date.now(),this.removeTargets(e,n,r)))).next((d=>(a=d,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((d=>(u=Date.now(),Vh()<=tr.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(s-o)+`ms
	Removed ${a} targets in `+(l-s)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),We.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:d}))))}}function Qie(t,e){return new Yie(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zie{constructor(){this.changes=new Tf((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Si.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?We.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&rv(n.mutation,i,Na.empty(),Xr.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,nr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=nr()){const i=Kc();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let o=Um();return a.forEach(((s,l)=>{o=o.insert(s,l.overlayedDocument)})),o}))))}getOverlayedDocuments(e,r){const n=Kc();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,nr())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,s)=>{r.set(o,s)}))}))}computeViews(e,r,n,i){let a=Nu();const o=tv(),s=(function(){return tv()})();return r.forEach(((l,u)=>{const f=n.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Gl)?a=a.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),rv(f.mutation,u,f.mutation.getFieldMask(),Xr.now())):o.set(u.key,Na.empty())})),this.recalculateAndSaveOverlays(e,a).next((l=>(l.forEach(((u,f)=>o.set(u,f))),r.forEach(((u,f)=>s.set(u,new Jie(f,o.get(u)??null)))),s)))}recalculateAndSaveOverlays(e,r){const n=tv();let i=new rn(((o,s)=>o-s)),a=nr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((o=>{for(const s of o)s.keys().forEach((l=>{const u=r.get(l);if(u===null)return;let f=n.get(l)||Na.empty();f=s.applyToLocalView(u,f),n.set(l,f);const d=(i.get(s.batchId)||nr()).add(l);i=i.insert(s.batchId,d)}))})).next((()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,f=l.value,d=aV();f.forEach((p=>{if(!a.has(p)){const m=fV(r.get(p),n.get(p));m!==null&&d.set(p,m),a=a.add(p)}})),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return We.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(o){return yt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):eV(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):We.resolve(Kc());let s=vv,l=a;return o.next((u=>We.forEach(u,((f,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(f)?We.resolve():this.remoteDocumentCache.getEntry(e,f).next((p=>{l=l.insert(f,p)}))))).next((()=>this.populateOverlays(e,u,a))).next((()=>this.computeViews(e,l,u,nr()))).next((f=>({batchId:s,changes:iV(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new yt(r)).next((n=>{let i=Um();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let o=Um();return this.indexManager.getCollectionParents(e,a).next((s=>We.forEach(s,(l=>{const u=(function(d,p){return new vg(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)})(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next((f=>{f.forEach(((d,p)=>{o=o.insert(d,p)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((o=>{a.forEach(((l,u)=>{const f=u.getKey();o.get(f)===null&&(o=o.insert(f,Si.newInvalidDocument(f)))}));let s=Um();return o.forEach(((l,u)=>{const f=a.get(l);f!==void 0&&rv(f.mutation,u,Na.empty(),Xr.now()),Aw(r,u)&&(s=s.insert(l,u))})),s}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tae{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return We.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:vs(i.createTime)}})(r)),We.resolve()}getNamedQuery(e,r){return We.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:Vie(i.bundledQuery),readTime:vs(i.readTime)}})(r)),We.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rae{constructor(){this.overlays=new rn(yt.comparator),this.qr=new Map}getOverlay(e,r){return We.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Kc();return We.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.St(e,r,a)})),We.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),We.resolve()}getOverlaysForCollection(e,r,n){const i=Kc(),a=r.length+1,o=new yt(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return We.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new rn(((u,f)=>u-f));const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let f=a.get(u.largestBatchId);f===null&&(f=Kc(),a=a.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const s=Kc(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,f)=>s.set(u,f))),!(s.size()>=i)););return We.resolve(s)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new wie(r,n));let a=this.qr.get(r);a===void 0&&(a=nr(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(){this.sessionToken=mi.EMPTY_BYTE_STRING}getSessionToken(e){return We.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,We.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(){this.Qr=new Ln(Jn.$r),this.Ur=new Ln(Jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Jn(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Jn(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new yt(new Vr([])),n=new Jn(r,e),i=new Jn(r,e+1),a=[];return this.Ur.forEachInRange([n,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new yt(new Vr([])),n=new Jn(r,e),i=new Jn(r,e+1);let a=nr();return this.Ur.forEachInRange([n,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const r=new Jn(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Jn{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return yt.comparator(e.key,r.key)||rr(e.Yr,r.Yr)}static Kr(e,r){return rr(e.Yr,r.Yr)||yt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iae{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Ln(Jn.$r)}checkEmpty(e){return We.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bie(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.Zr=this.Zr.add(new Jn(s.key,a)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return We.resolve(o)}lookupMutationBatch(e,r){return We.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return We.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(this.mutationQueue.length===0?lO:this.tr-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Jn(r,0),i=new Jn(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(o=>{const s=this.Xr(o.Yr);a.push(s)})),We.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Ln(rr);return r.forEach((i=>{const a=new Jn(i,0),o=new Jn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(s=>{n=n.add(s.Yr)}))})),We.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;yt.isDocumentKey(a)||(a=a.child(""));const o=new Jn(new yt(a),0);let s=new Ln(rr);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.Yr)),!0)}),o),We.resolve(this.ti(s))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){xr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return We.forEach(r.mutations,(i=>{const a=new Jn(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Jn(r,0),i=this.Zr.firstAfterOrEqual(n);return We.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,We.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(e){this.ri=e,this.docs=(function(){return new rn(yt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return We.resolve(n?n.document.mutableCopy():Si.newInvalidDocument(r))}getEntries(e,r){let n=Nu();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Si.newInvalidDocument(i))})),We.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Nu();const o=r.path,s=new yt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Rne(Ine(f),n)<=0||(i.has(f.key)||Aw(r,f))&&(a=a.insert(f.key,f.mutableCopy()))}return We.resolve(a)}getAllFromCollectionGroup(e,r,n,i){St(9500)}ii(e,r){return We.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new oae(this)}getSize(e){return We.resolve(this.size)}}class oae extends Zie{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),We.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sae{constructor(e){this.persistence=e,this.si=new Tf((r=>hO(r)),dO),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.oi=0,this._i=new bO,this.targetCount=0,this.ai=xd.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),We.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new xd(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,We.resolve()}updateTargetData(e,r){return this.Pr(r),We.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach(((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),We.waitFor(a).next((()=>i))}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return We.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),We.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),We.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),We.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return We.resolve(n)}containsKey(e,r){return We.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,r){this.ui={},this.overlays={},this.ci=new yw(0),this.li=!1,this.li=!0,this.hi=new nae,this.referenceDelegate=e(this),this.Pi=new sae(this),this.indexManager=new Hie,this.remoteDocumentCache=(function(i){return new aae(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new zie(r),this.Ii=new tae(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new rae,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new iae(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ot("MemoryPersistence","Starting transaction:",e);const i=new uae(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,r){return We.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class uae extends Bne{constructor(e){super(),this.currentSequenceNumber=e}}class wO{constructor(e){this.persistence=e,this.Ri=new bO,this.Vi=null}static mi(e){return new wO(e)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),We.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),We.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),We.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.fi,(n=>{const i=yt.fromPath(n);return this.gi(e,i).next((a=>{a||r.removeEntry(i,Pt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return We.or([()=>We.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Bb{constructor(e,r){this.persistence=e,this.pi=new Tf((n=>$ne(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=Qie(this,r)}static mi(e,r){return new Bb(e,r)}Ei(){}di(e){return We.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return We.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?We.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,r).next((s=>{s||(n++,a.removeEntry(o,Pt.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),We.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),We.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),We.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),We.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=ib(e.data.value)),r}br(e,r,n){return We.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return We.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=nr(),i=nr();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new xO(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lae{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cae{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return YJ()?8:kne(Ci())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,r,i,n).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new lae;return this.Ss(e,r,o).next((s=>{if(a.result=s,this.Vs)return this.bs(e,r,o,s.size)}))})).next((()=>a.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(Vh()<=tr.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Hh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),We.resolve()):(Vh()<=tr.DEBUG&&ot("QueryEngine","Query:",Hh(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Vh()<=tr.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Hh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ms(r))):We.resolve())}ys(e,r){if(oB(r))return We.resolve(null);let n=ms(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=U2(r,null,"F"),n=ms(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const o=nr(...a);return this.ps.getDocuments(e,o).next((s=>this.indexManager.getMinOffset(e,n).next((l=>{const u=this.Ds(r,s);return this.Cs(r,u,o,l.readTime)?this.ys(e,U2(r,null,"F")):this.vs(e,u,r,l)}))))})))))}ws(e,r,n,i){return oB(r)||i.isEqual(Pt.min())?We.resolve(null):this.ps.getDocuments(e,n).next((a=>{const o=this.Ds(r,a);return this.Cs(r,o,n,i)?We.resolve(null):(Vh()<=tr.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hh(r)),this.vs(e,o,r,Mne(i,vv)).next((s=>s)))}))}Ds(e,r){let n=new Ln(rV(e));return r.forEach(((i,a)=>{Aw(e,a)&&(n=n.add(a))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Vh()<=tr.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Hh(r)),this.ps.getDocumentsMatchingQuery(e,r,Bl.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="LocalStore",fae=3e8;class hae{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new rn(rr),this.xs=new Tf((a=>hO(a)),dO),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eae(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function dae(t,e,r,n){return new hae(t,e,r,n)}async function SV(t,e){const r=Lt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const o=[],s=[];let l=nr();for(const u of i){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of a){s.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return r.localDocuments.getDocuments(n,l).next((u=>({Ls:u,removedBatchIds:o,addedBatchIds:s})))}))}))}function pae(t,e){const r=Lt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(s,l,u,f){const d=u.batch,p=d.keys();let m=We.resolve();return p.forEach((y=>{m=m.next((()=>f.getEntry(l,y))).next((g=>{const b=u.docVersions.get(y);xr(b!==null,48541),g.version.compareTo(b)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),f.addEntry(g)))}))})),m.next((()=>s.mutationQueue.removeMutationBatch(l,d)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(s){let l=nr();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function TV(t){const e=Lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function mae(t,e){const r=Lt(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const s=[];e.targetChanges.forEach(((f,d)=>{const p=i.get(d);if(!p)return;s.push(r.Pi.removeMatchingKeys(a,f.removedDocuments,d).next((()=>r.Pi.addMatchingKeys(a,f.addedDocuments,d))));let m=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(mi.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):f.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(f.resumeToken,n)),i=i.insert(d,m),(function(g,b,E){return g.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=fae?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(p,m,f)&&s.push(r.Pi.updateTargetData(a,m))}));let l=Nu(),u=nr();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,f))})),s.push(vae(a,o,e.documentUpdates).next((f=>{l=f.ks,u=f.qs}))),!n.isEqual(Pt.min())){const f=r.Pi.getLastRemoteSnapshotVersion(a).next((d=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));s.push(f)}return We.waitFor(s).next((()=>o.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,l,u))).next((()=>l))})).then((a=>(r.Ms=i,a)))}function vae(t,e,r){let n=nr(),i=nr();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let o=Nu();return r.forEach(((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(Pt.min())?(e.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(s,l)):ot(_O,"Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)})),{ks:o,qs:i}}))}function gae(t,e){const r=Lt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=lO),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function yae(t,e){const r=Lt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((a=>a?(i=a,We.resolve(i)):r.Pi.allocateTargetId(n).next((o=>(i=new _l(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function K2(t,e,r){const n=Lt(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(o=>n.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!op(o))throw o;ot(_O,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function bB(t,e,r){const n=Lt(t);let i=Pt.min(),a=nr();return n.persistence.runTransaction("Execute query","readwrite",(o=>(function(l,u,f){const d=Lt(l),p=d.xs.get(f);return p!==void 0?We.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,f)})(n,o,ms(e)).next((s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,s.targetId).next((l=>{a=l}))})).next((()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:Pt.min(),r?a:nr()))).next((s=>(bae(n,nie(e),s),{documents:s,Qs:a})))))}function bae(t,e,r){let n=t.Os.get(e)||Pt.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Os.set(e,n)}class wB{constructor(){this.activeTargetIds=lie()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wae{constructor(){this.Mo=new wB,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new wB,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xae{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB="ConnectivityMonitor";class _B{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(xB,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(xB,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f0=null;function X2(){return f0===null?f0=(function(){return 268435456+Math.round(2147483648*Math.random())})():f0++,"0x"+f0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="RestConnection",_ae={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Aae{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Cb?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const o=X2(),s=this.zo(e,r.toUriEncodedString());ot(nE,`Sending RPC '${e}' ${o}:`,s,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:u}=new URL(s),f=Ns(u);return this.Jo(e,s,l,n,f).then((d=>(ot(nE,`Received RPC '${e}' ${o}: `,d),d)),(d=>{throw gd(nE,`RPC '${e}' ${o} failed with error: `,d,"url: ",s,"request:",n),d}))}Ho(e,r,n,i,a,o){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ip})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,r){const n=_ae[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eae{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="WebChannelConnection";class Sae extends Aae{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const o=X2();return new Promise(((s,l)=>{const u=new C7;u.setWithCredentials(!0),u.listenOnce(O7.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case nb.NO_ERROR:const d=u.getResponseJson();ot(xi,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case nb.TIMEOUT:ot(xi,`RPC '${e}' ${o} timed out`),l(new at(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case nb.HTTP_ERROR:const p=u.getStatus();if(ot(xi,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m?.error;if(y&&y.status&&y.message){const g=(function(E){const O=E.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(O)>=0?O:Ge.UNKNOWN})(y.status);l(new at(g,y.message))}else l(new at(Ge.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new at(Ge.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ot(xi,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);ot(xi,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",f,n,15)}))}T_(e,r,n){const i=X2(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=R7(),s=I7(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const f=a.join("");ot(xi,`Creating RPC '${e}' stream ${i}: ${f}`,l);const d=o.createWebChannel(f,l);this.I_(d);let p=!1,m=!1;const y=new Eae({Yo:b=>{m?ot(xi,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(p||(ot(xi,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),ot(xi,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},Zo:()=>d.close()}),g=(b,E,O)=>{b.listen(E,(A=>{try{O(A)}catch(S){setTimeout((()=>{throw S}),0)}}))};return g(d,qm.EventType.OPEN,(()=>{m||(ot(xi,`RPC '${e}' stream ${i} transport opened.`),y.o_())})),g(d,qm.EventType.CLOSE,(()=>{m||(m=!0,ot(xi,`RPC '${e}' stream ${i} transport closed`),y.a_(),this.E_(d))})),g(d,qm.EventType.ERROR,(b=>{m||(m=!0,gd(xi,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),y.a_(new at(Ge.UNAVAILABLE,"The operation could not be completed")))})),g(d,qm.EventType.MESSAGE,(b=>{if(!m){const E=b.data[0];xr(!!E,16349);const O=E,A=O?.error||O[0]?.error;if(A){ot(xi,`RPC '${e}' stream ${i} received error:`,A);const S=A.status;let x=(function(N){const C=wn[N];if(C!==void 0)return dV(C)})(S),_=A.message;x===void 0&&(x=Ge.INTERNAL,_="Unknown error status: "+S+" with message "+A.message),m=!0,y.a_(new at(x,_)),d.close()}else ot(xi,`RPC '${e}' stream ${i} received:`,E),y.u_(E)}})),g(s,M7.STAT_EVENT,(b=>{b.stat===B2.PROXY?ot(xi,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===B2.NOPROXY&&ot(xi,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{y.__()}),0),y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function iE(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t){return new Cie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB="PersistentStream";class NV{constructor(e,r,n,i,a,o,s,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DV(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Ge.RESOURCE_EXHAUSTED?(Du(r.toString()),Du("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new at(Ge.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(AB,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(ot(AB,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Tae extends NV{constructor(e,r,n,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=Iie(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Pt.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Pt.min():o.readTime?vs(o.readTime):Pt.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=G2(this.serializer),r.addTarget=(function(a,o){let s;const l=o.target;if(s=j2(l)?{documents:Bie(a,l)}:{query:kie(a,l).ft},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=vV(a,o.resumeToken);const u=z2(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(Pt.min())>0){s.readTime=Pb(a,o.snapshotVersion.toTimestamp());const u=z2(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s})(this.serializer,e);const n=$ie(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=G2(this.serializer),r.removeTarget=e,this.q_(r)}}class Dae extends NV{constructor(e,r,n,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return xr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Pie(e.writeResults,e.commitTime),n=vs(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=G2(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Rie(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nae{}class Cae extends Nae{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new at(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,V2(r,n),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new at(Ge.UNKNOWN,a.toString())}))}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Ho(e,V2(r,n),i,o,s,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new at(Ge.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Oae{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Du(r),this.aa=!1):ot("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="RemoteStore";class Mae{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{n.enqueueAndForget((async()=>{Df(this)&&(ot(df,"Restarting streams for network reachability change."),await(async function(l){const u=Lt(l);u.Ea.add(4),await bg(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Nw(u)})(this))}))})),this.Ra=new Oae(n,i)}}async function Nw(t){if(Df(t))for(const e of t.da)await e(!0)}async function bg(t){for(const e of t.da)await e(!1)}function CV(t,e){const r=Lt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),TO(r)?SO(r):sp(r).O_()&&EO(r,e))}function AO(t,e){const r=Lt(t),n=sp(r);r.Ia.delete(e),n.O_()&&OV(r,e),r.Ia.size===0&&(n.O_()?n.L_():Df(r)&&r.Ra.set("Unknown"))}function EO(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}sp(t).Y_(e)}function OV(t,e){t.Va.Ue(e),sp(t).Z_(e)}function SO(t){t.Va=new Sie({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),sp(t).start(),t.Ra.ua()}function TO(t){return Df(t)&&!sp(t).x_()&&t.Ia.size>0}function Df(t){return Lt(t).Ea.size===0}function MV(t){t.Va=void 0}async function Iae(t){t.Ra.set("Online")}async function Rae(t){t.Ia.forEach(((e,r)=>{EO(t,e)}))}async function Pae(t,e){MV(t),TO(t)?(t.Ra.ha(e),SO(t)):t.Ra.set("Unknown")}async function Bae(t,e,r){if(t.Ra.set("Online"),e instanceof mV&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const s of a.targetIds)i.Ia.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.Ia.delete(s),i.Va.removeTarget(s))})(t,e)}catch(n){ot(df,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await kb(t,n)}else if(e instanceof sb?t.Va.Ze(e):e instanceof pV?t.Va.st(e):t.Va.tt(e),!r.isEqual(Pt.min()))try{const n=await TV(t.localStore);r.compareTo(n)>=0&&await(function(a,o){const s=a.Va.Tt(o);return s.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=a.Ia.get(u);f&&a.Ia.set(u,f.withResumeToken(l.resumeToken,o))}})),s.targetMismatches.forEach(((l,u)=>{const f=a.Ia.get(l);if(!f)return;a.Ia.set(l,f.withResumeToken(mi.EMPTY_BYTE_STRING,f.snapshotVersion)),OV(a,l);const d=new _l(f.target,l,u,f.sequenceNumber);EO(a,d)})),a.remoteSyncer.applyRemoteEvent(s)})(t,r)}catch(n){ot(df,"Failed to raise snapshot:",n),await kb(t,n)}}async function kb(t,e,r){if(!op(e))throw e;t.Ea.add(1),await bg(t),t.Ra.set("Offline"),r||(r=()=>TV(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ot(df,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await Nw(t)}))}function IV(t,e){return e().catch((r=>kb(t,r,e)))}async function Cw(t){const e=Lt(t),r=Ll(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lO;for(;kae(e);)try{const i=await gae(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,Fae(e,i)}catch(i){await kb(e,i)}RV(e)&&PV(e)}function kae(t){return Df(t)&&t.Ta.length<10}function Fae(t,e){t.Ta.push(e);const r=Ll(t);r.O_()&&r.X_&&r.ea(e.mutations)}function RV(t){return Df(t)&&!Ll(t).x_()&&t.Ta.length>0}function PV(t){Ll(t).start()}async function $ae(t){Ll(t).ra()}async function Lae(t){const e=Ll(t);for(const r of t.Ta)e.ea(r.mutations)}async function jae(t,e,r){const n=t.Ta.shift(),i=vO.from(n,e,r);await IV(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Cw(t)}async function qae(t,e){e&&Ll(t).X_&&await(async function(n,i){if((function(o){return _ie(o)&&o!==Ge.ABORTED})(i.code)){const a=n.Ta.shift();Ll(n).B_(),await IV(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Cw(n)}})(t,e),RV(t)&&PV(t)}async function EB(t,e){const r=Lt(t);r.asyncQueue.verifyOperationInProgress(),ot(df,"RemoteStore received new credentials");const n=Df(r);r.Ea.add(3),await bg(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await Nw(r)}async function Uae(t,e){const r=Lt(t);e?(r.Ea.delete(2),await Nw(r)):e||(r.Ea.add(2),await bg(r),r.Ra.set("Unknown"))}function sp(t){return t.ma||(t.ma=(function(r,n,i){const a=Lt(r);return a.sa(),new Tae(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Iae.bind(null,t),t_:Rae.bind(null,t),r_:Pae.bind(null,t),H_:Bae.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),TO(t)?SO(t):t.Ra.set("Unknown")):(await t.ma.stop(),MV(t))}))),t.ma}function Ll(t){return t.fa||(t.fa=(function(r,n,i){const a=Lt(r);return a.sa(),new Dae(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:$ae.bind(null,t),r_:qae.bind(null,t),ta:Lae.bind(null,t),na:jae.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Cw(t)):(await t.fa.stop(),t.Ta.length>0&&(ot(df,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new wu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const o=Date.now()+n,s=new DO(e,r,o,i,a);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function NO(t,e){if(Du("AsyncQueue",`${e}: ${t}`),op(t))return new at(Ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{static emptySet(e){return new ud(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||yt.comparator(r.key,n.key):(r,n)=>yt.comparator(r.key,n.key),this.keyedMap=Um(),this.sortedSet=new rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof ud)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new ud;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(){this.ga=new rn(yt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):St(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class _d{constructor(e,r,n,i,a,o,s,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,a){const o=[];return r.forEach((s=>{o.push({type:0,doc:s})})),new _d(e,r,ud.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_w(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zae{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Vae{constructor(){this.queries=TB(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Lt(r),a=i.queries;i.queries=TB(),a.forEach(((o,s)=>{for(const l of s.Sa)l.onError(n)}))})(this,new at(Ge.ABORTED,"Firestore shutting down"))}}function TB(){return new Tf((t=>tV(t)),_w)}async function CO(t,e){const r=Lt(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new zae,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=NO(o,`Initialization of query '${Hh(e.query)}' failed`);return void e.onError(s)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&MO(r)}async function OO(t,e){const r=Lt(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Hae(t,e){const r=Lt(t);let n=!1;for(const i of e){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.Sa)s.Fa(i)&&(n=!0);o.wa=i}}n&&MO(r)}function Gae(t,e,r){const n=Lt(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function MO(t){t.Ca.forEach((e=>{e.next()}))}var W2,DB;(DB=W2||(W2={})).Ma="default",DB.Cache="cache";class IO{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new _d(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=_d.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==W2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.key=e}}class kV{constructor(e){this.key=e}}class Kae{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=nr(),this.mutatedKeys=nr(),this.eu=rV(e),this.tu=new ud(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new SB,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,d)=>{const p=i.get(f),m=Aw(this.query,d)?d:null,y=!!p&&this.mutatedKeys.has(p.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;p&&m?p.data.isEqual(m.data)?y!==g&&(n.track({type:3,doc:m}),b=!0):this.su(p,m)||(n.track({type:2,doc:m}),b=!0,(l&&this.eu(m,l)>0||u&&this.eu(m,u)<0)&&(s=!0)):!p&&m?(n.track({type:0,doc:m}),b=!0):p&&!m&&(n.track({type:1,doc:p}),b=!0,(l||u)&&(s=!0)),b&&(m?(o=o.add(m),a=g?a.add(f):a.delete(f)):(o=o.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),a=a.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:s,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,d)=>(function(m,y){const g=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:b})}};return g(m)-g(y)})(f.type,d.type)||this.eu(f.doc,d.doc))),this.ou(n),i=i??!1;const s=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,o.length!==0||u?{snapshot:new _d(this.query,e.tu,a,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new SB,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=nr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new kV(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new BV(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=nr();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return _d.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const RO="SyncEngine";class Xae{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Wae{constructor(e){this.key=e,this.hu=!1}}class Yae{constructor(e,r,n,i,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Tf((s=>tV(s)),_w),this.Iu=new Map,this.Eu=new Set,this.du=new rn(yt.comparator),this.Au=new Map,this.Ru=new bO,this.Vu={},this.mu=new Map,this.fu=xd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Qae(t,e,r=!0){const n=UV(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await FV(n,e,r,!0),i}async function Zae(t,e){const r=UV(t);await FV(r,e,!0,!1)}async function FV(t,e,r,n){const i=await yae(t.localStore,ms(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await Jae(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&CV(t.remoteStore,i),s}async function Jae(t,e,r,n,i){t.pu=(d,p,m)=>(async function(g,b,E,O){let A=b.view.ru(E);A.Cs&&(A=await bB(g.localStore,b.query,!1).then((({documents:T})=>b.view.ru(T,A))));const S=O&&O.targetChanges.get(b.targetId),x=O&&O.targetMismatches.get(b.targetId)!=null,_=b.view.applyChanges(A,g.isPrimaryClient,S,x);return CB(g,b.targetId,_.au),_.snapshot})(t,d,p,m);const a=await bB(t.localStore,e,!0),o=new Kae(e,a.Qs),s=o.ru(a.documents),l=yg.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(s,t.isPrimaryClient,l);CB(t,r,u.au);const f=new Xae(e,r,o);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function eoe(t,e,r){const n=Lt(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((o=>!_w(o,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await K2(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&AO(n.remoteStore,i.targetId),Y2(n,i.targetId)})).catch(ap)):(Y2(n,i.targetId),await K2(n.localStore,i.targetId,!0))}async function toe(t,e){const r=Lt(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),AO(r.remoteStore,n.targetId))}async function roe(t,e,r){const n=loe(t);try{const i=await(function(o,s){const l=Lt(o),u=Xr.now(),f=s.reduce(((m,y)=>m.add(y.key)),nr());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",(m=>{let y=Nu(),g=nr();return l.Ns.getEntries(m,f).next((b=>{y=b,y.forEach(((E,O)=>{O.isValidDocument()||(g=g.add(E))}))})).next((()=>l.localDocuments.getOverlayedDocuments(m,y))).next((b=>{d=b;const E=[];for(const O of s){const A=gie(O,d.get(O.key).overlayedDocument);A!=null&&E.push(new Gl(O.key,A,K7(A.value.mapValue),uo.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,E,s)})).next((b=>{p=b;const E=b.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(m,b.batchId,E)}))})).then((()=>({batchId:p.batchId,changes:iV(d)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(o,s,l){let u=o.Vu[o.currentUser.toKey()];u||(u=new rn(rr)),u=u.insert(s,l),o.Vu[o.currentUser.toKey()]=u})(n,i.batchId,r),await wg(n,i.changes),await Cw(n.remoteStore)}catch(i){const a=NO(i,"Failed to persist write");r.reject(a)}}async function $V(t,e){const r=Lt(t);try{const n=await mae(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=r.Au.get(a);o&&(xr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?xr(o.hu,14607):i.removedDocuments.size>0&&(xr(o.hu,42227),o.hu=!1))})),await wg(r,n,e)}catch(n){await ap(n)}}function NB(t,e,r){const n=Lt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,o)=>{const s=o.view.va(e);s.snapshot&&i.push(s.snapshot)})),(function(o,s){const l=Lt(o);l.onlineState=s;let u=!1;l.queries.forEach(((f,d)=>{for(const p of d.Sa)p.va(s)&&(u=!0)})),u&&MO(l)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function noe(t,e,r){const n=Lt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let o=new rn(yt.comparator);o=o.insert(a,Si.newNoDocument(a,Pt.min()));const s=nr().add(a),l=new Tw(Pt.min(),new Map,new rn(rr),o,s);await $V(n,l),n.du=n.du.remove(a),n.Au.delete(e),PO(n)}else await K2(n.localStore,e,!1).then((()=>Y2(n,e,r))).catch(ap)}async function ioe(t,e){const r=Lt(t),n=e.batch.batchId;try{const i=await pae(r.localStore,e);jV(r,n,null),LV(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await wg(r,i)}catch(i){await ap(i)}}async function aoe(t,e,r){const n=Lt(t);try{const i=await(function(o,s){const l=Lt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let f;return l.mutationQueue.lookupMutationBatch(u,s).next((d=>(xr(d!==null,37113),f=d.keys(),l.mutationQueue.removeMutationBatch(u,d)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,s))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f))).next((()=>l.localDocuments.getDocuments(u,f)))}))})(n.localStore,e);jV(n,e,r),LV(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await wg(n,i)}catch(i){await ap(i)}}function LV(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function jV(t,e,r){const n=Lt(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Y2(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||qV(t,n)}))}function qV(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(AO(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),PO(t))}function CB(t,e,r){for(const n of r)n instanceof BV?(t.Ru.addReference(n.key,e),ooe(t,n)):n instanceof kV?(ot(RO,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||qV(t,n.key)):St(19791,{wu:n})}function ooe(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ot(RO,"New document in limbo: "+r),t.Eu.add(n),PO(t))}function PO(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new yt(Vr.fromString(e)),n=t.fu.next();t.Au.set(n,new Wae(r)),t.du=t.du.insert(r,n),CV(t.remoteStore,new _l(ms(xw(r.path)),n,"TargetPurposeLimboResolution",yw.ce))}}async function wg(t,e,r){const n=Lt(t),i=[],a=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach(((s,l)=>{o.push(n.pu(l,e,r).then((u=>{if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:r?.targetChanges.get(l.targetId)?.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=xO.As(l.targetId,u);a.push(f)}})))})),await Promise.all(o),n.Pu.H_(i),await(async function(l,u){const f=Lt(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(d=>We.forEach(u,(p=>We.forEach(p.Es,(m=>f.persistence.referenceDelegate.addReference(d,p.targetId,m))).next((()=>We.forEach(p.ds,(m=>f.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))))))}catch(d){if(!op(d))throw d;ot(_O,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=f.Ms.get(p),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);f.Ms=f.Ms.insert(p,g)}}})(n.localStore,a))}async function soe(t,e){const r=Lt(t);if(!r.currentUser.isEqual(e)){ot(RO,"User change. New user:",e.toKey());const n=await SV(r.localStore,e);r.currentUser=e,(function(a,o){a.mu.forEach((s=>{s.forEach((l=>{l.reject(new at(Ge.CANCELLED,o))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await wg(r,n.Ls)}}function uoe(t,e){const r=Lt(t),n=r.Au.get(e);if(n&&n.hu)return nr().add(n.key);{let i=nr();const a=r.Iu.get(e);if(!a)return i;for(const o of a){const s=r.Tu.get(o);i=i.unionWith(s.view.nu)}return i}}function UV(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$V.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uoe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=noe.bind(null,e),e.Pu.H_=Hae.bind(null,e.eventManager),e.Pu.yu=Gae.bind(null,e.eventManager),e}function loe(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ioe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aoe.bind(null,e),e}class Fb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return dae(this.persistence,new cae,e.initialUser,this.serializer)}Cu(e){return new EV(wO.mi,this.serializer)}Du(e){return new wae}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fb.provider={build:()=>new Fb};class coe extends Fb{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){xr(this.persistence.referenceDelegate instanceof Bb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Wie(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Zi.withCacheSize(this.cacheSizeBytes):Zi.DEFAULT;return new EV((n=>Bb.mi(n,r)),this.serializer)}}class Q2{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>NB(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=soe.bind(null,this.syncEngine),await Uae(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Vae})()}createDatastore(e){const r=Dw(e.databaseInfo.databaseId),n=(function(a){return new Sae(a)})(e.databaseInfo);return(function(a,o,s,l){return new Cae(a,o,s,l)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,o,s){return new Mae(n,i,a,o,s)})(this.localStore,this.datastore,e.asyncQueue,(r=>NB(this.syncEngine,r,0)),(function(){return _B.v()?new _B:new xae})())}createSyncEngine(e,r){return(function(i,a,o,s,l,u,f){const d=new Yae(i,a,o,s,l,u);return f&&(d.gu=!0),d})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=Lt(r);ot(df,"RemoteStore shutting down."),n.Ea.add(5),await bg(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Q2.provider={build:()=>new Q2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Du("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="FirestoreClient";class foe{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Ei.UNAUTHENTICATED,this.clientId=uO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async o=>{ot(jl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,(o=>(ot(jl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=NO(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function aE(t,e){t.asyncQueue.verifyOperationInProgress(),ot(jl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await SV(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function OB(t,e){t.asyncQueue.verifyOperationInProgress();const r=await hoe(t);ot(jl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>EB(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>EB(e.remoteStore,i))),t._onlineComponents=e}async function hoe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ot(jl,"Using user provided OfflineComponentProvider");try{await aE(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Ge.FAILED_PRECONDITION||i.code===Ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;gd("Error using user provided cache. Falling back to memory cache: "+r),await aE(t,new Fb)}}else ot(jl,"Using default OfflineComponentProvider"),await aE(t,new coe(void 0));return t._offlineComponents}async function zV(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ot(jl,"Using user provided OnlineComponentProvider"),await OB(t,t._uninitializedComponentsProvider._online)):(ot(jl,"Using default OnlineComponentProvider"),await OB(t,new Q2))),t._onlineComponents}function doe(t){return zV(t).then((e=>e.syncEngine))}async function $b(t){const e=await zV(t),r=e.eventManager;return r.onListen=Qae.bind(null,e.syncEngine),r.onUnlisten=eoe.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Zae.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=toe.bind(null,e.syncEngine),r}function poe(t,e,r={}){const n=new wu;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,s,l,u){const f=new BO({next:p=>{f.Nu(),o.enqueueAndForget((()=>OO(a,d)));const m=p.docs.has(s);!m&&p.fromCache?u.reject(new at(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new at(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new IO(xw(s.path),f,{includeMetadataChanges:!0,qa:!0});return CO(a,d)})(await $b(t),t.asyncQueue,e,r,n))),n.promise}function moe(t,e,r={}){const n=new wu;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,s,l,u){const f=new BO({next:p=>{f.Nu(),o.enqueueAndForget((()=>OO(a,d))),p.fromCache&&l.source==="server"?u.reject(new at(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new IO(s,f,{includeMetadataChanges:!0,qa:!0});return CO(a,d)})(await $b(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV="firestore.googleapis.com",IB=!0;class RB{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new at(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HV,this.ssl=IB}else this.host=e.host,this.ssl=e.ssl??IB;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AV;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Kie)throw new at(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}One("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VV(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new at(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new at(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new at(Ge.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ow{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RB({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RB(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new wne;switch(n.type){case"firstParty":return new Ene(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new at(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=MB.get(r);n&&(ot("ComponentProvider","Removing Datastore"),MB.delete(r),n.terminate())})(this),Promise.resolve()}}function voe(t,e,r,n={}){t=aa(t,Ow);const i=Ns(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},s=`${e}:${r}`;i&&(fw(`https://${s}`),hw("Firestore",!0)),a.host!==HV&&a.host!==s&&gd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:s,ssl:i,emulatorOptions:n};if(!cf(l,o)&&(t._setSettings(l),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=Ei.MOCK_USER;else{u=Hz(n.mockUserToken,t._app?.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new at(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ei(d)}t._authCredentials=new xne(new B7(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Nf(this.firestore,e,this._query)}}class un{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}toJSON(){return{type:un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(mg(r,un._jsonSchema))return new un(e,n||null,new yt(Vr.fromString(r.referencePath)))}}un._jsonSchemaVersion="firestore/documentReference/1.0",un._jsonSchema={type:An("string",un._jsonSchemaVersion),referencePath:An("string")};class Il extends Nf{constructor(e,r,n){super(e,r,xw(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new yt(e))}withConverter(e){return new Il(this.firestore,e,this._path)}}function _a(t,e,...r){if(t=Gr(t),k7("collection","path",e),t instanceof Ow){const n=Vr.fromString(e,...r);return G4(n),new Il(t,null,n)}{if(!(t instanceof un||t instanceof Il))throw new at(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vr.fromString(e,...r));return G4(n),new Il(t.firestore,null,n)}}function to(t,e,...r){if(t=Gr(t),arguments.length===1&&(e=uO.newId()),k7("doc","path",e),t instanceof Ow){const n=Vr.fromString(e,...r);return H4(n),new un(t,null,new yt(n))}{if(!(t instanceof un||t instanceof Il))throw new at(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Vr.fromString(e,...r));return H4(n),new un(t.firestore,t instanceof Il?t.converter:null,new yt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB="AsyncQueue";class BB{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DV(this,"async_queue_retry"),this._c=()=>{const n=iE();n&&ot(PB,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=iE();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=iE();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new wu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!op(e))throw e;ot(PB,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Du("INTERNAL UNHANDLED ERROR: ",kB(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=DO.createAndSchedule(this,e,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&St(47125,{Pc:kB(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function kB(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FB(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class Cu extends Ow{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new BB,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new BB(e),this._firestoreClient=void 0,await e}}}function goe(t,e){const r=typeof t=="object"?t:fg(),n=typeof t=="string"?t:Cb,i=Af(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=XC("firestore");a&&voe(i,...a)}return i}function Mw(t){if(t._terminated)throw new at(Ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yoe(t),t._firestoreClient}function yoe(t){const e=t._freezeSettings(),r=(function(i,a,o,s){return new qne(i,a,o,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,VV(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new foe(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new io(mi.fromBase64String(e))}catch(r){throw new at(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new io(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:io._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mg(e,io._jsonSchema))return io.fromBase64String(e.bytes)}}io._jsonSchemaVersion="firestore/bytes/1.0",io._jsonSchema={type:An("string",io._jsonSchemaVersion),bytes:An("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new at(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new at(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new at(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rr(this._lat,e._lat)||rr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gs._jsonSchemaVersion}}static fromJSON(e){if(mg(e,gs._jsonSchema))return new gs(e.latitude,e.longitude)}}gs._jsonSchemaVersion="firestore/geoPoint/1.0",gs._jsonSchema={type:An("string",gs._jsonSchemaVersion),latitude:An("number"),longitude:An("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ys._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mg(e,ys._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new ys(e.vectorValues);throw new at(Ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ys._jsonSchemaVersion="firestore/vectorValue/1.0",ys._jsonSchema={type:An("string",ys._jsonSchemaVersion),vectorValues:An("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const boe=/^__.*__$/;class woe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Gl(e,this.data,this.fieldMask,r,this.fieldTransforms):new gg(e,this.data,r,this.fieldTransforms)}}class GV{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Gl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function KV(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:t})}}class kO{constructor(e,r,n,i,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kO({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Lb(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KV(this.Ac)&&boe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xoe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Dw(e)}Cc(e,r,n,i=!1){return new kO({Ac:e,methodName:r,Dc:n,path:fi.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pw(t){const e=t._freezeSettings(),r=Dw(t._databaseId);return new xoe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function XV(t,e,r,n,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);$O("Data must be an object, but it was:",o,n);const s=WV(n,o);let l,u;if(a.merge)l=new Na(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const f=[];for(const d of a.mergeFields){const p=Z2(e,d,r);if(!o.contains(p))throw new at(Ge.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);QV(f,p)||f.push(p)}l=new Na(f),u=o.fieldTransforms.filter((d=>l.covers(d.field)))}else l=null,u=o.fieldTransforms;return new woe(new ta(s),l,u)}class Bw extends Rw{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bw}}class FO extends Rw{_toFieldTransform(e){return new die(e.path,new wv)}isEqual(e){return e instanceof FO}}function _oe(t,e,r,n){const i=t.Cc(1,e,r);$O("Data must be an object, but it was:",i,n);const a=[],o=ta.empty();Hl(n,((l,u)=>{const f=LO(e,l,r);u=Gr(u);const d=i.yc(f);if(u instanceof Bw)a.push(f);else{const p=xg(u,d);p!=null&&(a.push(f),o.set(f,p))}}));const s=new Na(a);return new GV(o,s,i.fieldTransforms)}function Aoe(t,e,r,n,i,a){const o=t.Cc(1,e,r),s=[Z2(e,n,r)],l=[i];if(a.length%2!=0)throw new at(Ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)s.push(Z2(e,a[p])),l.push(a[p+1]);const u=[],f=ta.empty();for(let p=s.length-1;p>=0;--p)if(!QV(u,s[p])){const m=s[p];let y=l[p];y=Gr(y);const g=o.yc(m);if(y instanceof Bw)u.push(m);else{const b=xg(y,g);b!=null&&(u.push(m),f.set(m,b))}}const d=new Na(u);return new GV(f,d,o.fieldTransforms)}function Eoe(t,e,r,n=!1){return xg(r,t.Cc(n?4:3,e))}function xg(t,e){if(YV(t=Gr(t)))return $O("Unsupported field value:",e,t),WV(t,e);if(t instanceof Rw)return(function(n,i){if(!KV(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let o=0;for(const s of n){let l=xg(s,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Gr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return cie(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Xr.fromDate(n);return{timestampValue:Pb(i.serializer,a)}}if(n instanceof Xr){const a=new Xr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pb(i.serializer,a)}}if(n instanceof gs)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof io)return{bytesValue:vV(i.serializer,n._byteString)};if(n instanceof un){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:yO(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ys)return(function(o,s){return{mapValue:{fields:{[H7]:{stringValue:G7},[Ob]:{arrayValue:{values:o.toArray().map((u=>{if(typeof u!="number")throw s.Sc("VectorValues must only contain numeric values.");return pO(s.serializer,u)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${gw(n)}`)})(t,e)}function WV(t,e){const r={};return L7(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hl(t,((n,i)=>{const a=xg(i,e.mc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function YV(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xr||t instanceof gs||t instanceof io||t instanceof un||t instanceof Rw||t instanceof ys)}function $O(t,e,r){if(!YV(r)||!F7(r)){const n=gw(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function Z2(t,e,r){if((e=Gr(e))instanceof Iw)return e._internalPath;if(typeof e=="string")return LO(t,e);throw Lb("Field path arguments must be of type string or ",t,!1,void 0,r)}const Soe=new RegExp("[~\\*/\\[\\]]");function LO(t,e,r){if(e.search(Soe)>=0)throw Lb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Iw(...e.split("."))._internalPath}catch{throw Lb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Lb(t,e,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${e}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new at(Ge.INVALID_ARGUMENT,s+t+l)}function QV(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Toe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(jO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class Toe extends ZV{data(){return super.data()}}function jO(t,e){return typeof e=="string"?LO(t,e):e instanceof Iw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new at(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qO{}class Doe extends qO{}function Lc(t,e,...r){let n=[];e instanceof qO&&n.push(e),n=n.concat(r),(function(a){const o=a.filter((l=>l instanceof UO)).length,s=a.filter((l=>l instanceof kw)).length;if(o>1||o>0&&s>0)throw new at(Ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class kw extends Doe{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new kw(e,r,n)}_apply(e){const r=this._parse(e);return eH(e._query,r),new Nf(e.firestore,e.converter,q2(e._query,r))}_parse(e){const r=Pw(e.firestore);return(function(a,o,s,l,u,f,d){let p;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new at(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){LB(d,f);const y=[];for(const g of d)y.push($B(l,a,g));p={arrayValue:{values:y}}}else p=$B(l,a,d)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||LB(d,f),p=Eoe(s,o,d,f==="in"||f==="not-in");return _n.create(u,f,p)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function jc(t,e,r){const n=e,i=jO("where",t);return kw._create(i,n,r)}class UO extends qO{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new UO(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Bo.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)eH(o,l),o=q2(o,l)})(e._query,r),new Nf(e.firestore,e.converter,q2(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $B(t,e,r){if(typeof(r=Gr(r))=="string"){if(r==="")throw new at(Ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eV(e)&&r.indexOf("/")!==-1)throw new at(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Vr.fromString(r));if(!yt.isDocumentKey(n))throw new at(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return eB(t,new yt(n))}if(r instanceof un)return eB(t,r._key);throw new at(Ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gw(r)}.`)}function LB(t,e){if(!Array.isArray(t)||t.length===0)throw new at(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eH(t,e){const r=(function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new at(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(Ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class Noe{convertValue(e,r="none"){switch($l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Fl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw St(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Hl(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){const r=e.fields?.[Ob].arrayValue?.values?.map((n=>pn(n.doubleValue)));return new ys(r)}convertGeoPoint(e){return new gs(pn(e.latitude),pn(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=ww(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(gv(e));default:return null}}convertTimestamp(e){const r=kl(e);return new Xr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Vr.fromString(e);xr(_V(n),9688,{name:e});const i=new yv(n.get(1),n.get(3)),a=new yt(n.popFirst(5));return i.isEqual(r)||Du(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Vm{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rf extends ZV{constructor(e,r,n,i,a,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ub(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(jO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=rf._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}rf._jsonSchemaVersion="firestore/documentSnapshot/1.0",rf._jsonSchema={type:An("string",rf._jsonSchemaVersion),bundleSource:An("string","DocumentSnapshot"),bundleName:An("string"),bundle:An("string")};class ub extends rf{data(e={}){return super.data(e)}}class nf{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Vm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new ub(this._firestore,this._userDataWriter,n.key,n,new Vm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new at(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((s=>{const l=new ub(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Vm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((s=>a||s.type!==3)).map((s=>{const l=new ub(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Vm(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),f=o.indexOf(s.doc.key)),{type:Coe(s.type),doc:l,oldIndex:u,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=nf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uO.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Coe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(t){t=aa(t,un);const e=aa(t.firestore,Cu);return poe(Mw(e),t._key).then((r=>rH(e,t,r)))}nf._jsonSchemaVersion="firestore/querySnapshot/1.0",nf._jsonSchema={type:An("string",nf._jsonSchemaVersion),bundleSource:An("string","QuerySnapshot"),bundleName:An("string"),bundle:An("string")};class zO extends Noe{constructor(e){super(),this.firestore=e}convertBytes(e){return new io(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,r)}}function lb(t){t=aa(t,Nf);const e=aa(t.firestore,Cu),r=Mw(e),n=new zO(e);return JV(t._query),moe(r,t._query).then((i=>new nf(e,n,t,i)))}function Wh(t,e,r){t=aa(t,un);const n=aa(t.firestore,Cu),i=tH(t.converter,e,r);return Fw(n,[XV(Pw(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,uo.none())])}function qB(t,e,r,...n){t=aa(t,un);const i=aa(t.firestore,Cu),a=Pw(i);let o;return o=typeof(e=Gr(e))=="string"||e instanceof Iw?Aoe(a,"updateDoc",t._key,e,r,n):_oe(a,"updateDoc",t._key,e),Fw(i,[o.toMutation(t._key,uo.exists(!0))])}function oE(t){return Fw(aa(t.firestore,Cu),[new mO(t._key,uo.none())])}function Xc(t,e){const r=aa(t.firestore,Cu),n=to(t),i=tH(t.converter,e);return Fw(r,[XV(Pw(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,uo.exists(!1))]).then((()=>n))}function Ooe(t,...e){t=Gr(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||FB(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(FB(e[n])){const l=e[n];e[n]=l.next?.bind(l),e[n+1]=l.error?.bind(l),e[n+2]=l.complete?.bind(l)}let a,o,s;if(t instanceof un)o=aa(t.firestore,Cu),s=xw(t._key.path),a={next:l=>{e[n]&&e[n](rH(o,t,l))},error:e[n+1],complete:e[n+2]};else{const l=aa(t,Nf);o=aa(l.firestore,Cu),s=l._query;const u=new zO(o);a={next:f=>{e[n]&&e[n](new nf(o,u,l,f))},error:e[n+1],complete:e[n+2]},JV(t._query)}return(function(u,f,d,p){const m=new BO(p),y=new IO(f,m,d);return u.asyncQueue.enqueueAndForget((async()=>CO(await $b(u),y))),()=>{m.Nu(),u.asyncQueue.enqueueAndForget((async()=>OO(await $b(u),y)))}})(Mw(o),s,i,a)}function Fw(t,e){return(function(n,i){const a=new wu;return n.asyncQueue.enqueueAndForget((async()=>roe(await doe(n),i,a))),a.promise})(Mw(t),e)}function rH(t,e,r){const n=r.docs.get(e._key),i=new zO(t);return new rf(t,i,e._key,n,new Vm(r.hasPendingWrites,r.fromCache),e.converter)}function cu(){return new FO("serverTimestamp")}(function(e,r=!0){(function(i){ip=i})(Ef),_s(new Po("firestore",((n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new Cu(new _ne(n.getProvider("auth-internal")),new Sne(o,n.getProvider("app-check-internal")),(function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new at(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yv(u.options.projectId,f)})(o,i),o);return a={useFetchStreams:r,...a},s._setSettings(a),s}),"PUBLIC").setMultipleInstances(!0)),Oa(q4,U4,e),Oa(q4,U4,"esm2020")})();var Moe="firebase",Ioe="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oa(Moe,Ioe,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Roe="type.googleapis.com/google.protobuf.Int64Value",Poe="type.googleapis.com/google.protobuf.UInt64Value";function nH(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function jb(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>jb(e));if(typeof t=="function"||typeof t=="object")return nH(t,e=>jb(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Ad(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case Roe:case Poe:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Ad(e)):typeof t=="function"||typeof t=="object"?nH(t,e=>Ad(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ra extends ko{constructor(e,r,n){super(`${VO}/${e}`,r||""),this.details=n,Object.setPrototypeOf(this,ra.prototype)}}function Boe(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function qb(t,e){let r=Boe(t),n=r,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!UB[o])return new ra("internal","internal");r=UB[o],n=o}const s=a.message;typeof s=="string"&&(n=s),i=a.details,i!==void 0&&(i=Ad(i))}}catch{}return r==="ok"?null:new ra(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(e,r,n,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Ta(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=r.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||r.get().then(a=>this.auth=a,()=>{}),this.messaging||n.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="us-central1",Foe=/^data: (.*?)(?:\n|$)/;function $oe(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new ra("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Loe{constructor(e,r,n,i,a=J2,o=(...s)=>fetch(...s)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new koe(e,r,n,i),this.cancelAllRequests=new Promise(s=>{this.deleteService=()=>Promise.resolve(s())});try{const s=new URL(a);this.customDomain=s.origin+(s.pathname==="/"?"":s.pathname),this.region=J2}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function joe(t,e,r){const n=Ns(e);t.emulatorOrigin=`http${n?"s":""}://${e}:${r}`,n&&(fw(t.emulatorOrigin+"/backends"),hw("Functions",!0))}function qoe(t,e,r){const n=i=>zoe(t,e,i,{});return n.stream=(i,a)=>Hoe(t,e,i,a),n}function iH(t){return t.emulatorOrigin&&Ns(t.emulatorOrigin)?"include":void 0}async function Uoe(t,e,r,n,i){r["Content-Type"]="application/json";let a;try{a=await n(t,{method:"POST",body:JSON.stringify(e),headers:r,credentials:iH(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function aH(t,e){const r={},n=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return n.authToken&&(r.Authorization="Bearer "+n.authToken),n.messagingToken&&(r["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(r["X-Firebase-AppCheck"]=n.appCheckToken),r}function zoe(t,e,r,n){const i=t._url(e);return Voe(t,i,r,n)}async function Voe(t,e,r,n){r=jb(r);const i={data:r},a=await aH(t,n),o=n.timeout||7e4,s=$oe(o),l=await Promise.race([Uoe(e,i,a,t.fetchImpl,t),s.promise,t.cancelAllRequests]);if(s.cancel(),!l)throw new ra("cancelled","Firebase Functions instance was deleted.");const u=qb(l.status,l.json);if(u)throw u;if(!l.json)throw new ra("internal","Response is not valid JSON object.");let f=l.json.data;if(typeof f>"u"&&(f=l.json.result),typeof f>"u")throw new ra("internal","Response is missing data field.");return{data:Ad(f)}}function Hoe(t,e,r,n){const i=t._url(e);return Goe(t,i,r,n||{})}async function Goe(t,e,r,n){r=jb(r);const i={data:r},a=await aH(t,n);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:n?.signal,credentials:iH(t)})}catch(p){if(p instanceof Error&&p.name==="AbortError"){const y=new ra("cancelled","Request was cancelled.");return{data:Promise.reject(y),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(y)}}}}}}const m=qb(0,null);return{data:Promise.reject(m),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(m)}}}}}}let s,l;const u=new Promise((p,m)=>{s=p,l=m});n?.signal?.addEventListener("abort",()=>{const p=new ra("cancelled","Request was cancelled.");l(p)});const f=o.body.getReader(),d=Koe(f,s,l,n?.signal);return{stream:{[Symbol.asyncIterator](){const p=d.getReader();return{async next(){const{value:m,done:y}=await p.read();return{value:m,done:y}},async return(){return await p.cancel(),{done:!0,value:void 0}}}}},data:u}}function Koe(t,e,r,n){const i=(o,s)=>{const l=o.match(Foe);if(!l)return;const u=l[1];try{const f=JSON.parse(u);if("result"in f){e(Ad(f.result));return}if("message"in f){s.enqueue(Ad(f.message));return}if("error"in f){const d=qb(0,f);s.error(d),r(d);return}}catch(f){if(f instanceof ra){s.error(f),r(f);return}}},a=new TextDecoder;return new ReadableStream({start(o){let s="";return l();async function l(){if(n?.aborted){const u=new ra("cancelled","Request was cancelled");return o.error(u),r(u),Promise.resolve()}try{const{value:u,done:f}=await t.read();if(f){s.trim()&&i(s.trim(),o),o.close();return}if(n?.aborted){const p=new ra("cancelled","Request was cancelled");o.error(p),r(p),await t.cancel();return}s+=a.decode(u,{stream:!0});const d=s.split(`
`);s=d.pop()||"";for(const p of d)p.trim()&&i(p.trim(),o);return l()}catch(u){const f=u instanceof ra?u:qb(0,null);o.error(f),r(f)}}},cancel(){return t.cancel()}})}const zB="@firebase/functions",VB="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xoe="auth-internal",Woe="app-check-internal",Yoe="messaging-internal";function Qoe(t){const e=(r,{instanceIdentifier:n})=>{const i=r.getProvider("app").getImmediate(),a=r.getProvider(Xoe),o=r.getProvider(Yoe),s=r.getProvider(Woe);return new Loe(i,a,o,s,n)};_s(new Po(VO,e,"PUBLIC").setMultipleInstances(!0)),Oa(zB,VB,t),Oa(zB,VB,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oH(t=fg(),e=J2){const n=Af(Gr(t),VO).getImmediate({identifier:e}),i=XC("functions");return i&&Zoe(n,...i),n}function Zoe(t,e,r){joe(Gr(t),e,r)}function Joe(t,e,r){return qoe(Gr(t),e)}Qoe();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new Map,sH={activated:!1,tokenObservers:[]},ese={initialized:!1,enabled:!1};function jn(t){return eN.get(t)||{...sH}}function tse(t,e){return eN.set(t,e),eN.get(t)}function $w(){return ese}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH="https://content-firebaseappcheck.googleapis.com/v1",rse="exchangeRecaptchaV3Token",nse="exchangeDebugToken",HB={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},ise=1440*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e,r,n,i,a){if(this.operation=e,this.retryPolicy=r,this.getWaitDuration=n,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new pv,this.pending.promise.catch(r=>{}),await ose(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new pv,this.pending.promise.catch(r=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(r){this.retryPolicy(r)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const r=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),r}}}function ose(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sse={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},na=new np("appCheck","AppCheck",sse);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GB(t=!1){return t?self.grecaptcha?.enterprise:self.grecaptcha}function HO(t){if(!jn(t).activated)throw na.create("use-before-activation",{appName:t.name})}function lH(t){const e=Math.round(t/1e3),r=Math.floor(e/(3600*24)),n=Math.floor((e-r*3600*24)/3600),i=Math.floor((e-r*3600*24-n*3600)/60),a=e-r*3600*24-n*3600-i*60;let o="";return r&&(o+=h0(r)+"d:"),n&&(o+=h0(n)+"h:"),o+=h0(i)+"m:"+h0(a)+"s",o}function h0(t){return t===0?"00":t>=10?t.toString():"0"+t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO({url:t,body:e},r){const n={"Content-Type":"application/json"},i=r.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(n["X-Firebase-Client"]=d)}const a={method:"POST",body:JSON.stringify(e),headers:n};let o;try{o=await fetch(t,a)}catch(d){throw na.create("fetch-network-error",{originalErrorMessage:d?.message})}if(o.status!==200)throw na.create("fetch-status-error",{httpStatus:o.status});let s;try{s=await o.json()}catch(d){throw na.create("fetch-parse-error",{originalErrorMessage:d?.message})}const l=s.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw na.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});const u=Number(l[1])*1e3,f=Date.now();return{token:s.token,expireTimeMillis:f+u,issuedAtTimeMillis:f}}function use(t,e){const{projectId:r,appId:n,apiKey:i}=t.options;return{url:`${uH}/projects/${r}/apps/${n}:${rse}?key=${i}`,body:{recaptcha_v3_token:e}}}function cH(t,e){const{projectId:r,appId:n,apiKey:i}=t.options;return{url:`${uH}/projects/${r}/apps/${n}:${nse}?key=${i}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lse="firebase-app-check-database",cse=1,Av="firebase-app-check-store",fH="debug-token";let d0=null;function hH(){return d0||(d0=new Promise((t,e)=>{try{const r=indexedDB.open(lse,cse);r.onsuccess=n=>{t(n.target.result)},r.onerror=n=>{e(na.create("storage-open",{originalErrorMessage:n.target.error?.message}))},r.onupgradeneeded=n=>{const i=n.target.result;switch(n.oldVersion){case 0:i.createObjectStore(Av,{keyPath:"compositeKey"})}}}catch(r){e(na.create("storage-open",{originalErrorMessage:r?.message}))}}),d0)}function fse(t){return pH(mH(t))}function hse(t,e){return dH(mH(t),e)}function dse(t){return dH(fH,t)}function pse(){return pH(fH)}async function dH(t,e){const n=(await hH()).transaction(Av,"readwrite"),a=n.objectStore(Av).put({compositeKey:t,value:e});return new Promise((o,s)=>{a.onsuccess=l=>{o()},n.onerror=l=>{s(na.create("storage-set",{originalErrorMessage:l.target.error?.message}))}})}async function pH(t){const r=(await hH()).transaction(Av,"readonly"),i=r.objectStore(Av).get(t);return new Promise((a,o)=>{i.onsuccess=s=>{const l=s.target.result;a(l?l.value:void 0)},r.onerror=s=>{o(na.create("storage-get",{originalErrorMessage:s.target.error?.message}))}})}function mH(t){return`${t.options.appId}-${t.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new dw("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mse(t){if(WC()){let e;try{e=await fse(t)}catch(r){Al.warn(`Failed to read token from IndexedDB. Error: ${r}`)}return e}}function sE(t,e){return WC()?hse(t,e).catch(r=>{Al.warn(`Failed to write token to IndexedDB. Error: ${r}`)}):Promise.resolve()}async function vse(){let t;try{t=await pse()}catch{}if(t)return t;{const e=crypto.randomUUID();return dse(e).catch(r=>Al.warn(`Failed to persist debug token to IndexedDB. Error: ${r}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(){return $w().enabled}async function XO(){const t=$w();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function gse(){const t=qz(),e=$w();if(e.initialized=!0,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&t.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const r=new pv;e.token=r,typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?r.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):r.resolve(vse())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yse={error:"UNKNOWN_ERROR"};function bse(t){return KC.encodeString(JSON.stringify(t),!1)}async function tN(t,e=!1,r=!1){const n=t.app;HO(n);const i=jn(n);let a=i.token,o;if(a&&!Yh(a)&&(i.token=void 0,a=void 0),!a){const u=await i.cachedTokenPromise;u&&(Yh(u)?a=u:await sE(n,void 0))}if(!e&&a&&Yh(a))return{token:a.token};let s=!1;if(KO())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=GO(cH(n,await XO()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);const u=await i.exchangeTokenPromise;return await sE(n,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Al.warn(u.message):r&&Al.error(u),uE(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),a=await jn(n).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Al.warn(u.message):r&&Al.error(u),o=u}let l;return a?o?Yh(a)?l={token:a.token,internalError:o}:l=uE(o):(l={token:a.token},i.token=a,await sE(n,a)):l=uE(o),s&&yH(n,l),l}async function wse(t){const e=t.app;HO(e);const{provider:r}=jn(e);if(KO()){const n=await XO(),{token:i}=await GO(cH(e,n),t.heartbeatServiceProvider);return{token:i}}else{const{token:n}=await r.getToken();return{token:n}}}function vH(t,e,r,n){const{app:i}=t,a=jn(i),o={next:r,error:n,type:e};if(a.tokenObservers=[...a.tokenObservers,o],a.token&&Yh(a.token)){const s=a.token;Promise.resolve().then(()=>{r({token:s.token}),KB(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>KB(t))}function gH(t,e){const r=jn(t),n=r.tokenObservers.filter(i=>i.next!==e);n.length===0&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),r.tokenObservers=n}function KB(t){const{app:e}=t,r=jn(e);let n=r.tokenRefresher;n||(n=xse(t),r.tokenRefresher=n),!n.isRunning()&&r.isTokenAutoRefreshEnabled&&n.start()}function xse(t){const{app:e}=t;return new ase(async()=>{const r=jn(e);let n;if(r.token?n=await tN(t,!0):n=await tN(t),n.error)throw n.error;if(n.internalError)throw n.internalError},()=>!0,()=>{const r=jn(e);if(r.token){let n=r.token.issuedAtTimeMillis+(r.token.expireTimeMillis-r.token.issuedAtTimeMillis)*.5+3e5;const i=r.token.expireTimeMillis-300*1e3;return n=Math.min(n,i),Math.max(0,n-Date.now())}else return 0},HB.RETRIAL_MIN_WAIT,HB.RETRIAL_MAX_WAIT)}function yH(t,e){const r=jn(t).tokenObservers;for(const n of r)try{n.type==="EXTERNAL"&&e.error!=null?n.error(e.error):n.next(e)}catch{}}function Yh(t){return t.expireTimeMillis-Date.now()>0}function uE(t){return{token:bse(yse),error:t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _se{constructor(e,r){this.app=e,this.heartbeatServiceProvider=r}_delete(){const{tokenObservers:e}=jn(this.app);for(const r of e)gH(this.app,r.next);return Promise.resolve()}}function Ase(t,e){return new _se(t,e)}function Ese(t){return{getToken:e=>tN(t,e),getLimitedUseToken:()=>wse(t),addTokenListener:e=>vH(t,"INTERNAL",e),removeTokenListener:e=>gH(t.app,e)}}const Sse="@firebase/app-check",Tse="0.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dse="https://www.google.com/recaptcha/api.js";function Nse(t,e){const r=new pv,n=jn(t);n.reCAPTCHAState={initialized:r};const i=Cse(t),a=GB(!1);return a?XB(t,e,a,i,r):Ise(()=>{const o=GB(!1);if(!o)throw new Error("no recaptcha");XB(t,e,o,i,r)}),r.promise}function XB(t,e,r,n,i){r.ready(()=>{Mse(t,e,r,n),i.resolve(r)})}function Cse(t){const e=`fire_app_check_${t.name}`,r=document.createElement("div");return r.id=e,r.style.display="none",document.body.appendChild(r),e}async function Ose(t){HO(t);const r=await jn(t).reCAPTCHAState.initialized.promise;return new Promise((n,i)=>{const a=jn(t).reCAPTCHAState;r.ready(()=>{n(r.execute(a.widgetId,{action:"fire_app_check"}))})})}function Mse(t,e,r,n){const i=r.render(n,{sitekey:e,size:"invisible",callback:()=>{jn(t).reCAPTCHAState.succeeded=!0},"error-callback":()=>{jn(t).reCAPTCHAState.succeeded=!1}}),a=jn(t);a.reCAPTCHAState={...a.reCAPTCHAState,widgetId:i}}function Ise(t){const e=document.createElement("script");e.src=Dse,e.onload=t,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){Pse(this._throttleData);const e=await Ose(this._app).catch(n=>{throw na.create("recaptcha-error")});if(!jn(this._app).reCAPTCHAState?.succeeded)throw na.create("recaptcha-error");let r;try{r=await GO(use(this._app,e),this._heartbeatServiceProvider)}catch(n){throw n.code?.includes("fetch-status-error")?(this._throttleData=Rse(Number(n.customData?.httpStatus),this._throttleData),na.create("initial-throttle",{time:lH(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):n}return this._throttleData=null,r}initialize(e){this._app=e,this._heartbeatServiceProvider=Af(e,"heartbeat"),Nse(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof WO?this._siteKey===e._siteKey:!1}}function Rse(t,e){if(t===404||t===403)return{backoffCount:1,allowRequestsAfter:Date.now()+ise,httpStatus:t};{const r=e?e.backoffCount:0,n=lee(r,1e3,2);return{backoffCount:r+1,allowRequestsAfter:Date.now()+n,httpStatus:t}}}function Pse(t){if(t&&Date.now()-t.allowRequestsAfter<=0)throw na.create("throttled",{time:lH(t.allowRequestsAfter-Date.now()),httpStatus:t.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bse(t=fg(),e){t=Gr(t);const r=Af(t,"app-check");if($w().initialized||gse(),KO()&&XO().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(a.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&a.provider.isEqual(e.provider))return i;throw na.create("already-initialized",{appName:t.name})}const n=r.initialize({options:e});return kse(t,e.provider,e.isTokenAutoRefreshEnabled),jn(t).isTokenAutoRefreshEnabled&&vH(n,"INTERNAL",()=>{}),n}function kse(t,e,r=!1){const n=tse(t,{...sH});n.activated=!0,n.provider=e,n.cachedTokenPromise=mse(t).then(i=>(i&&Yh(i)&&(n.token=i,yH(t,{token:i.token})),i)),n.isTokenAutoRefreshEnabled=r&&t.automaticDataCollectionEnabled,!t.automaticDataCollectionEnabled&&r&&Al.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),n.provider.initialize(t)}const Fse="app-check",WB="app-check-internal";function $se(){_s(new Po(Fse,t=>{const e=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat");return Ase(e,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider(WB).initialize()})),_s(new Po(WB,t=>{const e=t.getProvider("app-check").getImmediate();return Ese(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Oa(Sse,Tse)}$se();const Lse={apiKey:"AIzaSyAUMriY3vRal2q7uZqonxctciPGwlZK6HU",authDomain:"note-analyzer-7e70d.firebaseapp.com",projectId:"note-analyzer-7e70d",storageBucket:"note-analyzer-7e70d.firebasestorage.app",messagingSenderId:"1059573275968",appId:"1:1059573275968:web:620a3c4b21926534ea2ea5",measurementId:"G-G5F5R7K7RV"},Lw=Xz(Lse);Bse(Lw,{provider:new WO("6Ld7vckrAAAAADdWGyn9oz-dg10vpkOJ_zU6qEQb"),isTokenAutoRefreshEnabled:!0});const af=yne(Lw),qr=goe(Lw);oH(Lw,"us-central1");const bH=Ee.createContext(void 0),jse=({children:t})=>{const[e,r]=Ee.useState(null),[n,i]=Ee.useState(!0);Ee.useEffect(()=>{const l=ore(af,async u=>{if(r(u),i(!1),u){const f=_a(qr,"classifications"),d=Lc(f,jc("authorId","==",u.uid));if((await lb(d)).empty){const m=["","",""],y=["","",""],g=_a(qr,"classifications");for(const E of m)await Xc(g,{authorId:u.uid,name:E,createdAt:cu()});const b=_a(qr,"secondary_classifications");for(const E of y)await Xc(b,{authorId:u.uid,name:E,createdAt:cu()})}}});return()=>l()},[]);const a=Ee.useCallback(async()=>{const l=new fu;try{await Dre(af,l)}catch(u){console.error(":",u)}},[]),o=Ee.useCallback(()=>{sre(af)},[]),s={user:e,loading:n,login:a,logout:o};return X.jsx(bH.Provider,{value:s,children:t})},jw=()=>{const t=Ee.useContext(bH);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH="firebasestorage.googleapis.com",xH="storageBucket",qse=120*1e3,Use=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn extends ko{constructor(e,r,n=0){super(lE(e),`Firebase Storage: ${r} (${lE(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Dn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tn||(Tn={}));function lE(t){return"storage/"+t}function YO(){const t="An unknown error occurred, please check the error payload for server response.";return new Dn(Tn.UNKNOWN,t)}function zse(t){return new Dn(Tn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Vse(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Dn(Tn.UNAUTHENTICATED,t)}function Hse(){return new Dn(Tn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Gse(t){return new Dn(Tn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Kse(){return new Dn(Tn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Xse(){return new Dn(Tn.CANCELED,"User canceled the upload/download.")}function Wse(t){return new Dn(Tn.INVALID_URL,"Invalid URL '"+t+"'.")}function Yse(t){return new Dn(Tn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Qse(){return new Dn(Tn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xH+"' property when initializing the app?")}function Zse(){return new Dn(Tn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Jse(t){return new Dn(Tn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rN(t){return new Dn(Tn.INVALID_ARGUMENT,t)}function _H(){return new Dn(Tn.APP_DELETED,"The Firebase app was deleted.")}function eue(t){return new Dn(Tn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nv(t,e){return new Dn(Tn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Cm(t){throw new Dn(Tn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Ca.makeFromUrl(e,r)}catch{return new Ca(e,"")}if(n.path==="")return n;throw Yse(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const f="v[A-Za-z0-9_]+",d=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${d}/${f}/b/${i}/o${p}`,"i"),y={bucket:1,path:3},g=r===wH?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",E=new RegExp(`^https?://${g}/${i}/${b}`,"i"),A=[{regex:s,indices:l,postModify:a},{regex:m,indices:y,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<A.length;S++){const x=A[S],_=x.regex.exec(e);if(_){const T=_[x.indices.bucket];let N=_[x.indices.path];N||(N=""),n=new Ca(T,N),x.postModify(n);break}}if(n==null)throw Wse(e);return n}}class tue{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rue(t,e,r){let n=1,i=null,a=null,o=!1,s=0;function l(){return s===2}let u=!1;function f(...b){u||(u=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(m,l())},b)}function p(){a&&clearTimeout(a)}function m(b,...E){if(u){p();return}if(b){p(),f.call(null,b,...E);return}if(l()||o){p(),f.call(null,b,...E);return}n<64&&(n*=2);let A;s===1?(s=2,A=0):A=(n+Math.random())*1e3,d(A)}let y=!1;function g(b){y||(y=!0,p(),!u&&(i!==null?(b||(s=2),clearTimeout(i),d(0)):b||(s=1)))}return d(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function nue(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iue(t){return t!==void 0}function aue(t){return typeof t=="object"&&!Array.isArray(t)}function AH(t){return typeof t=="string"||t instanceof String}function YB(t){return QO()&&t instanceof Blob}function QO(){return typeof Blob<"u"}function QB(t,e,r,n){if(n<e)throw rN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw rN(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oue(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function sue(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var of;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(of||(of={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uue(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lue{constructor(e,r,n,i,a,o,s,l,u,f,d,p=!0,m=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=d,this.retry=p,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,g)=>{this.resolve_=y,this.reject_=g,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new p0(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=s=>{const l=s.loaded,u=s.lengthComputable?s.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const s=a.getErrorCode()===of.NO_ERROR,l=a.getStatus();if(!s||uue(l,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===of.ABORT;n(!1,new p0(!1,null,f));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new p0(u,a))})},r=(n,i)=>{const a=this.resolve_,o=this.reject_,s=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(s,s.getResponse());iue(l)?a(l):a()}catch(l){o(l)}else if(s!==null){const l=YO();l.serverResponse=s.getErrorText(),this.errorCallback_?o(this.errorCallback_(s,l)):o(l)}else if(i.canceled){const l=this.appDelete_?_H():Xse();o(l)}else{const l=Kse();o(l)}};this.canceled_?r(!1,new p0(!1,null,!0)):this.backoffId_=rue(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&nue(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class p0{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function cue(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function fue(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function hue(t,e){e&&(t["X-Firebase-GMPID"]=e)}function due(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function pue(t,e,r,n,i,a,o=!0,s=!1){const l=sue(t.urlParams),u=t.url+l,f=Object.assign({},t.headers);return hue(f,e),cue(f,r),fue(f,a),due(f,n),new lue(u,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mue(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vue(...t){const e=mue();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(QO())return new Blob(t);throw new Dn(Tn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gue(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yue(t){if(typeof atob>"u")throw Jse("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cE{constructor(e,r){this.data=e,this.contentType=r||null}}function bue(t,e){switch(t){case cs.RAW:return new cE(EH(e));case cs.BASE64:case cs.BASE64URL:return new cE(SH(t,e));case cs.DATA_URL:return new cE(xue(e),_ue(e))}throw YO()}function EH(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,o=t.charCodeAt(++r);n=65536|(a&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function wue(t){let e;try{e=decodeURIComponent(t)}catch{throw nv(cs.DATA_URL,"Malformed data URL.")}return EH(e)}function SH(t,e){switch(t){case cs.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw nv(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case cs.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw nv(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=yue(e)}catch(i){throw i.message.includes("polyfill")?i:nv(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class TH{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw nv(cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=Aue(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function xue(t){const e=new TH(t);return e.base64?SH(cs.BASE64,e.rest):wue(e.rest)}function _ue(t){return new TH(t).contentType}function Aue(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,r){let n=0,i="";YB(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(YB(this.data_)){const n=this.data_,i=gue(n,e,r);return i===null?null:new wl(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new wl(n,!0)}}static getBlob(...e){if(QO()){const r=e.map(n=>n instanceof wl?n.data_:n);return new wl(vue.apply(null,r))}else{const r=e.map(o=>AH(o)?bue(cs.RAW,o).data:o.data_);let n=0;r.forEach(o=>{n+=o.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(o=>{for(let s=0;s<o.length;s++)i[a++]=o[s]}),new wl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eue(t){let e;try{e=JSON.parse(t)}catch{return null}return aue(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sue(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Tue(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function DH(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Due(t,e){return e}class Fi{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||Due}}let m0=null;function Nue(t){return!AH(t)||t.length<2?t:DH(t)}function Cue(){if(m0)return m0;const t=[];t.push(new Fi("bucket")),t.push(new Fi("generation")),t.push(new Fi("metageneration")),t.push(new Fi("name","fullPath",!0));function e(a,o){return Nue(o)}const r=new Fi("name");r.xform=e,t.push(r);function n(a,o){return o!==void 0?Number(o):o}const i=new Fi("size");return i.xform=n,t.push(i),t.push(new Fi("timeCreated")),t.push(new Fi("updated")),t.push(new Fi("md5Hash",null,!0)),t.push(new Fi("cacheControl",null,!0)),t.push(new Fi("contentDisposition",null,!0)),t.push(new Fi("contentEncoding",null,!0)),t.push(new Fi("contentLanguage",null,!0)),t.push(new Fi("contentType",null,!0)),t.push(new Fi("metadata","customMetadata",!0)),m0=t,m0}function Oue(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Ca(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Mue(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const o=r[a];n[o.local]=o.xform(n,e[o.server])}return Oue(n,t),n}function Iue(t,e,r){const n=Eue(e);return n===null?null:Mue(t,n,r)}function Rue(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class Pue{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bue(t){if(!t)throw YO()}function kue(t,e){function r(n,i){const a=Iue(t,i,e);return Bue(a!==null),a}return r}function Fue(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=Hse():i=Vse():r.getStatus()===402?i=zse(t.bucket):r.getStatus()===403?i=Gse(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function $ue(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Lue(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=$ue(null,e)),n}function jue(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function s(){let A="";for(let S=0;S<2;S++)A=A+Math.random().toString().slice(2);return A}const l=s();o["Content-Type"]="multipart/related; boundary="+l;const u=Lue(e,n,i),f=Rue(u,r),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=wl.getBlob(d,n,p);if(m===null)throw Zse();const y={name:u.fullPath},g=oue(a,t.host,t._protocol),b="POST",E=t.maxUploadRetryTime,O=new Pue(g,b,kue(t,r),E);return O.urlParams=y,O.headers=o,O.body=m.uploadData(),O.errorHandler=Fue(e),O}class que{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=of.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=of.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=of.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,a){if(this.sent_)throw Cm("cannot .send() more than once");if(Ns(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Uue extends que{initXhr(){this.xhr_.responseType="text"}}function zue(){return new Uue}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,r){this._service=e,r instanceof Ca?this._location=r:this._location=Ca.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new pf(e,r)}get root(){const e=new Ca(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DH(this._location.path)}get storage(){return this._service}get parent(){const e=Sue(this._location.path);if(e===null)return null;const r=new Ca(this._location.bucket,e);return new pf(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw eue(e)}}function Vue(t,e,r){t._throwIfRoot("uploadBytes");const n=jue(t.storage,t._location,Cue(),new wl(e,!0),r);return t.storage.makeRequestWithTokens(n,zue).then(i=>({metadata:i,ref:t}))}function Hue(t,e){const r=Tue(t._location.path,e),n=new Ca(t._location.bucket,r);return new pf(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gue(t){return/^[A-Za-z]+:\/\//.test(t)}function Kue(t,e){return new pf(t,e)}function NH(t,e){if(t instanceof ZO){const r=t;if(r._bucket==null)throw Qse();const n=new pf(r,r._bucket);return e!=null?NH(n,e):n}else return e!==void 0?Hue(t,e):t}function Xue(t,e){if(e&&Gue(e)){if(t instanceof ZO)return Kue(t,e);throw rN("To use ref(service, url), the first argument must be a Storage instance.")}else return NH(t,e)}function ZB(t,e){const r=e?.[xH];return r==null?null:Ca.makeFromBucketSpec(r,t)}function Wue(t,e,r,n={}){t.host=`${e}:${r}`;const i=Ns(e);i&&(fw(`https://${t.host}/b`),hw("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:Hz(a,t.app.options.projectId))}class ZO{constructor(e,r,n,i,a,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=wH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qse,this._maxUploadRetryTime=Use,this._requests=new Set,i!=null?this._bucket=Ca.makeFromBucketSpec(i,this._host):this._bucket=ZB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ca.makeFromBucketSpec(this._url,e):this._bucket=ZB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QB("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QB("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Ta(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pf(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new tue(_H());{const o=pue(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const JB="@firebase/storage",ek="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CH="storage";function Yue(t,e,r){return t=Gr(t),Vue(t,e,r)}function Que(t,e){return t=Gr(t),Xue(t,e)}function Zue(t=fg(),e){t=Gr(t);const n=Af(t,CH).getImmediate({identifier:e}),i=XC("storage");return i&&Jue(n,...i),n}function Jue(t,e,r,n={}){Wue(t,e,r,n)}function ele(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ZO(r,n,i,e,Ef)}function tle(){_s(new Po(CH,ele,"PUBLIC").setMultipleInstances(!0)),Oa(JB,ek,""),Oa(JB,ek,"esm2020")}tle();const fE=t=>{const[e,r]=Ee.useState([]),[n,i]=Ee.useState(!0);return Ee.useEffect(()=>{if(!t){r([]),i(!1);return}i(!0);const a=Ooe(t,o=>{const s=o.docs.map(l=>({...l.data(),id:l.id}));r(s),i(!1)},o=>{console.error("Firestore query error:",o),i(!1)});return()=>a()},[t]),{data:e,loading:n}},rle=(t,e)=>{const r=[];let n=new Date(t);const i=new Date(e);for(;n<=i;)r.push(n.toISOString().split("T")[0]),n.setDate(n.getDate()+1);return r},nle=(t,e,r,n,i,a,o)=>Ee.useMemo(()=>{const l=t.filter(H=>{const z=a.length===0||a.includes(H.classificationId),J=o.length===0||H.secondaryClassificationId&&o.includes(H.secondaryClassificationId);return z&&J}),u=rle(e,r),f={},d=l.filter(H=>(H.publicationDate?H.publicationDate.split("T")[0]:"")<=r);u.forEach(H=>{let z=0,J=0,$=0,Q=0;d.forEach(K=>{if((K.publicationDate?K.publicationDate.split("T")[0]:"")>H)return;const we=K.daily_snapshots.filter(ge=>ge.id<=H).pop();z+=we?.note_data?.views??0,J+=we?.note_data?.likes??0,$+=we?.x_confirmed_data?.impressions??we?.x_preliminary_data?.impressions??0,Q+=we?.x_confirmed_data?.likes??we?.x_preliminary_data?.likes??0}),f[H]={date:H,note:z,note:J,X:$,X:Q}});const p=(H,z)=>{const J=H.map(we=>we[z]).filter(we=>typeof we=="number");if(J.length<2)return;const $=J.reduce((we,ge)=>we+ge,0)/J.length,Q=Math.sqrt(J.map(we=>(we-$)**2).reduce((we,ge)=>we+ge,0)/J.length),K=$+Q*2;H.forEach(we=>{we[z]>K&&(we[`${z}IsSpike`]=!0)})},m=Object.values(f);p(m,"note"),p(m,"note"),p(m,"X"),p(m,"X");const y=l.map(H=>{const z=H.daily_snapshots.filter(pe=>pe.id<=r&&pe.note_data),J=z.length>0?z[z.length-1]:null,$=H.daily_snapshots.filter(pe=>pe.id<e&&pe.note_data),Q=$.length>0?$[$.length-1]:null,K=J?.note_data?.views??0,we=J?.note_data?.likes??0,ge=J?.note_data?.comments??0,Ae=Q?.note_data?.views??0,te=Q?.note_data?.likes??0,ee=Q?.note_data?.comments??0,ue=K-Ae,ce=we-te,se=ge-ee,Te=H.daily_snapshots.filter(pe=>pe.id>=e&&pe.id<=r);return{...H,daily_snapshots:Te,note_views_change:ue,note_likes_change:ce,note_comments_change:se}}).filter(H=>{const z=(H.publicationDate?H.publicationDate.split("T")[0]:"")<=r,J=H.daily_snapshots.some($=>$.id>=e&&$.id<=r);return z&&(J||H.note_views_change!==0||H.note_likes_change!==0)});let g=null,b=-1/0;y.forEach(H=>{H.note_views_change!==void 0&&H.note_views_change>b&&(b=H.note_views_change,g=H.id)});const E=y.map(H=>({...H,isTopPerformer:H.id===g&&b>0})),O=n.map(H=>{const J=l.filter($=>$.classificationId===H.id).reduce(($,Q)=>{const K=Q.daily_snapshots.filter(ce=>ce.id<=r).reverse(),we=K.find(ce=>ce.note_data?.views!=null)?.note_data?.views??0,ge=K.find(ce=>ce.note_data?.likes!=null)?.note_data?.likes??0,Ae=K.find(ce=>(ce.x_confirmed_data?.impressions??ce.x_preliminary_data?.impressions)!=null),te=Ae?.x_confirmed_data?.impressions??Ae?.x_preliminary_data?.impressions??0,ee=K.find(ce=>(ce.x_confirmed_data?.likes??ce.x_preliminary_data?.likes)!=null),ue=ee?.x_confirmed_data?.likes??ee?.x_preliminary_data?.likes??0;return $.noteViews+=we,$.noteLikes+=ge,$.xImpressions+=te,$.xLikes+=ue,$},{noteViews:0,noteLikes:0,xImpressions:0,xLikes:0});return{name:H.name,...J}}),A=(H,z)=>{const J=H.map(K=>K[z]).filter(K=>typeof K=="number");if(J.length===0)return;const Q=J.reduce((K,we)=>K+we,0)/J.length*1.5;H.forEach(K=>{K[z]>Q&&(K[`${z}IsAboveAverage`]=!0)})};A(O,"noteViews"),A(O,"noteLikes"),A(O,"xImpressions"),A(O,"xLikes");const S=i.map(H=>{const z=l.filter(J=>J.secondaryClassificationId===H.id).length;return{name:H.name,value:z}}).filter(H=>H.value>0),x=i.map(H=>{const J=l.filter(Q=>Q.secondaryClassificationId===H.id).reduce((Q,K)=>{const we=K.daily_snapshots.filter(Ae=>Ae.id<=r&&Ae.note_data),ge=we.length>0?we[we.length-1]:null;return ge&&ge.note_data&&(Q.views+=ge.note_data.views,Q.likes+=ge.note_data.likes),Q},{views:0,likes:0}),$=J.views>0?J.likes/J.views*100:0;return{name:H.name,:$}}).filter(H=>H.>0),_=E.reduce((H,z)=>H+(z.totalXImpressions||0),0),T=E.reduce((H,z)=>H+(z.note_views_change||0),0),N=_+T,C=E.reduce((H,z)=>H+(z.note_likes_change||0),0),R=n.find(H=>H.name===""),I=R?E.filter(H=>H.classificationId===R.id):[],P=I.reduce((H,z)=>H+(z.note_views_change||0),0),k=I.reduce((H,z)=>(z.daily_snapshots.filter($=>$.id>=e&&$.id<=r).forEach($=>{H+=$.note_data?.sales??0}),H),0),q=[{name:"",value:N},{name:"",value:T},{name:"",value:C},{name:"",value:P},{name:"",value:k}].filter(H=>H.value>0),U=N>0?T/N*100:0,F=T>0?C/T*100:0,V=P>0?k/P*100:0;return{lineChartData:m,dashboardArticles:E,categoryTotalData:O,secondaryCategoryArticleCountData:S,secondaryCategoryLikeRateData:x,pipelineData:q,pipelineRates:{attractionRate:U,inducementRate:F,salesRate:V}}},[t,e,r,n,i,a,o]),v0=t=>{const e=t.getFullYear(),r=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0");return`${e}-${r}-${n}`},OH=Ee.createContext(void 0),ile=({children:t})=>{const{user:e}=jw(),[r,n]=Ee.useState([]),[i,a]=Ee.useState(!1),[o,s]=Ee.useState(!1),[l,u]=Ee.useState(null),[f,d]=Ee.useState(()=>{const pe=new Date;return pe.setDate(1),v0(pe)}),[p,m]=Ee.useState(()=>v0(new Date)),[y,g]=Ee.useState([]),[b,E]=Ee.useState([]),O=Ee.useMemo(()=>e?Lc(_a(qr,"classifications"),jc("authorId","==",e.uid)):null,[e]),{data:A}=fE(O),S=Ee.useMemo(()=>A??[],[A]),x=Ee.useMemo(()=>e?Lc(_a(qr,"secondary_classifications"),jc("authorId","==",e.uid)):null,[e]),{data:_}=fE(x),T=Ee.useMemo(()=>_??[],[_]);Ee.useEffect(()=>{g(S.map(pe=>pe.id))},[S]),Ee.useEffect(()=>{E(T.map(pe=>pe.id))},[T]);const N=Ee.useMemo(()=>e?Lc(_a(qr,"kpis"),jc("authorId","==",e.uid)):null,[e]),{data:C}=fE(N),R=Ee.useMemo(()=>C??[],[C]),{lineChartData:I,dashboardArticles:P,categoryTotalData:k,secondaryCategoryArticleCountData:q,secondaryCategoryLikeRateData:U,pipelineData:F,pipelineRates:V}=nle(r,f,p,S,T,y,b),Z=pe=>{g(Ne=>Ne.includes(pe)?Ne.filter(je=>je!==pe):[...Ne,pe])},H=pe=>{E(Ne=>Ne.includes(pe)?Ne.filter(je=>je!==pe):[...Ne,pe])},z=Ee.useCallback(async()=>{if(!e)return s(!1);try{const pe=oH(),je=await Joe(pe,"isXConnected")();s(je.data.isConnected)}catch(pe){console.error("X:",pe),s(!1)}},[e]);Ee.useEffect(()=>{z()},[z]);const J=Ee.useCallback(async()=>{if(!e)return n([]);const pe=Lc(_a(qr,"articles"),jc("authorId","==",e.uid)),je=(await lb(pe)).docs.map(Ue=>({...Ue.data(),id:Ue.id,daily_snapshots:[]})),Ke=await Promise.all(je.map(async Ue=>{const nt=Lc(_a(qr,"articles",Ue.id,"daily_snapshots")),ae=await lb(nt);Ue.daily_snapshots=ae.docs.map(me=>({...me.data(),id:me.id})).sort((me,Se)=>me.id.localeCompare(Se.id));let he=0,le=0,Y=0,ie=0,fe=0,ye=0;for(const me of Ue.daily_snapshots)me.x_confirmed_data?(he+=me.x_confirmed_data.impressions??0,le+=me.x_confirmed_data.likes??0,ye+=me.x_confirmed_data.engagements??0):me.x_preliminary_data&&(he+=me.x_preliminary_data.impressions??0,le+=me.x_preliminary_data.likes??0,Y+=me.x_preliminary_data.replies??0,ie+=me.x_preliminary_data.retweets??0,fe+=me.x_preliminary_data.quotes??0);return Ue.totalXImpressions=he,Ue.totalXLikes=le,Ue.totalXReplies=Y,Ue.totalXRetweets=ie,Ue.totalXQuotes=fe,Ue.totalXEngagements=ye,Ue}));n(Ke)},[e]);Ee.useEffect(()=>{J()},[J]);const $=Ee.useCallback(async pe=>{if(!pe||!e)return alert("");try{const Ne=pe.trim().split(`
`),je=[],Ke=[];let Ue=0;for(let le=0;le<Ne.length;le++)if(Ne[le].includes("	")){Ue=le+1;break}for(let le=Ue;le<Ne.length;le+=2){const Y=Ne[le]?.trim(),ie=Ne[le+1]?.trim();if(!Y||!ie)continue;const fe=ie.split("	");if(fe.length===3&&fe.every(ye=>!isNaN(parseInt(ye.replace(/,/g,""),10)))){const ye=Y,[me,Se,Be]=fe.map(ze=>parseInt(ze.replace(/,/g,""),10));je.push({url:"",title:ye,views:me,comments:Se,likes:Be})}else Ke.push(Y)}if(je.length===0){let le=`
`;return Ke.length>0&&(le+=`:
${Ke.join(`
`)}`),alert(le)}const nt=v0(new Date),ae=_a(qr,"articles");for(const le of je){let Y,ie="";const fe=Lc(ae,jc("title","==",le.title),jc("authorId","==",e.uid)),ye=await lb(fe);ye.empty?(Y=(await Xc(ae,{authorId:e.uid,url:ie,title:le.title,publicationDate:cu(),classificationId:"",secondaryClassificationId:"",createdAt:cu()})).id,alert(`${le.title}URLX`)):(Y=ye.docs[0].id,ie=ye.docs[0].data().url,await qB(to(qr,"articles",Y),{title:le.title}));const me=to(qr,"articles",Y,"daily_snapshots",nt);await Wh(me,{note_data:{views:le.views,likes:le.likes,comments:le.comments},fetchedAt:cu()},{merge:!0})}let he=`${je.length}
`;Ke.length>0&&(he+=`:
${Ke.slice(0,5).join(`
`)}`,Ke.length>5&&(he+=`
...`)),alert(he),await J()}catch(Ne){console.error(":",Ne),alert("")}},[e,J]),Q=Ee.useCallback(async(pe,Ne)=>{const je=to(qr,"articles",pe);try{await qB(je,Ne),await J()}catch(Ke){console.error(":",Ke)}},[J]),K=Ee.useCallback(async(pe,Ne)=>{if(!e)return;const je=v0(new Date),Ke=to(qr,"articles",pe,"daily_snapshots",je);try{await Wh(Ke,{note_data:Ne},{merge:!0}),await J()}catch(Ue){console.error(":",Ue),alert("")}},[e,J]),we=Ee.useCallback(async pe=>{if(!(!pe||!e))try{await Xc(_a(qr,"classifications"),{authorId:e.uid,name:pe,createdAt:cu()})}catch(Ne){console.error("1:",Ne)}},[e]),ge=Ee.useCallback(async pe=>{if(!(!pe||!e))try{await Xc(_a(qr,"secondary_classifications"),{authorId:e.uid,name:pe,createdAt:cu()})}catch(Ne){console.error("2:",Ne)}},[e]),Ae=Ee.useCallback(async pe=>{if(window.confirm(""))try{await oE(to(qr,"classifications",pe))}catch(Ne){console.error("Error deleting classification:",Ne)}},[]),te=Ee.useCallback(async pe=>{if(window.confirm(""))try{await oE(to(qr,"secondary_classifications",pe))}catch(Ne){console.error("Error deleting secondary classification:",Ne)}},[]),ee=Ee.useCallback(async pe=>{if(!e)return alert("");try{await Xc(_a(qr,"kpis"),{authorId:e.uid,...pe,createdAt:cu()})}catch(Ne){console.error(Ne)}},[e]),ue=Ee.useCallback(async pe=>{if(!(!e||!window.confirm("KPI")))try{await oE(to(qr,"kpis",pe))}catch(Ne){console.error(Ne)}},[e]),ce=Ee.useCallback(async pe=>{if(!pe||!e)return alert("");const Ne=Zue(),je=`analytics_csv/${e.uid}/${pe.name}`,Ke=Que(Ne,je);try{await Yue(Ke,pe),alert(""),await J()}catch(Ue){console.error(":",Ue),alert(`: ${Ue instanceof Error?Ue.message:String(Ue)}`)}},[e,J]),se=Ee.useCallback(async()=>{if(e){a(!0);try{const pe=`https://fetchxrealtimedata-3xng5a5c4a-uc.a.run.app?uid=${e.uid}`,Ne=await fetch(pe);if(!Ne.ok)throw new Error(`: ${Ne.status}`);alert(""),await J()}catch(pe){console.error(":",pe)}finally{a(!1)}}},[e,J]),Te={allArticles:r,dashboardArticles:P,lineChartData:I,categoryTotalData:k,secondaryCategoryArticleCountData:q,secondaryCategoryLikeRateData:U,pipelineData:F,pipelineRates:V,classifications:S,secondaryClassifications:T,kpis:R,startDate:f,endDate:p,setStartDate:d,setEndDate:m,selectedClassificationIds:y,selectedSecondaryIds:b,handlePrimaryFilterChange:Z,handleSecondaryFilterChange:H,handleExtractAndAddArticles:$,handleUpdateArticle:Q,handleUpdateLatestSnapshot:K,handleAddClassification:we,handleAddSecondaryClassification:ge,handleDeleteClassification:Ae,handleDeleteSecondaryClassification:te,handleAddKpi:ee,handleDeleteKpi:ue,handleFileUpload:ce,handleFetchXData:se,isFetchingXData:i,isXConnected:o,fetchAllData:J,activeModal:l,setActiveModal:u};return X.jsx(OH.Provider,{value:Te,children:t})},MH=()=>{const t=Ee.useContext(OH);if(t===void 0)throw new Error("useData must be used within a DataProvider");return t};function IH(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=IH(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ht(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=IH(t))&&(n&&(n+=" "),n+=e);return n}var hE,tk;function la(){if(tk)return hE;tk=1;var t=Array.isArray;return hE=t,hE}var dE,rk;function RH(){if(rk)return dE;rk=1;var t=typeof a0=="object"&&a0&&a0.Object===Object&&a0;return dE=t,dE}var pE,nk;function Cs(){if(nk)return pE;nk=1;var t=RH(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return pE=r,pE}var mE,ik;function _g(){if(ik)return mE;ik=1;var t=Cs(),e=t.Symbol;return mE=e,mE}var vE,ak;function ale(){if(ak)return vE;ak=1;var t=_g(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var s=r.call(o,i),l=o[i];try{o[i]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(s?o[i]=l:delete o[i]),f}return vE=a,vE}var gE,ok;function ole(){if(ok)return gE;ok=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return gE=r,gE}var yE,sk;function Bu(){if(sk)return yE;sk=1;var t=_g(),e=ale(),r=ole(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(s){return s==null?s===void 0?i:n:a&&a in Object(s)?e(s):r(s)}return yE=o,yE}var bE,uk;function ku(){if(uk)return bE;uk=1;function t(e){return e!=null&&typeof e=="object"}return bE=t,bE}var wE,lk;function up(){if(lk)return wE;lk=1;var t=Bu(),e=ku(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return wE=n,wE}var xE,ck;function JO(){if(ck)return xE;ck=1;var t=la(),e=up(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return xE=i,xE}var _E,fk;function Kl(){if(fk)return _E;fk=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return _E=t,_E}var AE,hk;function eM(){if(hk)return AE;hk=1;var t=Bu(),e=Kl(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!e(s))return!1;var l=t(s);return l==n||l==i||l==r||l==a}return AE=o,AE}var EE,dk;function sle(){if(dk)return EE;dk=1;var t=Cs(),e=t["__core-js_shared__"];return EE=e,EE}var SE,pk;function ule(){if(pk)return SE;pk=1;var t=sle(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return SE=r,SE}var TE,mk;function PH(){if(mk)return TE;mk=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return TE=r,TE}var DE,vk;function lle(){if(vk)return DE;vk=1;var t=eM(),e=ule(),r=Kl(),n=PH(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,u=s.hasOwnProperty,f=RegExp("^"+l.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(p){if(!r(p)||e(p))return!1;var m=t(p)?f:a;return m.test(n(p))}return DE=d,DE}var NE,gk;function cle(){if(gk)return NE;gk=1;function t(e,r){return e?.[r]}return NE=t,NE}var CE,yk;function Cf(){if(yk)return CE;yk=1;var t=lle(),e=cle();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return CE=r,CE}var OE,bk;function qw(){if(bk)return OE;bk=1;var t=Cf(),e=t(Object,"create");return OE=e,OE}var ME,wk;function fle(){if(wk)return ME;wk=1;var t=qw();function e(){this.__data__=t?t(null):{},this.size=0}return ME=e,ME}var IE,xk;function hle(){if(xk)return IE;xk=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return IE=t,IE}var RE,_k;function dle(){if(_k)return RE;_k=1;var t=qw(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var s=o[a];return s===e?void 0:s}return n.call(o,a)?o[a]:void 0}return RE=i,RE}var PE,Ak;function ple(){if(Ak)return PE;Ak=1;var t=qw(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return PE=n,PE}var BE,Ek;function mle(){if(Ek)return BE;Ek=1;var t=qw(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return BE=r,BE}var kE,Sk;function vle(){if(Sk)return kE;Sk=1;var t=fle(),e=hle(),r=dle(),n=ple(),i=mle();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,kE=a,kE}var FE,Tk;function gle(){if(Tk)return FE;Tk=1;function t(){this.__data__=[],this.size=0}return FE=t,FE}var $E,Dk;function tM(){if(Dk)return $E;Dk=1;function t(e,r){return e===r||e!==e&&r!==r}return $E=t,$E}var LE,Nk;function Uw(){if(Nk)return LE;Nk=1;var t=tM();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return LE=e,LE}var jE,Ck;function yle(){if(Ck)return jE;Ck=1;var t=Uw(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():r.call(a,o,1),--this.size,!0}return jE=n,jE}var qE,Ok;function ble(){if(Ok)return qE;Ok=1;var t=Uw();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return qE=e,qE}var UE,Mk;function wle(){if(Mk)return UE;Mk=1;var t=Uw();function e(r){return t(this.__data__,r)>-1}return UE=e,UE}var zE,Ik;function xle(){if(Ik)return zE;Ik=1;var t=Uw();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return zE=e,zE}var VE,Rk;function zw(){if(Rk)return VE;Rk=1;var t=gle(),e=yle(),r=ble(),n=wle(),i=xle();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,VE=a,VE}var HE,Pk;function rM(){if(Pk)return HE;Pk=1;var t=Cf(),e=Cs(),r=t(e,"Map");return HE=r,HE}var GE,Bk;function _le(){if(Bk)return GE;Bk=1;var t=vle(),e=zw(),r=rM();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return GE=n,GE}var KE,kk;function Ale(){if(kk)return KE;kk=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return KE=t,KE}var XE,Fk;function Vw(){if(Fk)return XE;Fk=1;var t=Ale();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return XE=e,XE}var WE,$k;function Ele(){if($k)return WE;$k=1;var t=Vw();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return WE=e,WE}var YE,Lk;function Sle(){if(Lk)return YE;Lk=1;var t=Vw();function e(r){return t(this,r).get(r)}return YE=e,YE}var QE,jk;function Tle(){if(jk)return QE;jk=1;var t=Vw();function e(r){return t(this,r).has(r)}return QE=e,QE}var ZE,qk;function Dle(){if(qk)return ZE;qk=1;var t=Vw();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return ZE=e,ZE}var JE,Uk;function nM(){if(Uk)return JE;Uk=1;var t=_le(),e=Ele(),r=Sle(),n=Tle(),i=Dle();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var u=o[s];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,JE=a,JE}var eS,zk;function BH(){if(zk)return eS;zk=1;var t=nM(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var u=n.apply(this,o);return a.cache=l.set(s,u)||l,u};return a.cache=new(r.Cache||t),a}return r.Cache=t,eS=r,eS}var tS,Vk;function Nle(){if(Vk)return tS;Vk=1;var t=BH(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return tS=r,tS}var rS,Hk;function Cle(){if(Hk)return rS;Hk=1;var t=Nle(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,s,l,u){a.push(l?u.replace(r,"$1"):s||o)}),a});return rS=n,rS}var nS,Gk;function iM(){if(Gk)return nS;Gk=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return nS=t,nS}var iS,Kk;function Ole(){if(Kk)return iS;Kk=1;var t=_g(),e=iM(),r=la(),n=up(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(s){if(typeof s=="string")return s;if(r(s))return e(s,o)+"";if(n(s))return a?a.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return iS=o,iS}var aS,Xk;function kH(){if(Xk)return aS;Xk=1;var t=Ole();function e(r){return r==null?"":t(r)}return aS=e,aS}var oS,Wk;function FH(){if(Wk)return oS;Wk=1;var t=la(),e=JO(),r=Cle(),n=kH();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return oS=i,oS}var sS,Yk;function Hw(){if(Yk)return sS;Yk=1;var t=up();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return sS=e,sS}var uS,Qk;function aM(){if(Qk)return uS;Qk=1;var t=FH(),e=Hw();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return uS=r,uS}var lS,Zk;function $H(){if(Zk)return lS;Zk=1;var t=aM();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return lS=e,lS}var Mle=$H();const Ma=pr(Mle);var cS,Jk;function Ile(){if(Jk)return cS;Jk=1;function t(e){return e==null}return cS=t,cS}var Rle=Ile();const $t=pr(Rle);var fS,eF;function Ple(){if(eF)return fS;eF=1;var t=Bu(),e=la(),r=ku(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return fS=i,fS}var Ble=Ple();const mf=pr(Ble);var kle=eM();const Nt=pr(kle);var Fle=Kl();const lp=pr(Fle);var hS={exports:{}},yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tF;function $le(){if(tF)return yr;tF=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),s=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function g(b){if(typeof b=="object"&&b!==null){var E=b.$$typeof;switch(E){case t:switch(b=b.type,b){case r:case i:case n:case u:case f:return b;default:switch(b=b&&b.$$typeof,b){case s:case o:case l:case p:case d:case a:return b;default:return E}}case e:return E}}}return yr.ContextConsumer=o,yr.ContextProvider=a,yr.Element=t,yr.ForwardRef=l,yr.Fragment=r,yr.Lazy=p,yr.Memo=d,yr.Portal=e,yr.Profiler=i,yr.StrictMode=n,yr.Suspense=u,yr.SuspenseList=f,yr.isAsyncMode=function(){return!1},yr.isConcurrentMode=function(){return!1},yr.isContextConsumer=function(b){return g(b)===o},yr.isContextProvider=function(b){return g(b)===a},yr.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},yr.isForwardRef=function(b){return g(b)===l},yr.isFragment=function(b){return g(b)===r},yr.isLazy=function(b){return g(b)===p},yr.isMemo=function(b){return g(b)===d},yr.isPortal=function(b){return g(b)===e},yr.isProfiler=function(b){return g(b)===i},yr.isStrictMode=function(b){return g(b)===n},yr.isSuspense=function(b){return g(b)===u},yr.isSuspenseList=function(b){return g(b)===f},yr.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===u||b===f||b===m||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===d||b.$$typeof===a||b.$$typeof===o||b.$$typeof===l||b.$$typeof===y||b.getModuleId!==void 0)},yr.typeOf=g,yr}var rF;function Lle(){return rF||(rF=1,hS.exports=$le()),hS.exports}var jle=Lle(),dS,nF;function LH(){if(nF)return dS;nF=1;var t=Bu(),e=ku(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return dS=n,dS}var pS,iF;function qle(){if(iF)return pS;iF=1;var t=LH();function e(r){return t(r)&&r!=+r}return pS=e,pS}var Ule=qle();const Ag=pr(Ule);var zle=LH();const Vle=pr(zle);var $i=function(e){return e===0?0:e>0?1:-1},Wc=function(e){return mf(e)&&e.indexOf("%")===e.length-1},tt=function(e){return Vle(e)&&!Ag(e)},Hle=function(e){return $t(e)},$n=function(e){return tt(e)||mf(e)},Gle=0,cp=function(e){var r=++Gle;return"".concat(e||"").concat(r)},Li=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!tt(e)&&!mf(e))return n;var a;if(Wc(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Ag(a)&&(a=n),i&&a>r&&(a=r),a},xl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Kle=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Sa=function(e,r){return tt(e)&&tt(r)?function(n){return e+n*(r-e)}:function(){return r}};function Ub(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ma(n,e))===r})}var Xle=function(e,r){return tt(e)&&tt(r)?e-r:mf(e)&&mf(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ld(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function nN(t){"@babel/helpers - typeof";return nN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nN(t)}var Wle=["viewBox","children"],Yle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aF=["points","pathLength"],mS={svg:Wle,polygon:aF,polyline:aF},oM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],zb=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(Ee.isValidElement(e)&&(n=e.props),!lp(n))return null;var i={};return Object.keys(n).forEach(function(a){oM.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Qle=function(e,r,n){return function(i){return e(r,n,i),null}},vf=function(e,r,n){if(!lp(e)||nN(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];oM.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Qle(o,r,n))}),i},Zle=["children"],Jle=["children"];function oF(t,e){if(t==null)return{};var r=ece(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ece(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function iN(t){"@babel/helpers - typeof";return iN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iN(t)}var sF={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},uF=null,vS=null,sM=function t(e){if(e===uF&&Array.isArray(vS))return vS;var r=[];return Ee.Children.forEach(e,function(n){$t(n)||(jle.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),vS=r,uF=e,r};function Ia(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return xu(i)}):n=[xu(e)],sM(t).forEach(function(i){var a=Ma(i,"type.displayName")||Ma(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function Aa(t,e){var r=Ia(t,e);return r&&r[0]}var lF=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!tt(n)||n<=0||!tt(i)||i<=0)},tce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],rce=function(e){return e&&e.type&&mf(e.type)&&tce.indexOf(e.type)>=0},nce=function(e){return e&&iN(e)==="object"&&"clipDot"in e},ice=function(e,r,n,i){var a,o=(a=mS?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Nt(e)&&(i&&o.includes(r)||Yle.includes(r))||n&&oM.includes(r)},bt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Ee.isValidElement(e)&&(i=e.props),!lp(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;ice((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},aN=function t(e,r){if(e===r)return!0;var n=Ee.Children.count(e);if(n!==Ee.Children.count(r))return!1;if(n===0)return!0;if(n===1)return cF(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!cF(a,o))return!1}return!0},cF=function(e,r){if($t(e)&&$t(r))return!0;if(!$t(e)&&!$t(r)){var n=e.props||{},i=n.children,a=oF(n,Zle),o=r.props||{},s=o.children,l=oF(o,Jle);return i&&s?ld(a,l)&&aN(i,s):!i&&!s?ld(a,l):!1}return!1},fF=function(e,r){var n=[],i={};return sM(e).forEach(function(a,o){if(rce(a))n.push(a);else if(a){var s=xu(a.type),l=r[s]||{},u=l.handler,f=l.once;if(u&&(!f||!i[s])){var d=u(a,s,o);n.push(d),i[s]=!0}}}),n},ace=function(e){var r=e&&e.type;return r&&sF[r]?sF[r]:null},oce=function(e,r){return sM(r).indexOf(e)},sce=["children","width","height","viewBox","className","style","title","desc"];function oN(){return oN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oN.apply(this,arguments)}function uce(t,e){if(t==null)return{};var r=lce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sN(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=uce(t,sce),f=i||{width:r,height:n,x:0,y:0},d=Ht("recharts-surface",a);return xe.createElement("svg",oN({},bt(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),xe.createElement("title",null,s),xe.createElement("desc",null,l),e)}var cce=["children","className"];function uN(){return uN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uN.apply(this,arguments)}function fce(t,e){if(t==null)return{};var r=hce(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var hr=xe.forwardRef(function(t,e){var r=t.children,n=t.className,i=fce(t,cce),a=Ht("recharts-layer",n);return xe.createElement("g",uN({className:a},bt(i,!0),{ref:e}),r)}),Io=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},gS,hF;function dce(){if(hF)return gS;hF=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return gS=t,gS}var yS,dF;function pce(){if(dF)return yS;dF=1;var t=dce();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return yS=e,yS}var bS,pF;function jH(){if(pF)return bS;pF=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",s=RegExp("["+o+t+i+a+"]");function l(u){return s.test(u)}return bS=l,bS}var wS,mF;function mce(){if(mF)return wS;mF=1;function t(e){return e.split("")}return wS=t,wS}var xS,vF;function vce(){if(vF)return xS;vF=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",s="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",u="(?:"+s+"|"+l+")",f="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",m="\\u200d",y=u+"?",g="["+a+"]?",b="(?:"+m+"(?:"+[f,d,p].join("|")+")"+g+y+")*",E=g+y+b,O="(?:"+[f+s+"?",s,d,p,o].join("|")+")",A=RegExp(l+"(?="+l+")|"+O+E,"g");function S(x){return x.match(A)||[]}return xS=S,xS}var _S,gF;function gce(){if(gF)return _S;gF=1;var t=mce(),e=jH(),r=vce();function n(i){return e(i)?r(i):t(i)}return _S=n,_S}var AS,yF;function yce(){if(yF)return AS;yF=1;var t=pce(),e=jH(),r=gce(),n=kH();function i(a){return function(o){o=n(o);var s=e(o)?r(o):void 0,l=s?s[0]:o.charAt(0),u=s?t(s,1).join(""):o.slice(1);return l[a]()+u}}return AS=i,AS}var ES,bF;function bce(){if(bF)return ES;bF=1;var t=yce(),e=t("toUpperCase");return ES=e,ES}var wce=bce();const Gw=pr(wce);function zr(t){return function(){return t}}const qH=Math.cos,Vb=Math.sin,Fo=Math.sqrt,Hb=Math.PI,Kw=2*Hb,lN=Math.PI,cN=2*lN,qc=1e-6,xce=cN-qc;function UH(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function _ce(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return UH;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Ace{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?UH:_ce(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-e,u=i-r,f=o-e,d=s-r,p=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>qc)if(!(Math.abs(d*l-u*f)>qc)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let m=n-o,y=i-s,g=l*l+u*u,b=m*m+y*y,E=Math.sqrt(g),O=Math.sqrt(p),A=a*Math.tan((lN-Math.acos((g+p-b)/(2*E*O)))/2),S=A/O,x=A/E;Math.abs(S-1)>qc&&this._append`L${e+S*f},${r+S*d}`,this._append`A${a},${a},0,0,${+(d*m>f*y)},${this._x1=e+x*l},${this._y1=r+x*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=e+s,f=r+l,d=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>qc||Math.abs(this._y1-f)>qc)&&this._append`L${u},${f}`,n&&(p<0&&(p=p%cN+cN),p>xce?this._append`A${n},${n},0,1,${d},${e-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:p>qc&&this._append`A${n},${n},0,${+(p>=lN)},${d},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function uM(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Ace(e)}function lM(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zH(t){this._context=t}zH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Xw(t){return new zH(t)}function VH(t){return t[0]}function HH(t){return t[1]}function GH(t,e){var r=zr(!0),n=null,i=Xw,a=null,o=uM(s);t=typeof t=="function"?t:t===void 0?VH:zr(t),e=typeof e=="function"?e:e===void 0?HH:zr(e);function s(l){var u,f=(l=lM(l)).length,d,p=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=f;++u)!(u<f&&r(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+t(d,u,l),+e(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:zr(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:zr(+l),s):e},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:zr(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function g0(t,e,r){var n=null,i=zr(!0),a=null,o=Xw,s=null,l=uM(u);t=typeof t=="function"?t:t===void 0?VH:zr(+t),e=typeof e=="function"?e:zr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?HH:zr(+r);function u(d){var p,m,y,g=(d=lM(d)).length,b,E=!1,O,A=new Array(g),S=new Array(g);for(a==null&&(s=o(O=l())),p=0;p<=g;++p){if(!(p<g&&i(b=d[p],p,d))===E)if(E=!E)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=p-1;y>=m;--y)s.point(A[y],S[y]);s.lineEnd(),s.areaEnd()}E&&(A[p]=+t(b,p,d),S[p]=+e(b,p,d),s.point(n?+n(b,p,d):A[p],r?+r(b,p,d):S[p]))}if(O)return s=null,O+""||null}function f(){return GH().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:zr(+d),n=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:zr(+d),u):t},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:zr(+d),u):n},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:zr(+d),r=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:zr(+d),u):e},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:zr(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:zr(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class KH{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Ece(t){return new KH(t,!0)}function Sce(t){return new KH(t,!1)}const cM={draw(t,e){const r=Fo(e/Hb);t.moveTo(r,0),t.arc(0,0,r,0,Kw)}},Tce={draw(t,e){const r=Fo(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},XH=Fo(1/3),Dce=XH*2,Nce={draw(t,e){const r=Fo(e/Dce),n=r*XH;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Cce={draw(t,e){const r=Fo(e),n=-r/2;t.rect(n,n,r,r)}},Oce=.8908130915292852,WH=Vb(Hb/10)/Vb(7*Hb/10),Mce=Vb(Kw/10)*WH,Ice=-qH(Kw/10)*WH,Rce={draw(t,e){const r=Fo(e*Oce),n=Mce*r,i=Ice*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=Kw*a/5,s=qH(o),l=Vb(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},SS=Fo(3),Pce={draw(t,e){const r=-Fo(e/(SS*3));t.moveTo(0,r*2),t.lineTo(-SS*r,-r),t.lineTo(SS*r,-r),t.closePath()}},Wa=-.5,Ya=Fo(3)/2,fN=1/Fo(12),Bce=(fN/2+1)*3,kce={draw(t,e){const r=Fo(e/Bce),n=r/2,i=r*fN,a=n,o=r*fN+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Wa*n-Ya*i,Ya*n+Wa*i),t.lineTo(Wa*a-Ya*o,Ya*a+Wa*o),t.lineTo(Wa*s-Ya*l,Ya*s+Wa*l),t.lineTo(Wa*n+Ya*i,Wa*i-Ya*n),t.lineTo(Wa*a+Ya*o,Wa*o-Ya*a),t.lineTo(Wa*s+Ya*l,Wa*l-Ya*s),t.closePath()}};function Fce(t,e){let r=null,n=uM(i);t=typeof t=="function"?t:zr(t||cM),e=typeof e=="function"?e:zr(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:zr(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:zr(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Gb(){}function Kb(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function YH(t){this._context=t}YH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $ce(t){return new YH(t)}function QH(t){this._context=t}QH.prototype={areaStart:Gb,areaEnd:Gb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lce(t){return new QH(t)}function ZH(t){this._context=t}ZH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jce(t){return new ZH(t)}function JH(t){this._context=t}JH.prototype={areaStart:Gb,areaEnd:Gb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function qce(t){return new JH(t)}function wF(t){return t<0?-1:1}function xF(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(wF(a)+wF(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function _F(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function TS(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Xb(t){this._context=t}Xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:TS(this,this._t0,_F(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,TS(this,_F(this,r=xF(this,t,e)),r);break;default:TS(this,this._t0,r=xF(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function eG(t){this._context=new tG(t)}(eG.prototype=Object.create(Xb.prototype)).point=function(t,e){Xb.prototype.point.call(this,e,t)};function tG(t){this._context=t}tG.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Uce(t){return new Xb(t)}function zce(t){return new eG(t)}function rG(t){this._context=t}rG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=AF(t),i=AF(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AF(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Vce(t){return new rG(t)}function Ww(t,e){this._context=t,this._t=e}Ww.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Hce(t){return new Ww(t,.5)}function Gce(t){return new Ww(t,0)}function Kce(t){return new Ww(t,1)}function Ed(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,s=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function hN(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Xce(t,e){return t[e]}function Wce(t){const e=[];return e.key=t,e}function Yce(){var t=zr([]),e=hN,r=Ed,n=Xce;function i(a){var o=Array.from(t.apply(this,arguments),Wce),s,l=o.length,u=-1,f;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,f=lM(e(o));s<l;++s)o[f[s]].index=s;return r(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:zr(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:zr(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?hN:typeof a=="function"?a:zr(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??Ed,i):r},i}function Qce(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}Ed(t,e)}}function Zce(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=t[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Ed(t,e)}}function Jce(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var f=t[e[s]],d=f[n][1]||0,p=f[n-1][1]||0,m=(d-p)/2,y=0;y<s;++y){var g=t[e[y]],b=g[n][1]||0,E=g[n-1][1]||0;m+=b-E}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Ed(t,e)}}function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}var efe=["type","size","sizeType"];function dN(){return dN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dN.apply(this,arguments)}function EF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(r),!0).forEach(function(n){tfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tfe(t,e,r){return e=rfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rfe(t){var e=nfe(t,"string");return Ev(e)=="symbol"?e:e+""}function nfe(t,e){if(Ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ife(t,e){if(t==null)return{};var r=afe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function afe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nG={symbolCircle:cM,symbolCross:Tce,symbolDiamond:Nce,symbolSquare:Cce,symbolStar:Rce,symbolTriangle:Pce,symbolWye:kce},ofe=Math.PI/180,sfe=function(e){var r="symbol".concat(Gw(e));return nG[r]||cM},ufe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*ofe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lfe=function(e,r){nG["symbol".concat(Gw(e))]=r},fM=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=ife(e,efe),u=SF(SF({},l),{},{type:n,size:a,sizeType:s}),f=function(){var b=sfe(n),E=Fce().type(b).size(ufe(a,s,n));return E()},d=u.className,p=u.cx,m=u.cy,y=bt(u,!0);return p===+p&&m===+m&&a===+a?xe.createElement("path",dN({},y,{className:Ht("recharts-symbols",d),transform:"translate(".concat(p,", ").concat(m,")"),d:f()})):null};fM.registerSymbol=lfe;function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function pN(){return pN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pN.apply(this,arguments)}function TF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(r),!0).forEach(function(n){Sv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ffe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aG(n.key),n)}}function dfe(t,e,r){return e&&hfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pfe(t,e,r){return e=Wb(e),mfe(t,iG()?Reflect.construct(e,r||[],Wb(t).constructor):e.apply(t,r))}function mfe(t,e){if(e&&(Sd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vfe(t)}function vfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iG=function(){return!!t})()}function Wb(t){return Wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wb(t)}function gfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mN(t,e)}function mN(t,e){return mN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mN(t,e)}function Sv(t,e,r){return e=aG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aG(t){var e=yfe(t,"string");return Sd(e)=="symbol"?e:e+""}function yfe(t,e){if(Sd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qa=32,hM=(function(t){function e(){return ffe(this,e),pfe(this,e,arguments)}return gfe(e,t),dfe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Qa/2,o=Qa/6,s=Qa/3,l=n.inactive?i:n.color;if(n.type==="plainline")return xe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Qa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return xe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Qa,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return xe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Qa/8,"h").concat(Qa,"v").concat(Qa*3/4,"h").concat(-Qa,"z"),className:"recharts-legend-icon"});if(xe.isValidElement(n.legendIcon)){var u=cfe({},n);return delete u.legendIcon,xe.cloneElement(n.legendIcon,u)}return xe.createElement(fM,{fill:l,cx:a,cy:a,size:Qa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Qa,height:Qa},d={display:s==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,y){var g=m.formatter||l,b=Ht(Sv(Sv({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var E=Nt(m.value)?null:m.value;Io(!Nt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var O=m.inactive?u:m.color;return xe.createElement("li",pN({className:b,style:d,key:"legend-item-".concat(y)},vf(n.props,m,y)),xe.createElement(sN,{width:o,height:o,viewBox:f,style:p},n.renderIcon(m)),xe.createElement("span",{className:"recharts-legend-item-text",style:{color:O}},g?g(E,m,y):E))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return xe.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])})(Ee.PureComponent);Sv(hM,"displayName","Legend");Sv(hM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var DS,DF;function bfe(){if(DF)return DS;DF=1;var t=zw();function e(){this.__data__=new t,this.size=0}return DS=e,DS}var NS,NF;function wfe(){if(NF)return NS;NF=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return NS=t,NS}var CS,CF;function xfe(){if(CF)return CS;CF=1;function t(e){return this.__data__.get(e)}return CS=t,CS}var OS,OF;function _fe(){if(OF)return OS;OF=1;function t(e){return this.__data__.has(e)}return OS=t,OS}var MS,MF;function Afe(){if(MF)return MS;MF=1;var t=zw(),e=rM(),r=nM(),n=200;function i(a,o){var s=this.__data__;if(s instanceof t){var l=s.__data__;if(!e||l.length<n-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new r(l)}return s.set(a,o),this.size=s.size,this}return MS=i,MS}var IS,IF;function oG(){if(IF)return IS;IF=1;var t=zw(),e=bfe(),r=wfe(),n=xfe(),i=_fe(),a=Afe();function o(s){var l=this.__data__=new t(s);this.size=l.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,IS=o,IS}var RS,RF;function Efe(){if(RF)return RS;RF=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return RS=e,RS}var PS,PF;function Sfe(){if(PF)return PS;PF=1;function t(e){return this.__data__.has(e)}return PS=t,PS}var BS,BF;function sG(){if(BF)return BS;BF=1;var t=nM(),e=Efe(),r=Sfe();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,BS=n,BS}var kS,kF;function uG(){if(kF)return kS;kF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return kS=t,kS}var FS,FF;function lG(){if(FF)return FS;FF=1;function t(e,r){return e.has(r)}return FS=t,FS}var $S,$F;function cG(){if($F)return $S;$F=1;var t=sG(),e=uG(),r=lG(),n=1,i=2;function a(o,s,l,u,f,d){var p=l&n,m=o.length,y=s.length;if(m!=y&&!(p&&y>m))return!1;var g=d.get(o),b=d.get(s);if(g&&b)return g==s&&b==o;var E=-1,O=!0,A=l&i?new t:void 0;for(d.set(o,s),d.set(s,o);++E<m;){var S=o[E],x=s[E];if(u)var _=p?u(x,S,E,s,o,d):u(S,x,E,o,s,d);if(_!==void 0){if(_)continue;O=!1;break}if(A){if(!e(s,function(T,N){if(!r(A,N)&&(S===T||f(S,T,l,u,d)))return A.push(N)})){O=!1;break}}else if(!(S===x||f(S,x,l,u,d))){O=!1;break}}return d.delete(o),d.delete(s),O}return $S=a,$S}var LS,LF;function Tfe(){if(LF)return LS;LF=1;var t=Cs(),e=t.Uint8Array;return LS=e,LS}var jS,jF;function Dfe(){if(jF)return jS;jF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return jS=t,jS}var qS,qF;function dM(){if(qF)return qS;qF=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return qS=t,qS}var US,UF;function Nfe(){if(UF)return US;UF=1;var t=_g(),e=Tfe(),r=tM(),n=cG(),i=Dfe(),a=dM(),o=1,s=2,l="[object Boolean]",u="[object Date]",f="[object Error]",d="[object Map]",p="[object Number]",m="[object RegExp]",y="[object Set]",g="[object String]",b="[object Symbol]",E="[object ArrayBuffer]",O="[object DataView]",A=t?t.prototype:void 0,S=A?A.valueOf:void 0;function x(_,T,N,C,R,I,P){switch(N){case O:if(_.byteLength!=T.byteLength||_.byteOffset!=T.byteOffset)return!1;_=_.buffer,T=T.buffer;case E:return!(_.byteLength!=T.byteLength||!I(new e(_),new e(T)));case l:case u:case p:return r(+_,+T);case f:return _.name==T.name&&_.message==T.message;case m:case g:return _==T+"";case d:var k=i;case y:var q=C&o;if(k||(k=a),_.size!=T.size&&!q)return!1;var U=P.get(_);if(U)return U==T;C|=s,P.set(_,T);var F=n(k(_),k(T),C,R,I,P);return P.delete(_),F;case b:if(S)return S.call(_)==S.call(T)}return!1}return US=x,US}var zS,zF;function fG(){if(zF)return zS;zF=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return zS=t,zS}var VS,VF;function Cfe(){if(VF)return VS;VF=1;var t=fG(),e=la();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return VS=r,VS}var HS,HF;function Ofe(){if(HF)return HS;HF=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var s=e[n];r(s,n,e)&&(o[a++]=s)}return o}return HS=t,HS}var GS,GF;function Mfe(){if(GF)return GS;GF=1;function t(){return[]}return GS=t,GS}var KS,KF;function Ife(){if(KF)return KS;KF=1;var t=Ofe(),e=Mfe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(s){return n.call(o,s)}))}:e;return KS=a,KS}var XS,XF;function Rfe(){if(XF)return XS;XF=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return XS=t,XS}var WS,WF;function Pfe(){if(WF)return WS;WF=1;var t=Bu(),e=ku(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return WS=n,WS}var YS,YF;function pM(){if(YF)return YS;YF=1;var t=Pfe(),e=ku(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return YS=a,YS}var Hm={exports:{}},QS,QF;function Bfe(){if(QF)return QS;QF=1;function t(){return!1}return QS=t,QS}Hm.exports;var ZF;function hG(){return ZF||(ZF=1,(function(t,e){var r=Cs(),n=Bfe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(Hm,Hm.exports)),Hm.exports}var ZS,JF;function mM(){if(JF)return ZS;JF=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return ZS=r,ZS}var JS,e$;function vM(){if(e$)return JS;e$=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return JS=e,JS}var eT,t$;function kfe(){if(t$)return eT;t$=1;var t=Bu(),e=vM(),r=ku(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object Map]",f="[object Number]",d="[object Object]",p="[object RegExp]",m="[object Set]",y="[object String]",g="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",O="[object Float32Array]",A="[object Float64Array]",S="[object Int8Array]",x="[object Int16Array]",_="[object Int32Array]",T="[object Uint8Array]",N="[object Uint8ClampedArray]",C="[object Uint16Array]",R="[object Uint32Array]",I={};I[O]=I[A]=I[S]=I[x]=I[_]=I[T]=I[N]=I[C]=I[R]=!0,I[n]=I[i]=I[b]=I[a]=I[E]=I[o]=I[s]=I[l]=I[u]=I[f]=I[d]=I[p]=I[m]=I[y]=I[g]=!1;function P(k){return r(k)&&e(k.length)&&!!I[t(k)]}return eT=P,eT}var tT,r$;function dG(){if(r$)return tT;r$=1;function t(e){return function(r){return e(r)}}return tT=t,tT}var Gm={exports:{}};Gm.exports;var n$;function Ffe(){return n$||(n$=1,(function(t,e){var r=RH(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}})();t.exports=s})(Gm,Gm.exports)),Gm.exports}var rT,i$;function pG(){if(i$)return rT;i$=1;var t=kfe(),e=dG(),r=Ffe(),n=r&&r.isTypedArray,i=n?e(n):t;return rT=i,rT}var nT,a$;function $fe(){if(a$)return nT;a$=1;var t=Rfe(),e=pM(),r=la(),n=hG(),i=mM(),a=pG(),o=Object.prototype,s=o.hasOwnProperty;function l(u,f){var d=r(u),p=!d&&e(u),m=!d&&!p&&n(u),y=!d&&!p&&!m&&a(u),g=d||p||m||y,b=g?t(u.length,String):[],E=b.length;for(var O in u)(f||s.call(u,O))&&!(g&&(O=="length"||m&&(O=="offset"||O=="parent")||y&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||i(O,E)))&&b.push(O);return b}return nT=l,nT}var iT,o$;function Lfe(){if(o$)return iT;o$=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return iT=e,iT}var aT,s$;function mG(){if(s$)return aT;s$=1;function t(e,r){return function(n){return e(r(n))}}return aT=t,aT}var oT,u$;function jfe(){if(u$)return oT;u$=1;var t=mG(),e=t(Object.keys,Object);return oT=e,oT}var sT,l$;function qfe(){if(l$)return sT;l$=1;var t=Lfe(),e=jfe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var s in Object(a))n.call(a,s)&&s!="constructor"&&o.push(s);return o}return sT=i,sT}var uT,c$;function Eg(){if(c$)return uT;c$=1;var t=eM(),e=vM();function r(n){return n!=null&&e(n.length)&&!t(n)}return uT=r,uT}var lT,f$;function Yw(){if(f$)return lT;f$=1;var t=$fe(),e=qfe(),r=Eg();function n(i){return r(i)?t(i):e(i)}return lT=n,lT}var cT,h$;function Ufe(){if(h$)return cT;h$=1;var t=Cfe(),e=Ife(),r=Yw();function n(i){return t(i,r,e)}return cT=n,cT}var fT,d$;function zfe(){if(d$)return fT;d$=1;var t=Ufe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,s,l,u,f){var d=s&e,p=t(a),m=p.length,y=t(o),g=y.length;if(m!=g&&!d)return!1;for(var b=m;b--;){var E=p[b];if(!(d?E in o:n.call(o,E)))return!1}var O=f.get(a),A=f.get(o);if(O&&A)return O==o&&A==a;var S=!0;f.set(a,o),f.set(o,a);for(var x=d;++b<m;){E=p[b];var _=a[E],T=o[E];if(l)var N=d?l(T,_,E,o,a,f):l(_,T,E,a,o,f);if(!(N===void 0?_===T||u(_,T,s,l,f):N)){S=!1;break}x||(x=E=="constructor")}if(S&&!x){var C=a.constructor,R=o.constructor;C!=R&&"constructor"in a&&"constructor"in o&&!(typeof C=="function"&&C instanceof C&&typeof R=="function"&&R instanceof R)&&(S=!1)}return f.delete(a),f.delete(o),S}return fT=i,fT}var hT,p$;function Vfe(){if(p$)return hT;p$=1;var t=Cf(),e=Cs(),r=t(e,"DataView");return hT=r,hT}var dT,m$;function Hfe(){if(m$)return dT;m$=1;var t=Cf(),e=Cs(),r=t(e,"Promise");return dT=r,dT}var pT,v$;function vG(){if(v$)return pT;v$=1;var t=Cf(),e=Cs(),r=t(e,"Set");return pT=r,pT}var mT,g$;function Gfe(){if(g$)return mT;g$=1;var t=Cf(),e=Cs(),r=t(e,"WeakMap");return mT=r,mT}var vT,y$;function Kfe(){if(y$)return vT;y$=1;var t=Vfe(),e=rM(),r=Hfe(),n=vG(),i=Gfe(),a=Bu(),o=PH(),s="[object Map]",l="[object Object]",u="[object Promise]",f="[object Set]",d="[object WeakMap]",p="[object DataView]",m=o(t),y=o(e),g=o(r),b=o(n),E=o(i),O=a;return(t&&O(new t(new ArrayBuffer(1)))!=p||e&&O(new e)!=s||r&&O(r.resolve())!=u||n&&O(new n)!=f||i&&O(new i)!=d)&&(O=function(A){var S=a(A),x=S==l?A.constructor:void 0,_=x?o(x):"";if(_)switch(_){case m:return p;case y:return s;case g:return u;case b:return f;case E:return d}return S}),vT=O,vT}var gT,b$;function Xfe(){if(b$)return gT;b$=1;var t=oG(),e=cG(),r=Nfe(),n=zfe(),i=Kfe(),a=la(),o=hG(),s=pG(),l=1,u="[object Arguments]",f="[object Array]",d="[object Object]",p=Object.prototype,m=p.hasOwnProperty;function y(g,b,E,O,A,S){var x=a(g),_=a(b),T=x?f:i(g),N=_?f:i(b);T=T==u?d:T,N=N==u?d:N;var C=T==d,R=N==d,I=T==N;if(I&&o(g)){if(!o(b))return!1;x=!0,C=!1}if(I&&!C)return S||(S=new t),x||s(g)?e(g,b,E,O,A,S):r(g,b,T,E,O,A,S);if(!(E&l)){var P=C&&m.call(g,"__wrapped__"),k=R&&m.call(b,"__wrapped__");if(P||k){var q=P?g.value():g,U=k?b.value():b;return S||(S=new t),A(q,U,E,O,S)}}return I?(S||(S=new t),n(g,b,E,O,A,S)):!1}return gT=y,gT}var yT,w$;function gM(){if(w$)return yT;w$=1;var t=Xfe(),e=ku();function r(n,i,a,o,s){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,s)}return yT=r,yT}var bT,x$;function Wfe(){if(x$)return bT;x$=1;var t=oG(),e=gM(),r=1,n=2;function i(a,o,s,l){var u=s.length,f=u,d=!l;if(a==null)return!f;for(a=Object(a);u--;){var p=s[u];if(d&&p[2]?p[1]!==a[p[0]]:!(p[0]in a))return!1}for(;++u<f;){p=s[u];var m=p[0],y=a[m],g=p[1];if(d&&p[2]){if(y===void 0&&!(m in a))return!1}else{var b=new t;if(l)var E=l(y,g,m,a,o,b);if(!(E===void 0?e(g,y,r|n,l,b):E))return!1}}return!0}return bT=i,bT}var wT,_$;function gG(){if(_$)return wT;_$=1;var t=Kl();function e(r){return r===r&&!t(r)}return wT=e,wT}var xT,A$;function Yfe(){if(A$)return xT;A$=1;var t=gG(),e=Yw();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],s=n[o];i[a]=[o,s,t(s)]}return i}return xT=r,xT}var _T,E$;function yG(){if(E$)return _T;E$=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return _T=t,_T}var AT,S$;function Qfe(){if(S$)return AT;S$=1;var t=Wfe(),e=Yfe(),r=yG();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return AT=n,AT}var ET,T$;function Zfe(){if(T$)return ET;T$=1;function t(e,r){return e!=null&&r in Object(e)}return ET=t,ET}var ST,D$;function Jfe(){if(D$)return ST;D$=1;var t=FH(),e=pM(),r=la(),n=mM(),i=vM(),a=Hw();function o(s,l,u){l=t(l,s);for(var f=-1,d=l.length,p=!1;++f<d;){var m=a(l[f]);if(!(p=s!=null&&u(s,m)))break;s=s[m]}return p||++f!=d?p:(d=s==null?0:s.length,!!d&&i(d)&&n(m,d)&&(r(s)||e(s)))}return ST=o,ST}var TT,N$;function ehe(){if(N$)return TT;N$=1;var t=Zfe(),e=Jfe();function r(n,i){return n!=null&&e(n,i,t)}return TT=r,TT}var DT,C$;function the(){if(C$)return DT;C$=1;var t=gM(),e=$H(),r=ehe(),n=JO(),i=gG(),a=yG(),o=Hw(),s=1,l=2;function u(f,d){return n(f)&&i(d)?a(o(f),d):function(p){var m=e(p,f);return m===void 0&&m===d?r(p,f):t(d,m,s|l)}}return DT=u,DT}var NT,O$;function fp(){if(O$)return NT;O$=1;function t(e){return e}return NT=t,NT}var CT,M$;function rhe(){if(M$)return CT;M$=1;function t(e){return function(r){return r?.[e]}}return CT=t,CT}var OT,I$;function nhe(){if(I$)return OT;I$=1;var t=aM();function e(r){return function(n){return t(n,r)}}return OT=e,OT}var MT,R$;function ihe(){if(R$)return MT;R$=1;var t=rhe(),e=nhe(),r=JO(),n=Hw();function i(a){return r(a)?t(n(a)):e(a)}return MT=i,MT}var IT,P$;function Os(){if(P$)return IT;P$=1;var t=Qfe(),e=the(),r=fp(),n=la(),i=ihe();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return IT=a,IT}var RT,B$;function bG(){if(B$)return RT;B$=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return RT=t,RT}var PT,k$;function ahe(){if(k$)return PT;k$=1;function t(e){return e!==e}return PT=t,PT}var BT,F$;function ohe(){if(F$)return BT;F$=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return BT=t,BT}var kT,$$;function she(){if($$)return kT;$$=1;var t=bG(),e=ahe(),r=ohe();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return kT=n,kT}var FT,L$;function uhe(){if(L$)return FT;L$=1;var t=she();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return FT=e,FT}var $T,j$;function lhe(){if(j$)return $T;j$=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return $T=t,$T}var LT,q$;function che(){if(q$)return LT;q$=1;function t(){}return LT=t,LT}var jT,U$;function fhe(){if(U$)return jT;U$=1;var t=vG(),e=che(),r=dM(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return jT=i,jT}var qT,z$;function hhe(){if(z$)return qT;z$=1;var t=sG(),e=uhe(),r=lhe(),n=lG(),i=fhe(),a=dM(),o=200;function s(l,u,f){var d=-1,p=e,m=l.length,y=!0,g=[],b=g;if(f)y=!1,p=r;else if(m>=o){var E=u?null:i(l);if(E)return a(E);y=!1,p=n,b=new t}else b=u?[]:g;e:for(;++d<m;){var O=l[d],A=u?u(O):O;if(O=f||O!==0?O:0,y&&A===A){for(var S=b.length;S--;)if(b[S]===A)continue e;u&&b.push(A),g.push(O)}else p(b,A,f)||(b!==g&&b.push(A),g.push(O))}return g}return qT=s,qT}var UT,V$;function dhe(){if(V$)return UT;V$=1;var t=Os(),e=hhe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return UT=r,UT}var phe=dhe();const H$=pr(phe);function wG(t,e,r){return e===!0?H$(t,r):Nt(e)?H$(t,e):t}function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}var mhe=["ref"];function G$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ou(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G$(Object(r),!0).forEach(function(n){Qw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K$(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_G(n.key),n)}}function ghe(t,e,r){return e&&K$(t.prototype,e),r&&K$(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function yhe(t,e,r){return e=Yb(e),bhe(t,xG()?Reflect.construct(e,r||[],Yb(t).constructor):e.apply(t,r))}function bhe(t,e){if(e&&(Td(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return whe(t)}function whe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xG=function(){return!!t})()}function Yb(t){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(t)}function xhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vN(t,e)}function vN(t,e){return vN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vN(t,e)}function Qw(t,e,r){return e=_G(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _G(t){var e=_he(t,"string");return Td(e)=="symbol"?e:e+""}function _he(t,e){if(Td(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ahe(t,e){if(t==null)return{};var r=Ehe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ehe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function She(t){return t.value}function The(t,e){if(xe.isValidElement(t))return xe.cloneElement(t,e);if(typeof t=="function")return xe.createElement(t,e);e.ref;var r=Ahe(e,mhe);return xe.createElement(hM,r)}var X$=1,fs=(function(t){function e(){var r;vhe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=yhe(this,e,[].concat(i)),Qw(r,"lastBoundingBox",{width:-1,height:-1}),r}return xhe(e,t),ghe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>X$||Math.abs(i.height-this.lastBoundingBox.height)>X$)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ou({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,f=i.chartHeight,d,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();d={left:((u||0)-m.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();p={top:((f||0)-y.height)/2}}else p=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ou(ou({},d),p)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,d=ou(ou({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return xe.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(m){n.wrapperNode=m}},The(a,ou(ou({},this.props),{},{payload:wG(f,u,She)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ou(ou({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&tt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(Ee.PureComponent);Qw(fs,"displayName","Legend");Qw(fs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zT,W$;function Dhe(){if(W$)return zT;W$=1;var t=_g(),e=pM(),r=la(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return zT=i,zT}var VT,Y$;function AG(){if(Y$)return VT;Y$=1;var t=fG(),e=Dhe();function r(n,i,a,o,s){var l=-1,u=n.length;for(a||(a=e),s||(s=[]);++l<u;){var f=n[l];i>0&&a(f)?i>1?r(f,i-1,a,o,s):t(s,f):o||(s[s.length]=f)}return s}return VT=r,VT}var HT,Q$;function Nhe(){if(Q$)return HT;Q$=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),s=i(r),l=s.length;l--;){var u=s[e?l:++a];if(n(o[u],u,o)===!1)break}return r}}return HT=t,HT}var GT,Z$;function Che(){if(Z$)return GT;Z$=1;var t=Nhe(),e=t();return GT=e,GT}var KT,J$;function EG(){if(J$)return KT;J$=1;var t=Che(),e=Yw();function r(n,i){return n&&t(n,i,e)}return KT=r,KT}var XT,e6;function Ohe(){if(e6)return XT;e6=1;var t=Eg();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,s=n?o:-1,l=Object(i);(n?s--:++s<o)&&a(l[s],s,l)!==!1;);return i}}return XT=e,XT}var WT,t6;function yM(){if(t6)return WT;t6=1;var t=EG(),e=Ohe(),r=e(t);return WT=r,WT}var YT,r6;function SG(){if(r6)return YT;r6=1;var t=yM(),e=Eg();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(s,l,u){o[++a]=i(s,l,u)}),o}return YT=r,YT}var QT,n6;function Mhe(){if(n6)return QT;n6=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return QT=t,QT}var ZT,i6;function Ihe(){if(i6)return ZT;i6=1;var t=up();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,s=t(r),l=n!==void 0,u=n===null,f=n===n,d=t(n);if(!u&&!d&&!s&&r>n||s&&l&&f&&!u&&!d||a&&l&&f||!i&&f||!o)return 1;if(!a&&!s&&!d&&r<n||d&&i&&o&&!a&&!s||u&&i&&o||!l&&o||!f)return-1}return 0}return ZT=e,ZT}var JT,a6;function Rhe(){if(a6)return JT;a6=1;var t=Ihe();function e(r,n,i){for(var a=-1,o=r.criteria,s=n.criteria,l=o.length,u=i.length;++a<l;){var f=t(o[a],s[a]);if(f){if(a>=u)return f;var d=i[a];return f*(d=="desc"?-1:1)}}return r.index-n.index}return JT=e,JT}var eD,o6;function Phe(){if(o6)return eD;o6=1;var t=iM(),e=aM(),r=Os(),n=SG(),i=Mhe(),a=dG(),o=Rhe(),s=fp(),l=la();function u(f,d,p){d.length?d=t(d,function(g){return l(g)?function(b){return e(b,g.length===1?g[0]:g)}:g}):d=[s];var m=-1;d=t(d,a(r));var y=n(f,function(g,b,E){var O=t(d,function(A){return A(g)});return{criteria:O,index:++m,value:g}});return i(y,function(g,b){return o(g,b,p)})}return eD=u,eD}var tD,s6;function Bhe(){if(s6)return tD;s6=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return tD=t,tD}var rD,u6;function khe(){if(u6)return rD;u6=1;var t=Bhe(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,s=-1,l=e(o.length-i,0),u=Array(l);++s<l;)u[s]=o[i+s];s=-1;for(var f=Array(i+1);++s<i;)f[s]=o[s];return f[i]=a(u),t(n,this,f)}}return rD=r,rD}var nD,l6;function Fhe(){if(l6)return nD;l6=1;function t(e){return function(){return e}}return nD=t,nD}var iD,c6;function TG(){if(c6)return iD;c6=1;var t=Cf(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return iD=e,iD}var aD,f6;function $he(){if(f6)return aD;f6=1;var t=Fhe(),e=TG(),r=fp(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return aD=n,aD}var oD,h6;function Lhe(){if(h6)return oD;h6=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var s=r(),l=e-(s-o);if(o=s,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return oD=n,oD}var sD,d6;function jhe(){if(d6)return sD;d6=1;var t=$he(),e=Lhe(),r=e(t);return sD=r,sD}var uD,p6;function qhe(){if(p6)return uD;p6=1;var t=fp(),e=khe(),r=jhe();function n(i,a){return r(e(i,a,t),i+"")}return uD=n,uD}var lD,m6;function Zw(){if(m6)return lD;m6=1;var t=tM(),e=Eg(),r=mM(),n=Kl();function i(a,o,s){if(!n(s))return!1;var l=typeof o;return(l=="number"?e(s)&&r(o,s.length):l=="string"&&o in s)?t(s[o],a):!1}return lD=i,lD}var cD,v6;function Uhe(){if(v6)return cD;v6=1;var t=AG(),e=Phe(),r=qhe(),n=Zw(),i=r(function(a,o){if(a==null)return[];var s=o.length;return s>1&&n(a,o[0],o[1])?o=[]:s>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return cD=i,cD}var zhe=Uhe();const bM=pr(zhe);function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function gN(){return gN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gN.apply(this,arguments)}function Vhe(t,e){return Xhe(t)||Khe(t,e)||Ghe(t,e)||Hhe()}function Hhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ghe(t,e){if(t){if(typeof t=="string")return g6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g6(t,e)}}function g6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Khe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Xhe(t){if(Array.isArray(t))return t}function y6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y6(Object(r),!0).forEach(function(n){Whe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Whe(t,e,r){return e=Yhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yhe(t){var e=Qhe(t,"string");return Tv(e)=="symbol"?e:e+""}function Qhe(t,e){if(Tv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zhe(t){return Array.isArray(t)&&$n(t[0])&&$n(t[1])?t.join(" ~ "):t}var Jhe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,f=e.payload,d=e.formatter,p=e.itemSorter,m=e.wrapperClassName,y=e.labelClassName,g=e.label,b=e.labelFormatter,E=e.accessibilityLayer,O=E===void 0?!1:E,A=function(){if(f&&f.length){var P={padding:0,margin:0},k=(p?bM(f,p):f).map(function(q,U){if(q.type==="none")return null;var F=fD({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},s),V=q.formatter||d||Zhe,Z=q.value,H=q.name,z=Z,J=H;if(V&&z!=null&&J!=null){var $=V(Z,H,q,U,f);if(Array.isArray($)){var Q=Vhe($,2);z=Q[0],J=Q[1]}else z=$}return xe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:F},$n(J)?xe.createElement("span",{className:"recharts-tooltip-item-name"},J):null,$n(J)?xe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,xe.createElement("span",{className:"recharts-tooltip-item-value"},z),xe.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return xe.createElement("ul",{className:"recharts-tooltip-item-list",style:P},k)}return null},S=fD({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=fD({margin:0},u),_=!$t(g),T=_?g:"",N=Ht("recharts-default-tooltip",m),C=Ht("recharts-tooltip-label",y);_&&b&&f!==void 0&&f!==null&&(T=b(g,f));var R=O?{role:"status","aria-live":"assertive"}:{};return xe.createElement("div",gN({className:N,style:S},R),xe.createElement("p",{className:C,style:x},xe.isValidElement(T)?T:"".concat(T)),A())};function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function y0(t,e,r){return e=ede(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ede(t){var e=tde(t,"string");return Dv(e)=="symbol"?e:e+""}function tde(t,e){if(Dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Om="recharts-tooltip-wrapper",rde={visibility:"hidden"};function nde(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ht(Om,y0(y0(y0(y0({},"".concat(Om,"-right"),tt(r)&&e&&tt(e.x)&&r>=e.x),"".concat(Om,"-left"),tt(r)&&e&&tt(e.x)&&r<e.x),"".concat(Om,"-bottom"),tt(n)&&e&&tt(e.y)&&n>=e.y),"".concat(Om,"-top"),tt(n)&&e&&tt(e.y)&&n<e.y))}function b6(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&tt(a[n]))return a[n];var f=r[n]-s-i,d=r[n]+i;if(e[n])return o[n]?f:d;if(o[n]){var p=f,m=l[n];return p<m?Math.max(d,l[n]):Math.max(f,l[n])}var y=d+s,g=l[n]+u;return y>g?Math.max(f,l[n]):Math.max(d,l[n])}function ide(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function ade(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=b6({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=b6({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=ide({translateX:f,translateY:d,useTranslate3d:s})):u=rde,{cssProperties:u,cssClasses:nde({translateX:f,translateY:d,coordinate:r})}}function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function w6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(r),!0).forEach(function(n){bN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ode(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,NG(n.key),n)}}function ude(t,e,r){return e&&sde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lde(t,e,r){return e=Qb(e),cde(t,DG()?Reflect.construct(e,r||[],Qb(t).constructor):e.apply(t,r))}function cde(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fde(t)}function fde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DG=function(){return!!t})()}function Qb(t){return Qb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qb(t)}function hde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yN(t,e)}function yN(t,e){return yN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yN(t,e)}function bN(t,e,r){return e=NG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NG(t){var e=dde(t,"string");return Dd(e)=="symbol"?e:e+""}function dde(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _6=1,pde=(function(t){function e(){var r;ode(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=lde(this,e,[].concat(i)),bN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),bN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return hde(e,t),ude(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>_6||Math.abs(n.height-this.state.lastBoundingBox.height)>_6)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,f=i.coordinate,d=i.hasPayload,p=i.isAnimationActive,m=i.offset,y=i.position,g=i.reverseDirection,b=i.useTranslate3d,E=i.viewBox,O=i.wrapperStyle,A=ade({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:m,position:y,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:E}),S=A.cssClasses,x=A.cssProperties,_=x6(x6({transition:p&&a?"transform ".concat(s,"ms ").concat(l):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},O);return xe.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(N){n.wrapperNode=N}},u)}}])})(Ee.PureComponent),mde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Of={isSsr:mde()};function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function A6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(r),!0).forEach(function(n){wM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OG(n.key),n)}}function yde(t,e,r){return e&&gde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bde(t,e,r){return e=Zb(e),wde(t,CG()?Reflect.construct(e,r||[],Zb(t).constructor):e.apply(t,r))}function wde(t,e){if(e&&(Nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xde(t)}function xde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CG=function(){return!!t})()}function Zb(t){return Zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zb(t)}function _de(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wN(t,e)}function wN(t,e){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wN(t,e)}function wM(t,e,r){return e=OG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OG(t){var e=Ade(t,"string");return Nd(e)=="symbol"?e:e+""}function Ade(t,e){if(Nd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ede(t){return t.dataKey}function Sde(t,e){return xe.isValidElement(t)?xe.cloneElement(t,e):typeof t=="function"?xe.createElement(t,e):xe.createElement(Jhe,e)}var Ji=(function(t){function e(){return vde(this,e),bde(this,e,arguments)}return _de(e,t),yde(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,f=i.coordinate,d=i.filterNull,p=i.isAnimationActive,m=i.offset,y=i.payload,g=i.payloadUniqBy,b=i.position,E=i.reverseDirection,O=i.useTranslate3d,A=i.viewBox,S=i.wrapperStyle,x=y??[];d&&x.length&&(x=wG(y.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),g,Ede));var _=x.length>0;return xe.createElement(pde,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:p,active:a,coordinate:f,hasPayload:_,offset:m,position:b,reverseDirection:E,useTranslate3d:O,viewBox:A,wrapperStyle:S},Sde(u,E6(E6({},this.props),{},{payload:x})))}}])})(Ee.PureComponent);wM(Ji,"displayName","Tooltip");wM(Ji,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Of.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hD,S6;function Tde(){if(S6)return hD;S6=1;var t=Cs(),e=function(){return t.Date.now()};return hD=e,hD}var dD,T6;function Dde(){if(T6)return dD;T6=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return dD=e,dD}var pD,D6;function Nde(){if(D6)return pD;D6=1;var t=Dde(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return pD=r,pD}var mD,N6;function MG(){if(N6)return mD;N6=1;var t=Nde(),e=Kl(),r=up(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var d=a.test(u);return d||o.test(u)?s(u.slice(2),d?2:8):i.test(u)?n:+u}return mD=l,mD}var vD,C6;function Cde(){if(C6)return vD;C6=1;var t=Kl(),e=Tde(),r=MG(),n="Expected a function",i=Math.max,a=Math.min;function o(s,l,u){var f,d,p,m,y,g,b=0,E=!1,O=!1,A=!0;if(typeof s!="function")throw new TypeError(n);l=r(l)||0,t(u)&&(E=!!u.leading,O="maxWait"in u,p=O?i(r(u.maxWait)||0,l):p,A="trailing"in u?!!u.trailing:A);function S(k){var q=f,U=d;return f=d=void 0,b=k,m=s.apply(U,q),m}function x(k){return b=k,y=setTimeout(N,l),E?S(k):m}function _(k){var q=k-g,U=k-b,F=l-q;return O?a(F,p-U):F}function T(k){var q=k-g,U=k-b;return g===void 0||q>=l||q<0||O&&U>=p}function N(){var k=e();if(T(k))return C(k);y=setTimeout(N,_(k))}function C(k){return y=void 0,A&&f?S(k):(f=d=void 0,m)}function R(){y!==void 0&&clearTimeout(y),b=0,f=g=d=y=void 0}function I(){return y===void 0?m:C(e())}function P(){var k=e(),q=T(k);if(f=arguments,d=this,g=k,q){if(y===void 0)return x(g);if(O)return clearTimeout(y),y=setTimeout(N,l),S(g)}return y===void 0&&(y=setTimeout(N,l)),m}return P.cancel=R,P.flush=I,P}return vD=o,vD}var gD,O6;function Ode(){if(O6)return gD;O6=1;var t=Cde(),e=Kl(),r="Expected a function";function n(i,a,o){var s=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(s="leading"in o?!!o.leading:s,l="trailing"in o?!!o.trailing:l),t(i,a,{leading:s,maxWait:a,trailing:l})}return gD=n,gD}var Mde=Ode();const IG=pr(Mde);function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function M6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(r),!0).forEach(function(n){Ide(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ide(t,e,r){return e=Rde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rde(t){var e=Pde(t,"string");return Nv(e)=="symbol"?e:e+""}function Pde(t,e){if(Nv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bde(t,e){return Lde(t)||$de(t,e)||Fde(t,e)||kde()}function kde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fde(t,e){if(t){if(typeof t=="string")return I6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I6(t,e)}}function I6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $de(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Lde(t){if(Array.isArray(t))return t}var Xh=Ee.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,f=u===void 0?0:u,d=t.minHeight,p=t.maxHeight,m=t.children,y=t.debounce,g=y===void 0?0:y,b=t.id,E=t.className,O=t.onResize,A=t.style,S=A===void 0?{}:A,x=Ee.useRef(null),_=Ee.useRef();_.current=O,Ee.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var T=Ee.useState({containerWidth:i.width,containerHeight:i.height}),N=Bde(T,2),C=N[0],R=N[1],I=Ee.useCallback(function(k,q){R(function(U){var F=Math.round(k),V=Math.round(q);return U.containerWidth===F&&U.containerHeight===V?U:{containerWidth:F,containerHeight:V}})},[]);Ee.useEffect(function(){var k=function(H){var z,J=H[0].contentRect,$=J.width,Q=J.height;I($,Q),(z=_.current)===null||z===void 0||z.call(_,$,Q)};g>0&&(k=IG(k,g,{trailing:!0,leading:!1}));var q=new ResizeObserver(k),U=x.current.getBoundingClientRect(),F=U.width,V=U.height;return I(F,V),q.observe(x.current),function(){q.disconnect()}},[I,g]);var P=Ee.useMemo(function(){var k=C.containerWidth,q=C.containerHeight;if(k<0||q<0)return null;Io(Wc(o)||Wc(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Io(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=Wc(o)?k:o,F=Wc(l)?q:l;r&&r>0&&(U?F=U/r:F&&(U=F*r),p&&F>p&&(F=p)),Io(U>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,F,o,l,f,d,r);var V=!Array.isArray(m)&&xu(m.type).endsWith("Chart");return xe.Children.map(m,function(Z){return xe.isValidElement(Z)?Ee.cloneElement(Z,b0({width:U,height:F},V?{style:b0({height:"100%",width:"100%",maxHeight:F,maxWidth:U},Z.props.style)}:{})):Z})},[r,m,l,p,d,f,C,o]);return xe.createElement("div",{id:b?"".concat(b):void 0,className:Ht("recharts-responsive-container",E),style:b0(b0({},S),{},{width:o,height:l,minWidth:f,minHeight:d,maxHeight:p}),ref:x},P)}),Do=function(e){return null};Do.displayName="Cell";function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function R6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R6(Object(r),!0).forEach(function(n){jde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jde(t,e,r){return e=qde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qde(t){var e=Ude(t,"string");return Cv(e)=="symbol"?e:e+""}function Ude(t,e){if(Cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ph={widthCache:{},cacheCount:0},zde=2e3,Vde={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},P6="recharts_measurement_span";function Hde(t){var e=xN({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var iv=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Of.isSsr)return{width:0,height:0};var n=Hde(r),i=JSON.stringify({text:e,copyStyle:n});if(Ph.widthCache[i])return Ph.widthCache[i];try{var a=document.getElementById(P6);a||(a=document.createElement("span"),a.setAttribute("id",P6),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=xN(xN({},Vde),n);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return Ph.widthCache[i]=l,++Ph.cacheCount>zde&&(Ph.cacheCount=0,Ph.widthCache={}),l}catch{return{width:0,height:0}}},Gde=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function Jb(t,e){return Yde(t)||Wde(t,e)||Xde(t,e)||Kde()}function Kde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xde(t,e){if(t){if(typeof t=="string")return B6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B6(t,e)}}function B6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yde(t){if(Array.isArray(t))return t}function Qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jde(n.key),n)}}function Zde(t,e,r){return e&&k6(t.prototype,e),r&&k6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jde(t){var e=epe(t,"string");return Ov(e)=="symbol"?e:e+""}function epe(t,e){if(Ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var F6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,rpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,RG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},npe=Object.keys(RG),Qh="NaN";function ipe(t,e){return t*RG[e]}var w0=(function(){function t(e,r){Qde(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!tpe.test(r)&&(this.num=NaN,this.unit=""),npe.includes(r)&&(this.num=ipe(e,r),this.unit="px")}return Zde(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=rpe.exec(r))!==null&&n!==void 0?n:[],a=Jb(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])})();function PG(t){if(t.includes(Qh))return Qh;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=F6.exec(e))!==null&&r!==void 0?r:[],i=Jb(n,4),a=i[1],o=i[2],s=i[3],l=w0.parse(a??""),u=w0.parse(s??""),f=o==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Qh;e=e.replace(F6,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,p=(d=$6.exec(e))!==null&&d!==void 0?d:[],m=Jb(p,4),y=m[1],g=m[2],b=m[3],E=w0.parse(y??""),O=w0.parse(b??""),A=g==="+"?E.add(O):E.subtract(O);if(A.isNaN())return Qh;e=e.replace($6,A.toString())}return e}var L6=/\(([^()]*)\)/;function ape(t){for(var e=t;e.includes("(");){var r=L6.exec(e),n=Jb(r,2),i=n[1];e=e.replace(L6,PG(i))}return e}function ope(t){var e=t.replace(/\s+/g,"");return e=ape(e),e=PG(e),e}function spe(t){try{return ope(t)}catch{return Qh}}function yD(t){var e=spe(t.slice(5,-1));return e===Qh?"":e}var upe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lpe=["dx","dy","angle","className","breakAll"];function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_N.apply(this,arguments)}function j6(t,e){if(t==null)return{};var r=cpe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function q6(t,e){return ppe(t)||dpe(t,e)||hpe(t,e)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hpe(t,e){if(t){if(typeof t=="string")return U6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U6(t,e)}}function U6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ppe(t){if(Array.isArray(t))return t}var BG=/[ \f\n\r\t\v\u2028\u2029]+/,kG=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];$t(r)||(n?a=r.toString().split(""):a=r.toString().split(BG));var o=a.map(function(l){return{word:l,width:iv(l,i).width}}),s=n?0:iv("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},mpe=function(e,r,n,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,f=tt(o),d=s,p=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(F,V){var Z=V.word,H=V.width,z=F[F.length-1];if(z&&(i==null||a||z.width+H+n<Number(i)))z.words.push(Z),z.width+=H+n;else{var J={words:[Z],width:H};F.push(J)}return F},[])},m=p(r),y=function(U){return U.reduce(function(F,V){return F.width>V.width?F:V})};if(!f)return m;for(var g="",b=function(U){var F=d.slice(0,U),V=kG({breakAll:u,style:l,children:F+g}).wordsWithComputedWidth,Z=p(V),H=Z.length>o||y(Z).width>Number(i);return[H,Z]},E=0,O=d.length-1,A=0,S;E<=O&&A<=d.length-1;){var x=Math.floor((E+O)/2),_=x-1,T=b(_),N=q6(T,2),C=N[0],R=N[1],I=b(x),P=q6(I,1),k=P[0];if(!C&&!k&&(E=x+1),C&&k&&(O=x-1),!C&&k){S=R;break}A++}return S||m},z6=function(e){var r=$t(e)?[]:e.toString().split(BG);return[{words:r}]},vpe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((r||n)&&!Of.isSsr){var l,u,f=kG({breakAll:o,children:i,style:a});if(f){var d=f.wordsWithComputedWidth,p=f.spaceWidth;l=d,u=p}else return z6(i);return mpe({breakAll:o,children:i,maxLines:s,style:a},l,u,r,n)}return z6(i)},V6="#808080",gf=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,f=e.scaleToFit,d=f===void 0?!1:f,p=e.textAnchor,m=p===void 0?"start":p,y=e.verticalAnchor,g=y===void 0?"end":y,b=e.fill,E=b===void 0?V6:b,O=j6(e,upe),A=Ee.useMemo(function(){return vpe({breakAll:O.breakAll,children:O.children,maxLines:O.maxLines,scaleToFit:d,style:O.style,width:O.width})},[O.breakAll,O.children,O.maxLines,d,O.style,O.width]),S=O.dx,x=O.dy,_=O.angle,T=O.className,N=O.breakAll,C=j6(O,lpe);if(!$n(n)||!$n(a))return null;var R=n+(tt(S)?S:0),I=a+(tt(x)?x:0),P;switch(g){case"start":P=yD("calc(".concat(u,")"));break;case"middle":P=yD("calc(".concat((A.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:P=yD("calc(".concat(A.length-1," * -").concat(s,")"));break}var k=[];if(d){var q=A[0].width,U=O.width;k.push("scale(".concat((tt(U)?U/q:1)/q,")"))}return _&&k.push("rotate(".concat(_,", ").concat(R,", ").concat(I,")")),k.length&&(C.transform=k.join(" ")),xe.createElement("text",_N({},bt(C,!0),{x:R,y:I,className:Ht("recharts-text",T),textAnchor:m,fill:E.includes("url")?V6:E}),A.map(function(F,V){var Z=F.words.join(N?"":" ");return xe.createElement("tspan",{x:R,dy:V===0?P:s,key:"".concat(Z,"-").concat(V)},Z)}))};function Rl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xM(t){let e,r,n;t.length!==2?(e=Rl,r=(s,l)=>Rl(t(s),l),n=(s,l)=>t(s)-l):(e=t===Rl||t===gpe?t:ype,r=t,n=t);function i(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const d=u+f>>>1;r(s[d],l)<0?u=d+1:f=d}while(u<f)}return u}function a(s,l,u=0,f=s.length){if(u<f){if(e(l,l)!==0)return f;do{const d=u+f>>>1;r(s[d],l)<=0?u=d+1:f=d}while(u<f)}return u}function o(s,l,u=0,f=s.length){const d=i(s,l,u,f-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function ype(){return 0}function FG(t){return t===null?NaN:+t}function*bpe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const wpe=xM(Rl),Sg=wpe.right;xM(FG).center;class H6 extends Map{constructor(e,r=Ape){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(G6(this,e))}has(e){return super.has(G6(this,e))}set(e,r){return super.set(xpe(this,e),r)}delete(e){return super.delete(_pe(this,e))}}function G6({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function xpe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function _pe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Ape(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Epe(t=Rl){if(t===Rl)return $G;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function $G(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Spe=Math.sqrt(50),Tpe=Math.sqrt(10),Dpe=Math.sqrt(2);function e1(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Spe?10:a>=Tpe?5:a>=Dpe?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=r&&r<2?e1(t,e,r*2):[s,l,u]}function AN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?e1(e,t,r):e1(t,e,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function EN(t,e,r){return e=+e,t=+t,r=+r,e1(t,e,r)[2]}function SN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?EN(e,t,r):EN(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function K6(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function X6(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LG(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?$G:Epe(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,f=Math.log(l),d=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(e-u*d/l+p)),y=Math.min(n,Math.floor(e+(l-u)*d/l+p));LG(t,e,m,y,i)}const a=t[e];let o=r,s=n;for(Mm(t,r,e),i(t[n],a)>0&&Mm(t,r,n);o<s;){for(Mm(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[r],a)===0?Mm(t,r,s):(++s,Mm(t,s,n)),s<=e&&(r=s+1),e<=s&&(n=s-1)}return t}function Mm(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Npe(t,e,r){if(t=Float64Array.from(bpe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return X6(t);if(e>=1)return K6(t);var n,i=(n-1)*e,a=Math.floor(i),o=K6(LG(t,a).subarray(0,a+1)),s=X6(t.subarray(a+1));return o+(s-o)*(i-a)}}function Cpe(t,e,r=FG){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),s=+r(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Ope(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function po(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Fu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const TN=Symbol("implicit");function _M(){var t=new H6,e=[],r=[],n=TN;function i(a){let o=t.get(a);if(o===void 0){if(n!==TN)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new H6;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return _M(e,r).unknown(n)},po.apply(i,arguments),i}function Mv(){var t=_M().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,s=!1,l=0,u=0,f=.5;delete t.unknown;function d(){var p=e().length,m=i<n,y=m?i:n,g=m?n:i;a=(g-y)/Math.max(1,p-l+u*2),s&&(a=Math.floor(a)),y+=(g-y-a*(p-l))*f,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var b=Ope(p).map(function(E){return y+a*E});return r(m?b.reverse():b)}return t.domain=function(p){return arguments.length?(e(p),d()):e()},t.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},t.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(p){return arguments.length?(s=!!p,d()):s},t.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},t.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),d()):f},t.copy=function(){return Mv(e(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},po.apply(d(),arguments)}function jG(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jG(e())},t}function av(){return jG(Mv.apply(null,arguments).paddingInner(1))}function AM(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function qG(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Tg(){}var Iv=.7,t1=1/Iv,cd="\\s*([+-]?\\d+)\\s*",Rv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mpe=/^#([0-9a-f]{3,8})$/,Ipe=new RegExp(`^rgb\\(${cd},${cd},${cd}\\)$`),Rpe=new RegExp(`^rgb\\(${bs},${bs},${bs}\\)$`),Ppe=new RegExp(`^rgba\\(${cd},${cd},${cd},${Rv}\\)$`),Bpe=new RegExp(`^rgba\\(${bs},${bs},${bs},${Rv}\\)$`),kpe=new RegExp(`^hsl\\(${Rv},${bs},${bs}\\)$`),Fpe=new RegExp(`^hsla\\(${Rv},${bs},${bs},${Rv}\\)$`),W6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AM(Tg,Pv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Y6,formatHex:Y6,formatHex8:$pe,formatHsl:Lpe,formatRgb:Q6,toString:Q6});function Y6(){return this.rgb().formatHex()}function $pe(){return this.rgb().formatHex8()}function Lpe(){return UG(this).formatHsl()}function Q6(){return this.rgb().formatRgb()}function Pv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Mpe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Z6(e):r===3?new ia(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?x0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?x0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ipe.exec(t))?new ia(e[1],e[2],e[3],1):(e=Rpe.exec(t))?new ia(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ppe.exec(t))?x0(e[1],e[2],e[3],e[4]):(e=Bpe.exec(t))?x0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kpe.exec(t))?t5(e[1],e[2]/100,e[3]/100,1):(e=Fpe.exec(t))?t5(e[1],e[2]/100,e[3]/100,e[4]):W6.hasOwnProperty(t)?Z6(W6[t]):t==="transparent"?new ia(NaN,NaN,NaN,0):null}function Z6(t){return new ia(t>>16&255,t>>8&255,t&255,1)}function x0(t,e,r,n){return n<=0&&(t=e=r=NaN),new ia(t,e,r,n)}function jpe(t){return t instanceof Tg||(t=Pv(t)),t?(t=t.rgb(),new ia(t.r,t.g,t.b,t.opacity)):new ia}function DN(t,e,r,n){return arguments.length===1?jpe(t):new ia(t,e,r,n??1)}function ia(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}AM(ia,DN,qG(Tg,{brighter(t){return t=t==null?t1:Math.pow(t1,t),new ia(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Iv:Math.pow(Iv,t),new ia(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ia(sf(this.r),sf(this.g),sf(this.b),r1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:J6,formatHex:J6,formatHex8:qpe,formatRgb:e5,toString:e5}));function J6(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}`}function qpe(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}${Yc((isNaN(this.opacity)?1:this.opacity)*255)}`}function e5(){const t=r1(this.opacity);return`${t===1?"rgb(":"rgba("}${sf(this.r)}, ${sf(this.g)}, ${sf(this.b)}${t===1?")":`, ${t})`}`}function r1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function sf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yc(t){return t=sf(t),(t<16?"0":"")+t.toString(16)}function t5(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Co(t,e,r,n)}function UG(t){if(t instanceof Co)return new Co(t.h,t.s,t.l,t.opacity);if(t instanceof Tg||(t=Pv(t)),!t)return new Co;if(t instanceof Co)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-e)/s+2:o=(e-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Co(o,s,l,t.opacity)}function Upe(t,e,r,n){return arguments.length===1?UG(t):new Co(t,e,r,n??1)}function Co(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}AM(Co,Upe,qG(Tg,{brighter(t){return t=t==null?t1:Math.pow(t1,t),new Co(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Iv:Math.pow(Iv,t),new Co(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ia(bD(t>=240?t-240:t+120,i,n),bD(t,i,n),bD(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Co(r5(this.h),_0(this.s),_0(this.l),r1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=r1(this.opacity);return`${t===1?"hsl(":"hsla("}${r5(this.h)}, ${_0(this.s)*100}%, ${_0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function r5(t){return t=(t||0)%360,t<0?t+360:t}function _0(t){return Math.max(0,Math.min(1,t||0))}function bD(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const EM=t=>()=>t;function zpe(t,e){return function(r){return t+r*e}}function Vpe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Hpe(t){return(t=+t)==1?zG:function(e,r){return r-e?Vpe(e,r,t):EM(isNaN(e)?r:e)}}function zG(t,e){var r=e-t;return r?zpe(t,r):EM(isNaN(t)?e:t)}const n5=(function t(e){var r=Hpe(e);function n(i,a){var o=r((i=DN(i)).r,(a=DN(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=zG(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return n.gamma=t,n})(1);function Gpe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Kpe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xpe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=hp(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function Wpe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function n1(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Ype(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=hp(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var NN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wD=new RegExp(NN.source,"g");function Qpe(t){return function(){return t}}function Zpe(t){return function(e){return t(e)+""}}function Jpe(t,e){var r=NN.lastIndex=wD.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(n=NN.exec(t))&&(i=wD.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:n1(n,i)})),r=wD.lastIndex;return r<e.length&&(a=e.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Zpe(l[0].x):Qpe(e):(e=l.length,function(u){for(var f=0,d;f<e;++f)s[(d=l[f]).i]=d.x(u);return s.join("")})}function hp(t,e){var r=typeof e,n;return e==null||r==="boolean"?EM(e):(r==="number"?n1:r==="string"?(n=Pv(e))?(e=n,n5):Jpe:e instanceof Pv?n5:e instanceof Date?Wpe:Kpe(e)?Gpe:Array.isArray(e)?Xpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ype:n1)(t,e)}function SM(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function eme(t,e){e===void 0&&(e=t,t=hp);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function tme(t){return function(){return t}}function i1(t){return+t}var i5=[0,1];function ji(t){return t}function CN(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:tme(isNaN(e)?NaN:.5)}function rme(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function nme(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=CN(i,n),a=r(o,a)):(n=CN(n,i),a=r(a,o)),function(s){return a(n(s))}}function ime(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=CN(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(s){var l=Sg(t,s,1,n)-1;return a[l](i[l](s))}}function Dg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Jw(){var t=i5,e=i5,r=hp,n,i,a,o=ji,s,l,u;function f(){var p=Math.min(t.length,e.length);return o!==ji&&(o=rme(t[0],t[p-1])),s=p>2?ime:nme,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=s(t.map(n),e,r)))(n(o(p)))}return d.invert=function(p){return o(i((u||(u=s(e,t.map(n),n1)))(p)))},d.domain=function(p){return arguments.length?(t=Array.from(p,i1),f()):t.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),r=SM,f()},d.clamp=function(p){return arguments.length?(o=p?!0:ji,f()):o!==ji},d.interpolate=function(p){return arguments.length?(r=p,f()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return n=p,i=m,f()}}function TM(){return Jw()(ji,ji)}function ame(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function a1(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Cd(t){return t=a1(Math.abs(t)),t?t[1]:NaN}function ome(t,e){return function(r,n){for(var i=r.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function sme(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ume=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bv(t){if(!(e=ume.exec(t)))throw new Error("invalid format: "+t);var e;return new DM({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Bv.prototype=DM.prototype;function DM(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}DM.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lme(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var VG;function cme(t,e){var r=a1(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(VG=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+a1(t,Math.max(0,e+a-1))[0]}function a5(t,e){var r=a1(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const o5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ame,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>a5(t*100,e),r:a5,s:cme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function s5(t){return t}var u5=Array.prototype.map,l5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fme(t){var e=t.grouping===void 0||t.thousands===void 0?s5:ome(u5.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?s5:sme(u5.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=Bv(d);var p=d.fill,m=d.align,y=d.sign,g=d.symbol,b=d.zero,E=d.width,O=d.comma,A=d.precision,S=d.trim,x=d.type;x==="n"?(O=!0,x="g"):o5[x]||(A===void 0&&(A=12),S=!0,x="g"),(b||p==="0"&&m==="=")&&(b=!0,p="0",m="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",T=g==="$"?n:/[%p]/.test(x)?o:"",N=o5[x],C=/[defgprs%]/.test(x);A=A===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function R(I){var P=_,k=T,q,U,F;if(x==="c")k=N(I)+k,I="";else{I=+I;var V=I<0||1/I<0;if(I=isNaN(I)?l:N(Math.abs(I),A),S&&(I=lme(I)),V&&+I==0&&y!=="+"&&(V=!1),P=(V?y==="("?y:s:y==="-"||y==="("?"":y)+P,k=(x==="s"?l5[8+VG/3]:"")+k+(V&&y==="("?")":""),C){for(q=-1,U=I.length;++q<U;)if(F=I.charCodeAt(q),48>F||F>57){k=(F===46?i+I.slice(q+1):I.slice(q))+k,I=I.slice(0,q);break}}}O&&!b&&(I=e(I,1/0));var Z=P.length+I.length+k.length,H=Z<E?new Array(E-Z+1).join(p):"";switch(O&&b&&(I=e(H+I,H.length?E-k.length:1/0),H=""),m){case"<":I=P+I+k+H;break;case"=":I=P+H+I+k;break;case"^":I=H.slice(0,Z=H.length>>1)+P+I+k+H.slice(Z);break;default:I=H+P+I+k;break}return a(I)}return R.toString=function(){return d+""},R}function f(d,p){var m=u((d=Bv(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(Cd(p)/3)))*3,g=Math.pow(10,-y),b=l5[8+y/3];return function(E){return m(g*E)+b}}return{format:u,formatPrefix:f}}var A0,NM,HG;hme({thousands:",",grouping:[3],currency:["$",""]});function hme(t){return A0=fme(t),NM=A0.format,HG=A0.formatPrefix,A0}function dme(t){return Math.max(0,-Cd(Math.abs(t)))}function pme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cd(e)/3)))*3-Cd(Math.abs(t)))}function mme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Cd(e)-Cd(t))+1}function GG(t,e,r,n){var i=SN(t,e,r),a;switch(n=Bv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=pme(i,o))&&(n.precision=a),HG(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=mme(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=dme(i))&&(n.precision=a-(n.type==="%")*2);break}}return NM(n)}function Xl(t){var e=t.domain;return t.ticks=function(r){var n=e();return AN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return GG(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,f=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);f-- >0;){if(u=EN(o,s,r),u===l)return n[i]=o,n[a]=s,e(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function o1(){var t=TM();return t.copy=function(){return Dg(t,o1())},po.apply(t,arguments),Xl(t)}function KG(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,i1),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return KG(t).unknown(e)},t=arguments.length?Array.from(t,i1):[0,1],Xl(r)}function XG(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function c5(t){return Math.log(t)}function f5(t){return Math.exp(t)}function vme(t){return-Math.log(-t)}function gme(t){return-Math.exp(-t)}function yme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function bme(t){return t===10?yme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function wme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function h5(t){return(e,r)=>-t(-e,r)}function CM(t){const e=t(c5,f5),r=e.domain;let n=10,i,a;function o(){return i=wme(n),a=bme(n),r()[0]<0?(i=h5(i),a=h5(a),t(vme,gme)):t(c5,f5),e}return e.base=function(s){return arguments.length?(n=+s,o()):n},e.domain=function(s){return arguments.length?(r(s),o()):r()},e.ticks=s=>{const l=r();let u=l[0],f=l[l.length-1];const d=f<u;d&&([u,f]=[f,u]);let p=i(u),m=i(f),y,g;const b=s==null?10:+s;let E=[];if(!(n%1)&&m-p<b){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(y=1;y<n;++y)if(g=p<0?y/a(-p):y*a(p),!(g<u)){if(g>f)break;E.push(g)}}else for(;p<=m;++p)for(y=n-1;y>=1;--y)if(g=p>0?y/a(-p):y*a(p),!(g<u)){if(g>f)break;E.push(g)}E.length*2<b&&(E=AN(u,f,b))}else E=AN(p,m,Math.min(m-p,b)).map(a);return d?E.reverse():E},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Bv(l)).precision==null&&(l.trim=!0),l=NM(l)),s===1/0)return l;const u=Math.max(1,n*s/e.ticks().length);return f=>{let d=f/a(Math.round(i(f)));return d*n<n-.5&&(d*=n),d<=u?l(f):""}},e.nice=()=>r(XG(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function WG(){const t=CM(Jw()).domain([1,10]);return t.copy=()=>Dg(t,WG()).base(t.base()),po.apply(t,arguments),t}function d5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function p5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function OM(t){var e=1,r=t(d5(e),p5(e));return r.constant=function(n){return arguments.length?t(d5(e=+n),p5(e)):e},Xl(r)}function YG(){var t=OM(Jw());return t.copy=function(){return Dg(t,YG()).constant(t.constant())},po.apply(t,arguments)}function m5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function xme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _me(t){return t<0?-t*t:t*t}function MM(t){var e=t(ji,ji),r=1;function n(){return r===1?t(ji,ji):r===.5?t(xme,_me):t(m5(r),m5(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Xl(e)}function IM(){var t=MM(Jw());return t.copy=function(){return Dg(t,IM()).exponent(t.exponent())},po.apply(t,arguments),t}function Ame(){return IM.apply(null,arguments).exponent(.5)}function v5(t){return Math.sign(t)*t*t}function Eme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function QG(){var t=TM(),e=[0,1],r=!1,n;function i(a){var o=Eme(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(v5(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,i1)).map(v5)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return QG(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},po.apply(i,arguments),Xl(i)}function ZG(){var t=[],e=[],r=[],n;function i(){var o=0,s=Math.max(1,e.length);for(r=new Array(s-1);++o<s;)r[o-1]=Cpe(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:e[Sg(r,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:t[0],s<r.length?r[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Rl),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return ZG().domain(t).range(e).unknown(n)},po.apply(a,arguments)}function JG(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Sg(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return JG().domain([t,e]).range(i).unknown(a)},po.apply(Xl(o),arguments)}function eK(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[Sg(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eK().domain(t).range(e).unknown(r)},po.apply(i,arguments)}const xD=new Date,_D=new Date;function qn(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>qn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(xD.setTime(+a),_D.setTime(+o),t(xD),t(_D),Math.floor(r(xD,_D))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const s1=qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);s1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):s1);s1.range;const mu=1e3,so=mu*60,vu=so*60,Ou=vu*24,RM=Ou*7,g5=Ou*30,AD=Ou*365,Qc=qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*mu)},(t,e)=>(e-t)/mu,t=>t.getUTCSeconds());Qc.range;const PM=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mu)},(t,e)=>{t.setTime(+t+e*so)},(t,e)=>(e-t)/so,t=>t.getMinutes());PM.range;const BM=qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*so)},(t,e)=>(e-t)/so,t=>t.getUTCMinutes());BM.range;const kM=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mu-t.getMinutes()*so)},(t,e)=>{t.setTime(+t+e*vu)},(t,e)=>(e-t)/vu,t=>t.getHours());kM.range;const FM=qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vu)},(t,e)=>(e-t)/vu,t=>t.getUTCHours());FM.range;const Ng=qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*so)/Ou,t=>t.getDate()-1);Ng.range;const ex=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ou,t=>t.getUTCDate()-1);ex.range;const tK=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ou,t=>Math.floor(t/Ou));tK.range;function Mf(t){return qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*so)/RM)}const tx=Mf(0),u1=Mf(1),Sme=Mf(2),Tme=Mf(3),Od=Mf(4),Dme=Mf(5),Nme=Mf(6);tx.range;u1.range;Sme.range;Tme.range;Od.range;Dme.range;Nme.range;function If(t){return qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/RM)}const rx=If(0),l1=If(1),Cme=If(2),Ome=If(3),Md=If(4),Mme=If(5),Ime=If(6);rx.range;l1.range;Cme.range;Ome.range;Md.range;Mme.range;Ime.range;const $M=qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$M.range;const LM=qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());LM.range;const Mu=qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Mu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Mu.range;const Iu=qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Iu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Iu.range;function rK(t,e,r,n,i,a){const o=[[Qc,1,mu],[Qc,5,5*mu],[Qc,15,15*mu],[Qc,30,30*mu],[a,1,so],[a,5,5*so],[a,15,15*so],[a,30,30*so],[i,1,vu],[i,3,3*vu],[i,6,6*vu],[i,12,12*vu],[n,1,Ou],[n,2,2*Ou],[r,1,RM],[e,1,g5],[e,3,3*g5],[t,1,AD]];function s(u,f,d){const p=f<u;p&&([u,f]=[f,u]);const m=d&&typeof d.range=="function"?d:l(u,f,d),y=m?m.range(u,+f+1):[];return p?y.reverse():y}function l(u,f,d){const p=Math.abs(f-u)/d,m=xM(([,,b])=>b).right(o,p);if(m===o.length)return t.every(SN(u/AD,f/AD,d));if(m===0)return s1.every(Math.max(SN(u,f,d),1));const[y,g]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return y.every(g)}return[s,l]}const[Rme,Pme]=rK(Iu,LM,rx,tK,FM,BM),[Bme,kme]=rK(Mu,$M,tx,Ng,kM,PM);function ED(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function SD(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Im(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Fme(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Rm(i),f=Pm(i),d=Rm(a),p=Pm(a),m=Rm(o),y=Pm(o),g=Rm(s),b=Pm(s),E=Rm(l),O=Pm(l),A={a:V,A:Z,b:H,B:z,c:null,d:A5,e:A5,f:ove,g:vve,G:yve,H:nve,I:ive,j:ave,L:nK,m:sve,M:uve,p:J,q:$,Q:T5,s:D5,S:lve,u:cve,U:fve,V:hve,w:dve,W:pve,x:null,X:null,y:mve,Y:gve,Z:bve,"%":S5},S={a:Q,A:K,b:we,B:ge,c:null,d:E5,e:E5,f:Ave,g:Rve,G:Bve,H:wve,I:xve,j:_ve,L:aK,m:Eve,M:Sve,p:Ae,q:te,Q:T5,s:D5,S:Tve,u:Dve,U:Nve,V:Cve,w:Ove,W:Mve,x:null,X:null,y:Ive,Y:Pve,Z:kve,"%":S5},x={a:R,A:I,b:P,B:k,c:q,d:x5,e:x5,f:Jme,g:w5,G:b5,H:_5,I:_5,j:Wme,L:Zme,m:Xme,M:Yme,p:C,q:Kme,Q:tve,s:rve,S:Qme,u:Ume,U:zme,V:Vme,w:qme,W:Hme,x:U,X:F,y:w5,Y:b5,Z:Gme,"%":eve};A.x=_(r,A),A.X=_(n,A),A.c=_(e,A),S.x=_(r,S),S.X=_(n,S),S.c=_(e,S);function _(ee,ue){return function(ce){var se=[],Te=-1,pe=0,Ne=ee.length,je,Ke,Ue;for(ce instanceof Date||(ce=new Date(+ce));++Te<Ne;)ee.charCodeAt(Te)===37&&(se.push(ee.slice(pe,Te)),(Ke=y5[je=ee.charAt(++Te)])!=null?je=ee.charAt(++Te):Ke=je==="e"?" ":"0",(Ue=ue[je])&&(je=Ue(ce,Ke)),se.push(je),pe=Te+1);return se.push(ee.slice(pe,Te)),se.join("")}}function T(ee,ue){return function(ce){var se=Im(1900,void 0,1),Te=N(se,ee,ce+="",0),pe,Ne;if(Te!=ce.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(ue&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(pe=SD(Im(se.y,0,1)),Ne=pe.getUTCDay(),pe=Ne>4||Ne===0?l1.ceil(pe):l1(pe),pe=ex.offset(pe,(se.V-1)*7),se.y=pe.getUTCFullYear(),se.m=pe.getUTCMonth(),se.d=pe.getUTCDate()+(se.w+6)%7):(pe=ED(Im(se.y,0,1)),Ne=pe.getDay(),pe=Ne>4||Ne===0?u1.ceil(pe):u1(pe),pe=Ng.offset(pe,(se.V-1)*7),se.y=pe.getFullYear(),se.m=pe.getMonth(),se.d=pe.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),Ne="Z"in se?SD(Im(se.y,0,1)).getUTCDay():ED(Im(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(Ne+5)%7:se.w+se.U*7-(Ne+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,SD(se)):ED(se)}}function N(ee,ue,ce,se){for(var Te=0,pe=ue.length,Ne=ce.length,je,Ke;Te<pe;){if(se>=Ne)return-1;if(je=ue.charCodeAt(Te++),je===37){if(je=ue.charAt(Te++),Ke=x[je in y5?ue.charAt(Te++):je],!Ke||(se=Ke(ee,ce,se))<0)return-1}else if(je!=ce.charCodeAt(se++))return-1}return se}function C(ee,ue,ce){var se=u.exec(ue.slice(ce));return se?(ee.p=f.get(se[0].toLowerCase()),ce+se[0].length):-1}function R(ee,ue,ce){var se=m.exec(ue.slice(ce));return se?(ee.w=y.get(se[0].toLowerCase()),ce+se[0].length):-1}function I(ee,ue,ce){var se=d.exec(ue.slice(ce));return se?(ee.w=p.get(se[0].toLowerCase()),ce+se[0].length):-1}function P(ee,ue,ce){var se=E.exec(ue.slice(ce));return se?(ee.m=O.get(se[0].toLowerCase()),ce+se[0].length):-1}function k(ee,ue,ce){var se=g.exec(ue.slice(ce));return se?(ee.m=b.get(se[0].toLowerCase()),ce+se[0].length):-1}function q(ee,ue,ce){return N(ee,e,ue,ce)}function U(ee,ue,ce){return N(ee,r,ue,ce)}function F(ee,ue,ce){return N(ee,n,ue,ce)}function V(ee){return o[ee.getDay()]}function Z(ee){return a[ee.getDay()]}function H(ee){return l[ee.getMonth()]}function z(ee){return s[ee.getMonth()]}function J(ee){return i[+(ee.getHours()>=12)]}function $(ee){return 1+~~(ee.getMonth()/3)}function Q(ee){return o[ee.getUTCDay()]}function K(ee){return a[ee.getUTCDay()]}function we(ee){return l[ee.getUTCMonth()]}function ge(ee){return s[ee.getUTCMonth()]}function Ae(ee){return i[+(ee.getUTCHours()>=12)]}function te(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var ue=_(ee+="",A);return ue.toString=function(){return ee},ue},parse:function(ee){var ue=T(ee+="",!1);return ue.toString=function(){return ee},ue},utcFormat:function(ee){var ue=_(ee+="",S);return ue.toString=function(){return ee},ue},utcParse:function(ee){var ue=T(ee+="",!0);return ue.toString=function(){return ee},ue}}}var y5={"-":"",_:" ",0:"0"},ni=/^\s*\d+/,$me=/^%/,Lme=/[\\^$*+?|[\]().{}]/g;function dr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function jme(t){return t.replace(Lme,"\\$&")}function Rm(t){return new RegExp("^(?:"+t.map(jme).join("|")+")","i")}function Pm(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function qme(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Ume(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function zme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Vme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Hme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function b5(t,e,r){var n=ni.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function w5(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gme(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Kme(t,e,r){var n=ni.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Xme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function x5(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Wme(t,e,r){var n=ni.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function _5(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Yme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Qme(t,e,r){var n=ni.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Zme(t,e,r){var n=ni.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Jme(t,e,r){var n=ni.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function eve(t,e,r){var n=$me.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function tve(t,e,r){var n=ni.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function rve(t,e,r){var n=ni.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function A5(t,e){return dr(t.getDate(),e,2)}function nve(t,e){return dr(t.getHours(),e,2)}function ive(t,e){return dr(t.getHours()%12||12,e,2)}function ave(t,e){return dr(1+Ng.count(Mu(t),t),e,3)}function nK(t,e){return dr(t.getMilliseconds(),e,3)}function ove(t,e){return nK(t,e)+"000"}function sve(t,e){return dr(t.getMonth()+1,e,2)}function uve(t,e){return dr(t.getMinutes(),e,2)}function lve(t,e){return dr(t.getSeconds(),e,2)}function cve(t){var e=t.getDay();return e===0?7:e}function fve(t,e){return dr(tx.count(Mu(t)-1,t),e,2)}function iK(t){var e=t.getDay();return e>=4||e===0?Od(t):Od.ceil(t)}function hve(t,e){return t=iK(t),dr(Od.count(Mu(t),t)+(Mu(t).getDay()===4),e,2)}function dve(t){return t.getDay()}function pve(t,e){return dr(u1.count(Mu(t)-1,t),e,2)}function mve(t,e){return dr(t.getFullYear()%100,e,2)}function vve(t,e){return t=iK(t),dr(t.getFullYear()%100,e,2)}function gve(t,e){return dr(t.getFullYear()%1e4,e,4)}function yve(t,e){var r=t.getDay();return t=r>=4||r===0?Od(t):Od.ceil(t),dr(t.getFullYear()%1e4,e,4)}function bve(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dr(e/60|0,"0",2)+dr(e%60,"0",2)}function E5(t,e){return dr(t.getUTCDate(),e,2)}function wve(t,e){return dr(t.getUTCHours(),e,2)}function xve(t,e){return dr(t.getUTCHours()%12||12,e,2)}function _ve(t,e){return dr(1+ex.count(Iu(t),t),e,3)}function aK(t,e){return dr(t.getUTCMilliseconds(),e,3)}function Ave(t,e){return aK(t,e)+"000"}function Eve(t,e){return dr(t.getUTCMonth()+1,e,2)}function Sve(t,e){return dr(t.getUTCMinutes(),e,2)}function Tve(t,e){return dr(t.getUTCSeconds(),e,2)}function Dve(t){var e=t.getUTCDay();return e===0?7:e}function Nve(t,e){return dr(rx.count(Iu(t)-1,t),e,2)}function oK(t){var e=t.getUTCDay();return e>=4||e===0?Md(t):Md.ceil(t)}function Cve(t,e){return t=oK(t),dr(Md.count(Iu(t),t)+(Iu(t).getUTCDay()===4),e,2)}function Ove(t){return t.getUTCDay()}function Mve(t,e){return dr(l1.count(Iu(t)-1,t),e,2)}function Ive(t,e){return dr(t.getUTCFullYear()%100,e,2)}function Rve(t,e){return t=oK(t),dr(t.getUTCFullYear()%100,e,2)}function Pve(t,e){return dr(t.getUTCFullYear()%1e4,e,4)}function Bve(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Md(t):Md.ceil(t),dr(t.getUTCFullYear()%1e4,e,4)}function kve(){return"+0000"}function S5(){return"%"}function T5(t){return+t}function D5(t){return Math.floor(+t/1e3)}var Bh,sK,uK;Fve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Fve(t){return Bh=Fme(t),sK=Bh.format,Bh.parse,uK=Bh.utcFormat,Bh.utcParse,Bh}function $ve(t){return new Date(t)}function Lve(t){return t instanceof Date?+t:+new Date(+t)}function jM(t,e,r,n,i,a,o,s,l,u){var f=TM(),d=f.invert,p=f.domain,m=u(".%L"),y=u(":%S"),g=u("%I:%M"),b=u("%I %p"),E=u("%a %d"),O=u("%b %d"),A=u("%B"),S=u("%Y");function x(_){return(l(_)<_?m:s(_)<_?y:o(_)<_?g:a(_)<_?b:n(_)<_?i(_)<_?E:O:r(_)<_?A:S)(_)}return f.invert=function(_){return new Date(d(_))},f.domain=function(_){return arguments.length?p(Array.from(_,Lve)):p().map($ve)},f.ticks=function(_){var T=p();return t(T[0],T[T.length-1],_??10)},f.tickFormat=function(_,T){return T==null?x:u(T)},f.nice=function(_){var T=p();return(!_||typeof _.range!="function")&&(_=e(T[0],T[T.length-1],_??10)),_?p(XG(T,_)):f},f.copy=function(){return Dg(f,jM(t,e,r,n,i,a,o,s,l,u))},f}function jve(){return po.apply(jM(Bme,kme,Mu,$M,tx,Ng,kM,PM,Qc,sK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qve(){return po.apply(jM(Rme,Pme,Iu,LM,rx,ex,FM,BM,Qc,uK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nx(){var t=0,e=1,r,n,i,a,o=ji,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(p){var m,y;return arguments.length?([m,y]=p,o=d(m,y),u):[o(0),o(1)]}}return u.range=f(hp),u.rangeRound=f(SM),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(t),n=d(e),i=r===n?0:1/(n-r),u}}function Wl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function lK(){var t=Xl(nx()(ji));return t.copy=function(){return Wl(t,lK())},Fu.apply(t,arguments)}function cK(){var t=CM(nx()).domain([1,10]);return t.copy=function(){return Wl(t,cK()).base(t.base())},Fu.apply(t,arguments)}function fK(){var t=OM(nx());return t.copy=function(){return Wl(t,fK()).constant(t.constant())},Fu.apply(t,arguments)}function qM(){var t=MM(nx());return t.copy=function(){return Wl(t,qM()).exponent(t.exponent())},Fu.apply(t,arguments)}function Uve(){return qM.apply(null,arguments).exponent(.5)}function hK(){var t=[],e=ji;function r(n){if(n!=null&&!isNaN(n=+n))return e((Sg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Rl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Npe(t,a/n))},r.copy=function(){return hK(e).domain(t)},Fu.apply(r,arguments)}function ix(){var t=0,e=.5,r=1,n=1,i,a,o,s,l,u=ji,f,d=!1,p;function m(g){return isNaN(g=+g)?p:(g=.5+((g=+f(g))-a)*(n*g<n*a?s:l),u(d?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([t,e,r]=g,i=f(t=+t),a=f(e=+e),o=f(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m):[t,e,r]},m.clamp=function(g){return arguments.length?(d=!!g,m):d},m.interpolator=function(g){return arguments.length?(u=g,m):u};function y(g){return function(b){var E,O,A;return arguments.length?([E,O,A]=b,u=eme(g,[E,O,A]),m):[u(0),u(.5),u(1)]}}return m.range=y(hp),m.rangeRound=y(SM),m.unknown=function(g){return arguments.length?(p=g,m):p},function(g){return f=g,i=g(t),a=g(e),o=g(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function dK(){var t=Xl(ix()(ji));return t.copy=function(){return Wl(t,dK())},Fu.apply(t,arguments)}function pK(){var t=CM(ix()).domain([.1,1,10]);return t.copy=function(){return Wl(t,pK()).base(t.base())},Fu.apply(t,arguments)}function mK(){var t=OM(ix());return t.copy=function(){return Wl(t,mK()).constant(t.constant())},Fu.apply(t,arguments)}function UM(){var t=MM(ix());return t.copy=function(){return Wl(t,UM()).exponent(t.exponent())},Fu.apply(t,arguments)}function zve(){return UM.apply(null,arguments).exponent(.5)}const N5=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mv,scaleDiverging:dK,scaleDivergingLog:pK,scaleDivergingPow:UM,scaleDivergingSqrt:zve,scaleDivergingSymlog:mK,scaleIdentity:KG,scaleImplicit:TN,scaleLinear:o1,scaleLog:WG,scaleOrdinal:_M,scalePoint:av,scalePow:IM,scaleQuantile:ZG,scaleQuantize:JG,scaleRadial:QG,scaleSequential:lK,scaleSequentialLog:cK,scaleSequentialPow:qM,scaleSequentialQuantile:hK,scaleSequentialSqrt:Uve,scaleSequentialSymlog:fK,scaleSqrt:Ame,scaleSymlog:YG,scaleThreshold:eK,scaleTime:jve,scaleUtc:qve,tickFormat:GG},Symbol.toStringTag,{value:"Module"}));var TD,C5;function ax(){if(C5)return TD;C5=1;var t=up();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var s=r[a],l=n(s);if(l!=null&&(u===void 0?l===l&&!t(l):i(l,u)))var u=l,f=s}return f}return TD=e,TD}var DD,O5;function vK(){if(O5)return DD;O5=1;function t(e,r){return e>r}return DD=t,DD}var ND,M5;function Vve(){if(M5)return ND;M5=1;var t=ax(),e=vK(),r=fp();function n(i){return i&&i.length?t(i,r,e):void 0}return ND=n,ND}var Hve=Vve();const ox=pr(Hve);var CD,I5;function gK(){if(I5)return CD;I5=1;function t(e,r){return e<r}return CD=t,CD}var OD,R5;function Gve(){if(R5)return OD;R5=1;var t=ax(),e=gK(),r=fp();function n(i){return i&&i.length?t(i,r,e):void 0}return OD=n,OD}var Kve=Gve();const sx=pr(Kve);var MD,P5;function Xve(){if(P5)return MD;P5=1;var t=iM(),e=Os(),r=SG(),n=la();function i(a,o){var s=n(a)?t:r;return s(a,e(o,3))}return MD=i,MD}var ID,B5;function Wve(){if(B5)return ID;B5=1;var t=AG(),e=Xve();function r(n,i){return t(e(n,i),1)}return ID=r,ID}var Yve=Wve();const Qve=pr(Yve);var RD,k5;function Zve(){if(k5)return RD;k5=1;var t=gM();function e(r,n){return t(r,n)}return RD=e,RD}var Jve=Zve();const Cg=pr(Jve);var dp=1e9,ege={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VM,Qr=!0,co="[DecimalError] ",uf=co+"Invalid argument: ",zM=co+"Exponent out of range: ",pp=Math.floor,Uc=Math.pow,tge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Da,ei=1e7,Kr=7,yK=9007199254740991,c1=pp(yK/Kr),lt={};lt.absoluteValue=lt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};lt.comparedTo=lt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Kr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};lt.dividedBy=lt.div=function(t){return _u(this,new this.constructor(t))};lt.dividedToIntegerBy=lt.idiv=function(t){var e=this,r=e.constructor;return Fr(_u(e,new r(t),0,1),r.precision)};lt.equals=lt.eq=function(t){return!this.cmp(t)};lt.exponent=function(){return En(this)};lt.greaterThan=lt.gt=function(t){return this.cmp(t)>0};lt.greaterThanOrEqualTo=lt.gte=function(t){return this.cmp(t)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(t){return this.cmp(t)<0};lt.lessThanOrEqualTo=lt.lte=function(t){return this.cmp(t)<1};lt.logarithm=lt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Da))throw Error(co+"NaN");if(r.s<1)throw Error(co+(r.s?"NaN":"-Infinity"));return r.eq(Da)?new n(0):(Qr=!1,e=_u(kv(r,a),kv(t,a),a),Qr=!0,Fr(e,i))};lt.minus=lt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xK(e,t):bK(e,(t.s=-t.s,t))};lt.modulo=lt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(co+"NaN");return r.s?(Qr=!1,e=_u(r,t,0,1).times(t),Qr=!0,r.minus(e)):Fr(new n(r),i)};lt.naturalExponential=lt.exp=function(){return wK(this)};lt.naturalLogarithm=lt.ln=function(){return kv(this)};lt.negated=lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};lt.plus=lt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bK(e,t):xK(e,(t.s=-t.s,t))};lt.precision=lt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(uf+t);if(e=En(i)+1,n=i.d.length-1,r=n*Kr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};lt.squareRoot=lt.sqrt=function(){var t,e,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(co+"NaN")}for(t=En(s),Qr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=hs(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=pp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(_u(s,a,o+2)).times(.5),hs(a.d).slice(0,o)===(e=hs(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Fr(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(e!="9999")break;o+=4}return Qr=!0,Fr(n,r)};lt.times=lt.mul=function(t){var e,r,n,i,a,o,s,l,u,f=this,d=f.constructor,p=f.d,m=(t=new d(t)).d;if(!f.s||!t.s)return new d(0);for(t.s*=f.s,r=f.e+t.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+m[n]*p[i-n-1]+e,a[i--]=s%ei|0,e=s/ei|0;a[i]=(a[i]+e)%ei|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Qr?Fr(t,d.precision):t};lt.toDecimalPlaces=lt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ss(t,0,dp),e===void 0?e=n.rounding:Ss(e,0,8),Fr(r,t+En(r)+1,e))};lt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=yf(n,!0):(Ss(t,0,dp),e===void 0?e=i.rounding:Ss(e,0,8),n=Fr(new i(n),t+1,e),r=yf(n,!0,t+1)),r};lt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?yf(i):(Ss(t,0,dp),e===void 0?e=a.rounding:Ss(e,0,8),n=Fr(new a(i),t+En(i)+1,e),r=yf(n.abs(),!1,t+En(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};lt.toInteger=lt.toint=function(){var t=this,e=t.constructor;return Fr(new e(t),En(t)+1,e.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Da);if(s=new l(s),!s.s){if(t.s<1)throw Error(co+"Infinity");return s}if(s.eq(Da))return s;if(n=l.precision,t.eq(Da))return Fr(s,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=s.s,o){if((r=f<0?-f:f)<=yK){for(i=new l(Da),e=Math.ceil(n/Kr+4),Qr=!1;r%2&&(i=i.times(s),$5(i.d,e)),r=pp(r/2),r!==0;)s=s.times(s),$5(s.d,e);return Qr=!0,t.s<0?new l(Da).div(i):Fr(i,n)}}else if(a<0)throw Error(co+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,s.s=1,Qr=!1,i=t.times(kv(s,n+u)),Qr=!0,i=wK(i),i.s=a,i};lt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=En(i),n=yf(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ss(t,1,dp),e===void 0?e=a.rounding:Ss(e,0,8),i=Fr(new a(i),t,e),r=En(i),n=yf(i,t<=r||r<=a.toExpNeg,t)),n};lt.toSignificantDigits=lt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ss(t,1,dp),e===void 0?e=n.rounding:Ss(e,0,8)),Fr(new n(r),t,e)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=En(t),r=t.constructor;return yf(t,e<=r.toExpNeg||e>=r.toExpPos)};function bK(t,e){var r,n,i,a,o,s,l,u,f=t.constructor,d=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Qr?Fr(e,d):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/Kr),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/ei|0,l[a]%=ei;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Qr?Fr(e,d):e}function Ss(t,e,r){if(t!==~~t||t<e||t>r)throw Error(uf+t)}function hs(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=Kr-n.length,r&&(a+=pl(r)),a+=n;o=t[e],n=o+"",r=Kr-n.length,r&&(a+=pl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var _u=(function(){function t(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%ei|0,o=a/ei|0;return o&&n.unshift(o),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*ei+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,f,d,p,m,y,g,b,E,O,A,S,x,_,T,N,C=n.constructor,R=n.s==i.s?1:-1,I=n.d,P=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(co+"Division by zero");for(l=n.e-i.e,T=P.length,x=I.length,m=new C(R),y=m.d=[],u=0;P[u]==(I[u]||0);)++u;if(P[u]>(I[u]||0)&&--l,a==null?O=a=C.precision:o?O=a+(En(n)-En(i))+1:O=a,O<0)return new C(0);if(O=O/Kr+2|0,u=0,T==1)for(f=0,P=P[0],O++;(u<x||f)&&O--;u++)A=f*ei+(I[u]||0),y[u]=A/P|0,f=A%P|0;else{for(f=ei/(P[0]+1)|0,f>1&&(P=t(P,f),I=t(I,f),T=P.length,x=I.length),S=T,g=I.slice(0,T),b=g.length;b<T;)g[b++]=0;N=P.slice(),N.unshift(0),_=P[0],P[1]>=ei/2&&++_;do f=0,s=e(P,g,T,b),s<0?(E=g[0],T!=b&&(E=E*ei+(g[1]||0)),f=E/_|0,f>1?(f>=ei&&(f=ei-1),d=t(P,f),p=d.length,b=g.length,s=e(d,g,p,b),s==1&&(f--,r(d,T<p?N:P,p))):(f==0&&(s=f=1),d=P.slice()),p=d.length,p<b&&d.unshift(0),r(g,d,b),s==-1&&(b=g.length,s=e(P,g,T,b),s<1&&(f++,r(g,T<b?N:P,b))),b=g.length):s===0&&(f++,g=[0]),y[u++]=f,s&&g[0]?g[b++]=I[S]||0:(g=[I[S]],b=1);while((S++<x||g[0]!==void 0)&&O--)}return y[0]||y.shift(),m.e=l,Fr(m,o?a+En(m)+1:a)}})();function wK(t,e){var r,n,i,a,o,s,l=0,u=0,f=t.constructor,d=f.precision;if(En(t)>16)throw Error(zM+En(t));if(!t.s)return new f(Da);for(Qr=!1,s=d,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Uc(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new f(Da),f.precision=s;;){if(i=Fr(i.times(t),s),r=r.times(++l),o=a.plus(_u(i,r,s)),hs(o.d).slice(0,s)===hs(a.d).slice(0,s)){for(;u--;)a=Fr(a.times(a),s);return f.precision=d,e==null?(Qr=!0,Fr(a,d)):a}a=o}}function En(t){for(var e=t.e*Kr,r=t.d[0];r>=10;r/=10)e++;return e}function PD(t,e,r){if(e>t.LN10.sd())throw Qr=!0,r&&(t.precision=r),Error(co+"LN10 precision limit exceeded");return Fr(new t(t.LN10),e)}function pl(t){for(var e="";t--;)e+="0";return e}function kv(t,e){var r,n,i,a,o,s,l,u,f,d=1,p=10,m=t,y=m.d,g=m.constructor,b=g.precision;if(m.s<1)throw Error(co+(m.s?"NaN":"-Infinity"));if(m.eq(Da))return new g(0);if(e==null?(Qr=!1,u=b):u=e,m.eq(10))return e==null&&(Qr=!0),PD(g,u);if(u+=p,g.precision=u,r=hs(y),n=r.charAt(0),a=En(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(t),r=hs(m.d),n=r.charAt(0),d++;a=En(m),n>1?(m=new g("0."+r),a++):m=new g(n+"."+r.slice(1))}else return l=PD(g,u+2,b).times(a+""),m=kv(new g(n+"."+r.slice(1)),u-p).plus(l),g.precision=b,e==null?(Qr=!0,Fr(m,b)):m;for(s=o=m=_u(m.minus(Da),m.plus(Da),u),f=Fr(m.times(m),u),i=3;;){if(o=Fr(o.times(f),u),l=s.plus(_u(o,new g(i),u)),hs(l.d).slice(0,u)===hs(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(PD(g,u+2,b).times(a+""))),s=_u(s,new g(d),u),g.precision=b,e==null?(Qr=!0,Fr(s,b)):s;s=l,i+=2}}function F5(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=pp(r/Kr),t.d=[],n=(r+1)%Kr,r<0&&(n+=Kr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Kr;n<i;)t.d.push(+e.slice(n,n+=Kr));e=e.slice(n),n=Kr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Qr&&(t.e>c1||t.e<-c1))throw Error(zM+r)}else t.s=0,t.e=0,t.d=[0];return t}function Fr(t,e,r){var n,i,a,o,s,l,u,f,d=t.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=Kr,i=e,u=d[f=0];else{if(f=Math.ceil((n+1)/Kr),a=d.length,f>=a)return t;for(u=a=d[f],o=1;a>=10;a/=10)o++;n%=Kr,i=n-Kr+o}if(r!==void 0&&(a=Uc(10,o-i-1),s=u/a%10|0,l=e<0||d[f+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(t.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Uc(10,o-i):0:d[f-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return l?(a=En(t),d.length=1,e=e-a-1,d[0]=Uc(10,(Kr-e%Kr)%Kr),t.e=pp(-e/Kr)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=f,a=1,f--):(d.length=f+1,a=Uc(10,Kr-n),d[f]=i>0?(u/Uc(10,o-i)%Uc(10,i)|0)*a:0),l)for(;;)if(f==0){(d[0]+=a)==ei&&(d[0]=1,++t.e);break}else{if(d[f]+=a,d[f]!=ei)break;d[f--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(Qr&&(t.e>c1||t.e<-c1))throw Error(zM+En(t));return t}function xK(t,e){var r,n,i,a,o,s,l,u,f,d,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),Qr?Fr(e,m):e;if(l=t.d,d=e.d,n=e.e,u=t.e,l=l.slice(),o=u-n,o){for(f=o<0,f?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(m/Kr),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,f=i<s,f&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){f=l[i]<d[i];break}o=0}for(f&&(r=l,l=d,d=r,e.s=-e.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=ei-1;--l[a],l[i]+=ei}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Qr?Fr(e,m):e):new p(0)}function yf(t,e,r){var n,i=En(t),a=hs(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+pl(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+pl(-i-1)+a,r&&(n=r-o)>0&&(a+=pl(n))):i>=o?(a+=pl(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+pl(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=pl(n))),t.s<0?"-"+a:a}function $5(t,e){if(t.length>e)return t.length=e,!0}function _K(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(uf+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return F5(o,a.toString())}else if(typeof a!="string")throw Error(uf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,tge.test(a))F5(o,a);else throw Error(uf+a)}if(i.prototype=lt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_K,i.config=i.set=rge,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function rge(t){if(!t||typeof t!="object")throw Error(co+"Object expected");var e,r,n,i=["precision",1,dp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(pp(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(uf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(uf+r+": "+n);return this}var VM=_K(ege);Da=new VM(1);const Pr=VM;function nge(t){return sge(t)||oge(t)||age(t)||ige()}function ige(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function age(t,e){if(t){if(typeof t=="string")return ON(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ON(t,e)}}function oge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sge(t){if(Array.isArray(t))return ON(t)}function ON(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var uge=function(e){return e},AK={},EK=function(e){return e===AK},L5=function(e){return function r(){return arguments.length===0||arguments.length===1&&EK(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},lge=function t(e,r){return e===1?r:L5(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==AK}).length;return o>=e?r.apply(void 0,i):t(e-o,L5(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=i.map(function(d){return EK(d)?l.shift():d});return r.apply(void 0,nge(f).concat(l))}))})},ux=function(e){return lge(e.length,e)},MN=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},cge=ux(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),fge=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return uge;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},IN=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},SK=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,l){return s===r[l]})||(r=a,n=e.apply(void 0,a)),n}};function hge(t){var e;return t===0?e=1:e=Math.floor(new Pr(t).abs().log(10).toNumber())+1,e}function dge(t,e,r){for(var n=new Pr(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var pge=ux(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),mge=ux(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),vge=ux(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const lx={rangeStep:dge,getDigitCount:hge,interpolateNumber:pge,uninterpolateNumber:mge,uninterpolateTruncation:vge};function RN(t){return bge(t)||yge(t)||TK(t)||gge()}function gge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bge(t){if(Array.isArray(t))return PN(t)}function Fv(t,e){return _ge(t)||xge(t,e)||TK(t,e)||wge()}function wge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TK(t,e){if(t){if(typeof t=="string")return PN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PN(t,e)}}function PN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xge(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,a=l}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function _ge(t){if(Array.isArray(t))return t}function DK(t){var e=Fv(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function NK(t,e,r){if(t.lte(0))return new Pr(0);var n=lx.getDigitCount(t.toNumber()),i=new Pr(10).pow(n),a=t.div(i),o=n!==1?.05:.1,s=new Pr(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return e?l:new Pr(Math.ceil(l))}function Age(t,e,r){var n=1,i=new Pr(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new Pr(10).pow(lx.getDigitCount(t)-1),i=new Pr(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Pr(Math.floor(t)))}else t===0?i=new Pr(Math.floor((e-1)/2)):r||(i=new Pr(Math.floor(t)));var o=Math.floor((e-1)/2),s=fge(cge(function(l){return i.add(new Pr(l-o).mul(n)).toNumber()}),MN);return s(0,e)}function CK(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Pr(0),tickMin:new Pr(0),tickMax:new Pr(0)};var a=NK(new Pr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Pr(0):(o=new Pr(t).add(e).div(2),o=o.sub(new Pr(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new Pr(e).sub(o).div(a).toNumber()),u=s+l+1;return u>r?CK(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,s=e>0?s:s+(r-u)),{step:a,tickMin:o.sub(new Pr(s).mul(a)),tickMax:o.add(new Pr(l).mul(a))})}function Ege(t){var e=Fv(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=DK([r,n]),l=Fv(s,2),u=l[0],f=l[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(RN(MN(0,i-1).map(function(){return 1/0}))):[].concat(RN(MN(0,i-1).map(function(){return-1/0})),[f]);return r>n?IN(d):d}if(u===f)return Age(u,i,a);var p=CK(u,f,o,a),m=p.step,y=p.tickMin,g=p.tickMax,b=lx.rangeStep(y,g.add(new Pr(.1).mul(m)),m);return r>n?IN(b):b}function Sge(t,e){var r=Fv(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=DK([n,i]),s=Fv(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var f=Math.max(e,2),d=NK(new Pr(u).sub(l).div(f-1),a,0),p=[].concat(RN(lx.rangeStep(new Pr(l),new Pr(u).sub(new Pr(.99).mul(d)),d)),[u]);return n>i?IN(p):p}var Tge=SK(Ege),Dge=SK(Sge),Nge="Invariant failed";function bf(t,e){throw new Error(Nge)}var Cge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f1.apply(this,arguments)}function Oge(t,e){return Pge(t)||Rge(t,e)||Ige(t,e)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ige(t,e){if(t){if(typeof t=="string")return j5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j5(t,e)}}function j5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Rge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Pge(t){if(Array.isArray(t))return t}function Bge(t,e){if(t==null)return{};var r=kge(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IK(n.key),n)}}function Lge(t,e,r){return e&&$ge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jge(t,e,r){return e=h1(e),qge(t,OK()?Reflect.construct(e,r||[],h1(t).constructor):e.apply(t,r))}function qge(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uge(t)}function Uge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OK=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(t)}function zge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BN(t,e)}function BN(t,e){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BN(t,e)}function MK(t,e,r){return e=IK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IK(t){var e=Vge(t,"string");return Id(e)=="symbol"?e:e+""}function Vge(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Og=(function(t){function e(){return Fge(this,e),jge(this,e,arguments)}return zge(e,t),Lge(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,l=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,p=Bge(n,Cge),m=bt(p,!1);this.props.direction==="x"&&f.type!=="number"&&bf();var y=l.map(function(g){var b=u(g,s),E=b.x,O=b.y,A=b.value,S=b.errorVal;if(!S)return null;var x=[],_,T;if(Array.isArray(S)){var N=Oge(S,2);_=N[0],T=N[1]}else _=T=S;if(a==="vertical"){var C=f.scale,R=O+i,I=R+o,P=R-o,k=C(A-_),q=C(A+T);x.push({x1:q,y1:I,x2:q,y2:P}),x.push({x1:k,y1:R,x2:q,y2:R}),x.push({x1:k,y1:I,x2:k,y2:P})}else if(a==="horizontal"){var U=d.scale,F=E+i,V=F-o,Z=F+o,H=U(A-_),z=U(A+T);x.push({x1:V,y1:z,x2:Z,y2:z}),x.push({x1:F,y1:H,x2:F,y2:z}),x.push({x1:V,y1:H,x2:Z,y2:H})}return xe.createElement(hr,f1({className:"recharts-errorBar",key:"bar-".concat(x.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},m),x.map(function(J){return xe.createElement("line",f1({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return xe.createElement(hr,{className:"recharts-errorBars"},y)}}])})(xe.Component);MK(Og,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});MK(Og,"displayName","ErrorBar");function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function q5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q5(Object(r),!0).forEach(function(n){Hge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hge(t,e,r){return e=Gge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gge(t){var e=Kge(t,"string");return $v(e)=="symbol"?e:e+""}function Kge(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RK=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=Aa(r,fs);if(!o)return null;var s=fs.defaultProps,l=s!==void 0?Bc(Bc({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(f,d){var p=d.item,m=d.props,y=m.sectors||m.data||[];return f.concat(y.map(function(g){return{type:o.props.iconType||p.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):u=(n||[]).map(function(f){var d=f.item,p=d.type.defaultProps,m=p!==void 0?Bc(Bc({},p),d.props):{},y=m.dataKey,g=m.name,b=m.legendType,E=m.hide;return{inactive:E,dataKey:y,type:l.iconType||b||"square",color:HM(d),value:g||y,payload:m}}),Bc(Bc(Bc({},l),fs.getWithHeight(o,i)),{},{payload:u,item:o})};function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function U5(t){return Qge(t)||Yge(t)||Wge(t)||Xge()}function Xge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wge(t,e){if(t){if(typeof t=="string")return kN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kN(t,e)}}function Yge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qge(t){if(Array.isArray(t))return kN(t)}function kN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z5(Object(r),!0).forEach(function(n){fd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fd(t,e,r){return e=Zge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zge(t){var e=Jge(t,"string");return Lv(e)=="symbol"?e:e+""}function Jge(t,e){if(Lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fn(t,e,r){return $t(t)||$t(e)?r:$n(e)?Ma(t,e,r):Nt(e)?e(t):r}function ov(t,e,r,n){var i=Qve(t,function(s){return Fn(s,e)});if(r==="number"){var a=i.filter(function(s){return tt(s)||parseFloat(s)});return a.length?[sx(a),ox(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!$t(s)}):i;return o.map(function(s){return $n(s)||s instanceof Date?s:""})}var eye=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n?.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var f=u>0?i[u-1].coordinate:i[s-1].coordinate,d=i[u].coordinate,p=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if($i(d-f)!==$i(p-d)){var y=[];if($i(p-d)===$i(l[1]-l[0])){m=p;var g=d+l[1]-l[0];y[0]=Math.min(g,(g+f)/2),y[1]=Math.max(g,(g+f)/2)}else{m=f;var b=p+l[1]-l[0];y[0]=Math.min(d,(b+d)/2),y[1]=Math.max(d,(b+d)/2)}var E=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>E[0]&&e<=E[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var O=Math.min(f,p),A=Math.max(f,p);if(e>(O+d)/2&&e<=(A+d)/2){o=i[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2&&e<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&e>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},HM=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},tye=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var f=a[s[l]].stackGroups,d=Object.keys(f),p=0,m=d.length;p<m;p++){var y=f[d[p]],g=y.items,b=y.cateAxisId,E=g.filter(function(T){return xu(T.type).indexOf("Bar")>=0});if(E&&E.length){var O=E[0].type.defaultProps,A=O!==void 0?sn(sn({},O),E[0].props):E[0].props,S=A.barSize,x=A[b];o[x]||(o[x]=[]);var _=$t(S)?r:S;o[x].push({item:E[0],stackList:E.slice(1),barSize:$t(_)?void 0:Li(_,n,0)})}}return o},rye=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=Li(r,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var p=!1,m=i/l,y=o.reduce(function(S,x){return S+x.barSize||0},0);y+=(l-1)*u,y>=i&&(y-=(l-1)*u,u=0),y>=i&&m>0&&(p=!0,m*=.9,y=l*m);var g=(i-y)/2>>0,b={offset:g-u,size:0};f=o.reduce(function(S,x){var _={item:x.item,position:{offset:b.offset+b.size+u,size:p?m:x.barSize}},T=[].concat(U5(S),[_]);return b=T[T.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(N){T.push({item:N,position:b})}),T},d)}else{var E=Li(n,i,0,!0);i-2*E-(l-1)*u<=0&&(u=0);var O=(i-2*E-(l-1)*u)/l;O>1&&(O>>=0);var A=s===+s?Math.min(O,s):O;f=o.reduce(function(S,x,_){var T=[].concat(U5(S),[{item:x.item,position:{offset:E+(O+u)*_+(O-A)/2,size:A}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(N){T.push({item:N,position:T[T.length-1].position})}),T},d)}return f},nye=function(e,r,n,i){var a=n.children,o=n.width,s=n.margin,l=o-(s.left||0)-(s.right||0),u=RK({children:a,legendWidth:l});if(u){var f=i||{},d=f.width,p=f.height,m=u.align,y=u.verticalAlign,g=u.layout;if((g==="vertical"||g==="horizontal"&&y==="middle")&&m!=="center"&&tt(e[m]))return sn(sn({},e),{},fd({},m,e[m]+(d||0)));if((g==="horizontal"||g==="vertical"&&m==="center")&&y!=="middle"&&tt(e[y]))return sn(sn({},e),{},fd({},y,e[y]+(p||0)))}return e},iye=function(e,r,n){return $t(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},PK=function(e,r,n,i,a){var o=r.props.children,s=Ia(o,Og).filter(function(u){return iye(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var d=Fn(f,n);if($t(d))return u;var p=Array.isArray(d)?[sx(d),ox(d)]:[d,d],m=l.reduce(function(y,g){var b=Fn(f,g,0),E=p[0]-Math.abs(Array.isArray(b)?b[0]:b),O=p[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(E,y[0]),Math.max(O,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},aye=function(e,r,n,i,a){var o=r.map(function(s){return PK(e,s,n,a,i)}).filter(function(s){return!$t(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},BK=function(e,r,n,i,a){var o=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&PK(e,l,u,i)||ov(e,u,n,a)});if(n==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var f=0,d=u.length;f<d;f++)s[u[f]]||(s[u[f]]=!0,l.push(u[f]));return l},[])},kK=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},FK=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===r&&(a=!0),l.coordinate===n&&(o=!0),l.coordinate});return a||s.push(r),o||s.push(n),s},gu=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&s?.length>=2?$i(s[0]-s[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(d){var p=a?a.indexOf(d):d;return{coordinate:i(p)+u,value:d,offset:u}});return f.filter(function(d){return!Ag(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,p){return{coordinate:i(d)+u,value:d,index:p,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,p){return{coordinate:i(d)+u,value:a?a[d]:d,index:p,offset:u}})},BD=new WeakMap,E0=function(e,r){if(typeof r!="function")return e;BD.has(e)||BD.set(e,new WeakMap);var n=BD.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},$K=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:Mv(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:o1(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:av(),realScaleType:"point"}:a==="category"?{scale:Mv(),realScaleType:"band"}:{scale:o1(),realScaleType:"linear"};if(mf(i)){var l="scale".concat(Gw(i));return{scale:(N5[l]||av)(),realScaleType:N5[l]?l:"point"}}return Nt(i)?{scale:i}:{scale:av(),realScaleType:"point"}},V5=1e-4,LK=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-V5,o=Math.max(i[0],i[1])+V5,s=e(r[0]),l=e(r[n-1]);(s<a||s>o||l<a||l>o)&&e.domain([r[0],r[n-1]])}},oye=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},sye=function(e,r){if(!r||r.length!==2||!tt(r[0])||!tt(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!tt(e[0])||e[0]<n)&&(a[0]=n),(!tt(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},uye=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var l=Ag(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=a,e[s][n][1]=a+l,a=e[s][n][1]):(e[s][n][0]=o,e[s][n][1]=o+l,o=e[s][n][1])}},lye=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=Ag(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},cye={sign:uye,expand:Qce,none:Ed,silhouette:Zce,wiggle:Jce,positive:lye},fye=function(e,r,n){var i=r.map(function(s){return s.props.dataKey}),a=cye[n],o=Yce().keys(i).value(function(s,l){return+Fn(s,l,0)}).order(hN).offset(a);return o(e)},hye=function(e,r,n,i,a,o){if(!e)return null;var s=o?r.reverse():r,l={},u=s.reduce(function(d,p){var m,y=(m=p.type)!==null&&m!==void 0&&m.defaultProps?sn(sn({},p.type.defaultProps),p.props):p.props,g=y.stackId,b=y.hide;if(b)return d;var E=y[n],O=d[E]||{hasStack:!1,stackGroups:{}};if($n(g)){var A=O.stackGroups[g]||{numericAxisId:n,cateAxisId:i,items:[]};A.items.push(p),O.hasStack=!0,O.stackGroups[g]=A}else O.stackGroups[cp("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[p]};return sn(sn({},d),{},fd({},E,O))},l),f={};return Object.keys(u).reduce(function(d,p){var m=u[p];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(g,b){var E=m.stackGroups[b];return sn(sn({},g),{},fd({},b,{numericAxisId:n,cateAxisId:i,items:E.items,stackedData:fye(e,E.items,a)}))},y)}return sn(sn({},d),{},fd({},p,m))},f)},jK=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Tge(u,a,s);return e.domain([sx(f),ox(f)]),{niceTicks:f}}if(a&&i==="number"){var d=e.domain(),p=Dge(d,a,s);return{niceTicks:p}}return null};function H5(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!$t(i[e.dataKey])){var s=Ub(r,"value",i[e.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Fn(i,$t(o)?e.dataKey:o);return $t(l)?null:e.scale(l)}var G5=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var l=Fn(o,r.dataKey,r.domain[s]);return $t(l)?null:r.scale(l)-a/2+i},dye=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},pye=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if($n(a)){var o=r[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},mye=function(e){return e.reduce(function(r,n){return[sx(n.concat([r[0]]).filter(tt)),ox(n.concat([r[1]]).filter(tt))]},[1/0,-1/0])},qK=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,f){var d=mye(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},K5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,X5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FN=function(e,r,n){if(Nt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(tt(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(K5.test(e[0])){var a=+K5.exec(e[0])[1];i[0]=r[0]-a}else Nt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(tt(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(X5.test(e[1])){var o=+X5.exec(e[1])[1];i[1]=r[1]+o}else Nt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},d1=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=bM(r,function(d){return d.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],f=a[s-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},W5=function(e,r,n){return!e||!e.length||Cg(e,Ma(n,"type.defaultProps.domain"))?r:e},UK=function(e,r){var n=e.type.defaultProps?sn(sn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,l=n.tooltipType,u=n.chartType,f=n.hide;return sn(sn({},bt(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:HM(e),value:Fn(r,i),type:l,payload:r,chartType:u,hide:f})};function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function Y5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(r),!0).forEach(function(n){zK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zK(t,e,r){return e=vye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vye(t){var e=gye(t,"string");return jv(e)=="symbol"?e:e+""}function gye(t,e){if(jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yye(t,e){return _ye(t)||xye(t,e)||wye(t,e)||bye()}function bye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wye(t,e){if(t){if(typeof t=="string")return Q5(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q5(t,e)}}function Q5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _ye(t){if(Array.isArray(t))return t}var p1=Math.PI/180,Aye=function(e){return e*180/Math.PI},Hr=function(e,r,n,i){return{x:e+Math.cos(-p1*i)*n,y:r+Math.sin(-p1*i)*n}},VK=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Eye=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.startAngle,u=e.endAngle,f=Li(e.cx,o,o/2),d=Li(e.cy,s,s/2),p=VK(o,s,n),m=Li(e.innerRadius,p,0),y=Li(e.outerRadius,p,p*.8),g=Object.keys(r);return g.reduce(function(b,E){var O=r[E],A=O.domain,S=O.reversed,x;if($t(O.range))i==="angleAxis"?x=[l,u]:i==="radiusAxis"&&(x=[m,y]),S&&(x=[x[1],x[0]]);else{x=O.range;var _=x,T=yye(_,2);l=T[0],u=T[1]}var N=$K(O,a),C=N.realScaleType,R=N.scale;R.domain(A).range(x),LK(R);var I=jK(R,lu(lu({},O),{},{realScaleType:C})),P=lu(lu(lu({},O),I),{},{range:x,radius:y,realScaleType:C,scale:R,cx:f,cy:d,innerRadius:m,outerRadius:y,startAngle:l,endAngle:u});return lu(lu({},b),{},zK({},E,P))},{})},Sye=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},Tye=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,s=Sye({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(n-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Aye(u),angleInRadian:u}},Dye=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},Nye=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},Z5=function(e,r){var n=e.x,i=e.y,a=Tye({x:n,y:i},r),o=a.radius,s=a.angle,l=r.innerRadius,u=r.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var f=Dye(r),d=f.startAngle,p=f.endAngle,m=s,y;if(d<=p){for(;m>p;)m-=360;for(;m<d;)m+=360;y=m>=d&&m<=p}else{for(;m>d;)m-=360;for(;m<p;)m+=360;y=m>=p&&m<=d}return y?lu(lu({},r),{},{radius:o,angle:Nye(m,r)}):null},HK=function(e){return!Ee.isValidElement(e)&&!Nt(e)&&typeof e!="boolean"?e.className:""};function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}var Cye=["offset"];function Oye(t){return Pye(t)||Rye(t)||Iye(t)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iye(t,e){if(t){if(typeof t=="string")return $N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $N(t,e)}}function Rye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pye(t){if(Array.isArray(t))return $N(t)}function $N(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bye(t,e){if(t==null)return{};var r=kye(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function kye(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function J5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J5(Object(r),!0).forEach(function(n){Fye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fye(t,e,r){return e=$ye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ye(t){var e=Lye(t,"string");return qv(e)=="symbol"?e:e+""}function Lye(t,e){if(qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uv.apply(this,arguments)}var jye=function(e){var r=e.value,n=e.formatter,i=$t(e.children)?r:e.children;return Nt(n)?n(i):i},qye=function(e,r){var n=$i(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Uye=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,f=l.cy,d=l.innerRadius,p=l.outerRadius,m=l.startAngle,y=l.endAngle,g=l.clockWise,b=(d+p)/2,E=qye(m,y),O=E>=0?1:-1,A,S;i==="insideStart"?(A=m+O*o,S=g):i==="insideEnd"?(A=y-O*o,S=!g):i==="end"&&(A=y+O*o,S=g),S=E<=0?S:!S;var x=Hr(u,f,b,A),_=Hr(u,f,b,A+(S?1:-1)*359),T="M".concat(x.x,",").concat(x.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),N=$t(e.id)?cp("recharts-radial-line-"):e.id;return xe.createElement("text",Uv({},n,{dominantBaseline:"central",className:Ht("recharts-radial-bar-label",s)}),xe.createElement("defs",null,xe.createElement("path",{id:N,d:T})),xe.createElement("textPath",{xlinkHref:"#".concat(N)},r))},zye=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,f=a.startAngle,d=a.endAngle,p=(f+d)/2;if(i==="outside"){var m=Hr(o,s,u+n,p),y=m.x,g=m.y;return{x:y,y:g,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,E=Hr(o,s,b,p),O=E.x,A=E.y;return{x:O,y:A,textAnchor:"middle",verticalAnchor:"middle"}},Vye=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,s=o.x,l=o.y,u=o.width,f=o.height,d=f>=0?1:-1,p=d*i,m=d>0?"end":"start",y=d>0?"start":"end",g=u>=0?1:-1,b=g*i,E=g>0?"end":"start",O=g>0?"start":"end";if(a==="top"){var A={x:s+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:m};return Pn(Pn({},A),n?{height:Math.max(l-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:s+u/2,y:l+f+p,textAnchor:"middle",verticalAnchor:y};return Pn(Pn({},S),n?{height:Math.max(n.y+n.height-(l+f),0),width:u}:{})}if(a==="left"){var x={x:s-b,y:l+f/2,textAnchor:E,verticalAnchor:"middle"};return Pn(Pn({},x),n?{width:Math.max(x.x-n.x,0),height:f}:{})}if(a==="right"){var _={x:s+u+b,y:l+f/2,textAnchor:O,verticalAnchor:"middle"};return Pn(Pn({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:f}:{})}var T=n?{width:u,height:f}:{};return a==="insideLeft"?Pn({x:s+b,y:l+f/2,textAnchor:O,verticalAnchor:"middle"},T):a==="insideRight"?Pn({x:s+u-b,y:l+f/2,textAnchor:E,verticalAnchor:"middle"},T):a==="insideTop"?Pn({x:s+u/2,y:l+p,textAnchor:"middle",verticalAnchor:y},T):a==="insideBottom"?Pn({x:s+u/2,y:l+f-p,textAnchor:"middle",verticalAnchor:m},T):a==="insideTopLeft"?Pn({x:s+b,y:l+p,textAnchor:O,verticalAnchor:y},T):a==="insideTopRight"?Pn({x:s+u-b,y:l+p,textAnchor:E,verticalAnchor:y},T):a==="insideBottomLeft"?Pn({x:s+b,y:l+f-p,textAnchor:O,verticalAnchor:m},T):a==="insideBottomRight"?Pn({x:s+u-b,y:l+f-p,textAnchor:E,verticalAnchor:m},T):lp(a)&&(tt(a.x)||Wc(a.x))&&(tt(a.y)||Wc(a.y))?Pn({x:s+Li(a.x,u),y:l+Li(a.y,f),textAnchor:"end",verticalAnchor:"end"},T):Pn({x:s+u/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Hye=function(e){return"cx"in e&&tt(e.cx)};function ti(t){var e=t.offset,r=e===void 0?5:e,n=Bye(t,Cye),i=Pn({offset:r},n),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,f=i.className,d=f===void 0?"":f,p=i.textBreakAll;if(!a||$t(s)&&$t(l)&&!Ee.isValidElement(u)&&!Nt(u))return null;if(Ee.isValidElement(u))return Ee.cloneElement(u,i);var m;if(Nt(u)){if(m=Ee.createElement(u,i),Ee.isValidElement(m))return m}else m=jye(i);var y=Hye(a),g=bt(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Uye(i,m,g);var b=y?zye(i):Vye(i);return xe.createElement(gf,Uv({className:Ht("recharts-label",d)},g,b,{breakAll:p}),m)}ti.displayName="Label";var GK=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,f=e.outerRadius,d=e.x,p=e.y,m=e.top,y=e.left,g=e.width,b=e.height,E=e.clockWise,O=e.labelViewBox;if(O)return O;if(tt(g)&&tt(b)){if(tt(d)&&tt(p))return{x:d,y:p,width:g,height:b};if(tt(m)&&tt(y))return{x:m,y,width:g,height:b}}return tt(d)&&tt(p)?{x:d,y:p,width:0,height:0}:tt(r)&&tt(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||l||s||0,clockWise:E}:e.viewBox?e.viewBox:{}},Gye=function(e,r){return e?e===!0?xe.createElement(ti,{key:"label-implicit",viewBox:r}):$n(e)?xe.createElement(ti,{key:"label-implicit",viewBox:r,value:e}):Ee.isValidElement(e)?e.type===ti?Ee.cloneElement(e,{key:"label-implicit",viewBox:r}):xe.createElement(ti,{key:"label-implicit",content:e,viewBox:r}):Nt(e)?xe.createElement(ti,{key:"label-implicit",content:e,viewBox:r}):lp(e)?xe.createElement(ti,Uv({viewBox:r},e,{key:"label-implicit"})):null:null},Kye=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=GK(e),o=Ia(i,ti).map(function(l,u){return Ee.cloneElement(l,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=Gye(e.label,r||a);return[s].concat(Oye(o))};ti.parseViewBox=GK;ti.renderCallByParent=Kye;var kD,eL;function Xye(){if(eL)return kD;eL=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return kD=t,kD}var Wye=Xye();const Yye=pr(Wye);function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}var Qye=["valueAccessor"],Zye=["data","dataKey","clockWise","id","textBreakAll"];function Jye(t){return n0e(t)||r0e(t)||t0e(t)||e0e()}function e0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t0e(t,e){if(t){if(typeof t=="string")return LN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LN(t,e)}}function r0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n0e(t){if(Array.isArray(t))return LN(t)}function LN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function m1(){return m1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m1.apply(this,arguments)}function tL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(r),!0).forEach(function(n){i0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i0e(t,e,r){return e=a0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a0e(t){var e=o0e(t,"string");return zv(e)=="symbol"?e:e+""}function o0e(t,e){if(zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nL(t,e){if(t==null)return{};var r=s0e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function s0e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var u0e=function(e){return Array.isArray(e.value)?Yye(e.value):e.value};function ws(t){var e=t.valueAccessor,r=e===void 0?u0e:e,n=nL(t,Qye),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,l=n.textBreakAll,u=nL(n,Zye);return!i||!i.length?null:xe.createElement(hr,{className:"recharts-label-list"},i.map(function(f,d){var p=$t(a)?r(f,d):Fn(f&&f.payload,a),m=$t(s)?{}:{id:"".concat(s,"-").concat(d)};return xe.createElement(ti,m1({},bt(f,!0),u,m,{parentViewBox:f.parentViewBox,value:p,textBreakAll:l,viewBox:ti.parseViewBox($t(o)?f:rL(rL({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}ws.displayName="LabelList";function l0e(t,e){return t?t===!0?xe.createElement(ws,{key:"labelList-implicit",data:e}):xe.isValidElement(t)||Nt(t)?xe.createElement(ws,{key:"labelList-implicit",data:e,content:t}):lp(t)?xe.createElement(ws,m1({data:e},t,{key:"labelList-implicit"})):null:null}function c0e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ia(n,ws).map(function(o,s){return Ee.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!r)return i;var a=l0e(t.label,e);return[a].concat(Jye(i))}ws.renderCallByParent=c0e;function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function jN(){return jN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jN.apply(this,arguments)}function iL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(r),!0).forEach(function(n){f0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f0e(t,e,r){return e=h0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h0e(t){var e=d0e(t,"string");return Vv(e)=="symbol"?e:e+""}function d0e(t,e){if(Vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p0e=function(e,r){var n=$i(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},S0=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,f=l*(s?1:-1)+i,d=Math.asin(l/f)/p1,p=u?a:a+o*d,m=Hr(r,n,f,p),y=Hr(r,n,i,p),g=u?a-o*d:a,b=Hr(r,n,f*Math.cos(d*p1),g);return{center:m,circleTangency:y,lineTangency:b,theta:d}},KK=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=p0e(o,s),u=o+l,f=Hr(r,n,a,o),d=Hr(r,n,a,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var m=Hr(r,n,i,o),y=Hr(r,n,i,u);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},m0e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,d=$i(f-u),p=S0({cx:r,cy:n,radius:a,angle:u,sign:d,cornerRadius:o,cornerIsExternal:l}),m=p.circleTangency,y=p.lineTangency,g=p.theta,b=S0({cx:r,cy:n,radius:a,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:l}),E=b.circleTangency,O=b.lineTangency,A=b.theta,S=l?Math.abs(u-f):Math.abs(u-f)-g-A;if(S<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):KK({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var x="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
  `);if(i>0){var _=S0({cx:r,cy:n,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=_.circleTangency,N=_.lineTangency,C=_.theta,R=S0({cx:r,cy:n,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=R.circleTangency,P=R.lineTangency,k=R.theta,q=l?Math.abs(u-f):Math.abs(u-f)-C-k;if(q<0&&o===0)return"".concat(x,"L").concat(r,",").concat(n,"Z");x+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(d>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else x+="L".concat(r,",").concat(n,"Z");return x},v0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XK=function(e){var r=aL(aL({},v0e),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,p=r.className;if(o<a||f===d)return null;var m=Ht("recharts-sector",p),y=o-a,g=Li(s,y,0,!0),b;return g>0&&Math.abs(f-d)<360?b=m0e({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,y/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}):b=KK({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:d}),xe.createElement("path",jN({},bt(r,!0),{className:m,d:b,role:"img"}))};function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qN.apply(this,arguments)}function oL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(r),!0).forEach(function(n){g0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g0e(t,e,r){return e=y0e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y0e(t){var e=b0e(t,"string");return Hv(e)=="symbol"?e:e+""}function b0e(t,e){if(Hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uL={curveBasisClosed:Lce,curveBasisOpen:jce,curveBasis:$ce,curveBumpX:Ece,curveBumpY:Sce,curveLinearClosed:qce,curveLinear:Xw,curveMonotoneX:Uce,curveMonotoneY:zce,curveNatural:Vce,curveStep:Hce,curveStepAfter:Kce,curveStepBefore:Gce},T0=function(e){return e.x===+e.x&&e.y===+e.y},Bm=function(e){return e.x},km=function(e){return e.y},w0e=function(e,r){if(Nt(e))return e;var n="curve".concat(Gw(e));return(n==="curveMonotone"||n==="curveBump")&&r?uL["".concat(n).concat(r==="vertical"?"Y":"X")]:uL[n]||Xw},x0e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,f=w0e(n,s),d=u?a.filter(function(g){return T0(g)}):a,p;if(Array.isArray(o)){var m=u?o.filter(function(g){return T0(g)}):o,y=d.map(function(g,b){return sL(sL({},g),{},{base:m[b]})});return s==="vertical"?p=g0().y(km).x1(Bm).x0(function(g){return g.base.x}):p=g0().x(Bm).y1(km).y0(function(g){return g.base.y}),p.defined(T0).curve(f),p(y)}return s==="vertical"&&tt(o)?p=g0().y(km).x1(Bm).x0(o):tt(o)?p=g0().x(Bm).y1(km).y0(o):p=GH().x(Bm).y(km),p.defined(T0).curve(f),p(d)},v1=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?x0e(e):i;return Ee.createElement("path",qN({},bt(e,!1),zb(e),{className:Ht("recharts-curve",r),d:o,ref:a}))},FD={exports:{}},$D,lL;function _0e(){if(lL)return $D;lL=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $D=t,$D}var LD,cL;function A0e(){if(cL)return LD;cL=1;var t=_0e();function e(){}function r(){}return r.resetWarningCache=e,LD=function(){function n(o,s,l,u,f,d){if(d!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},LD}var fL;function E0e(){return fL||(fL=1,FD.exports=A0e()()),FD.exports}var S0e=E0e();const br=pr(S0e);var T0e=Object.getOwnPropertyNames,D0e=Object.getOwnPropertySymbols,N0e=Object.prototype.hasOwnProperty;function hL(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function D0(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var l=t(r,n,i);return a.delete(r),a.delete(n),l}}function dL(t){return T0e(t).concat(D0e(t))}var C0e=Object.hasOwn||(function(t,e){return N0e.call(t,e)});function Rf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var O0e="__v",M0e="__o",I0e="_owner",pL=Object.getOwnPropertyDescriptor,mL=Object.keys;function R0e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function P0e(t,e){return Rf(t.getTime(),e.getTime())}function B0e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function k0e(t,e){return t===e}function vL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),f=!1,d=0;(s=u.next())&&!s.done;){if(i[d]){d++;continue}var p=o.value,m=s.value;if(r.equals(p[0],m[0],l,d,t,e,r)&&r.equals(p[1],m[1],p[0],m[0],t,e,r)){f=i[d]=!0;break}d++}if(!f)return!1;l++}return!0}var F0e=Rf;function $0e(t,e,r){var n=mL(t),i=n.length;if(mL(e).length!==i)return!1;for(;i-- >0;)if(!WK(t,e,r,n[i]))return!1;return!0}function Fm(t,e,r){var n=dL(t),i=n.length;if(dL(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!WK(t,e,r,a)||(o=pL(t,a),s=pL(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function L0e(t,e){return Rf(t.valueOf(),e.valueOf())}function j0e(t,e){return t.source===e.source&&t.flags===e.flags}function gL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,f=0;(s=l.next())&&!s.done;){if(!i[f]&&r.equals(o.value,s.value,o.value,s.value,t,e,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function q0e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function U0e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function WK(t,e,r,n){return(n===I0e||n===M0e||n===O0e)&&(t.$$typeof||e.$$typeof)?!0:C0e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var z0e="[object Arguments]",V0e="[object Boolean]",H0e="[object Date]",G0e="[object Error]",K0e="[object Map]",X0e="[object Number]",W0e="[object Object]",Y0e="[object RegExp]",Q0e="[object Set]",Z0e="[object String]",J0e="[object URL]",ebe=Array.isArray,yL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,bL=Object.assign,tbe=Object.prototype.toString.call.bind(Object.prototype.toString);function rbe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,d=t.areTypedArraysEqual,p=t.areUrlsEqual;return function(y,g,b){if(y===g)return!0;if(y==null||g==null)return!1;var E=typeof y;if(E!==typeof g)return!1;if(E!=="object")return E==="number"?o(y,g,b):E==="function"?i(y,g,b):!1;var O=y.constructor;if(O!==g.constructor)return!1;if(O===Object)return s(y,g,b);if(ebe(y))return e(y,g,b);if(yL!=null&&yL(y))return d(y,g,b);if(O===Date)return r(y,g,b);if(O===RegExp)return u(y,g,b);if(O===Map)return a(y,g,b);if(O===Set)return f(y,g,b);var A=tbe(y);return A===H0e?r(y,g,b):A===Y0e?u(y,g,b):A===K0e?a(y,g,b):A===Q0e?f(y,g,b):A===W0e?typeof y.then!="function"&&typeof g.then!="function"&&s(y,g,b):A===J0e?p(y,g,b):A===G0e?n(y,g,b):A===z0e?s(y,g,b):A===V0e||A===X0e||A===Z0e?l(y,g,b):!1}}function nbe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?Fm:R0e,areDatesEqual:P0e,areErrorsEqual:B0e,areFunctionsEqual:k0e,areMapsEqual:n?hL(vL,Fm):vL,areNumbersEqual:F0e,areObjectsEqual:n?Fm:$0e,arePrimitiveWrappersEqual:L0e,areRegExpsEqual:j0e,areSetsEqual:n?hL(gL,Fm):gL,areTypedArraysEqual:n?Fm:q0e,areUrlsEqual:U0e};if(r&&(i=bL({},i,r(i))),e){var a=D0(i.areArraysEqual),o=D0(i.areMapsEqual),s=D0(i.areObjectsEqual),l=D0(i.areSetsEqual);i=bL({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function ibe(t){return function(e,r,n,i,a,o,s){return t(e,r,s)}}function abe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(l,u){var f=n(),d=f.cache,p=d===void 0?e?new WeakMap:void 0:d,m=f.meta;return r(l,u,{cache:p,equals:i,meta:m,strict:a})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return r(l,u,o)}}var obe=Yl();Yl({strict:!0});Yl({circular:!0});Yl({circular:!0,strict:!0});Yl({createInternalComparator:function(){return Rf}});Yl({strict:!0,createInternalComparator:function(){return Rf}});Yl({circular:!0,createInternalComparator:function(){return Rf}});Yl({circular:!0,createInternalComparator:function(){return Rf},strict:!0});function Yl(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=nbe(t),l=rbe(s),u=n?n(l):ibe(l);return abe({circular:r,comparator:l,createState:i,equals:u,strict:o})}function sbe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function wL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):sbe(i)};requestAnimationFrame(n)}function UN(t){"@babel/helpers - typeof";return UN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UN(t)}function ube(t){return hbe(t)||fbe(t)||cbe(t)||lbe()}function lbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cbe(t,e){if(t){if(typeof t=="string")return xL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xL(t,e)}}function xL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hbe(t){if(Array.isArray(t))return t}function dbe(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=ube(o),l=s[0],u=s.slice(1);if(typeof l=="number"){wL(i.bind(null,u),l);return}i(l),wL(i.bind(null,u));return}UN(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function _L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(r),!0).forEach(function(n){YK(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YK(t,e,r){return e=pbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pbe(t){var e=mbe(t,"string");return Gv(e)==="symbol"?e:String(e)}function mbe(t,e){if(Gv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vbe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},gbe=function(e){return e},ybe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},sv=function(e,r){return Object.keys(r).reduce(function(n,i){return AL(AL({},n),{},YK({},i,e(i,r[i])))},{})},EL=function(e,r,n){return e.map(function(i){return"".concat(ybe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function bbe(t,e){return _be(t)||xbe(t,e)||QK(t,e)||wbe()}function wbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function _be(t){if(Array.isArray(t))return t}function Abe(t){return Tbe(t)||Sbe(t)||QK(t)||Ebe()}function Ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QK(t,e){if(t){if(typeof t=="string")return zN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zN(t,e)}}function Sbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tbe(t){if(Array.isArray(t))return zN(t)}function zN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g1=1e-4,ZK=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},JK=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},SL=function(e,r){return function(n){var i=ZK(e,r);return JK(i,n)}},Dbe=function(e,r){return function(n){var i=ZK(e,r),a=[].concat(Abe(i.map(function(o,s){return o*s}).slice(1)),[0]);return JK(a,n)}},TL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=bbe(u,4);i=f[0],a=f[1],o=f[2],s=f[3]}}}var d=SL(i,o),p=SL(a,s),m=Dbe(i,o),y=function(E){return E>1?1:E<0?0:E},g=function(E){for(var O=E>1?1:E,A=O,S=0;S<8;++S){var x=d(A)-O,_=m(A);if(Math.abs(x-O)<g1||_<g1)return p(A);A=y(A-x/_)}return p(A)};return g.isStepper=!1,g},Nbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(f,d,p){var m=-(f-d)*n,y=p*a,g=p+(m-y)*s/1e3,b=p*s/1e3+f;return Math.abs(b-d)<g1&&Math.abs(g)<g1?[d,0]:[b,g]};return l.isStepper=!0,l.dt=s,l},Cbe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TL(i);case"spring":return Nbe();default:if(i.split("(")[0]==="cubic-bezier")return TL(i)}return typeof i=="function"?i:null};function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function DL(t){return Ibe(t)||Mbe(t)||eX(t)||Obe()}function Obe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ibe(t){if(Array.isArray(t))return HN(t)}function NL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(r),!0).forEach(function(n){VN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VN(t,e,r){return e=Rbe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rbe(t){var e=Pbe(t,"string");return Kv(e)==="symbol"?e:String(e)}function Pbe(t,e){if(Kv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bbe(t,e){return $be(t)||Fbe(t,e)||eX(t,e)||kbe()}function kbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eX(t,e){if(t){if(typeof t=="string")return HN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HN(t,e)}}function HN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function $be(t){if(Array.isArray(t))return t}var y1=function(e,r,n){return e+(r-e)*n},GN=function(e){var r=e.from,n=e.to;return r!==n},Lbe=function t(e,r,n){var i=sv(function(a,o){if(GN(o)){var s=e(o.from,o.to,o.velocity),l=Bbe(s,2),u=l[0],f=l[1];return li(li({},o),{},{from:u,velocity:f})}return o},r);return n<1?sv(function(a,o){return GN(o)?li(li({},o),{},{velocity:y1(o.velocity,i[a].velocity,n),from:y1(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const jbe=(function(t,e,r,n,i){var a=vbe(t,e),o=a.reduce(function(b,E){return li(li({},b),{},VN({},E,[t[E],e[E]]))},{}),s=a.reduce(function(b,E){return li(li({},b),{},VN({},E,{from:t[E],velocity:0,to:e[E]}))},{}),l=-1,u,f,d=function(){return null},p=function(){return sv(function(E,O){return O.from},s)},m=function(){return!Object.values(s).filter(GN).length},y=function(E){u||(u=E);var O=E-u,A=O/r.dt;s=Lbe(r,s,A),i(li(li(li({},t),e),p())),u=E,m()||(l=requestAnimationFrame(d))},g=function(E){f||(f=E);var O=(E-f)/n,A=sv(function(x,_){return y1.apply(void 0,DL(_).concat([r(O)]))},o);if(i(li(li(li({},t),e),A)),O<1)l=requestAnimationFrame(d);else{var S=sv(function(x,_){return y1.apply(void 0,DL(_).concat([r(1)]))},o);i(li(li(li({},t),e),S))}};return d=r.isStepper?y:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}var qbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ube(t,e){if(t==null)return{};var r=zbe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zbe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function jD(t){return Kbe(t)||Gbe(t)||Hbe(t)||Vbe()}function Vbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hbe(t,e){if(t){if(typeof t=="string")return KN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KN(t,e)}}function Gbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kbe(t){if(Array.isArray(t))return KN(t)}function KN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ao(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){Km(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Km(t,e,r){return e=tX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wbe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tX(n.key),n)}}function Ybe(t,e,r){return e&&Wbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tX(t){var e=Qbe(t,"string");return Rd(e)==="symbol"?e:String(e)}function Qbe(t,e){if(Rd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XN(t,e)}function XN(t,e){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XN(t,e)}function Jbe(t){var e=e1e();return function(){var n=b1(t),i;if(e){var a=b1(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return WN(this,i)}}function WN(t,e){if(e&&(Rd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YN(t)}function YN(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b1(t){return b1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b1(t)}var Ts=(function(t){Zbe(r,t);var e=Jbe(r);function r(n,i){var a;Xbe(this,r),a=e.call(this,n,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,f=o.to,d=o.steps,p=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(YN(a)),a.changeStyle=a.changeStyle.bind(YN(a)),!s||m<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:f}),WN(a);if(d&&d.length)a.state={style:d[0].style};else if(u){if(typeof p=="function")return a.state={style:u},WN(a);a.state={style:l?Km({},l,u):u}}else a.state={style:{}};return a}return Ybe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,f=a.to,d=a.from,p=this.state.style;if(s){if(!o){var m={style:l?Km({},l,f):f};this.state&&p&&(l&&p[l]!==f||!l&&p!==f)&&this.setState(m);return}if(!(obe(i.to,f)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=y||u?d:i.to;if(this.state&&p){var b={style:l?Km({},l,g):g};(l&&p[l]!==g||!l&&p!==g)&&this.setState(b)}this.runAnimation(Ao(Ao({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,f=i.begin,d=i.onAnimationEnd,p=i.onAnimationStart,m=jbe(o,s,Cbe(u),l,this.changeStyle),y=function(){a.stopJSAnimation=m()};this.manager.start([p,f,y,l,d])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],f=u.style,d=u.duration,p=d===void 0?0:d,m=function(g,b,E){if(E===0)return g;var O=b.duration,A=b.easing,S=A===void 0?"ease":A,x=b.style,_=b.properties,T=b.onAnimationEnd,N=E>0?o[E-1]:b,C=_||Object.keys(x);if(typeof S=="function"||S==="spring")return[].concat(jD(g),[a.runJSAnimation.bind(a,{from:N.style,to:x,duration:O,easing:S}),O]);var R=EL(C,O,S),I=Ao(Ao(Ao({},N.style),x),{},{transition:R});return[].concat(jD(g),[I,O,T]).filter(gbe)};return this.manager.start([l].concat(jD(o.reduce(m,[f,Math.max(p,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=dbe());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,p=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var g=s?Km({},s,l):l,b=EL(Object.keys(g),o,u);y.start([f,a,Ao(Ao({},g),{},{transition:b}),o,d])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Ube(i,qbe),u=Ee.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!s||u===0||o<=0)return a;var d=function(m){var y=m.props,g=y.style,b=g===void 0?{}:g,E=y.className,O=Ee.cloneElement(m,Ao(Ao({},l),{},{style:Ao(Ao({},b),f),className:E}));return O};return u===1?d(Ee.Children.only(a)):xe.createElement("div",null,Ee.Children.map(a,function(p){return d(p)}))}}]),r})(Ee.PureComponent);Ts.displayName="Animate";Ts.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ts.propTypes={from:br.oneOfType([br.object,br.string]),to:br.oneOfType([br.object,br.string]),attributeName:br.string,duration:br.number,begin:br.number,easing:br.oneOfType([br.string,br.func]),steps:br.arrayOf(br.shape({duration:br.number.isRequired,style:br.object.isRequired,easing:br.oneOfType([br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),br.func]),properties:br.arrayOf("string"),onAnimationEnd:br.func})),children:br.oneOfType([br.node,br.func]),isActive:br.bool,canBegin:br.bool,onAnimationEnd:br.func,shouldReAnimate:br.bool,onAnimationStart:br.func,onAnimationReStart:br.func};function kn(){return kn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kn.apply(null,arguments)}function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function w1(){return w1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w1.apply(this,arguments)}function t1e(t,e){return a1e(t)||i1e(t,e)||n1e(t,e)||r1e()}function r1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n1e(t,e){if(t){if(typeof t=="string")return OL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OL(t,e)}}function OL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i1e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function a1e(t){if(Array.isArray(t))return t}function ML(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(r),!0).forEach(function(n){o1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o1e(t,e,r){return e=s1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s1e(t){var e=u1e(t,"string");return Xv(e)=="symbol"?e:e+""}function u1e(t,e){if(Xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RL=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&a instanceof Array){for(var d=[0,0,0,0],p=0,m=4;p<m;p++)d[p]=a[p]>o?o:a[p];f="M".concat(e,",").concat(r+s*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(r)),f+="L ".concat(e+n-l*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+s*d[1])),f+="L ".concat(e+n,",").concat(r+i-s*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+n-l*d[2],",").concat(r+i)),f+="L ".concat(e+l*d[3],",").concat(r+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-s*d[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);f="M ".concat(e,",").concat(r+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+l*y,",").concat(r,`
            L `).concat(e+n-l*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(r+s*y,`
            L `).concat(e+n,",").concat(r+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-l*y,",").concat(r+i,`
            L `).concat(e+l*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(r+i-s*y," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},l1e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,s=r.width,l=r.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),f=Math.max(a,a+s),d=Math.min(o,o+l),p=Math.max(o,o+l);return n>=u&&n<=f&&i>=d&&i<=p}return!1},c1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GM=function(e){var r=IL(IL({},c1e),e),n=Ee.useRef(),i=Ee.useState(-1),a=t1e(i,2),o=a[0],s=a[1];Ee.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var l=r.x,u=r.y,f=r.width,d=r.height,p=r.radius,m=r.className,y=r.animationEasing,g=r.animationDuration,b=r.animationBegin,E=r.isAnimationActive,O=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var A=Ht("recharts-rectangle",m);return O?xe.createElement(Ts,{canBegin:o>0,from:{width:f,height:d,x:l,y:u},to:{width:f,height:d,x:l,y:u},duration:g,animationEasing:y,isActive:O},function(S){var x=S.width,_=S.height,T=S.x,N=S.y;return xe.createElement(Ts,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,isActive:E,easing:y},xe.createElement("path",w1({},bt(r,!0),{className:A,d:RL(T,N,x,_,p),ref:n})))}):xe.createElement("path",w1({},bt(r,!0),{className:A,d:RL(l,u,f,d,p)}))},f1e=["points","className","baseLinePoints","connectNulls"];function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zh.apply(this,arguments)}function h1e(t,e){if(t==null)return{};var r=d1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function d1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PL(t){return g1e(t)||v1e(t)||m1e(t)||p1e()}function p1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m1e(t,e){if(t){if(typeof t=="string")return QN(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QN(t,e)}}function v1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g1e(t){if(Array.isArray(t))return QN(t)}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var BL=function(e){return e&&e.x===+e.x&&e.y===+e.y},y1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){BL(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),BL(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},uv=function(e,r){var n=y1e(e);r&&(n=[n.reduce(function(a,o){return[].concat(PL(a),PL(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,l){return"".concat(o).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},b1e=function(e,r,n){var i=uv(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(uv(r.reverse(),n).slice(1))},w1e=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=h1e(e,f1e);if(!r||!r.length)return null;var s=Ht("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",u=b1e(r,i,a);return xe.createElement("g",{className:s},xe.createElement("path",Zh({},bt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),l?xe.createElement("path",Zh({},bt(o,!0),{fill:"none",d:uv(r,a)})):null,l?xe.createElement("path",Zh({},bt(o,!0),{fill:"none",d:uv(i,a)})):null)}var f=uv(r,a);return xe.createElement("path",Zh({},bt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:s,d:f}))};function ZN(){return ZN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZN.apply(this,arguments)}var cx=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=Ht("recharts-dot",a);return r===+r&&n===+n&&i===+i?Ee.createElement("circle",ZN({},bt(e,!1),zb(e),{className:o,cx:r,cy:n,r:i})):null};function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}var x1e=["x","y","top","left","width","height","className"];function JN(){return JN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JN.apply(this,arguments)}function kL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _1e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(r),!0).forEach(function(n){A1e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A1e(t,e,r){return e=E1e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E1e(t){var e=S1e(t,"string");return Wv(e)=="symbol"?e:e+""}function S1e(t,e){if(Wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T1e(t,e){if(t==null)return{};var r=D1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var N1e=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},C1e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,f=e.width,d=f===void 0?0:f,p=e.height,m=p===void 0?0:p,y=e.className,g=T1e(e,x1e),b=_1e({x:n,y:a,top:s,left:u,width:d,height:m},g);return!tt(n)||!tt(a)||!tt(d)||!tt(m)||!tt(s)||!tt(u)?null:xe.createElement("path",JN({},bt(b,!0),{className:Ht("recharts-cross",y),d:N1e(n,a,d,m,s,u)}))},qD,FL;function O1e(){if(FL)return qD;FL=1;var t=ax(),e=vK(),r=Os();function n(i,a){return i&&i.length?t(i,r(a,2),e):void 0}return qD=n,qD}var M1e=O1e();const I1e=pr(M1e);var UD,$L;function R1e(){if($L)return UD;$L=1;var t=ax(),e=Os(),r=gK();function n(i,a){return i&&i.length?t(i,e(a,2),r):void 0}return UD=n,UD}var P1e=R1e();const B1e=pr(P1e);var k1e=["cx","cy","angle","ticks","axisLine"],F1e=["ticks","tick","angle","tickFormatter","stroke"];function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lv.apply(this,arguments)}function LL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(r),!0).forEach(function(n){fx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jL(t,e){if(t==null)return{};var r=$1e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function L1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nX(n.key),n)}}function j1e(t,e,r){return e&&qL(t.prototype,e),r&&qL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function q1e(t,e,r){return e=x1(e),U1e(t,rX()?Reflect.construct(e,r||[],x1(t).constructor):e.apply(t,r))}function U1e(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z1e(t)}function z1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rX=function(){return!!t})()}function x1(t){return x1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x1(t)}function V1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eC(t,e)}function fx(t,e,r){return e=nX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nX(t){var e=H1e(t,"string");return Pd(e)=="symbol"?e:e+""}function H1e(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hx=(function(t){function e(){return L1e(this,e),q1e(this,e,arguments)}return V1e(e,t),j1e(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,l=a.cy;return Hr(s,l,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=I1e(s,function(f){return f.coordinate||0}),u=B1e(s,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,l=n.axisLine,u=jL(n,k1e),f=s.reduce(function(y,g){return[Math.min(y[0],g.coordinate),Math.max(y[1],g.coordinate)]},[1/0,-1/0]),d=Hr(i,a,f[0],o),p=Hr(i,a,f[1],o),m=kc(kc(kc({},bt(u,!1)),{},{fill:"none"},bt(l,!1)),{},{x1:d.x,y1:d.y,x2:p.x,y2:p.y});return xe.createElement("line",lv({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,f=jL(i,F1e),d=this.getTickTextAnchor(),p=bt(f,!1),m=bt(o,!1),y=a.map(function(g,b){var E=n.getTickValueCoord(g),O=kc(kc(kc(kc({textAnchor:d,transform:"rotate(".concat(90-s,", ").concat(E.x,", ").concat(E.y,")")},p),{},{stroke:"none",fill:u},m),{},{index:b},E),{},{payload:g});return xe.createElement(hr,lv({className:Ht("recharts-polar-radius-axis-tick",HK(o)),key:"tick-".concat(g.coordinate)},vf(n.props,g,b)),e.renderTickItem(o,O,l?l(g.value,b):g.value))});return xe.createElement(hr,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:xe.createElement(hr,{className:Ht("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ti.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return xe.isValidElement(n)?o=xe.cloneElement(n,i):Nt(n)?o=n(i):o=xe.createElement(gf,lv({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])})(Ee.PureComponent);fx(hx,"displayName","PolarRadiusAxis");fx(hx,"axisType","radiusAxis");fx(hx,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vc.apply(this,arguments)}function UL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(r),!0).forEach(function(n){dx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function G1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aX(n.key),n)}}function K1e(t,e,r){return e&&zL(t.prototype,e),r&&zL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function X1e(t,e,r){return e=_1(e),W1e(t,iX()?Reflect.construct(e,r||[],_1(t).constructor):e.apply(t,r))}function W1e(t,e){if(e&&(Bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y1e(t)}function Y1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iX=function(){return!!t})()}function _1(t){return _1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_1(t)}function Q1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tC(t,e)}function tC(t,e){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tC(t,e)}function dx(t,e,r){return e=aX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aX(t){var e=Z1e(t,"string");return Bd(e)=="symbol"?e:e+""}function Z1e(t,e){if(Bd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var J1e=Math.PI/180,VL=1e-5,px=(function(t){function e(){return G1e(this,e),X1e(this,e,arguments)}return Q1e(e,t),K1e(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,f=u||8,d=Hr(a,o,s,n.coordinate),p=Hr(a,o,s+(l==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*J1e),o;return a>VL?o=i==="outer"?"start":"end":a<-VL?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,l=n.axisLineType,u=Fc(Fc({},bt(this.props,!1)),{},{fill:"none"},bt(s,!1));if(l==="circle")return xe.createElement(cx,Vc({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var f=this.props.ticks,d=f.map(function(p){return Hr(i,a,o,p.coordinate)});return xe.createElement(w1e,Vc({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,f=bt(this.props,!1),d=bt(o,!1),p=Fc(Fc({},f),{},{fill:"none"},bt(s,!1)),m=a.map(function(y,g){var b=n.getTickLineCoord(y),E=n.getTickTextAnchor(y),O=Fc(Fc(Fc({textAnchor:E},f),{},{stroke:"none",fill:u},d),{},{index:g,payload:y,x:b.x2,y:b.y2});return xe.createElement(hr,Vc({className:Ht("recharts-polar-angle-axis-tick",HK(o)),key:"tick-".concat(y.coordinate)},vf(n.props,y,g)),s&&xe.createElement("line",Vc({className:"recharts-polar-angle-axis-tick-line"},p,b)),o&&e.renderTickItem(o,O,l?l(y.value,g):y.value))});return xe.createElement(hr,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:xe.createElement(hr,{className:Ht("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return xe.isValidElement(n)?o=xe.cloneElement(n,i):Nt(n)?o=n(i):o=xe.createElement(gf,Vc({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])})(Ee.PureComponent);dx(px,"displayName","PolarAngleAxis");dx(px,"axisType","angleAxis");dx(px,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var zD,HL;function ewe(){if(HL)return zD;HL=1;var t=mG(),e=t(Object.getPrototypeOf,Object);return zD=e,zD}var VD,GL;function twe(){if(GL)return VD;GL=1;var t=Bu(),e=ewe(),r=ku(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var d=e(f);if(d===null)return!0;var p=s.call(d,"constructor")&&d.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==l}return VD=u,VD}var rwe=twe();const nwe=pr(rwe);var HD,KL;function iwe(){if(KL)return HD;KL=1;var t=Bu(),e=ku(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return HD=n,HD}var awe=iwe();const owe=pr(awe);function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A1.apply(this,arguments)}function swe(t,e){return fwe(t)||cwe(t,e)||lwe(t,e)||uwe()}function uwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lwe(t,e){if(t){if(typeof t=="string")return XL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XL(t,e)}}function XL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function fwe(t){if(Array.isArray(t))return t}function WL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(r),!0).forEach(function(n){hwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hwe(t,e,r){return e=dwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dwe(t){var e=pwe(t,"string");return Yv(e)=="symbol"?e:e+""}function pwe(t,e){if(Yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QL=function(e,r,n,i,a){var o=n-i,s;return s="M ".concat(e,",").concat(r),s+="L ".concat(e+n,",").concat(r),s+="L ".concat(e+n-o/2,",").concat(r+a),s+="L ".concat(e+n-o/2-i,",").concat(r+a),s+="L ".concat(e,",").concat(r," Z"),s},mwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vwe=function(e){var r=YL(YL({},mwe),e),n=Ee.useRef(),i=Ee.useState(-1),a=swe(i,2),o=a[0],s=a[1];Ee.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&s(A)}catch{}},[]);var l=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,p=r.height,m=r.className,y=r.animationEasing,g=r.animationDuration,b=r.animationBegin,E=r.isUpdateAnimationActive;if(l!==+l||u!==+u||f!==+f||d!==+d||p!==+p||f===0&&d===0||p===0)return null;var O=Ht("recharts-trapezoid",m);return E?xe.createElement(Ts,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:l,y:u},to:{upperWidth:f,lowerWidth:d,height:p,x:l,y:u},duration:g,animationEasing:y,isActive:E},function(A){var S=A.upperWidth,x=A.lowerWidth,_=A.height,T=A.x,N=A.y;return xe.createElement(Ts,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:g,easing:y},xe.createElement("path",A1({},bt(r,!0),{className:O,d:QL(T,N,S,x,_),ref:n})))}):xe.createElement("g",null,xe.createElement("path",A1({},bt(r,!0),{className:O,d:QL(l,u,f,d,p)})))},gwe=["option","shapeType","propTransformer","activeClassName","isActive"];function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function ywe(t,e){if(t==null)return{};var r=bwe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(r),!0).forEach(function(n){wwe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wwe(t,e,r){return e=xwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xwe(t){var e=_we(t,"string");return Qv(e)=="symbol"?e:e+""}function _we(t,e){if(Qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Awe(t,e){return E1(E1({},e),t)}function Ewe(t,e){return t==="symbols"}function JL(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return xe.createElement(GM,r);case"trapezoid":return xe.createElement(vwe,r);case"sector":return xe.createElement(XK,r);case"symbols":if(Ewe(e))return xe.createElement(fM,r);break;default:return null}}function Swe(t){return Ee.isValidElement(t)?t.props:t}function oX(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?Awe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=ywe(t,gwe),u;if(Ee.isValidElement(e))u=Ee.cloneElement(e,E1(E1({},l),Swe(e)));else if(Nt(e))u=e(l);else if(nwe(e)&&!owe(e)){var f=i(e,l);u=xe.createElement(JL,{shapeType:r,elementProps:f})}else{var d=l;u=xe.createElement(JL,{shapeType:r,elementProps:d})}return s?xe.createElement(hr,{className:o},u):u}function mx(t,e){return e!=null&&"trapezoids"in t.props}function vx(t,e){return e!=null&&"sectors"in t.props}function Zv(t,e){return e!=null&&"points"in t.props}function Twe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function Dwe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Nwe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Cwe(t,e){var r;return mx(t,e)?r=Twe:vx(t,e)?r=Dwe:Zv(t,e)&&(r=Nwe),r}function Owe(t,e){var r;return mx(t,e)?r="trapezoids":vx(t,e)?r="sectors":Zv(t,e)&&(r="points"),r}function Mwe(t,e){if(mx(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(vx(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Zv(t,e)?e.payload:{}}function Iwe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=Owe(r,e),a=Mwe(r,e),o=n.filter(function(l,u){var f=Cg(a,l),d=r.props[i].filter(function(y){var g=Cwe(r,e);return g(y,e)}),p=r.props[i].indexOf(d[d.length-1]),m=u===p;return f&&m}),s=n.indexOf(o[o.length-1]);return s}var cb;function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jh.apply(this,arguments)}function e8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ur(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(r),!0).forEach(function(n){ao(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uX(n.key),n)}}function Pwe(t,e,r){return e&&t8(t.prototype,e),r&&t8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bwe(t,e,r){return e=S1(e),kwe(t,sX()?Reflect.construct(e,r||[],S1(t).constructor):e.apply(t,r))}function kwe(t,e){if(e&&(kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fwe(t)}function Fwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sX=function(){return!!t})()}function S1(t){return S1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S1(t)}function $we(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rC(t,e)}function rC(t,e){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rC(t,e)}function ao(t,e,r){return e=uX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uX(t){var e=Lwe(t,"string");return kd(e)=="symbol"?e:e+""}function Lwe(t,e){if(kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ms=(function(t){function e(r){var n;return Rwe(this,e),n=Bwe(this,e,[r]),ao(n,"pieRef",null),ao(n,"sectorRefs",[]),ao(n,"id",cp("recharts-pie-")),ao(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Nt(i)&&i()}),ao(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Nt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return $we(e,t),Pwe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,l=a.dataKey,u=a.valueKey,f=bt(this.props,!1),d=bt(o,!1),p=bt(s,!1),m=o&&o.offsetRadius||20,y=n.map(function(g,b){var E=(g.startAngle+g.endAngle)/2,O=Hr(g.cx,g.cy,g.outerRadius+m,E),A=Ur(Ur(Ur(Ur({},f),g),{},{stroke:"none"},d),{},{index:b,textAnchor:e.getTextAnchor(O.x,g.cx)},O),S=Ur(Ur(Ur(Ur({},f),g),{},{fill:"none",stroke:g.fill},p),{},{index:b,points:[Hr(g.cx,g.cy,g.outerRadius,E),O]}),x=l;return $t(l)&&$t(u)?x="value":$t(l)&&(x=u),xe.createElement(hr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(b)},s&&e.renderLabelLineItem(s,S,"line"),e.renderLabelItem(o,A,Fn(g,x)))});return xe.createElement(hr,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,l=a.inactiveShape;return n.map(function(u,f){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var d=i.isActiveIndex(f),p=l&&i.hasActiveIndex()?l:null,m=d?o:p,y=Ur(Ur({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return xe.createElement(hr,Jh({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},vf(i.props,u,f),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(f)}),xe.createElement(oX,Jh({option:m,isActive:d,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state,p=d.prevSectors,m=d.prevIsAnimationActive;return xe.createElement(Ts,{begin:s,duration:l,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var g=y.t,b=[],E=a&&a[0],O=E.startAngle;return a.forEach(function(A,S){var x=p&&p[S],_=S>0?Ma(A,"paddingAngle",0):0;if(x){var T=Sa(x.endAngle-x.startAngle,A.endAngle-A.startAngle),N=Ur(Ur({},A),{},{startAngle:O+_,endAngle:O+T(g)+_});b.push(N),O=N.endAngle}else{var C=A.endAngle,R=A.startAngle,I=Sa(0,C-R),P=I(g),k=Ur(Ur({},A),{},{startAngle:O+_,endAngle:O+P+_});b.push(k),O=k.endAngle}}),xe.createElement(hr,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Cg(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,l=i.label,u=i.cx,f=i.cy,d=i.innerRadius,p=i.outerRadius,m=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!tt(u)||!tt(f)||!tt(d)||!tt(p))return null;var g=Ht("recharts-pie",s);return xe.createElement(hr,{tabIndex:this.props.rootTabIndex,className:g,ref:function(E){n.pieRef=E}},this.renderSectors(),l&&this.renderLabels(o),ti.renderCallByParent(this.props,null,!1),(!m||y)&&ws.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(xe.isValidElement(n))return xe.cloneElement(n,i);if(Nt(n))return n(i);var o=Ht("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return xe.createElement(v1,Jh({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(xe.isValidElement(n))return xe.cloneElement(n,i);var o=a;if(Nt(n)&&(o=n(i),xe.isValidElement(o)))return o;var s=Ht("recharts-pie-label-text",typeof n!="boolean"&&!Nt(n)?n.className:"");return xe.createElement(gf,Jh({},i,{alignmentBaseline:"middle",className:s}),o)}}])})(Ee.PureComponent);cb=Ms;ao(Ms,"displayName","Pie");ao(Ms,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Of.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ao(Ms,"parseDeltaAngle",function(t,e){var r=$i(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ao(Ms,"getRealPieData",function(t){var e=t.data,r=t.children,n=bt(t,!1),i=Ia(r,Do);return e&&e.length?e.map(function(a,o){return Ur(Ur(Ur({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Ur(Ur({},n),a.props)}):[]});ao(Ms,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=VK(i,a),s=n+Li(t.cx,i,i/2),l=r+Li(t.cy,a,a/2),u=Li(t.innerRadius,o,0),f=Li(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:f,maxRadius:d}});ao(Ms,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ur(Ur({},e.type.defaultProps),e.props):e.props,i=cb.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,l=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,p=n.tooltipType,m=Math.abs(n.minAngle),y=cb.parseCoordinateOfPie(n,r),g=cb.parseDeltaAngle(o,s),b=Math.abs(g),E=u;$t(u)&&$t(d)?(Io(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E="value"):$t(u)&&(Io(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E=d);var O=i.filter(function(N){return Fn(N,E,0)!==0}).length,A=(b>=360?O:O-1)*l,S=b-O*m-A,x=i.reduce(function(N,C){var R=Fn(C,E,0);return N+(tt(R)?R:0)},0),_;if(x>0){var T;_=i.map(function(N,C){var R=Fn(N,E,0),I=Fn(N,f,C),P=(tt(R)?R:0)/x,k;C?k=T.endAngle+$i(g)*l*(R!==0?1:0):k=o;var q=k+$i(g)*((R!==0?m:0)+P*S),U=(k+q)/2,F=(y.innerRadius+y.outerRadius)/2,V=[{name:I,value:R,payload:N,dataKey:E,type:p}],Z=Hr(y.cx,y.cy,F,U);return T=Ur(Ur(Ur({percent:P,cornerRadius:a,name:I,tooltipPayload:V,midAngle:U,middleRadius:F,tooltipPosition:Z},N),y),{},{value:Fn(N,E),startAngle:k,endAngle:q,payload:N,paddingAngle:$i(g)*l}),T})}return Ur(Ur({},y),{},{sectors:_,data:i})});var GD,r8;function jwe(){if(r8)return GD;r8=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var s=-1,l=e(t((i-n)/(a||1)),0),u=Array(l);l--;)u[o?l:++s]=n,n+=a;return u}return GD=r,GD}var KD,n8;function lX(){if(n8)return KD;n8=1;var t=MG(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return KD=n,KD}var XD,i8;function qwe(){if(i8)return XD;i8=1;var t=jwe(),e=Zw(),r=lX();function n(i){return function(a,o,s){return s&&typeof s!="number"&&e(a,o,s)&&(o=s=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),s=s===void 0?a<o?1:-1:r(s),t(a,o,s,i)}}return XD=n,XD}var WD,a8;function Uwe(){if(a8)return WD;a8=1;var t=qwe(),e=t();return WD=e,WD}var zwe=Uwe();const T1=pr(zwe);function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function o8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function s8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o8(Object(r),!0).forEach(function(n){cX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cX(t,e,r){return e=Vwe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vwe(t){var e=Hwe(t,"string");return Jv(e)=="symbol"?e:e+""}function Hwe(t,e){if(Jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gwe=["Webkit","Moz","O","ms"],Kwe=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Gwe.reduce(function(a,o){return s8(s8({},a),{},cX({},o+n,r))},{});return i[e]=r,i};function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D1.apply(this,arguments)}function u8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(r),!0).forEach(function(n){xa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hX(n.key),n)}}function Wwe(t,e,r){return e&&l8(t.prototype,e),r&&l8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ywe(t,e,r){return e=N1(e),Qwe(t,fX()?Reflect.construct(e,r||[],N1(t).constructor):e.apply(t,r))}function Qwe(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zwe(t)}function Zwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fX=function(){return!!t})()}function N1(t){return N1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N1(t)}function Jwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nC(t,e)}function nC(t,e){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nC(t,e)}function xa(t,e,r){return e=hX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hX(t){var e=exe(t,"string");return Fd(e)=="symbol"?e:e+""}function exe(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var txe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=av().domain(T1(0,l)).range([a,a+o-s]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},c8=function(e){return e.changedTouches&&!!e.changedTouches.length},$d=(function(t){function e(r){var n;return Xwe(this,e),n=Ywe(this,e,[r]),xa(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),xa(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),xa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o?.({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),xa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xa(n,"handleSlideDragStart",function(i){var a=c8(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Jwe(e,t),Wwe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,f=u.length-1,d=Math.min(i,a),p=Math.max(i,a),m=e.getIndexInRange(o,d),y=e.getIndexInRange(o,p);return{startIndex:m-m%l,endIndex:y===f?f:y-y%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=Fn(a[n],s,n);return Nt(o)?o(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,f=l.width,d=l.travellerWidth,p=l.startIndex,m=l.endIndex,y=l.onChange,g=n.pageX-a;g>0?g=Math.min(g,u+f-d-s,u+f-d-o):g<0&&(g=Math.max(g,u-o,u-s));var b=this.getIndex({startX:o+g,endX:s+g});(b.startIndex!==p||b.endIndex!==m)&&y&&y(b),this.setState({startX:o+g,endX:s+g,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=c8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],f=this.props,d=f.x,p=f.width,m=f.travellerWidth,y=f.onChange,g=f.gap,b=f.data,E={startX:this.state.startX,endX:this.state.endX},O=n.pageX-a;O>0?O=Math.min(O,d+p-m-u):O<0&&(O=Math.max(O,d-u)),E[o]=u+O;var A=this.getIndex(E),S=A.startIndex,x=A.endIndex,_=function(){var N=b.length-1;return o==="startX"&&(s>l?S%g===0:x%g===0)||s<l&&x===N||o==="endX"&&(s>l?x%g===0:S%g===0)||s>l&&x===N};this.setState(xa(xa({},o,u+O),"brushMoveStartX",n.pageX),function(){y&&_()&&y(A)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,f=this.state[i],d=s.indexOf(f);if(d!==-1){var p=d+n;if(!(p===-1||p>=s.length)){var m=s[p];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(xa({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.fill,u=n.stroke;return xe.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.data,u=n.children,f=n.padding,d=Ee.Children.only(u);return d?xe.cloneElement(d,{x:i,y:a,width:o,height:s,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,l=this.props,u=l.y,f=l.travellerWidth,d=l.height,p=l.traveller,m=l.ariaLabel,y=l.data,g=l.startIndex,b=l.endIndex,E=Math.max(n,this.props.x),O=YD(YD({},bt(this.props,!1)),{},{x:E,y:u,width:f,height:d}),A=m||"Min value: ".concat((a=y[g])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[b])===null||o===void 0?void 0:o.name);return xe.createElement(hr,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),s.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,O))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,f=Math.min(n,i)+u,d=Math.max(Math.abs(i-n)-u,0);return xe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:d,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,l=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,p=f.endX,m=5,y={pointerEvents:"none",fill:u};return xe.createElement(hr,{className:"recharts-brush-texts"},xe.createElement(gf,D1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,p)-m,y:o+s/2},y),this.getTextOfTick(i)),xe.createElement(gf,D1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,p)+l+m,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,l=n.y,u=n.width,f=n.height,d=n.alwaysShowText,p=this.state,m=p.startX,y=p.endX,g=p.isTextActive,b=p.isSlideMoving,E=p.isTravellerMoving,O=p.isTravellerFocused;if(!i||!i.length||!tt(s)||!tt(l)||!tt(u)||!tt(f)||u<=0||f<=0)return null;var A=Ht("recharts-brush",a),S=xe.Children.count(o)===1,x=Kwe("userSelect","none");return xe.createElement(hr,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(g||b||E||O||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,l=n.stroke,u=Math.floor(a+s/2)-1;return xe.createElement(xe.Fragment,null,xe.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),xe.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),xe.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return xe.isValidElement(n)?a=xe.cloneElement(n,i):Nt(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,l=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return YD({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?txe({data:a,width:o,x:s,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);n[l]>i?s=l:o=l}return i>=n[s]?s:o}}])})(Ee.PureComponent);xa($d,"displayName","Brush");xa($d,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var QD,f8;function rxe(){if(f8)return QD;f8=1;var t=yM();function e(r,n){var i;return t(r,function(a,o,s){return i=n(a,o,s),!i}),!!i}return QD=e,QD}var ZD,h8;function nxe(){if(h8)return ZD;h8=1;var t=uG(),e=Os(),r=rxe(),n=la(),i=Zw();function a(o,s,l){var u=n(o)?t:r;return l&&i(o,s,l)&&(s=void 0),u(o,e(s,3))}return ZD=a,ZD}var ixe=nxe();const axe=pr(ixe);var xs=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},JD,d8;function oxe(){if(d8)return JD;d8=1;var t=TG();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return JD=e,JD}var e2,p8;function sxe(){if(p8)return e2;p8=1;var t=oxe(),e=EG(),r=Os();function n(i,a){var o={};return a=r(a,3),e(i,function(s,l,u){t(o,l,a(s,l,u))}),o}return e2=n,e2}var uxe=sxe();const lxe=pr(uxe);var t2,m8;function cxe(){if(m8)return t2;m8=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return t2=t,t2}var r2,v8;function fxe(){if(v8)return r2;v8=1;var t=yM();function e(r,n){var i=!0;return t(r,function(a,o,s){return i=!!n(a,o,s),i}),i}return r2=e,r2}var n2,g8;function hxe(){if(g8)return n2;g8=1;var t=cxe(),e=fxe(),r=Os(),n=la(),i=Zw();function a(o,s,l){var u=n(o)?t:e;return l&&i(o,s,l)&&(s=void 0),u(o,r(s,3))}return n2=a,n2}var dxe=hxe();const dX=pr(dxe);var pxe=["x","y"];function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iC.apply(this,arguments)}function y8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $m(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y8(Object(r),!0).forEach(function(n){mxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mxe(t,e,r){return e=vxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vxe(t){var e=gxe(t,"string");return eg(e)=="symbol"?e:e+""}function gxe(t,e){if(eg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(eg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yxe(t,e){if(t==null)return{};var r=bxe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wxe(t,e){var r=t.x,n=t.y,i=yxe(t,pxe),a="".concat(r),o=parseInt(a,10),s="".concat(n),l=parseInt(s,10),u="".concat(e.height||i.height),f=parseInt(u,10),d="".concat(e.width||i.width),p=parseInt(d,10);return $m($m($m($m($m({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function b8(t){return xe.createElement(oX,iC({shapeType:"rectangle",propTransformer:wxe,activeClassName:"recharts-active-bar"},t))}var xxe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=tt(n)||Hle(n);return a?e(n,i):(a||bf(),r)}},_xe=["value","background"],pX;function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function Axe(t,e){if(t==null)return{};var r=Exe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Exe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function C1(){return C1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C1.apply(this,arguments)}function w8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(r),!0).forEach(function(n){El(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vX(n.key),n)}}function Txe(t,e,r){return e&&x8(t.prototype,e),r&&x8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dxe(t,e,r){return e=O1(e),Nxe(t,mX()?Reflect.construct(e,r||[],O1(t).constructor):e.apply(t,r))}function Nxe(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cxe(t)}function Cxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mX=function(){return!!t})()}function O1(t){return O1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O1(t)}function Oxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aC(t,e)}function aC(t,e){return aC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aC(t,e)}function El(t,e,r){return e=vX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vX(t){var e=Mxe(t,"string");return Ld(e)=="symbol"?e:e+""}function Mxe(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var no=(function(t){function e(){var r;Sxe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Dxe(this,e,[].concat(i)),El(r,"state",{isAnimationFinished:!1}),El(r,"id",cp("recharts-bar-")),El(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),El(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Oxe(e,t),Txe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,f=bt(this.props,!1);return n&&n.map(function(d,p){var m=p===l,y=m?u:o,g=xn(xn(xn({},f),d),{},{isActive:m,option:y,index:p,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return xe.createElement(hr,C1({className:"recharts-bar-rectangle"},vf(i.props,d,p),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value,"-").concat(p)}),xe.createElement(b8,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,f=i.animationEasing,d=i.animationId,p=this.state.prevData;return xe.createElement(Ts,{begin:l,duration:u,isActive:s,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,g=a.map(function(b,E){var O=p&&p[E];if(O){var A=Sa(O.x,b.x),S=Sa(O.y,b.y),x=Sa(O.width,b.width),_=Sa(O.height,b.height);return xn(xn({},b),{},{x:A(y),y:S(y),width:x(y),height:_(y)})}if(o==="horizontal"){var T=Sa(0,b.height),N=T(y);return xn(xn({},b),{},{y:b.y+b.height-N,height:N})}var C=Sa(0,b.width),R=C(y);return xn(xn({},b),{},{width:R})});return xe.createElement(hr,null,n.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Cg(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=bt(this.props.background,!1);return a.map(function(u,f){u.value;var d=u.background,p=Axe(u,_xe);if(!d)return null;var m=xn(xn(xn(xn(xn({},p),{},{fill:"#eee"},d),l),vf(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return xe.createElement(b8,C1({key:"background-bar-".concat(f),option:n.props.background,isActive:f===s},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,d=Ia(f,Og);if(!d)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,m=function(b,E){var O=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:O,errorVal:Fn(b,E)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return xe.createElement(hr,y,d.map(function(g){return xe.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,l=n.yAxis,u=n.left,f=n.top,d=n.width,p=n.height,m=n.isAnimationActive,y=n.background,g=n.id;if(i||!a||!a.length)return null;var b=this.state.isAnimationFinished,E=Ht("recharts-bar",o),O=s&&s.allowDataOverflow,A=l&&l.allowDataOverflow,S=O||A,x=$t(g)?this.id:g;return xe.createElement(hr,{className:E},O||A?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(x)},xe.createElement("rect",{x:O?u:u-d/2,y:A?f:f-p/2,width:O?d:d*2,height:A?p:p*2}))):null,xe.createElement(hr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(x,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,x),(!m||b)&&ws.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(Ee.PureComponent);pX=no;El(no,"displayName","Bar");El(no,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Of.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});El(no,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,d=t.displayedData,p=t.offset,m=oye(n,r);if(!m)return null;var y=e.layout,g=r.type.defaultProps,b=g!==void 0?xn(xn({},g),r.props):r.props,E=b.dataKey,O=b.children,A=b.minPointSize,S=y==="horizontal"?o:a,x=u?S.scale.domain():null,_=dye({numericAxis:S}),T=Ia(O,Do),N=d.map(function(C,R){var I,P,k,q,U,F;u?I=sye(u[f+R],x):(I=Fn(C,E),Array.isArray(I)||(I=[_,I]));var V=xxe(A,pX.defaultProps.minPointSize)(I[1],R);if(y==="horizontal"){var Z,H=[o.scale(I[0]),o.scale(I[1])],z=H[0],J=H[1];P=G5({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:C,index:R}),k=(Z=J??z)!==null&&Z!==void 0?Z:void 0,q=m.size;var $=z-J;if(U=Number.isNaN($)?0:$,F={x:P,y:o.y,width:q,height:o.height},Math.abs(V)>0&&Math.abs(U)<Math.abs(V)){var Q=$i(U||V)*(Math.abs(V)-Math.abs(U));k-=Q,U+=Q}}else{var K=[a.scale(I[0]),a.scale(I[1])],we=K[0],ge=K[1];if(P=we,k=G5({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:C,index:R}),q=ge-we,U=m.size,F={x:a.x,y:k,width:a.width,height:U},Math.abs(V)>0&&Math.abs(q)<Math.abs(V)){var Ae=$i(q||V)*(Math.abs(V)-Math.abs(q));q+=Ae}}return xn(xn(xn({},C),{},{x:P,y:k,width:q,height:U,value:u?I:I[1],payload:C,background:F},T&&T[R]&&T[R].props),{},{tooltipPayload:[UK(r,C)],tooltipPosition:{x:P+q/2,y:k+U/2}})});return xn({data:N,layout:y},p)});function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}function Ixe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gX(n.key),n)}}function Rxe(t,e,r){return e&&_8(t.prototype,e),r&&_8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function So(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){gx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gx(t,e,r){return e=gX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gX(t){var e=Pxe(t,"string");return tg(e)=="symbol"?e:e+""}function Pxe(t,e){if(tg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yX=function(e,r,n,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},p=!!Aa(u,no);return f.reduce(function(m,y){var g=r[y],b=g.orientation,E=g.domain,O=g.padding,A=O===void 0?{}:O,S=g.mirror,x=g.reversed,_="".concat(b).concat(S?"Mirror":""),T,N,C,R,I;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var P=E[1]-E[0],k=1/0,q=g.categoricalDomain.sort(Xle);if(q.forEach(function(K,we){we>0&&(k=Math.min((K||0)-(q[we-1]||0),k))}),Number.isFinite(k)){var U=k/P,F=g.layout==="vertical"?n.height:n.width;if(g.padding==="gap"&&(T=U*F/2),g.padding==="no-gap"){var V=Li(e.barCategoryGap,U*F),Z=U*F/2;T=Z-V-(Z-V)/F*V}}}i==="xAxis"?N=[n.left+(A.left||0)+(T||0),n.left+n.width-(A.right||0)-(T||0)]:i==="yAxis"?N=l==="horizontal"?[n.top+n.height-(A.bottom||0),n.top+(A.top||0)]:[n.top+(A.top||0)+(T||0),n.top+n.height-(A.bottom||0)-(T||0)]:N=g.range,x&&(N=[N[1],N[0]]);var H=$K(g,a,p),z=H.scale,J=H.realScaleType;z.domain(E).range(N),LK(z);var $=jK(z,So(So({},g),{},{realScaleType:J}));i==="xAxis"?(I=b==="top"&&!S||b==="bottom"&&S,C=n.left,R=d[_]-I*g.height):i==="yAxis"&&(I=b==="left"&&!S||b==="right"&&S,C=d[_]-I*g.width,R=n.top);var Q=So(So(So({},g),$),{},{realScaleType:J,x:C,y:R,scale:z,width:i==="xAxis"?n.width:g.width,height:i==="yAxis"?n.height:g.height});return Q.bandSize=d1(Q,$),!g.hide&&i==="xAxis"?d[_]+=(I?-1:1)*Q.height:g.hide||(d[_]+=(I?-1:1)*Q.width),So(So({},m),{},gx({},y,Q))},{})},bX=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Bxe=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return bX({x:r,y:n},{x:i,y:a})},wX=(function(){function t(e){Ixe(this,t),this.scale=e}return Rxe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();gx(wX,"EPS",1e-4);var KM=function(e){var r=Object.keys(e).reduce(function(n,i){return So(So({},n),{},gx({},i,wX.create(e[i])))},{});return So(So({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return lxe(i,function(l,u){return r[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return dX(i,function(a,o){return r[o].isInRange(a)})}})};function kxe(t){return(t%180+180)%180}var Fxe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=kxe(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},i2,E8;function $xe(){if(E8)return i2;E8=1;var t=Os(),e=Eg(),r=Yw();function n(i){return function(a,o,s){var l=Object(a);if(!e(a)){var u=t(o,3);a=r(a),o=function(d){return u(l[d],d,l)}}var f=i(a,o,s);return f>-1?l[u?a[f]:f]:void 0}}return i2=n,i2}var a2,S8;function Lxe(){if(S8)return a2;S8=1;var t=lX();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return a2=e,a2}var o2,T8;function jxe(){if(T8)return o2;T8=1;var t=bG(),e=Os(),r=Lxe(),n=Math.max;function i(a,o,s){var l=a==null?0:a.length;if(!l)return-1;var u=s==null?0:r(s);return u<0&&(u=n(l+u,0)),t(a,e(o,3),u)}return o2=i,o2}var s2,D8;function qxe(){if(D8)return s2;D8=1;var t=$xe(),e=jxe(),r=t(e);return s2=r,s2}var Uxe=qxe();const zxe=pr(Uxe);var Vxe=BH();const Hxe=pr(Vxe);var Gxe=Hxe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XM=Ee.createContext(void 0),WM=Ee.createContext(void 0),xX=Ee.createContext(void 0),_X=Ee.createContext({}),AX=Ee.createContext(void 0),EX=Ee.createContext(0),SX=Ee.createContext(0),N8=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,f=Gxe(a);return xe.createElement(XM.Provider,{value:n},xe.createElement(WM.Provider,{value:i},xe.createElement(_X.Provider,{value:a},xe.createElement(xX.Provider,{value:f},xe.createElement(AX.Provider,{value:o},xe.createElement(EX.Provider,{value:u},xe.createElement(SX.Provider,{value:l},s)))))))},Kxe=function(){return Ee.useContext(AX)},TX=function(e){var r=Ee.useContext(XM);r==null&&bf();var n=r[e];return n==null&&bf(),n},Xxe=function(){var e=Ee.useContext(XM);return xl(e)},Wxe=function(){var e=Ee.useContext(WM),r=zxe(e,function(n){return dX(n.domain,Number.isFinite)});return r||xl(e)},DX=function(e){var r=Ee.useContext(WM);r==null&&bf();var n=r[e];return n==null&&bf(),n},Yxe=function(){var e=Ee.useContext(xX);return e},Qxe=function(){return Ee.useContext(_X)},YM=function(){return Ee.useContext(SX)},QM=function(){return Ee.useContext(EX)};function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function Zxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jxe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,CX(n.key),n)}}function e_e(t,e,r){return e&&Jxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t_e(t,e,r){return e=M1(e),r_e(t,NX()?Reflect.construct(e,r||[],M1(t).constructor):e.apply(t,r))}function r_e(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n_e(t)}function n_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NX=function(){return!!t})()}function M1(t){return M1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M1(t)}function i_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oC(t,e)}function oC(t,e){return oC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oC(t,e)}function C8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(r),!0).forEach(function(n){ZM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZM(t,e,r){return e=CX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CX(t){var e=a_e(t,"string");return jd(e)=="symbol"?e:e+""}function a_e(t,e){if(jd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function o_e(t,e){return c_e(t)||l_e(t,e)||u_e(t,e)||s_e()}function s_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u_e(t,e){if(t){if(typeof t=="string")return M8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M8(t,e)}}function M8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l_e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function c_e(t){if(Array.isArray(t))return t}function sC(){return sC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sC.apply(this,arguments)}var f_e=function(e,r){var n;return xe.isValidElement(e)?n=xe.cloneElement(e,r):Nt(e)?n=e(r):n=xe.createElement("line",sC({},r,{className:"recharts-reference-line-line"})),n},h_e=function(e,r,n,i,a,o,s,l,u){var f=a.x,d=a.y,p=a.width,m=a.height;if(n){var y=u.y,g=e.y.apply(y,{position:o});if(xs(u,"discard")&&!e.y.isInRange(g))return null;var b=[{x:f+p,y:g},{x:f,y:g}];return l==="left"?b.reverse():b}if(r){var E=u.x,O=e.x.apply(E,{position:o});if(xs(u,"discard")&&!e.x.isInRange(O))return null;var A=[{x:O,y:d+m},{x:O,y:d}];return s==="top"?A.reverse():A}if(i){var S=u.segment,x=S.map(function(_){return e.apply(_,{position:o})});return xs(u,"discard")&&axe(x,function(_){return!e.isInRange(_)})?null:x}return null};function d_e(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Kxe(),f=TX(i),d=DX(a),p=Yxe();if(!u||!p)return null;Io(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=KM({x:f.scale,y:d.scale}),y=$n(e),g=$n(r),b=n&&n.length===2,E=h_e(m,y,g,b,p,t.position,f.orientation,d.orientation,t);if(!E)return null;var O=o_e(E,2),A=O[0],S=A.x,x=A.y,_=O[1],T=_.x,N=_.y,C=xs(t,"hidden")?"url(#".concat(u,")"):void 0,R=O8(O8({clipPath:C},bt(t,!0)),{},{x1:S,y1:x,x2:T,y2:N});return xe.createElement(hr,{className:Ht("recharts-reference-line",s)},f_e(o,R),ti.renderCallByParent(t,Bxe({x1:S,y1:x,x2:T,y2:N})))}var JM=(function(t){function e(){return Zxe(this,e),t_e(this,e,arguments)}return i_e(e,t),e_e(e,[{key:"render",value:function(){return xe.createElement(d_e,this.props)}}])})(xe.Component);ZM(JM,"displayName","ReferenceLine");ZM(JM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function uC(){return uC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uC.apply(this,arguments)}function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function I8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(r),!0).forEach(function(n){yx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function p_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MX(n.key),n)}}function v_e(t,e,r){return e&&m_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g_e(t,e,r){return e=I1(e),y_e(t,OX()?Reflect.construct(e,r||[],I1(t).constructor):e.apply(t,r))}function y_e(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b_e(t)}function b_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OX=function(){return!!t})()}function I1(t){return I1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I1(t)}function w_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lC(t,e)}function lC(t,e){return lC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lC(t,e)}function yx(t,e,r){return e=MX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MX(t){var e=x_e(t,"string");return qd(e)=="symbol"?e:e+""}function x_e(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var __e=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=KM({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return xs(e,"discard")&&!o.isInRange(s)?null:s},bx=(function(t){function e(){return p_e(this,e),g_e(this,e,arguments)}return w_e(e,t),v_e(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,l=n.clipPathId,u=$n(i),f=$n(a);if(Io(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=__e(this.props);if(!d)return null;var p=d.x,m=d.y,y=this.props,g=y.shape,b=y.className,E=xs(this.props,"hidden")?"url(#".concat(l,")"):void 0,O=R8(R8({clipPath:E},bt(this.props,!0)),{},{cx:p,cy:m});return xe.createElement(hr,{className:Ht("recharts-reference-dot",b)},e.renderDot(g,O),ti.renderCallByParent(this.props,{x:p-o,y:m-o,width:2*o,height:2*o}))}}])})(xe.Component);yx(bx,"displayName","ReferenceDot");yx(bx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yx(bx,"renderDot",function(t,e){var r;return xe.isValidElement(t)?r=xe.cloneElement(t,e):Nt(t)?r=t(e):r=xe.createElement(cx,uC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function cC(){return cC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cC.apply(this,arguments)}function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function P8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(n){wx(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E_e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RX(n.key),n)}}function S_e(t,e,r){return e&&E_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function T_e(t,e,r){return e=R1(e),D_e(t,IX()?Reflect.construct(e,r||[],R1(t).constructor):e.apply(t,r))}function D_e(t,e){if(e&&(Ud(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N_e(t)}function N_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IX=function(){return!!t})()}function R1(t){return R1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R1(t)}function C_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fC(t,e)}function fC(t,e){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fC(t,e)}function wx(t,e,r){return e=RX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RX(t){var e=O_e(t,"string");return Ud(e)=="symbol"?e:e+""}function O_e(t,e){if(Ud(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M_e=function(e,r,n,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,f=a.xAxis,d=a.yAxis;if(!f||!d)return null;var p=KM({x:f.scale,y:d.scale}),m={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(l,{position:"start"}):p.y.rangeMin},y={x:r?p.x.apply(s,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return xs(a,"discard")&&(!p.isInRange(m)||!p.isInRange(y))?null:bX(m,y)},xx=(function(t){function e(){return A_e(this,e),T_e(this,e,arguments)}return C_e(e,t),S_e(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,l=n.className,u=n.alwaysShow,f=n.clipPathId;Io(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=$n(i),p=$n(a),m=$n(o),y=$n(s),g=this.props.shape;if(!d&&!p&&!m&&!y&&!g)return null;var b=M_e(d,p,m,y,this.props);if(!b&&!g)return null;var E=xs(this.props,"hidden")?"url(#".concat(f,")"):void 0;return xe.createElement(hr,{className:Ht("recharts-reference-area",l)},e.renderRect(g,B8(B8({clipPath:E},bt(this.props,!0)),b)),ti.renderCallByParent(this.props,b))}}])})(xe.Component);wx(xx,"displayName","ReferenceArea");wx(xx,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wx(xx,"renderRect",function(t,e){var r;return xe.isValidElement(t)?r=xe.cloneElement(t,e):Nt(t)?r=t(e):r=xe.createElement(GM,cC({},e,{className:"recharts-reference-area-rect"})),r});function PX(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function I_e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Fxe(n,r)}function R_e(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function P1(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function P_e(t,e){return PX(t,e+1)}function B_e(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,s=e.end,l=0,u=1,f=o,d=function(){var y=n?.[l];if(y===void 0)return{v:PX(n,u)};var g=l,b,E=function(){return b===void 0&&(b=r(y,g)),b},O=y.coordinate,A=l===0||P1(t,O,E,f,s);A||(l=0,f=o,u+=1),A&&(f=O+t*(E()/2+i),l+=u)},p;u<=a.length;)if(p=d(),p)return p.v;return[]}function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function k8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ai(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k8(Object(r),!0).forEach(function(n){k_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k_e(t,e,r){return e=F_e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F_e(t){var e=$_e(t,"string");return rg(e)=="symbol"?e:e+""}function $_e(t,e){if(rg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L_e(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(p){var m=a[p],y,g=function(){return y===void 0&&(y=r(m,p)),y};if(p===o-1){var b=t*(m.coordinate+t*g()/2-l);a[p]=m=Ai(Ai({},m),{},{tickCoord:b>0?m.coordinate-b*t:m.coordinate})}else a[p]=m=Ai(Ai({},m),{},{tickCoord:m.coordinate});var E=P1(t,m.tickCoord,g,s,l);E&&(l=m.tickCoord-t*(g()/2+i),a[p]=Ai(Ai({},m),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function j_e(t,e,r,n,i,a){var o=(n||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var f=n[s-1],d=r(f,s-1),p=t*(f.coordinate+t*d/2-u);o[s-1]=f=Ai(Ai({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var m=P1(t,f.tickCoord,function(){return d},l,u);m&&(u=f.tickCoord-t*(d/2+i),o[s-1]=Ai(Ai({},f),{},{isShow:!0}))}for(var y=a?s-1:s,g=function(O){var A=o[O],S,x=function(){return S===void 0&&(S=r(A,O)),S};if(O===0){var _=t*(A.coordinate-t*x()/2-l);o[O]=A=Ai(Ai({},A),{},{tickCoord:_<0?A.coordinate-_*t:A.coordinate})}else o[O]=A=Ai(Ai({},A),{},{tickCoord:A.coordinate});var T=P1(t,A.tickCoord,x,l,u);T&&(l=A.tickCoord+t*(x()/2+i),o[O]=Ai(Ai({},A),{},{isShow:!0}))},b=0;b<y;b++)g(b);return o}function eI(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,f=t.unit,d=t.angle;if(!i||!i.length||!n)return[];if(tt(l)||Of.isSsr)return P_e(i,typeof l=="number"&&tt(l)?l:0);var p=[],m=s==="top"||s==="bottom"?"width":"height",y=f&&m==="width"?iv(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},g=function(A,S){var x=Nt(u)?u(A.value,S):A.value;return m==="width"?I_e(iv(x,{fontSize:e,letterSpacing:r}),y,d):iv(x,{fontSize:e,letterSpacing:r})[m]},b=i.length>=2?$i(i[1].coordinate-i[0].coordinate):1,E=R_e(a,b,m);return l==="equidistantPreserveStart"?B_e(b,E,g,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=j_e(b,E,g,i,o,l==="preserveStartEnd"):p=L_e(b,E,g,i,o),p.filter(function(O){return O.isShow}))}var q_e=["viewBox"],U_e=["viewBox"],z_e=["ticks"];function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ed.apply(this,arguments)}function F8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(r),!0).forEach(function(n){tI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u2(t,e){if(t==null)return{};var r=V_e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function V_e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function H_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kX(n.key),n)}}function G_e(t,e,r){return e&&$8(t.prototype,e),r&&$8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function K_e(t,e,r){return e=B1(e),X_e(t,BX()?Reflect.construct(e,r||[],B1(t).constructor):e.apply(t,r))}function X_e(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W_e(t)}function W_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BX=function(){return!!t})()}function B1(t){return B1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B1(t)}function Y_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hC(t,e)}function hC(t,e){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hC(t,e)}function tI(t,e,r){return e=kX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kX(t){var e=Q_e(t,"string");return zd(e)=="symbol"?e:e+""}function Q_e(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mp=(function(t){function e(r){var n;return H_e(this,e),n=K_e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Y_e(e,t),G_e(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=u2(n,q_e),s=this.props,l=s.viewBox,u=u2(s,U_e);return!ld(a,l)||!ld(o,u)||!ld(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,f=i.tickSize,d=i.mirror,p=i.tickMargin,m,y,g,b,E,O,A=d?-1:1,S=n.tickSize||f,x=tt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=y=n.coordinate,b=o+ +!d*l,g=b-A*S,O=g-A*p,E=x;break;case"left":g=b=n.coordinate,y=a+ +!d*s,m=y-A*S,E=m-A*p,O=x;break;case"right":g=b=n.coordinate,y=a+ +d*s,m=y+A*S,E=m+A*p,O=x;break;default:m=y=n.coordinate,b=o+ +d*l,g=b+A*S,O=g+A*p,E=x;break}return{line:{x1:m,y1:g,x2:y,y2:b},tick:{x:E,y:O}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,l=n.orientation,u=n.mirror,f=n.axisLine,d=Rn(Rn(Rn({},bt(this.props,!1)),bt(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var p=+(l==="top"&&!u||l==="bottom"&&u);d=Rn(Rn({},d),{},{x1:i,y1:a+p*s,x2:i+o,y2:a+p*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);d=Rn(Rn({},d),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return xe.createElement("line",ed({},d,{className:Ht("recharts-cartesian-axis-line",Ma(f,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,f=s.tick,d=s.tickFormatter,p=s.unit,m=eI(Rn(Rn({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),b=bt(this.props,!1),E=bt(f,!1),O=Rn(Rn({},b),{},{fill:"none"},bt(l,!1)),A=m.map(function(S,x){var _=o.getTickLineCoord(S),T=_.line,N=_.tick,C=Rn(Rn(Rn(Rn({textAnchor:y,verticalAnchor:g},b),{},{stroke:"none",fill:u},E),N),{},{index:x,payload:S,visibleTicksCount:m.length,tickFormatter:d});return xe.createElement(hr,ed({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},vf(o.props,S,x)),l&&xe.createElement("line",ed({},O,T,{className:Ht("recharts-cartesian-axis-tick-line",Ma(l,"className"))})),f&&e.renderTickItem(f,C,"".concat(Nt(d)?d(S.value,x):S.value).concat(p||"")))});return xe.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var d=this.props,p=d.ticks,m=u2(d,z_e),y=p;return Nt(l)&&(y=p&&p.length>0?l(this.props):l(m)),o<=0||s<=0||!y||!y.length?null:xe.createElement(hr,{className:Ht("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),ti.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,s=Ht(i.className,"recharts-cartesian-axis-tick-value");return xe.isValidElement(n)?o=xe.cloneElement(n,Rn(Rn({},i),{},{className:s})):Nt(n)?o=n(Rn(Rn({},i),{},{className:s})):o=xe.createElement(gf,ed({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])})(Ee.Component);tI(mp,"displayName","CartesianAxis");tI(mp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Z_e=["x1","y1","x2","y2","key"],J_e=["offset"];function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function L8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(r),!0).forEach(function(n){eAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eAe(t,e,r){return e=tAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tAe(t){var e=rAe(t,"string");return wf(e)=="symbol"?e:e+""}function rAe(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zc.apply(this,arguments)}function j8(t,e){if(t==null)return{};var r=nAe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var iAe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return xe.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function FX(t,e){var r;if(xe.isValidElement(t))r=xe.cloneElement(t,e);else if(Nt(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=j8(e,Z_e),u=bt(l,!1);u.offset;var f=j8(u,J_e);r=xe.createElement("line",Zc({},f,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function aAe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Ti(Ti({},t),{},{x1:e,y1:s,x2:e+r,y2:s,key:"line-".concat(l),index:l});return FX(i,u)});return xe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function oAe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=Ti(Ti({},t),{},{x1:s,y1:e,x2:s,y2:e+r,key:"line-".concat(l),index:l});return FX(i,u)});return xe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function sAe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var f=s.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==f[0]&&f.unshift(0);var d=f.map(function(p,m){var y=!f[m+1],g=y?i+o-p:f[m+1]-p;if(g<=0)return null;var b=m%e.length;return xe.createElement("rect",{key:"react-".concat(m),y:p,x:n,height:g,width:a,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function uAe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==f[0]&&f.unshift(0);var d=f.map(function(p,m){var y=!f[m+1],g=y?a+s-p:f[m+1]-p;if(g<=0)return null;var b=m%n.length;return xe.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:g,height:l,stroke:"none",fill:n[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return xe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var lAe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return FK(eI(Ti(Ti(Ti({},mp.defaultProps),n),{},{ticks:gu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},cAe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return FK(eI(Ti(Ti(Ti({},mp.defaultProps),n),{},{ticks:gu(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},kh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Xm(t){var e,r,n,i,a,o,s=YM(),l=QM(),u=Qxe(),f=Ti(Ti({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:kh.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:kh.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:kh.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:kh.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:kh.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:kh.verticalFill,x:tt(t.x)?t.x:u.left,y:tt(t.y)?t.y:u.top,width:tt(t.width)?t.width:u.width,height:tt(t.height)?t.height:u.height}),d=f.x,p=f.y,m=f.width,y=f.height,g=f.syncWithTicks,b=f.horizontalValues,E=f.verticalValues,O=Xxe(),A=Wxe();if(!tt(m)||m<=0||!tt(y)||y<=0||!tt(d)||d!==+d||!tt(p)||p!==+p)return null;var S=f.verticalCoordinatesGenerator||lAe,x=f.horizontalCoordinatesGenerator||cAe,_=f.horizontalPoints,T=f.verticalPoints;if((!_||!_.length)&&Nt(x)){var N=b&&b.length,C=x({yAxis:A?Ti(Ti({},A),{},{ticks:N?b:A.ticks}):void 0,width:s,height:l,offset:u},N?!0:g);Io(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wf(C),"]")),Array.isArray(C)&&(_=C)}if((!T||!T.length)&&Nt(S)){var R=E&&E.length,I=S({xAxis:O?Ti(Ti({},O),{},{ticks:R?E:O.ticks}):void 0,width:s,height:l,offset:u},R?!0:g);Io(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wf(I),"]")),Array.isArray(I)&&(T=I)}return xe.createElement("g",{className:"recharts-cartesian-grid"},xe.createElement(iAe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),xe.createElement(aAe,Zc({},f,{offset:u,horizontalPoints:_,xAxis:O,yAxis:A})),xe.createElement(oAe,Zc({},f,{offset:u,verticalPoints:T,xAxis:O,yAxis:A})),xe.createElement(sAe,Zc({},f,{horizontalPoints:_})),xe.createElement(uAe,Zc({},f,{verticalPoints:T})))}Xm.displayName="CartesianGrid";var fAe=["type","layout","connectNulls","ref"],hAe=["key"];function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function q8(t,e){if(t==null)return{};var r=dAe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cv.apply(this,arguments)}function U8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(r),!0).forEach(function(n){To(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fh(t){return gAe(t)||vAe(t)||mAe(t)||pAe()}function pAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mAe(t,e){if(t){if(typeof t=="string")return dC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dC(t,e)}}function vAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gAe(t){if(Array.isArray(t))return dC(t)}function dC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LX(n.key),n)}}function bAe(t,e,r){return e&&z8(t.prototype,e),r&&z8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wAe(t,e,r){return e=k1(e),xAe(t,$X()?Reflect.construct(e,r||[],k1(t).constructor):e.apply(t,r))}function xAe(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(t)}function _Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $X(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($X=function(){return!!t})()}function k1(t){return k1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k1(t)}function AAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pC(t,e)}function pC(t,e){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pC(t,e)}function To(t,e,r){return e=LX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LX(t){var e=EAe(t,"string");return Vd(e)=="symbol"?e:e+""}function EAe(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sl=(function(t){function e(){var r;yAe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=wAe(this,e,[].concat(i)),To(r,"state",{isAnimationFinished:!0,totalLength:0}),To(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),To(r,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(E,O){return E+O});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var f=Math.floor(o/u),d=o%u,p=s-o,m=[],y=0,g=0;y<l.length;g+=l[y],++y)if(g+l[y]>d){m=[].concat(Fh(l.slice(0,y)),[d-g]);break}var b=m.length%2===0?[0,p]:[p];return[].concat(Fh(e.repeat(l,f)),Fh(m),b).map(function(E){return"".concat(E,"px")}).join(", ")}),To(r,"id",cp("recharts-line-")),To(r,"pathRef",function(o){r.mainCurve=o}),To(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),To(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return AAe(e,t),bAe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,f=a.children,d=Ia(f,Og);if(!d)return null;var p=function(g,b){return{x:g.x,y:g.y,value:g.value,errorVal:Fn(g.payload,b)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return xe.createElement(hr,m,d.map(function(y){return xe.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,f=s.dataKey,d=bt(this.props,!1),p=bt(l,!0),m=u.map(function(g,b){var E=wa(wa(wa({key:"dot-".concat(b),r:3},d),p),{},{index:b,cx:g.x,cy:g.y,value:g.value,dataKey:f,payload:g.payload,points:u});return e.renderDotItem(l,E)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return xe.createElement(hr,cv({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,l=s.type,u=s.layout,f=s.connectNulls;s.ref;var d=q8(s,fAe),p=wa(wa(wa({},bt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:l,layout:u,connectNulls:f});return xe.createElement(v1,cv({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,p=o.animationEasing,m=o.animationId,y=o.animateNewValues,g=o.width,b=o.height,E=this.state,O=E.prevPoints,A=E.totalLength;return xe.createElement(Ts,{begin:f,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var x=S.t;if(O){var _=O.length/s.length,T=s.map(function(P,k){var q=Math.floor(k*_);if(O[q]){var U=O[q],F=Sa(U.x,P.x),V=Sa(U.y,P.y);return wa(wa({},P),{},{x:F(x),y:V(x)})}if(y){var Z=Sa(g*2,P.x),H=Sa(b/2,P.y);return wa(wa({},P),{},{x:Z(x),y:H(x)})}return wa(wa({},P),{},{x:P.x,y:P.y})});return a.renderCurveStatically(T,n,i)}var N=Sa(0,A),C=N(x),R;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});R=a.getStrokeDasharray(C,A,I)}else R=a.generateSimpleStrokeDasharray(A,C);return a.renderCurveStatically(s,n,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,f=l.totalLength;return s&&o&&o.length&&(!u&&f>0||!Cg(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,f=i.yAxis,d=i.top,p=i.left,m=i.width,y=i.height,g=i.isAnimationActive,b=i.id;if(a||!s||!s.length)return null;var E=this.state.isAnimationFinished,O=s.length===1,A=Ht("recharts-line",l),S=u&&u.allowDataOverflow,x=f&&f.allowDataOverflow,_=S||x,T=$t(b)?this.id:b,N=(n=bt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=N.r,R=C===void 0?3:C,I=N.strokeWidth,P=I===void 0?2:I,k=nce(o)?o:{},q=k.clipDot,U=q===void 0?!0:q,F=R*2+P;return xe.createElement(hr,{className:A},S||x?xe.createElement("defs",null,xe.createElement("clipPath",{id:"clipPath-".concat(T)},xe.createElement("rect",{x:S?p:p-m/2,y:x?d:d-y/2,width:S?m:m*2,height:x?y:y*2})),!U&&xe.createElement("clipPath",{id:"clipPath-dots-".concat(T)},xe.createElement("rect",{x:p-F/2,y:d-F/2,width:m+F,height:y+F}))):null,!O&&this.renderCurve(_,T),this.renderErrorBar(_,T),(O||o)&&this.renderDots(_,U,T),(!g||E)&&ws.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(Fh(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(Fh(o),Fh(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(xe.isValidElement(n))a=xe.cloneElement(n,i);else if(Nt(n))a=n(i);else{var o=i.key,s=q8(i,hAe),l=Ht("recharts-line-dot",typeof n!="boolean"?n.className:"");a=xe.createElement(cx,cv({key:o},s,{className:l}))}return a}}])})(Ee.PureComponent);To(Sl,"displayName","Line");To(Sl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Of.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});To(Sl,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,f=e.layout,d=l.map(function(p,m){var y=Fn(p,o);return f==="horizontal"?{x:H5({axis:r,ticks:i,bandSize:s,entry:p,index:m}),y:$t(y)?null:n.scale(y),value:y,payload:p}:{x:$t(y)?null:r.scale(y),y:H5({axis:n,ticks:a,bandSize:s,entry:p,index:m}),value:y,payload:p}});return wa({points:d,layout:f},u)});function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function SAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UX(n.key),n)}}function DAe(t,e,r){return e&&TAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NAe(t,e,r){return e=F1(e),CAe(t,jX()?Reflect.construct(e,r||[],F1(t).constructor):e.apply(t,r))}function CAe(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OAe(t)}function OAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jX=function(){return!!t})()}function F1(t){return F1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F1(t)}function MAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mC(t,e)}function mC(t,e){return mC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mC(t,e)}function qX(t,e,r){return e=UX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UX(t){var e=IAe(t,"string");return Hd(e)=="symbol"?e:e+""}function IAe(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vC(){return vC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vC.apply(this,arguments)}function RAe(t){var e=t.xAxisId,r=YM(),n=QM(),i=TX(e);return i==null?null:Ee.createElement(mp,vC({},i,{className:Ht("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return gu(o,!0)}}))}var Tl=(function(t){function e(){return SAe(this,e),NAe(this,e,arguments)}return MAe(e,t),DAe(e,[{key:"render",value:function(){return Ee.createElement(RAe,this.props)}}])})(Ee.Component);qX(Tl,"displayName","XAxis");qX(Tl,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function PAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,HX(n.key),n)}}function kAe(t,e,r){return e&&BAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FAe(t,e,r){return e=$1(e),$Ae(t,zX()?Reflect.construct(e,r||[],$1(t).constructor):e.apply(t,r))}function $Ae(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LAe(t)}function LAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zX=function(){return!!t})()}function $1(t){return $1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$1(t)}function jAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gC(t,e)}function gC(t,e){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gC(t,e)}function VX(t,e,r){return e=HX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HX(t){var e=qAe(t,"string");return Gd(e)=="symbol"?e:e+""}function qAe(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yC.apply(this,arguments)}var UAe=function(e){var r=e.yAxisId,n=YM(),i=QM(),a=DX(r);return a==null?null:Ee.createElement(mp,yC({},a,{className:Ht("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return gu(s,!0)}}))},hu=(function(t){function e(){return PAe(this,e),FAe(this,e,arguments)}return jAe(e,t),kAe(e,[{key:"render",value:function(){return Ee.createElement(UAe,this.props)}}])})(Ee.Component);VX(hu,"displayName","YAxis");VX(hu,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function V8(t){return GAe(t)||HAe(t)||VAe(t)||zAe()}function zAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VAe(t,e){if(t){if(typeof t=="string")return bC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bC(t,e)}}function HAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GAe(t){if(Array.isArray(t))return bC(t)}function bC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wC=function(e,r,n,i,a){var o=Ia(e,JM),s=Ia(e,bx),l=[].concat(V8(o),V8(s)),u=Ia(e,xx),f="".concat(i,"Id"),d=i[0],p=r;if(l.length&&(p=l.reduce(function(g,b){if(b.props[f]===n&&xs(b.props,"extendDomain")&&tt(b.props[d])){var E=b.props[d];return[Math.min(g[0],E),Math.max(g[1],E)]}return g},p)),u.length){var m="".concat(d,"1"),y="".concat(d,"2");p=u.reduce(function(g,b){if(b.props[f]===n&&xs(b.props,"extendDomain")&&tt(b.props[m])&&tt(b.props[y])){var E=b.props[m],O=b.props[y];return[Math.min(g[0],E,O),Math.max(g[1],E,O)]}return g},p)}return a&&a.length&&(p=a.reduce(function(g,b){return tt(b)?[Math.min(g[0],b),Math.max(g[1],b)]:g},p)),p},l2={exports:{}},H8;function KAe(){return H8||(H8=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function a(l,u,f,d,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,d||l,p),y=r?r+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)e.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},s.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,y=new Array(m);p<m;p++)y[p]=d[p].fn;return y},s.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,f,d,p,m,y){var g=r?r+u:u;if(!this._events[g])return!1;var b=this._events[g],E=arguments.length,O,A;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),E){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,d),!0;case 4:return b.fn.call(b.context,f,d,p),!0;case 5:return b.fn.call(b.context,f,d,p,m),!0;case 6:return b.fn.call(b.context,f,d,p,m,y),!0}for(A=1,O=new Array(E-1);A<E;A++)O[A-1]=arguments[A];b.fn.apply(b.context,O)}else{var S=b.length,x;for(A=0;A<S;A++)switch(b[A].once&&this.removeListener(u,b[A].fn,void 0,!0),E){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,f);break;case 3:b[A].fn.call(b[A].context,f,d);break;case 4:b[A].fn.call(b[A].context,f,d,p);break;default:if(!O)for(x=1,O=new Array(E-1);x<E;x++)O[x-1]=arguments[x];b[A].fn.apply(b[A].context,O)}}return!0},s.prototype.on=function(u,f,d){return a(this,u,f,d,!1)},s.prototype.once=function(u,f,d){return a(this,u,f,d,!0)},s.prototype.removeListener=function(u,f,d,p){var m=r?r+u:u;if(!this._events[m])return this;if(!f)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===f&&(!p||y.once)&&(!d||y.context===d)&&o(this,m);else{for(var g=0,b=[],E=y.length;g<E;g++)(y[g].fn!==f||p&&!y[g].once||d&&y[g].context!==d)&&b.push(y[g]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(l2)),l2.exports}var XAe=KAe();const WAe=pr(XAe);var c2=new WAe,f2="recharts.syncMouseEvents";function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function YAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,GX(n.key),n)}}function ZAe(t,e,r){return e&&QAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h2(t,e,r){return e=GX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GX(t){var e=JAe(t,"string");return ng(e)=="symbol"?e:e+""}function JAe(t,e){if(ng(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ng(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eEe=(function(){function t(){YAe(this,t),h2(this,"activeIndex",0),h2(this,"coordinateList",[]),h2(this,"layout","horizontal")}return ZAe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,l=r.layout,u=l===void 0?null:l,f=r.offset,d=f===void 0?null:f,p=r.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=a+l+u,p=o+this.offset.top+s/2+f;this.mouseHandlerCallback({pageX:d,pageY:p})}}}])})();function tEe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&tt(n)&&tt(i))return!0}return!1}function rEe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function KX(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=Hr(e,r,n,i),s=Hr(e,r,n,a);return{points:[o,s],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function nEe(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,f=e.outerRadius,d=e.angle,p=Hr(s,l,u,d),m=Hr(s,l,f,d);n=p.x,i=p.y,a=m.x,o=m.y}else return KX(e);return[{x:n,y:i},{x:a,y:o}]}function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function G8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G8(Object(r),!0).forEach(function(n){iEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iEe(t,e,r){return e=aEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aEe(t){var e=oEe(t,"string");return ig(e)=="symbol"?e:e+""}function oEe(t,e){if(ig(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ig(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sEe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,d=t.layout,p=t.chartName,m=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var y,g=v1;if(p==="ScatterChart")y=o,g=C1e;else if(p==="BarChart")y=rEe(d,o,l,f),g=GM;else if(d==="radial"){var b=KX(o),E=b.cx,O=b.cy,A=b.radius,S=b.startAngle,x=b.endAngle;y={cx:E,cy:O,startAngle:S,endAngle:x,innerRadius:A,outerRadius:A},g=XK}else y={points:nEe(d,o,l)},g=v1;var _=N0(N0(N0(N0({stroke:"#ccc",pointerEvents:"none"},l),y),bt(m,!1)),{},{payload:s,payloadIndex:u,className:Ht("recharts-tooltip-cursor",m.className)});return Ee.isValidElement(m)?Ee.cloneElement(m,_):Ee.createElement(g,_)}var uEe=["item"],lEe=["children","className","width","height","style","compact","title","desc"];function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},td.apply(this,arguments)}function K8(t,e){return hEe(t)||fEe(t,e)||WX(t,e)||cEe()}function cEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hEe(t){if(Array.isArray(t))return t}function X8(t,e){if(t==null)return{};var r=dEe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,YX(n.key),n)}}function vEe(t,e,r){return e&&mEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gEe(t,e,r){return e=L1(e),yEe(t,XX()?Reflect.construct(e,r||[],L1(t).constructor):e.apply(t,r))}function yEe(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bEe(t)}function bEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XX=function(){return!!t})()}function L1(t){return L1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L1(t)}function wEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xC(t,e)}function xC(t,e){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xC(t,e)}function Xd(t){return AEe(t)||_Ee(t)||WX(t)||xEe()}function xEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WX(t,e){if(t){if(typeof t=="string")return _C(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(t,e)}}function _Ee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AEe(t){if(Array.isArray(t))return _C(t)}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function W8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Le(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(r),!0).forEach(function(n){Et(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Et(t,e,r){return e=YX(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YX(t){var e=EEe(t,"string");return Kd(e)=="symbol"?e:e+""}function EEe(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SEe={xAxis:["bottom","top"],yAxis:["left","right"]},TEe={width:"100%",height:"100%"},QX={x:0,y:0};function C0(t){return t}var DEe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},NEe=function(e,r,n,i){var a=r.find(function(f){return f&&f.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return Le(Le(Le({},i),Hr(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return Le(Le(Le({},i),Hr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return QX},_x=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Xd(s),Xd(u)):s},[]);return o.length>0?o:e&&e.length&&tt(i)&&tt(a)?e.slice(i,a+1):[]};function ZX(t){return t==="number"?[0,"auto"]:void 0}var AC=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,s=_x(r,e);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(l,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var m=d===void 0?s:d;p=Ub(m,o.dataKey,i)}else p=d&&d[n]||s[n];return p?[].concat(Xd(l),[UK(u,p)]):l},[])},Y8=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=DEe(a,n),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,f=eye(o,s,u,l);if(f>=0&&u){var d=u[f]&&u[f].value,p=AC(e,r,f,d),m=NEe(n,s,f,a);return{activeTooltipIndex:f,activeLabel:d,activePayload:p,activeCoordinate:m}}return null},CEe=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,d=e.children,p=e.stackOffset,m=kK(f,a);return n.reduce(function(y,g){var b,E=g.type.defaultProps!==void 0?Le(Le({},g.type.defaultProps),g.props):g.props,O=E.type,A=E.dataKey,S=E.allowDataOverflow,x=E.allowDuplicatedCategory,_=E.scale,T=E.ticks,N=E.includeHidden,C=E[o];if(y[C])return y;var R=_x(e.data,{graphicalItems:i.filter(function($){var Q,K=o in $.props?$.props[o]:(Q=$.type.defaultProps)===null||Q===void 0?void 0:Q[o];return K===C}),dataStartIndex:l,dataEndIndex:u}),I=R.length,P,k,q;tEe(E.domain,S,O)&&(P=FN(E.domain,null,S),m&&(O==="number"||_!=="auto")&&(q=ov(R,A,"category")));var U=ZX(O);if(!P||P.length===0){var F,V=(F=E.domain)!==null&&F!==void 0?F:U;if(A){if(P=ov(R,A,O),O==="category"&&m){var Z=Kle(P);x&&Z?(k=P,P=T1(0,I)):x||(P=W5(V,P,g).reduce(function($,Q){return $.indexOf(Q)>=0?$:[].concat(Xd($),[Q])},[]))}else if(O==="category")x?P=P.filter(function($){return $!==""&&!$t($)}):P=W5(V,P,g).reduce(function($,Q){return $.indexOf(Q)>=0||Q===""||$t(Q)?$:[].concat(Xd($),[Q])},[]);else if(O==="number"){var H=aye(R,i.filter(function($){var Q,K,we=o in $.props?$.props[o]:(Q=$.type.defaultProps)===null||Q===void 0?void 0:Q[o],ge="hide"in $.props?$.props.hide:(K=$.type.defaultProps)===null||K===void 0?void 0:K.hide;return we===C&&(N||!ge)}),A,a,f);H&&(P=H)}m&&(O==="number"||_!=="auto")&&(q=ov(R,A,"category"))}else m?P=T1(0,I):s&&s[C]&&s[C].hasStack&&O==="number"?P=p==="expand"?[0,1]:qK(s[C].stackGroups,l,u):P=BK(R,i.filter(function($){var Q=o in $.props?$.props[o]:$.type.defaultProps[o],K="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return Q===C&&(N||!K)}),O,f,!0);if(O==="number")P=wC(d,P,C,a,T),V&&(P=FN(V,P,S));else if(O==="category"&&V){var z=V,J=P.every(function($){return z.indexOf($)>=0});J&&(P=z)}}return Le(Le({},y),{},Et({},C,Le(Le({},E),{},{axisType:a,domain:P,categoricalDomain:q,duplicateDomain:k,originalDomain:(b=E.domain)!==null&&b!==void 0?b:U,isCategorical:m,layout:f})))},{})},OEe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,d=e.children,p=_x(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),m=p.length,y=kK(f,a),g=-1;return n.reduce(function(b,E){var O=E.type.defaultProps!==void 0?Le(Le({},E.type.defaultProps),E.props):E.props,A=O[o],S=ZX("number");if(!b[A]){g++;var x;return y?x=T1(0,m):s&&s[A]&&s[A].hasStack?(x=qK(s[A].stackGroups,l,u),x=wC(d,x,A,a)):(x=FN(S,BK(p,n.filter(function(_){var T,N,C=o in _.props?_.props[o]:(T=_.type.defaultProps)===null||T===void 0?void 0:T[o],R="hide"in _.props?_.props.hide:(N=_.type.defaultProps)===null||N===void 0?void 0:N.hide;return C===A&&!R}),"number",f),i.defaultProps.allowDataOverflow),x=wC(d,x,A,a)),Le(Le({},b),{},Et({},A,Le(Le({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ma(SEe,"".concat(a,".").concat(g%2),null),domain:x,originalDomain:S,isCategorical:y,layout:f})))}return b},{})},MEe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,f=e.children,d="".concat(i,"Id"),p=Ia(f,a),m={};return p&&p.length?m=CEe(e,{axes:p,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=OEe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},IEe=function(e){var r=xl(e),n=gu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:bM(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:d1(r,n)}},Q8=function(e){var r=e.children,n=e.defaultShowTooltip,i=Aa(r,$d),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},REe=function(e){return!e||!e.length?!1:e.some(function(r){var n=xu(r&&r.type);return n&&n.indexOf("Bar")>=0})},Z8=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},PEe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=n.width,f=n.height,d=n.children,p=n.margin||{},m=Aa(d,$d),y=Aa(d,fs),g=Object.keys(l).reduce(function(x,_){var T=l[_],N=T.orientation;return!T.mirror&&!T.hide?Le(Le({},x),{},Et({},N,x[N]+T.width)):x},{left:p.left||0,right:p.right||0}),b=Object.keys(o).reduce(function(x,_){var T=o[_],N=T.orientation;return!T.mirror&&!T.hide?Le(Le({},x),{},Et({},N,Ma(x,"".concat(N))+T.height)):x},{top:p.top||0,bottom:p.bottom||0}),E=Le(Le({},b),g),O=E.bottom;m&&(E.bottom+=m.props.height||$d.defaultProps.height),y&&r&&(E=nye(E,i,n,r));var A=u-E.left-E.right,S=f-E.top-E.bottom;return Le(Le({brushBottom:O},E),{},{width:Math.max(A,0),height:Math.max(S,0)})},BEe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},rI=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,d=e.defaultProps,p=function(E,O){var A=O.graphicalItems,S=O.stackGroups,x=O.offset,_=O.updateId,T=O.dataStartIndex,N=O.dataEndIndex,C=E.barSize,R=E.layout,I=E.barGap,P=E.barCategoryGap,k=E.maxBarSize,q=Z8(R),U=q.numericAxisName,F=q.cateAxisName,V=REe(A),Z=[];return A.forEach(function(H,z){var J=_x(E.data,{graphicalItems:[H],dataStartIndex:T,dataEndIndex:N}),$=H.type.defaultProps!==void 0?Le(Le({},H.type.defaultProps),H.props):H.props,Q=$.dataKey,K=$.maxBarSize,we=$["".concat(U,"Id")],ge=$["".concat(F,"Id")],Ae={},te=l.reduce(function(he,le){var Y=O["".concat(le.axisType,"Map")],ie=$["".concat(le.axisType,"Id")];Y&&Y[ie]||le.axisType==="zAxis"||bf();var fe=Y[ie];return Le(Le({},he),{},Et(Et({},le.axisType,fe),"".concat(le.axisType,"Ticks"),gu(fe)))},Ae),ee=te[F],ue=te["".concat(F,"Ticks")],ce=S&&S[we]&&S[we].hasStack&&pye(H,S[we].stackGroups),se=xu(H.type).indexOf("Bar")>=0,Te=d1(ee,ue),pe=[],Ne=V&&tye({barSize:C,stackGroups:S,totalSize:BEe(te,F)});if(se){var je,Ke,Ue=$t(K)?k:K,nt=(je=(Ke=d1(ee,ue,!0))!==null&&Ke!==void 0?Ke:Ue)!==null&&je!==void 0?je:0;pe=rye({barGap:I,barCategoryGap:P,bandSize:nt!==Te?nt:Te,sizeList:Ne[ge],maxBarSize:Ue}),nt!==Te&&(pe=pe.map(function(he){return Le(Le({},he),{},{position:Le(Le({},he.position),{},{offset:he.position.offset-nt/2})})}))}var ae=H&&H.type&&H.type.getComposedData;ae&&Z.push({props:Le(Le({},ae(Le(Le({},te),{},{displayedData:J,props:E,dataKey:Q,item:H,bandSize:Te,barPosition:pe,offset:x,stackedData:ce,layout:R,dataStartIndex:T,dataEndIndex:N}))),{},Et(Et(Et({key:H.key||"item-".concat(z)},U,te[U]),F,te[F]),"animationId",_)),childIndex:oce(H,E.children),item:H})}),Z},m=function(E,O){var A=E.props,S=E.dataStartIndex,x=E.dataEndIndex,_=E.updateId;if(!lF({props:A}))return null;var T=A.children,N=A.layout,C=A.stackOffset,R=A.data,I=A.reverseStackOrder,P=Z8(N),k=P.numericAxisName,q=P.cateAxisName,U=Ia(T,n),F=hye(R,U,"".concat(k,"Id"),"".concat(q,"Id"),C,I),V=l.reduce(function($,Q){var K="".concat(Q.axisType,"Map");return Le(Le({},$),{},Et({},K,MEe(A,Le(Le({},Q),{},{graphicalItems:U,stackGroups:Q.axisType===k&&F,dataStartIndex:S,dataEndIndex:x}))))},{}),Z=PEe(Le(Le({},V),{},{props:A,graphicalItems:U}),O?.legendBBox);Object.keys(V).forEach(function($){V[$]=f(A,V[$],Z,$.replace("Map",""),r)});var H=V["".concat(q,"Map")],z=IEe(H),J=p(A,Le(Le({},V),{},{dataStartIndex:S,dataEndIndex:x,updateId:_,graphicalItems:U,stackGroups:F,offset:Z}));return Le(Le({formattedGraphicalItems:J,graphicalItems:U,offset:Z,stackGroups:F},z),V)},y=(function(b){function E(O){var A,S,x;return pEe(this,E),x=gEe(this,E,[O]),Et(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(x,"accessibilityManager",new eEe),Et(x,"handleLegendBBoxUpdate",function(_){if(_){var T=x.state,N=T.dataStartIndex,C=T.dataEndIndex,R=T.updateId;x.setState(Le({legendBBox:_},m({props:x.props,dataStartIndex:N,dataEndIndex:C,updateId:R},Le(Le({},x.state),{},{legendBBox:_}))))}}),Et(x,"handleReceiveSyncEvent",function(_,T,N){if(x.props.syncId===_){if(N===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(T)}}),Et(x,"handleBrushChange",function(_){var T=_.startIndex,N=_.endIndex;if(T!==x.state.dataStartIndex||N!==x.state.dataEndIndex){var C=x.state.updateId;x.setState(function(){return Le({dataStartIndex:T,dataEndIndex:N},m({props:x.props,dataStartIndex:T,dataEndIndex:N,updateId:C},x.state))}),x.triggerSyncEvent({dataStartIndex:T,dataEndIndex:N})}}),Et(x,"handleMouseEnter",function(_){var T=x.getMouseInfo(_);if(T){var N=Le(Le({},T),{},{isTooltipActive:!0});x.setState(N),x.triggerSyncEvent(N);var C=x.props.onMouseEnter;Nt(C)&&C(N,_)}}),Et(x,"triggeredAfterMouseMove",function(_){var T=x.getMouseInfo(_),N=T?Le(Le({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(N),x.triggerSyncEvent(N);var C=x.props.onMouseMove;Nt(C)&&C(N,_)}),Et(x,"handleItemMouseEnter",function(_){x.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),Et(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),Et(x,"handleMouseMove",function(_){_.persist(),x.throttleTriggeredAfterMouseMove(_)}),Et(x,"handleMouseLeave",function(_){x.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};x.setState(T),x.triggerSyncEvent(T);var N=x.props.onMouseLeave;Nt(N)&&N(T,_)}),Et(x,"handleOuterEvent",function(_){var T=ace(_),N=Ma(x.props,"".concat(T));if(T&&Nt(N)){var C,R;/.*touch.*/i.test(T)?R=x.getMouseInfo(_.changedTouches[0]):R=x.getMouseInfo(_),N((C=R)!==null&&C!==void 0?C:{},_)}}),Et(x,"handleClick",function(_){var T=x.getMouseInfo(_);if(T){var N=Le(Le({},T),{},{isTooltipActive:!0});x.setState(N),x.triggerSyncEvent(N);var C=x.props.onClick;Nt(C)&&C(N,_)}}),Et(x,"handleMouseDown",function(_){var T=x.props.onMouseDown;if(Nt(T)){var N=x.getMouseInfo(_);T(N,_)}}),Et(x,"handleMouseUp",function(_){var T=x.props.onMouseUp;if(Nt(T)){var N=x.getMouseInfo(_);T(N,_)}}),Et(x,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),Et(x,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.handleMouseDown(_.changedTouches[0])}),Et(x,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&x.handleMouseUp(_.changedTouches[0])}),Et(x,"handleDoubleClick",function(_){var T=x.props.onDoubleClick;if(Nt(T)){var N=x.getMouseInfo(_);T(N,_)}}),Et(x,"handleContextMenu",function(_){var T=x.props.onContextMenu;if(Nt(T)){var N=x.getMouseInfo(_);T(N,_)}}),Et(x,"triggerSyncEvent",function(_){x.props.syncId!==void 0&&c2.emit(f2,x.props.syncId,_,x.eventEmitterSymbol)}),Et(x,"applySyncEvent",function(_){var T=x.props,N=T.layout,C=T.syncMethod,R=x.state.updateId,I=_.dataStartIndex,P=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)x.setState(Le({dataStartIndex:I,dataEndIndex:P},m({props:x.props,dataStartIndex:I,dataEndIndex:P,updateId:R},x.state)));else if(_.activeTooltipIndex!==void 0){var k=_.chartX,q=_.chartY,U=_.activeTooltipIndex,F=x.state,V=F.offset,Z=F.tooltipTicks;if(!V)return;if(typeof C=="function")U=C(Z,_);else if(C==="value"){U=-1;for(var H=0;H<Z.length;H++)if(Z[H].value===_.activeLabel){U=H;break}}var z=Le(Le({},V),{},{x:V.left,y:V.top}),J=Math.min(k,z.x+z.width),$=Math.min(q,z.y+z.height),Q=Z[U]&&Z[U].value,K=AC(x.state,x.props.data,U),we=Z[U]?{x:N==="horizontal"?Z[U].coordinate:J,y:N==="horizontal"?$:Z[U].coordinate}:QX;x.setState(Le(Le({},_),{},{activeLabel:Q,activeCoordinate:we,activePayload:K,activeTooltipIndex:U}))}else x.setState(_)}),Et(x,"renderCursor",function(_){var T,N=x.state,C=N.isTooltipActive,R=N.activeCoordinate,I=N.activePayload,P=N.offset,k=N.activeTooltipIndex,q=N.tooltipAxisBandSize,U=x.getTooltipEventType(),F=(T=_.props.active)!==null&&T!==void 0?T:C,V=x.props.layout,Z=_.key||"_recharts-cursor";return xe.createElement(sEe,{key:Z,activeCoordinate:R,activePayload:I,activeTooltipIndex:k,chartName:r,element:_,isActive:F,layout:V,offset:P,tooltipAxisBandSize:q,tooltipEventType:U})}),Et(x,"renderPolarAxis",function(_,T,N){var C=Ma(_,"type.axisType"),R=Ma(x.state,"".concat(C,"Map")),I=_.type.defaultProps,P=I!==void 0?Le(Le({},I),_.props):_.props,k=R&&R[P["".concat(C,"Id")]];return Ee.cloneElement(_,Le(Le({},k),{},{className:Ht(C,k.className),key:_.key||"".concat(T,"-").concat(N),ticks:gu(k,!0)}))}),Et(x,"renderPolarGrid",function(_){var T=_.props,N=T.radialLines,C=T.polarAngles,R=T.polarRadius,I=x.state,P=I.radiusAxisMap,k=I.angleAxisMap,q=xl(P),U=xl(k),F=U.cx,V=U.cy,Z=U.innerRadius,H=U.outerRadius;return Ee.cloneElement(_,{polarAngles:Array.isArray(C)?C:gu(U,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(R)?R:gu(q,!0).map(function(z){return z.coordinate}),cx:F,cy:V,innerRadius:Z,outerRadius:H,key:_.key||"polar-grid",radialLines:N})}),Et(x,"renderLegend",function(){var _=x.state.formattedGraphicalItems,T=x.props,N=T.children,C=T.width,R=T.height,I=x.props.margin||{},P=C-(I.left||0)-(I.right||0),k=RK({children:N,formattedGraphicalItems:_,legendWidth:P,legendContent:u});if(!k)return null;var q=k.item,U=X8(k,uEe);return Ee.cloneElement(q,Le(Le({},U),{},{chartWidth:C,chartHeight:R,margin:I,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),Et(x,"renderTooltip",function(){var _,T=x.props,N=T.children,C=T.accessibilityLayer,R=Aa(N,Ji);if(!R)return null;var I=x.state,P=I.isTooltipActive,k=I.activeCoordinate,q=I.activePayload,U=I.activeLabel,F=I.offset,V=(_=R.props.active)!==null&&_!==void 0?_:P;return Ee.cloneElement(R,{viewBox:Le(Le({},F),{},{x:F.left,y:F.top}),active:V,label:U,payload:V?q:[],coordinate:k,accessibilityLayer:C})}),Et(x,"renderBrush",function(_){var T=x.props,N=T.margin,C=T.data,R=x.state,I=R.offset,P=R.dataStartIndex,k=R.dataEndIndex,q=R.updateId;return Ee.cloneElement(_,{key:_.key||"_recharts-brush",onChange:E0(x.handleBrushChange,_.props.onChange),data:C,x:tt(_.props.x)?_.props.x:I.left,y:tt(_.props.y)?_.props.y:I.top+I.height+I.brushBottom-(N.bottom||0),width:tt(_.props.width)?_.props.width:I.width,startIndex:P,endIndex:k,updateId:"brush-".concat(q)})}),Et(x,"renderReferenceElement",function(_,T,N){if(!_)return null;var C=x,R=C.clipPathId,I=x.state,P=I.xAxisMap,k=I.yAxisMap,q=I.offset,U=_.type.defaultProps||{},F=_.props,V=F.xAxisId,Z=V===void 0?U.xAxisId:V,H=F.yAxisId,z=H===void 0?U.yAxisId:H;return Ee.cloneElement(_,{key:_.key||"".concat(T,"-").concat(N),xAxis:P[Z],yAxis:k[z],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:R})}),Et(x,"renderActivePoints",function(_){var T=_.item,N=_.activePoint,C=_.basePoint,R=_.childIndex,I=_.isRange,P=[],k=T.props.key,q=T.item.type.defaultProps!==void 0?Le(Le({},T.item.type.defaultProps),T.item.props):T.item.props,U=q.activeDot,F=q.dataKey,V=Le(Le({index:R,dataKey:F,cx:N.x,cy:N.y,r:4,fill:HM(T.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},bt(U,!1)),zb(U));return P.push(E.renderActiveDot(U,V,"".concat(k,"-activePoint-").concat(R))),C?P.push(E.renderActiveDot(U,Le(Le({},V),{},{cx:C.x,cy:C.y}),"".concat(k,"-basePoint-").concat(R))):I&&P.push(null),P}),Et(x,"renderGraphicChild",function(_,T,N){var C=x.filterFormatItem(_,T,N);if(!C)return null;var R=x.getTooltipEventType(),I=x.state,P=I.isTooltipActive,k=I.tooltipAxis,q=I.activeTooltipIndex,U=I.activeLabel,F=x.props.children,V=Aa(F,Ji),Z=C.props,H=Z.points,z=Z.isRange,J=Z.baseLine,$=C.item.type.defaultProps!==void 0?Le(Le({},C.item.type.defaultProps),C.item.props):C.item.props,Q=$.activeDot,K=$.hide,we=$.activeBar,ge=$.activeShape,Ae=!!(!K&&P&&V&&(Q||we||ge)),te={};R!=="axis"&&V&&V.props.trigger==="click"?te={onClick:E0(x.handleItemMouseEnter,_.props.onClick)}:R!=="axis"&&(te={onMouseLeave:E0(x.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:E0(x.handleItemMouseEnter,_.props.onMouseEnter)});var ee=Ee.cloneElement(_,Le(Le({},C.props),te));function ue(le){return typeof k.dataKey=="function"?k.dataKey(le.payload):null}if(Ae)if(q>=0){var ce,se;if(k.dataKey&&!k.allowDuplicatedCategory){var Te=typeof k.dataKey=="function"?ue:"payload.".concat(k.dataKey.toString());ce=Ub(H,Te,U),se=z&&J&&Ub(J,Te,U)}else ce=H?.[q],se=z&&J&&J[q];if(ge||we){var pe=_.props.activeIndex!==void 0?_.props.activeIndex:q;return[Ee.cloneElement(_,Le(Le(Le({},C.props),te),{},{activeIndex:pe})),null,null]}if(!$t(ce))return[ee].concat(Xd(x.renderActivePoints({item:C,activePoint:ce,basePoint:se,childIndex:q,isRange:z})))}else{var Ne,je=(Ne=x.getItemByXY(x.state.activeCoordinate))!==null&&Ne!==void 0?Ne:{graphicalItem:ee},Ke=je.graphicalItem,Ue=Ke.item,nt=Ue===void 0?_:Ue,ae=Ke.childIndex,he=Le(Le(Le({},C.props),te),{},{activeIndex:ae});return[Ee.cloneElement(nt,he),null,null]}return z?[ee,null,null]:[ee,null]}),Et(x,"renderCustomized",function(_,T,N){return Ee.cloneElement(_,Le(Le({key:"recharts-customized-".concat(N)},x.props),x.state))}),Et(x,"renderMap",{CartesianGrid:{handler:C0,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:C0},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:C0},YAxis:{handler:C0},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((A=O.id)!==null&&A!==void 0?A:cp("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=IG(x.triggeredAfterMouseMove,(S=O.throttleDelay)!==null&&S!==void 0?S:1e3/60),x.state={},x}return wEe(E,b),vEe(E,[{key:"componentDidMount",value:function(){var A,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,S=A.children,x=A.data,_=A.height,T=A.layout,N=Aa(S,Ji);if(N){var C=N.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=AC(this.state,x,C,R),P=this.state.tooltipTicks[C].coordinate,k=(this.state.offset.top+_)/2,q=T==="horizontal",U=q?{x:P,y:k}:{y:P,x:k},F=this.state.formattedGraphicalItems.find(function(Z){var H=Z.item;return H.type.name==="Scatter"});F&&(U=Le(Le({},U),F.props.points[C].tooltipPosition),I=F.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:R,activePayload:I,activeCoordinate:U};this.setState(V),this.renderCursor(N),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var x,_;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(A){aN([Aa(A.children,Ji)],[Aa(this.props.children,Ji)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Aa(this.props.children,Ji);if(A&&typeof A.props.shared=="boolean"){var S=A.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var S=this.container,x=S.getBoundingClientRect(),_=Gde(x),T={chartX:Math.round(A.pageX-_.left),chartY:Math.round(A.pageY-_.top)},N=x.width/S.offsetWidth||1,C=this.inRange(T.chartX,T.chartY,N);if(!C)return null;var R=this.state,I=R.xAxisMap,P=R.yAxisMap,k=this.getTooltipEventType(),q=Y8(this.state,this.props.data,this.props.layout,C);if(k!=="axis"&&I&&P){var U=xl(I).scale,F=xl(P).scale,V=U&&U.invert?U.invert(T.chartX):null,Z=F&&F.invert?F.invert(T.chartY):null;return Le(Le({},T),{},{xValue:V,yValue:Z},q)}return q?Le(Le({},T),q):null}},{key:"inRange",value:function(A,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,T=A/x,N=S/x;if(_==="horizontal"||_==="vertical"){var C=this.state.offset,R=T>=C.left&&T<=C.left+C.width&&N>=C.top&&N<=C.top+C.height;return R?{x:T,y:N}:null}var I=this.state,P=I.angleAxisMap,k=I.radiusAxisMap;if(P&&k){var q=xl(P);return Z5({x:T,y:N},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,S=this.getTooltipEventType(),x=Aa(A,Ji),_={};x&&S==="axis"&&(x.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=zb(this.props,this.handleOuterEvent);return Le(Le({},T),_)}},{key:"addListener",value:function(){c2.on(f2,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){c2.removeListener(f2,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,S,x){for(var _=this.state.formattedGraphicalItems,T=0,N=_.length;T<N;T++){var C=_[T];if(C.item===A||C.props.key===A.key||S===xu(C.item.type)&&x===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,S=this.state.offset,x=S.left,_=S.top,T=S.height,N=S.width;return xe.createElement("defs",null,xe.createElement("clipPath",{id:A},xe.createElement("rect",{x,y:_,height:T,width:N})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(S,x){var _=K8(x,2),T=_[0],N=_[1];return Le(Le({},S),{},Et({},T,N.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(S,x){var _=K8(x,2),T=_[0],N=_[1];return Le(Le({},S),{},Et({},T,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[A])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(A){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[A])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(A){var S=this.state,x=S.formattedGraphicalItems,_=S.activeItem;if(x&&x.length)for(var T=0,N=x.length;T<N;T++){var C=x[T],R=C.props,I=C.item,P=I.type.defaultProps!==void 0?Le(Le({},I.type.defaultProps),I.props):I.props,k=xu(I.type);if(k==="Bar"){var q=(R.data||[]).find(function(Z){return l1e(A,Z)});if(q)return{graphicalItem:C,payload:q}}else if(k==="RadialBar"){var U=(R.data||[]).find(function(Z){return Z5(A,Z)});if(U)return{graphicalItem:C,payload:U}}else if(mx(C,_)||vx(C,_)||Zv(C,_)){var F=Iwe({graphicalItem:C,activeTooltipItem:_,itemData:P.data}),V=P.activeIndex===void 0?F:P.activeIndex;return{graphicalItem:Le(Le({},C),{},{childIndex:V}),payload:Zv(C,_)?P.data[F]:C.props.data[F]}}}return null}},{key:"render",value:function(){var A=this;if(!lF(this))return null;var S=this.props,x=S.children,_=S.className,T=S.width,N=S.height,C=S.style,R=S.compact,I=S.title,P=S.desc,k=X8(S,lEe),q=bt(k,!1);if(R)return xe.createElement(N8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement(sN,td({},q,{width:T,height:N,title:I,desc:P}),this.renderClipPath(),fF(x,this.renderMap)));if(this.props.accessibilityLayer){var U,F;q.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,q.role=(F=this.props.role)!==null&&F!==void 0?F:"application",q.onKeyDown=function(Z){A.accessibilityManager.keyboardEvent(Z)},q.onFocus=function(){A.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return xe.createElement(N8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},xe.createElement("div",td({className:Ht("recharts-wrapper",_),style:Le({position:"relative",cursor:"default",width:T,height:N},C)},V,{ref:function(H){A.container=H}}),xe.createElement(sN,td({},q,{width:T,height:N,title:I,desc:P,style:TEe}),this.renderClipPath(),fF(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(Ee.Component);Et(y,"displayName",r),Et(y,"defaultProps",Le({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Et(y,"getDerivedStateFromProps",function(b,E){var O=b.dataKey,A=b.data,S=b.children,x=b.width,_=b.height,T=b.layout,N=b.stackOffset,C=b.margin,R=E.dataStartIndex,I=E.dataEndIndex;if(E.updateId===void 0){var P=Q8(b);return Le(Le(Le({},P),{},{updateId:0},m(Le(Le({props:b},P),{},{updateId:0}),E)),{},{prevDataKey:O,prevData:A,prevWidth:x,prevHeight:_,prevLayout:T,prevStackOffset:N,prevMargin:C,prevChildren:S})}if(O!==E.prevDataKey||A!==E.prevData||x!==E.prevWidth||_!==E.prevHeight||T!==E.prevLayout||N!==E.prevStackOffset||!ld(C,E.prevMargin)){var k=Q8(b),q={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},U=Le(Le({},Y8(E,A,T)),{},{updateId:E.updateId+1}),F=Le(Le(Le({},k),q),U);return Le(Le(Le({},F),m(Le({props:b},F),E)),{},{prevDataKey:O,prevData:A,prevWidth:x,prevHeight:_,prevLayout:T,prevStackOffset:N,prevMargin:C,prevChildren:S})}if(!aN(S,E.prevChildren)){var V,Z,H,z,J=Aa(S,$d),$=J&&(V=(Z=J.props)===null||Z===void 0?void 0:Z.startIndex)!==null&&V!==void 0?V:R,Q=J&&(H=(z=J.props)===null||z===void 0?void 0:z.endIndex)!==null&&H!==void 0?H:I,K=$!==R||Q!==I,we=!$t(A),ge=we&&!K?E.updateId:E.updateId+1;return Le(Le({updateId:ge},m(Le(Le({props:b},E),{},{updateId:ge,dataStartIndex:$,dataEndIndex:Q}),E)),{},{prevChildren:S,dataStartIndex:$,dataEndIndex:Q})}return null}),Et(y,"renderActiveDot",function(b,E,O){var A;return Ee.isValidElement(b)?A=Ee.cloneElement(b,E):Nt(b)?A=b(E):A=xe.createElement(cx,E),xe.createElement(hr,{className:"recharts-active-dot",key:O},A)});var g=Ee.forwardRef(function(E,O){return xe.createElement(y,td({},E,{ref:O}))});return g.displayName=y.displayName,g},kEe=rI({chartName:"LineChart",GraphicalChild:Sl,axisComponents:[{axisType:"xAxis",AxisComp:Tl},{axisType:"yAxis",AxisComp:hu}],formatAxisMap:yX}),d2=rI({chartName:"BarChart",GraphicalChild:no,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Tl},{axisType:"yAxis",AxisComp:hu}],formatAxisMap:yX}),JX=rI({chartName:"PieChart",GraphicalChild:Ms,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:px},{axisType:"radiusAxis",AxisComp:hx}],formatAxisMap:Eye,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),eW={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function qi(t,e){if(j1(t,e))return t[e];throw typeof t[e]=="function"&&nI(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Wd(t,e,r){if(j1(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function j1(t,e){return!$Ee(t)&&!Array.isArray(t)?!1:ut(LEe,e)?!0:!(e in Object.prototype||e in Function.prototype)}function FEe(t,e){if(!nI(t,e))throw new Error('No access to method "'+e+'"');return t[e]}function nI(t,e){return t==null||typeof t[e]!="function"||ut(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:ut(jEe,e)?!0:!(e in Object.prototype||e in Function.prototype)}function $Ee(t){return typeof t=="object"&&t&&t.constructor===Object}var LEe={length:!0,name:!0},jEe={toString:!0,valueOf:!0,toLocaleString:!0};class Ax{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return qi(this.wrappedObject,e)}set(e,r){return Wd(this.wrappedObject,e,r),this}has(e){return j1(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return rW(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){j1(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class tW{constructor(e,r,n){this.a=e,this.b=r,this.bKeys=n,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,r){return this.bKeys.has(e)?this.b.set(e,r):this.a.set(e,r),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return rW(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function rW(t,e){return{next:()=>{var r=t.next();return r.done?r:{value:e(r.value),done:!1}}}}function ag(){return new Map}function hd(t){if(!t)return ag();if(aW(t))return t;if(Sx(t))return new Ax(t);throw new Error("createMap can create maps from objects or Maps")}function qEe(t){if(t instanceof Ax)return t.wrappedObject;var e={};for(var r of t.keys()){var n=t.get(r);Wd(e,r,n)}return e}function Bt(t){return typeof t=="number"}function kt(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function fv(t){return typeof t=="bigint"}function Au(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function Mg(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function Ea(t){return t&&t.constructor.prototype.isUnit===!0||!1}function Di(t){return typeof t=="string"}var Sr=Array.isArray;function gt(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function fo(t){return Array.isArray(t)||gt(t)}function q1(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function Jc(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function iI(t){return t&&t.constructor.prototype.isRange===!0||!1}function Ex(t){return t&&t.constructor.prototype.isIndex===!0||!1}function UEe(t){return typeof t=="boolean"}function zEe(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function nW(t){return t&&t.constructor.prototype.isHelp===!0||!1}function iW(t){return typeof t=="function"}function VEe(t){return t instanceof Date}function HEe(t){return t instanceof RegExp}function Sx(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Au(t)&&!Mg(t))}function aW(t){return t?t instanceof Map||t instanceof Ax||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function GEe(t){return t===null}function KEe(t){return t===void 0}function xf(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function ro(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function XEe(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function WEe(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function YEe(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function er(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function EC(t){return er(t)||dn(t)&&t.args.length===1&&er(t.args[0])&&"-+~".includes(t.op)}function Ig(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function ql(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function vp(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function wr(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Tx(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function dn(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ru(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function QEe(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function ZEe(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function ri(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function oW(t){return t&&t.constructor.prototype.isChain===!0||!1}function Dr(t){var e=typeof t;return e==="object"?t===null?"null":kt(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function Ct(t){var e=typeof t;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return Ct(r)});if(t instanceof Date)return new Date(t.valueOf());if(kt(t))return t;if(Sx(t))return JEe(t,Ct);if(e==="function")return t;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function JEe(t,e){var r={};for(var n in t)ut(t,n)&&(r[n]=e(t[n]));return r}function sW(t,e){for(var r in e)ut(e,r)&&(t[r]=e[r]);return t}function Pu(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!Pu(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Pu(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function eSe(t,e,r){var n=!0,i;Object.defineProperty(t,e,{get:function(){return n&&(i=r(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function ut(t,e){return t&&Object.hasOwnProperty.call(t,e)}function tSe(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=t[i];a!==void 0&&(r[i]=a)}return r}var rSe=["Matrix","Array"],nSe=["number","BigNumber","Fraction"],$e=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(eW)};kn($e,eW,{MATRIX_OPTIONS:rSe,NUMBER_OPTIONS:nSe});function J8(){return!0}function Za(){return!1}function $h(){}const e9="Argument is not a typed-function.";function uW(){function t(Y){return typeof Y=="object"&&Y!==null&&Y.constructor===Object}const e=[{name:"number",test:function(Y){return typeof Y=="number"}},{name:"string",test:function(Y){return typeof Y=="string"}},{name:"boolean",test:function(Y){return typeof Y=="boolean"}},{name:"Function",test:function(Y){return typeof Y=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Y){return Y instanceof Date}},{name:"RegExp",test:function(Y){return Y instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(Y){return Y===null}},{name:"undefined",test:function(Y){return Y===void 0}}],r={name:"any",test:J8,isAny:!0};let n,i,a=0,o={createCount:0};function s(Y){const ie=n.get(Y);if(ie)return ie;let fe='Unknown type "'+Y+'"';const ye=Y.toLowerCase();let me;for(me of i)if(me.toLowerCase()===ye){fe+='. Did you mean "'+me+'" ?';break}throw new TypeError(fe)}function l(Y){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const fe=ie?s(ie).index:i.length,ye=[];for(let Se=0;Se<Y.length;++Se){if(!Y[Se]||typeof Y[Se].name!="string"||typeof Y[Se].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Be=Y[Se].name;if(n.has(Be))throw new TypeError('Duplicate type name "'+Be+'"');ye.push(Be),n.set(Be,{name:Be,test:Y[Se].test,isAny:Y[Se].isAny,index:fe+Se,conversionsTo:[]})}const me=i.slice(fe);i=i.slice(0,fe).concat(ye).concat(me);for(let Se=fe+ye.length;Se<i.length;++Se)n.get(i[Se]).index=Se}function u(){n=new Map,i=[],a=0,l([r],!1)}u(),l(e);function f(){let Y;for(Y of i)n.get(Y).conversionsTo=[];a=0}function d(Y){const ie=i.filter(fe=>{const ye=n.get(fe);return!ye.isAny&&ye.test(Y)});return ie.length?ie:["any"]}function p(Y){return Y&&typeof Y=="function"&&"_typedFunctionData"in Y}function m(Y,ie,fe){if(!p(Y))throw new TypeError(e9);const ye=fe&&fe.exact,me=Array.isArray(ie)?ie.join(","):ie,Se=S(me),Be=b(Se);if(!ye||Be in Y.signatures){const Rt=Y._typedFunctionData.signatureMap.get(Be);if(Rt)return Rt}const ze=Se.length;let Ze;if(ye){Ze=[];let Rt;for(Rt in Y.signatures)Ze.push(Y._typedFunctionData.signatureMap.get(Rt))}else Ze=Y._typedFunctionData.signatures;for(let Rt=0;Rt<ze;++Rt){const st=Se[Rt],Gt=[];let j;for(j of Ze){const ve=N(j.params,Rt);if(!(!ve||st.restParam&&!ve.restParam)){if(!ve.hasAny){const Ie=A(ve);if(st.types.some(He=>!Ie.has(He.name)))continue}Gt.push(j)}}if(Ze=Gt,Ze.length===0)break}let Ye;for(Ye of Ze)if(Ye.params.length<=ze)return Ye;throw new TypeError("Signature not found (signature: "+(Y.name||"unnamed")+"("+b(Se,", ")+"))")}function y(Y,ie,fe){return m(Y,ie,fe).implementation}function g(Y,ie){const fe=s(ie);if(fe.test(Y))return Y;const ye=fe.conversionsTo;if(ye.length===0)throw new Error("There are no conversions to "+ie+" defined.");for(let me=0;me<ye.length;me++)if(s(ye[me].from).test(Y))return ye[me].convert(Y);throw new Error("Cannot convert "+Y+" to "+ie)}function b(Y){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Y.map(fe=>fe.name).join(ie)}function E(Y){const ie=Y.indexOf("...")===0,ye=(ie?Y.length>3?Y.slice(3):"any":Y).split("|").map(ze=>s(ze.trim()));let me=!1,Se=ie?"...":"";return{types:ye.map(function(ze){return me=ze.isAny||me,Se+=ze.name+"|",{name:ze.name,typeIndex:ze.index,test:ze.test,isAny:ze.isAny,conversion:null,conversionIndex:-1}}),name:Se.slice(0,-1),hasAny:me,hasConversion:!1,restParam:ie}}function O(Y){const ie=Y.types.map(Be=>Be.name),fe=V(ie);let ye=Y.hasAny,me=Y.name;const Se=fe.map(function(Be){const ze=s(Be.from);return ye=ze.isAny||ye,me+="|"+Be.from,{name:Be.from,typeIndex:ze.index,test:ze.test,isAny:ze.isAny,conversion:Be,conversionIndex:Be.index}});return{types:Y.types.concat(Se),name:me,hasAny:ye,hasConversion:Se.length>0,restParam:Y.restParam}}function A(Y){return Y.typeSet||(Y.typeSet=new Set,Y.types.forEach(ie=>Y.typeSet.add(ie.name))),Y.typeSet}function S(Y){const ie=[];if(typeof Y!="string")throw new TypeError("Signatures must be strings");const fe=Y.trim();if(fe==="")return ie;const ye=fe.split(",");for(let me=0;me<ye.length;++me){const Se=E(ye[me].trim());if(Se.restParam&&me!==ye.length-1)throw new SyntaxError('Unexpected rest parameter "'+ye[me]+'": only allowed for the last parameter');if(Se.types.length===0)return null;ie.push(Se)}return ie}function x(Y){const ie=ee(Y);return ie?ie.restParam:!1}function _(Y){if(!Y||Y.types.length===0)return J8;if(Y.types.length===1)return s(Y.types[0].name).test;if(Y.types.length===2){const ie=s(Y.types[0].name).test,fe=s(Y.types[1].name).test;return function(me){return ie(me)||fe(me)}}else{const ie=Y.types.map(function(fe){return s(fe.name).test});return function(ye){for(let me=0;me<ie.length;me++)if(ie[me](ye))return!0;return!1}}}function T(Y){let ie,fe,ye;if(x(Y)){ie=te(Y).map(_);const me=ie.length,Se=_(ee(Y)),Be=function(ze){for(let Ze=me;Ze<ze.length;Ze++)if(!Se(ze[Ze]))return!1;return!0};return function(Ze){for(let Ye=0;Ye<ie.length;Ye++)if(!ie[Ye](Ze[Ye]))return!1;return Be(Ze)&&Ze.length>=me+1}}else return Y.length===0?function(Se){return Se.length===0}:Y.length===1?(fe=_(Y[0]),function(Se){return fe(Se[0])&&Se.length===1}):Y.length===2?(fe=_(Y[0]),ye=_(Y[1]),function(Se){return fe(Se[0])&&ye(Se[1])&&Se.length===2}):(ie=Y.map(_),function(Se){for(let Be=0;Be<ie.length;Be++)if(!ie[Be](Se[Be]))return!1;return Se.length===ie.length})}function N(Y,ie){return ie<Y.length?Y[ie]:x(Y)?ee(Y):null}function C(Y,ie){const fe=N(Y,ie);return fe?A(fe):new Set}function R(Y){return Y.conversion===null||Y.conversion===void 0}function I(Y,ie){const fe=new Set;return Y.forEach(ye=>{const me=C(ye.params,ie);let Se;for(Se of me)fe.add(Se)}),fe.has("any")?["any"]:Array.from(fe)}function P(Y,ie,fe){let ye,me;const Se=Y||"unnamed";let Be=fe,ze;for(ze=0;ze<ie.length;ze++){const st=[];if(Be.forEach(Gt=>{const j=N(Gt.params,ze),ve=_(j);(ze<Gt.params.length||x(Gt.params))&&ve(ie[ze])&&st.push(Gt)}),st.length===0){if(me=I(Be,ze),me.length>0){const Gt=d(ie[ze]);return ye=new TypeError("Unexpected type of argument in function "+Se+" (expected: "+me.join(" or ")+", actual: "+Gt.join(" | ")+", index: "+ze+")"),ye.data={category:"wrongType",fn:Se,index:ze,actual:Gt,expected:me},ye}}else Be=st}const Ze=Be.map(function(st){return x(st.params)?1/0:st.params.length});if(ie.length<Math.min.apply(null,Ze))return me=I(Be,ze),ye=new TypeError("Too few arguments in function "+Se+" (expected: "+me.join(" or ")+", index: "+ie.length+")"),ye.data={category:"tooFewArgs",fn:Se,index:ie.length,expected:me},ye;const Ye=Math.max.apply(null,Ze);if(ie.length>Ye)return ye=new TypeError("Too many arguments in function "+Se+" (expected: "+Ye+", actual: "+ie.length+")"),ye.data={category:"tooManyArgs",fn:Se,index:ie.length,expectedLength:Ye},ye;const Rt=[];for(let st=0;st<ie.length;++st)Rt.push(d(ie[st]).join("|"));return ye=new TypeError('Arguments of type "'+Rt.join(", ")+'" do not match any of the defined signatures of function '+Se+"."),ye.data={category:"mismatch",actual:Rt},ye}function k(Y){let ie=i.length+1;for(let fe=0;fe<Y.types.length;fe++)R(Y.types[fe])&&(ie=Math.min(ie,Y.types[fe].typeIndex));return ie}function q(Y){let ie=a+1;for(let fe=0;fe<Y.types.length;fe++)R(Y.types[fe])||(ie=Math.min(ie,Y.types[fe].conversionIndex));return ie}function U(Y,ie){if(Y.hasAny){if(!ie.hasAny)return 1}else if(ie.hasAny)return-1;if(Y.restParam){if(!ie.restParam)return 1}else if(ie.restParam)return-1;if(Y.hasConversion){if(!ie.hasConversion)return 1}else if(ie.hasConversion)return-1;const fe=k(Y)-k(ie);if(fe<0)return-1;if(fe>0)return 1;const ye=q(Y)-q(ie);return ye<0?-1:ye>0?1:0}function F(Y,ie){const fe=Y.params,ye=ie.params,me=ee(fe),Se=ee(ye),Be=x(fe),ze=x(ye);if(Be&&me.hasAny){if(!ze||!Se.hasAny)return 1}else if(ze&&Se.hasAny)return-1;let Ze=0,Ye=0,Rt;for(Rt of fe)Rt.hasAny&&++Ze,Rt.hasConversion&&++Ye;let st=0,Gt=0;for(Rt of ye)Rt.hasAny&&++st,Rt.hasConversion&&++Gt;if(Ze!==st)return Ze-st;if(Be&&me.hasConversion){if(!ze||!Se.hasConversion)return 1}else if(ze&&Se.hasConversion)return-1;if(Ye!==Gt)return Ye-Gt;if(Be){if(!ze)return 1}else if(ze)return-1;const j=(fe.length-ye.length)*(Be?-1:1);if(j!==0)return j;const ve=[];let Ie=0;for(let ht=0;ht<fe.length;++ht){const dt=U(fe[ht],ye[ht]);ve.push(dt),Ie+=dt}if(Ie!==0)return Ie;let He;for(He of ve)if(He!==0)return He;return 0}function V(Y){if(Y.length===0)return[];const ie=Y.map(s);Y.length>1&&ie.sort((me,Se)=>me.index-Se.index);let fe=ie[0].conversionsTo;if(Y.length===1)return fe;fe=fe.concat([]);const ye=new Set(Y);for(let me=1;me<ie.length;++me){let Se;for(Se of ie[me].conversionsTo)ye.has(Se.from)||(fe.push(Se),ye.add(Se.from))}return fe}function Z(Y,ie){let fe=ie;if(Y.some(me=>me.hasConversion)){const me=x(Y),Se=Y.map(H);fe=function(){const ze=[],Ze=me?arguments.length-1:arguments.length;for(let Ye=0;Ye<Ze;Ye++)ze[Ye]=Se[Ye](arguments[Ye]);return me&&(ze[Ze]=arguments[Ze].map(Se[Ze])),ie.apply(this,ze)}}let ye=fe;if(x(Y)){const me=Y.length-1;ye=function(){return fe.apply(this,ue(arguments,0,me).concat([ue(arguments,me)]))}}return ye}function H(Y){let ie,fe,ye,me;const Se=[],Be=[];switch(Y.types.forEach(function(ze){ze.conversion&&(Se.push(s(ze.conversion.from).test),Be.push(ze.conversion.convert))}),Be.length){case 0:return function(Ze){return Ze};case 1:return ie=Se[0],ye=Be[0],function(Ze){return ie(Ze)?ye(Ze):Ze};case 2:return ie=Se[0],fe=Se[1],ye=Be[0],me=Be[1],function(Ze){return ie(Ze)?ye(Ze):fe(Ze)?me(Ze):Ze};default:return function(Ze){for(let Ye=0;Ye<Be.length;Ye++)if(Se[Ye](Ze))return Be[Ye](Ze);return Ze}}}function z(Y){function ie(fe,ye,me){if(ye<fe.length){const Se=fe[ye];let Be=[];if(Se.restParam){const ze=Se.types.filter(R);ze.length<Se.types.length&&Be.push({types:ze,name:"..."+ze.map(Ze=>Ze.name).join("|"),hasAny:ze.some(Ze=>Ze.isAny),hasConversion:!1,restParam:!0}),Be.push(Se)}else Be=Se.types.map(function(ze){return{types:[ze],name:ze.name,hasAny:ze.isAny,hasConversion:ze.conversion,restParam:!1}});return se(Be,function(ze){return ie(fe,ye+1,me.concat([ze]))})}else return[me]}return ie(Y,0,[])}function J(Y,ie){const fe=Math.max(Y.length,ie.length);for(let ze=0;ze<fe;ze++){const Ze=C(Y,ze),Ye=C(ie,ze);let Rt=!1,st;for(st of Ye)if(Ze.has(st)){Rt=!0;break}if(!Rt)return!1}const ye=Y.length,me=ie.length,Se=x(Y),Be=x(ie);return Se?Be?ye===me:me>=ye:Be?ye>=me:ye===me}function $(Y){return Y.map(ie=>Ke(ie)?Ne(ie.referToSelf.callback):je(ie)?pe(ie.referTo.references,ie.referTo.callback):ie)}function Q(Y,ie,fe){const ye=[];let me;for(me of Y){let Se=fe[me];if(typeof Se!="number")throw new TypeError('No definition for referenced signature "'+me+'"');if(Se=ie[Se],typeof Se!="function")return!1;ye.push(Se)}return ye}function K(Y,ie,fe){const ye=$(Y),me=new Array(ye.length).fill(!1);let Se=!0;for(;Se;){Se=!1;let Be=!0;for(let ze=0;ze<ye.length;++ze){if(me[ze])continue;const Ze=ye[ze];if(Ke(Ze))ye[ze]=Ze.referToSelf.callback(fe),ye[ze].referToSelf=Ze.referToSelf,me[ze]=!0,Be=!1;else if(je(Ze)){const Ye=Q(Ze.referTo.references,ye,ie);Ye?(ye[ze]=Ze.referTo.callback.apply(this,Ye),ye[ze].referTo=Ze.referTo,me[ze]=!0,Be=!1):Se=!0}}if(Be&&Se)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ye}function we(Y){const ie=/\bthis(\(|\.signatures\b)/;Object.keys(Y).forEach(fe=>{const ye=Y[fe];if(ie.test(ye.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ge(Y,ie){if(o.createCount++,Object.keys(ie).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&we(ie);const fe=[],ye=[],me={},Se=[];let Be;for(Be in ie){if(!Object.prototype.hasOwnProperty.call(ie,Be))continue;const Qt=S(Be);if(!Qt)continue;fe.forEach(function(en){if(J(en,Qt))throw new TypeError('Conflicting signatures "'+b(en)+'" and "'+b(Qt)+'".')}),fe.push(Qt);const Nn=ye.length;ye.push(ie[Be]);const Yo=Qt.map(O);let Ri;for(Ri of z(Yo)){const en=b(Ri);Se.push({params:Ri,name:en,fn:Nn}),Ri.every($s=>!$s.hasConversion)&&(me[en]=Nn)}}Se.sort(F);const ze=K(ye,me,Wo);let Ze;for(Ze in me)Object.prototype.hasOwnProperty.call(me,Ze)&&(me[Ze]=ze[me[Ze]]);const Ye=[],Rt=new Map;for(Ze of Se)Rt.has(Ze.name)||(Ze.fn=ze[Ze.fn],Ye.push(Ze),Rt.set(Ze.name,Ze));const st=Ye[0]&&Ye[0].params.length<=2&&!x(Ye[0].params),Gt=Ye[1]&&Ye[1].params.length<=2&&!x(Ye[1].params),j=Ye[2]&&Ye[2].params.length<=2&&!x(Ye[2].params),ve=Ye[3]&&Ye[3].params.length<=2&&!x(Ye[3].params),Ie=Ye[4]&&Ye[4].params.length<=2&&!x(Ye[4].params),He=Ye[5]&&Ye[5].params.length<=2&&!x(Ye[5].params),ht=st&&Gt&&j&&ve&&Ie&&He;for(let Qt=0;Qt<Ye.length;++Qt)Ye[Qt].test=T(Ye[Qt].params);const dt=st?_(Ye[0].params[0]):Za,_r=Gt?_(Ye[1].params[0]):Za,ks=j?_(Ye[2].params[0]):Za,Ba=ve?_(Ye[3].params[0]):Za,oc=Ie?_(Ye[4].params[0]):Za,Ho=He?_(Ye[5].params[0]):Za,ju=st?_(Ye[0].params[1]):Za,Go=Gt?_(Ye[1].params[1]):Za,Vf=j?_(Ye[2].params[1]):Za,Lr=ve?_(Ye[3].params[1]):Za,cn=Ie?_(Ye[4].params[1]):Za,nn=He?_(Ye[5].params[1]):Za;for(let Qt=0;Qt<Ye.length;++Qt)Ye[Qt].implementation=Z(Ye[Qt].params,Ye[Qt].fn);const Xi=st?Ye[0].implementation:$h,sc=Gt?Ye[1].implementation:$h,Np=j?Ye[2].implementation:$h,Ko=ve?Ye[3].implementation:$h,Hf=Ie?Ye[4].implementation:$h,Fs=He?Ye[5].implementation:$h,Xo=st?Ye[0].params.length:-1,go=Gt?Ye[1].params.length:-1,ka=j?Ye[2].params.length:-1,Fa=ve?Ye[3].params.length:-1,ii=Ie?Ye[4].params.length:-1,Jr=He?Ye[5].params.length:-1,uc=ht?6:0,qu=Ye.length,ca=Ye.map(Qt=>Qt.test),yo=Ye.map(Qt=>Qt.implementation),Gf=function(){for(let Nn=uc;Nn<qu;Nn++)if(ca[Nn](arguments))return yo[Nn].apply(this,arguments);return o.onMismatch(Y,arguments,Ye)};function Wo(Qt,Nn){return arguments.length===Xo&&dt(Qt)&&ju(Nn)?Xi.apply(this,arguments):arguments.length===go&&_r(Qt)&&Go(Nn)?sc.apply(this,arguments):arguments.length===ka&&ks(Qt)&&Vf(Nn)?Np.apply(this,arguments):arguments.length===Fa&&Ba(Qt)&&Lr(Nn)?Ko.apply(this,arguments):arguments.length===ii&&oc(Qt)&&cn(Nn)?Hf.apply(this,arguments):arguments.length===Jr&&Ho(Qt)&&nn(Nn)?Fs.apply(this,arguments):Gf.apply(this,arguments)}try{Object.defineProperty(Wo,"name",{value:Y})}catch{}return Wo.signatures=me,Wo._typedFunctionData={signatures:Ye,signatureMap:Rt},Wo}function Ae(Y,ie,fe){throw P(Y,ie,fe)}function te(Y){return ue(Y,0,Y.length-1)}function ee(Y){return Y[Y.length-1]}function ue(Y,ie,fe){return Array.prototype.slice.call(Y,ie,fe)}function ce(Y,ie){for(let fe=0;fe<Y.length;fe++)if(ie(Y[fe]))return Y[fe]}function se(Y,ie){return Array.prototype.concat.apply([],Y.map(ie))}function Te(){const Y=te(arguments).map(fe=>b(S(fe))),ie=ee(arguments);if(typeof ie!="function")throw new TypeError("Callback function expected as last argument");return pe(Y,ie)}function pe(Y,ie){return{referTo:{references:Y,callback:ie}}}function Ne(Y){if(typeof Y!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:Y}}}function je(Y){return Y&&typeof Y.referTo=="object"&&Array.isArray(Y.referTo.references)&&typeof Y.referTo.callback=="function"}function Ke(Y){return Y&&typeof Y.referToSelf=="object"&&typeof Y.referToSelf.callback=="function"}function Ue(Y,ie){if(!Y)return ie;if(ie&&ie!==Y){const fe=new Error("Function names do not match (expected: "+Y+", actual: "+ie+")");throw fe.data={actual:ie,expected:Y},fe}return Y}function nt(Y){let ie;for(const fe in Y)Object.prototype.hasOwnProperty.call(Y,fe)&&(p(Y[fe])||typeof Y[fe].signature=="string")&&(ie=Ue(ie,Y[fe].name));return ie}function ae(Y,ie){let fe;for(fe in ie)if(Object.prototype.hasOwnProperty.call(ie,fe)){if(fe in Y&&ie[fe]!==Y[fe]){const ye=new Error('Signature "'+fe+'" is defined twice');throw ye.data={signature:fe,sourceFunction:ie[fe],destFunction:Y[fe]},ye}Y[fe]=ie[fe]}}const he=o;o=function(Y){const ie=typeof Y=="string",fe=ie?1:0;let ye=ie?Y:"";const me={};for(let Se=fe;Se<arguments.length;++Se){const Be=arguments[Se];let ze={},Ze;if(typeof Be=="function"?(Ze=Be.name,typeof Be.signature=="string"?ze[Be.signature]=Be:p(Be)&&(ze=Be.signatures)):t(Be)&&(ze=Be,ie||(Ze=nt(Be))),Object.keys(ze).length===0){const Ye=new TypeError("Argument to 'typed' at index "+Se+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Ye.data={index:Se,argument:Be},Ye}ie||(ye=Ue(ye,Ze)),ae(me,ze)}return ge(ye||"",me)},o.create=uW,o.createCount=he.createCount,o.onMismatch=Ae,o.throwMismatchError=Ae,o.createError=P,o.clear=u,o.clearConversions=f,o.addTypes=l,o._findType=s,o.referTo=Te,o.referToSelf=Ne,o.convert=g,o.findSignature=m,o.find=y,o.isTypedFunction=p,o.warnAgainstDeprecatedThis=!0,o.addType=function(Y,ie){let fe="any";ie!==!1&&n.has("Object")&&(fe="Object"),o.addTypes([Y],fe)};function le(Y){if(!Y||typeof Y.from!="string"||typeof Y.to!="string"||typeof Y.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(Y.to===Y.from)throw new SyntaxError('Illegal to define conversion from "'+Y.from+'" to itself.')}return o.addConversion=function(Y){let ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};le(Y);const fe=s(Y.to),ye=fe.conversionsTo.find(me=>me.from===Y.from);if(ye)if(ie&&ie.override)o.removeConversion({from:ye.from,to:Y.to,convert:ye.convert});else throw new Error('There is already a conversion from "'+Y.from+'" to "'+fe.name+'"');fe.conversionsTo.push({from:Y.from,convert:Y.convert,index:a++})},o.addConversions=function(Y,ie){Y.forEach(fe=>o.addConversion(fe,ie))},o.removeConversion=function(Y){le(Y);const ie=s(Y.to),fe=ce(ie.conversionsTo,me=>me.from===Y.from);if(!fe)throw new Error("Attempt to remove nonexistent conversion from "+Y.from+" to "+Y.to);if(fe.convert!==Y.convert)throw new Error("Conversion to remove does not match existing conversion");const ye=ie.conversionsTo.indexOf(fe);ie.conversionsTo.splice(ye,1)},o.resolve=function(Y,ie){if(!p(Y))throw new TypeError(e9);const fe=Y._typedFunctionData.signatures;for(let ye=0;ye<fe.length;++ye)if(fe[ye].test(ie))return fe[ye];return null},o}const U1=uW();function ne(t,e,r,n){function i(a){var o=tSe(a,e.map(oSe));return iSe(t,e,a),r(o)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function iSe(t,e,r){var n=e.filter(a=>!aSe(a)).every(a=>r[a]!==void 0);if(!n){var i=e.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function aSe(t){return t&&t[0]==="?"}function oSe(t){return t&&t[0]==="?"?t.slice(1):t}function ft(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function Ql(t,e){if(e.number==="bigint")try{BigInt(t)}catch{return e.numberFallback}return e.number}var Dl=Math.sign||function(t){return t>0?1:t<0?-1:0},sSe=Math.log2||function(e){return Math.log(e)/Math.LN2},uSe=Math.log10||function(e){return Math.log(e)/Math.LN10},lSe=Math.log1p||function(t){return Math.log(t+1)},cSe=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},fSe=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function p2(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!ft(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!ft(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),a="i".concat(r)}var o="";return t<0&&(t=-t,o="-"),"".concat(o).concat(i).concat(t.toString(e)).concat(a)}function lf(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:r,precision:n,wordSize:i}=lW(e);switch(r){case"fixed":return cW(t,n);case"exponential":return fW(t,n);case"engineering":return hSe(t,n);case"bin":return p2(t,2,i);case"oct":return p2(t,8,i);case"hex":return p2(t,16,i);case"auto":return dSe(t,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function lW(t){var e="auto",r,n;if(t!==void 0)if(Bt(t))r=t;else if(kt(t))r=t.toNumber();else if(Sx(t))t.precision!==void 0&&(r=t9(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(n=t9(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:r,wordSize:n}}function Rg(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function hSe(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Rg(t),n=Dx(r,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Bt(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var s=Math.abs(i-o)-(a.length-1),l=0;l<s;l++)a.push(0);for(var u=Math.abs(i-o),f=1;u>0;)f++,u--;var d=a.slice(f).join(""),p=Bt(e)&&d.length||d.match(/[1-9]/)?"."+d:"",m=a.slice(0,f).join("")+p+"e"+(i>=0?"+":"")+o.toString();return n.sign+m}function cW(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Rg(t),n=typeof e=="number"?Dx(r,r.exponent+1+e):r,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(dd(o-i.length))),a<0&&(i=dd(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function fW(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Rg(t),n=e?Dx(r,e):r,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(dd(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function dSe(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=r9(r?.lowerExp,-3),i=r9(r?.upperExp,5),a=Rg(t),o=e?Dx(a,e):a;if(o.exponent<n||o.exponent>=i)return fW(t,e);var s=o.coefficients,l=o.exponent;s.length<e&&(s=s.concat(dd(e-s.length))),s=s.concat(dd(l-s.length+1+(s.length<e?e-s.length:0))),s=dd(-l).concat(s);var u=l>0?l:0;return u<s.length-1&&s.splice(u+1,0,"."),o.sign+s.join("")}function Dx(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function dd(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function pSe(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function vi(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(t)||isNaN(e)?!1:!isFinite(t)||!isFinite(e)?t===e:t===e?!0:Math.abs(t-e)<=Math.max(r*Math.max(Math.abs(t),Math.abs(e)),n)}var mSe=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},vSe=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},gSe=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},ySe=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},bSe=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},wSe=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function xSe(t,e){var r=!0,n=e>0?!0:e<0?!1:1/e===1/0;return r^n?-t:t}function t9(t,e){if(Bt(t))return t;if(kt(t))return t.toNumber();e()}function r9(t,e){return Bt(t)?t:kt(t)?t.toNumber():e}var hW=function(){return hW=U1.create,U1},_Se=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ASe=ne("typed",_Se,function(e){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=e,o=hW();return o.clear(),o.addTypes([{name:"number",test:Bt},{name:"Complex",test:Au},{name:"BigNumber",test:kt},{name:"bigint",test:fv},{name:"Fraction",test:Mg},{name:"Unit",test:Ea},{name:"identifier",test:s=>Di&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Di},{name:"Chain",test:oW},{name:"Array",test:Sr},{name:"Matrix",test:gt},{name:"DenseMatrix",test:q1},{name:"SparseMatrix",test:Jc},{name:"Range",test:iI},{name:"Index",test:Ex},{name:"boolean",test:UEe},{name:"ResultSet",test:zEe},{name:"Help",test:nW},{name:"function",test:iW},{name:"Date",test:VEe},{name:"RegExp",test:HEe},{name:"null",test:GEe},{name:"undefined",test:KEe},{name:"AccessorNode",test:xf},{name:"ArrayNode",test:ro},{name:"AssignmentNode",test:XEe},{name:"BlockNode",test:WEe},{name:"ConditionalNode",test:YEe},{name:"ConstantNode",test:er},{name:"FunctionNode",test:ql},{name:"FunctionAssignmentNode",test:Ig},{name:"IndexNode",test:vp},{name:"Node",test:wr},{name:"ObjectNode",test:Tx},{name:"OperatorNode",test:dn},{name:"ParenthesisNode",test:Ru},{name:"RangeNode",test:QEe},{name:"RelationalNode",test:ZEe},{name:"SymbolNode",test:ri},{name:"Map",test:aW},{name:"Object",test:Sx}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||O0(l),pSe(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return n||M0(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||M0(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||O0(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return a||I0(l),new a(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||M0(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){a||I0(l);var u=new a(l);if(u.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(l){var u=Number(l);if(isNaN(u))throw new Error('Cannot convert "'+l+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(l){r||O0(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){a||I0(l);try{return new a(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||M0(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||O0(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return a||I0(l),new a(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||ESe(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(s,l,u)=>{var f=o.createError(s,l,u);if(["wrongType","mismatch"].includes(f.data.category)&&l.length===1&&fo(l[0])&&u.some(p=>!p.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=f.data,d}throw f},o.onMismatch=(s,l,u)=>{var f=o.createError(s,l,u);if(["wrongType","mismatch"].includes(f.data.category)&&l.length===1&&fo(l[0])&&u.some(p=>!p.params.includes(","))){var d=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw d.data=f.data,d}throw f},o});function O0(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function M0(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function ESe(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function I0(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var SSe="ResultSet",TSe=[],DSe=ne(SSe,TSe,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var rd=9e15,Zl=1e9,SC="0123456789abcdef",z1="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",V1="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",TC={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-rd,maxE:rd,crypto:!1},dW,yu,It=!0,Nx="[DecimalError] ",Ul=Nx+"Invalid argument: ",pW=Nx+"Precision limit exceeded",mW=Nx+"crypto unavailable",vW="[object Decimal]",Oi=Math.floor,Bn=Math.pow,NSe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,CSe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,OSe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,gW=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ro=1e7,xt=7,MSe=9007199254740991,ISe=z1.length-1,DC=V1.length-1,Qe={toStringTag:vW};Qe.absoluteValue=Qe.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),vt(t)};Qe.ceil=function(){return vt(new this.constructor(this),this.e+1,2)};Qe.clampedTo=Qe.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Ul+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};Qe.comparedTo=Qe.cmp=function(t){var e,r,n,i,a=this,o=a.d,s=(t=new a.constructor(t)).d,l=a.s,u=t.s;if(!o||!s)return!l||!u?NaN:l!==u?l:o===s?0:!o^l<0?1:-1;if(!o[0]||!s[0])return o[0]?l:s[0]?-u:0;if(l!==u)return l;if(a.e!==t.e)return a.e>t.e^l<0?1:-1;for(n=o.length,i=s.length,e=0,r=n<i?n:i;e<r;++e)if(o[e]!==s[e])return o[e]>s[e]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};Qe.cosine=Qe.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+xt,n.rounding=1,r=RSe(n,_W(n,r)),n.precision=t,n.rounding=e,vt(yu==2||yu==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};Qe.cubeRoot=Qe.cbrt=function(){var t,e,r,n,i,a,o,s,l,u,f=this,d=f.constructor;if(!f.isFinite()||f.isZero())return new d(f);for(It=!1,a=f.s*Bn(f.s*f,1/3),!a||Math.abs(a)==1/0?(r=hi(f.d),t=f.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=Bn(r,1/3),t=Oi((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new d(r),n.s=f.s):n=new d(a.toString()),o=(t=d.precision)+3;;)if(s=n,l=s.times(s).times(s),u=l.plus(f),n=$r(u.plus(f).times(s),u.plus(l),o+2,1),hi(s.d).slice(0,o)===(r=hi(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(vt(s,t+1,0),s.times(s).times(s).eq(f))){n=s;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(vt(n,t+1,1),e=!n.times(n).times(n).eq(f));break}return It=!0,vt(n,t,d.rounding,e)};Qe.decimalPlaces=Qe.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-Oi(this.e/xt))*xt,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};Qe.dividedBy=Qe.div=function(t){return $r(this,new this.constructor(t))};Qe.dividedToIntegerBy=Qe.divToInt=function(t){var e=this,r=e.constructor;return vt($r(e,new r(t),0,1,1),r.precision,r.rounding)};Qe.equals=Qe.eq=function(t){return this.cmp(t)===0};Qe.floor=function(){return vt(new this.constructor(this),this.e+1,3)};Qe.greaterThan=Qe.gt=function(t){return this.cmp(t)>0};Qe.greaterThanOrEqualTo=Qe.gte=function(t){var e=this.cmp(t);return e==1||e===0};Qe.hyperbolicCosine=Qe.cosh=function(){var t,e,r,n,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(t=Math.ceil(i/3),e=(1/Ox(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=Yd(o,1,a.times(e),new o(1),!0);for(var l,u=t,f=new o(8);u--;)l=a.times(a),a=s.minus(l.times(f.minus(l.times(f))));return vt(a,o.precision=r,o.rounding=n,!0)};Qe.hyperbolicSine=Qe.sinh=function(){var t,e,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Yd(a,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/Ox(5,t)),i=Yd(a,2,i,i,!0);for(var o,s=new a(5),l=new a(16),u=new a(20);t--;)o=i.times(i),i=i.times(s.plus(o.times(l.times(o).plus(u))))}return a.precision=e,a.rounding=r,vt(i,e,r,!0)};Qe.hyperbolicTangent=Qe.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,$r(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};Qe.inverseCosine=Qe.acos=function(){var t=this,e=t.constructor,r=t.abs().cmp(1),n=e.precision,i=e.rounding;return r!==-1?r===0?t.isNeg()?ds(e,n,i):new e(0):new e(NaN):t.isZero()?ds(e,n+4,i).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=i,t.times(2))};Qe.inverseHyperbolicCosine=Qe.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,It=!1,r=r.times(r).minus(1).sqrt().plus(r),It=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};Qe.inverseHyperbolicSine=Qe.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,It=!1,r=r.times(r).plus(1).sqrt().plus(r),It=!0,n.precision=t,n.rounding=e,r.ln())};Qe.inverseHyperbolicTangent=Qe.atanh=function(){var t,e,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,e=a.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?vt(new a(i),t,e,!0):(a.precision=r=n-i.e,i=$r(i.plus(1),new a(1).minus(i),r+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=e,i.times(.5))):new a(NaN)};Qe.inverseSine=Qe.asin=function(){var t,e,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),r=a.precision,n=a.rounding,e!==-1?e===0?(t=ds(a,r+4,n).times(.5),t.s=i.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};Qe.inverseTangent=Qe.atan=function(){var t,e,r,n,i,a,o,s,l,u=this,f=u.constructor,d=f.precision,p=f.rounding;if(u.isFinite()){if(u.isZero())return new f(u);if(u.abs().eq(1)&&d+4<=DC)return o=ds(f,d+4,p).times(.25),o.s=u.s,o}else{if(!u.s)return new f(NaN);if(d+4<=DC)return o=ds(f,d+4,p).times(.5),o.s=u.s,o}for(f.precision=s=d+10,f.rounding=1,r=Math.min(28,s/xt+2|0),t=r;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(It=!1,e=Math.ceil(s/xt),n=1,l=u.times(u),o=new f(u),i=u;t!==-1;)if(i=i.times(l),a=o.minus(i.div(n+=2)),i=i.times(l),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===a.d[t]&&t--;);return r&&(o=o.times(2<<r-1)),It=!0,vt(o,f.precision=d,f.rounding=p,!0)};Qe.isFinite=function(){return!!this.d};Qe.isInteger=Qe.isInt=function(){return!!this.d&&Oi(this.e/xt)>this.d.length-2};Qe.isNaN=function(){return!this.s};Qe.isNegative=Qe.isNeg=function(){return this.s<0};Qe.isPositive=Qe.isPos=function(){return this.s>0};Qe.isZero=function(){return!!this.d&&this.d[0]===0};Qe.lessThan=Qe.lt=function(t){return this.cmp(t)<0};Qe.lessThanOrEqualTo=Qe.lte=function(t){return this.cmp(t)<1};Qe.logarithm=Qe.log=function(t){var e,r,n,i,a,o,s,l,u=this,f=u.constructor,d=f.precision,p=f.rounding,m=5;if(t==null)t=new f(10),e=!0;else{if(t=new f(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new f(NaN);e=t.eq(10)}if(r=u.d,u.s<0||!r||!r[0]||u.eq(1))return new f(r&&!r[0]?-1/0:u.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(It=!1,s=d+m,o=Nl(u,s),n=e?H1(f,s+10):Nl(t,s),l=$r(o,n,s,1),og(l.d,i=d,p))do if(s+=10,o=Nl(u,s),n=e?H1(f,s+10):Nl(t,s),l=$r(o,n,s,1),!a){+hi(l.d).slice(i+1,i+15)+1==1e14&&(l=vt(l,d+1,0));break}while(og(l.d,i+=10,p));return It=!0,vt(l,d,p)};Qe.minus=Qe.sub=function(t){var e,r,n,i,a,o,s,l,u,f,d,p,m=this,y=m.constructor;if(t=new y(t),!m.d||!t.d)return!m.s||!t.s?t=new y(NaN):m.d?t.s=-t.s:t=new y(t.d||m.s!==t.s?m:NaN),t;if(m.s!=t.s)return t.s=-t.s,m.plus(t);if(u=m.d,p=t.d,s=y.precision,l=y.rounding,!u[0]||!p[0]){if(p[0])t.s=-t.s;else if(u[0])t=new y(m);else return new y(l===3?-0:0);return It?vt(t,s,l):t}if(r=Oi(t.e/xt),f=Oi(m.e/xt),u=u.slice(),a=f-r,a){for(d=a<0,d?(e=u,a=-a,o=p.length):(e=p,r=f,o=u.length),n=Math.max(Math.ceil(s/xt),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=u.length,o=p.length,d=n<o,d&&(o=n),n=0;n<o;n++)if(u[n]!=p[n]){d=u[n]<p[n];break}a=0}for(d&&(e=u,u=p,p=e,t.s=-t.s),o=u.length,n=p.length-o;n>0;--n)u[o++]=0;for(n=p.length;n>a;){if(u[--n]<p[n]){for(i=n;i&&u[--i]===0;)u[i]=Ro-1;--u[i],u[n]+=Ro}u[n]-=p[n]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=Cx(u,r),It?vt(t,s,l):t):new y(l===3?-0:0)};Qe.modulo=Qe.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?vt(new n(r),n.precision,n.rounding):(It=!1,n.modulo==9?(e=$r(r,t.abs(),0,3,1),e.s*=t.s):e=$r(r,t,0,n.modulo,1),e=e.times(t),It=!0,r.minus(e))};Qe.naturalExponential=Qe.exp=function(){return NC(this)};Qe.naturalLogarithm=Qe.ln=function(){return Nl(this)};Qe.negated=Qe.neg=function(){var t=new this.constructor(this);return t.s=-t.s,vt(t)};Qe.plus=Qe.add=function(t){var e,r,n,i,a,o,s,l,u,f,d=this,p=d.constructor;if(t=new p(t),!d.d||!t.d)return!d.s||!t.s?t=new p(NaN):d.d||(t=new p(t.d||d.s===t.s?d:NaN)),t;if(d.s!=t.s)return t.s=-t.s,d.minus(t);if(u=d.d,f=t.d,s=p.precision,l=p.rounding,!u[0]||!f[0])return f[0]||(t=new p(d)),It?vt(t,s,l):t;if(a=Oi(d.e/xt),n=Oi(t.e/xt),u=u.slice(),i=a-n,i){for(i<0?(r=u,i=-i,o=f.length):(r=f,n=a,o=u.length),a=Math.ceil(s/xt),o=a>o?a+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=u.length,i=f.length,o-i<0&&(i=o,r=f,f=u,u=r),e=0;i;)e=(u[--i]=u[i]+f[i]+e)/Ro|0,u[i]%=Ro;for(e&&(u.unshift(e),++n),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=Cx(u,n),It?vt(t,s,l):t};Qe.precision=Qe.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ul+t);return r.d?(e=yW(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};Qe.round=function(){var t=this,e=t.constructor;return vt(new e(t),t.e+1,e.rounding)};Qe.sine=Qe.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+xt,n.rounding=1,r=BSe(n,_W(n,r)),n.precision=t,n.rounding=e,vt(yu>2?r.neg():r,t,e,!0)):new n(NaN)};Qe.squareRoot=Qe.sqrt=function(){var t,e,r,n,i,a,o=this,s=o.d,l=o.e,u=o.s,f=o.constructor;if(u!==1||!s||!s[0])return new f(!u||u<0&&(!s||s[0])?NaN:s?o:1/0);for(It=!1,u=Math.sqrt(+o),u==0||u==1/0?(e=hi(s),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=Oi((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),n=new f(e)):n=new f(u.toString()),r=(l=f.precision)+3;;)if(a=n,n=a.plus($r(o,a,r+2,1)).times(.5),hi(a.d).slice(0,r)===(e=hi(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(vt(a,l+1,0),a.times(a).eq(o))){n=a;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(vt(n,l+1,1),t=!n.times(n).eq(o));break}return It=!0,vt(n,l,f.rounding,t)};Qe.tangent=Qe.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=$r(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,vt(yu==2||yu==4?r.neg():r,t,e,!0)):new n(NaN)};Qe.times=Qe.mul=function(t){var e,r,n,i,a,o,s,l,u,f=this,d=f.constructor,p=f.d,m=(t=new d(t)).d;if(t.s*=f.s,!p||!p[0]||!m||!m[0])return new d(!t.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?t.s/0:t.s*0);for(r=Oi(f.e/xt)+Oi(t.e/xt),l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)s=a[i]+m[n]*p[i-n-1]+e,a[i--]=s%Ro|0,e=s/Ro|0;a[i]=(a[i]+e)%Ro|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=Cx(a,r),It?vt(t,d.precision,d.rounding):t};Qe.toBinary=function(t,e){return aI(this,2,t,e)};Qe.toDecimalPlaces=Qe.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(ua(t,0,Zl),e===void 0?e=n.rounding:ua(e,0,8),vt(r,t+r.e+1,e))};Qe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ds(n,!0):(ua(t,0,Zl),e===void 0?e=i.rounding:ua(e,0,8),n=vt(new i(n),t+1,e),r=Ds(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};Qe.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?r=Ds(i):(ua(t,0,Zl),e===void 0?e=a.rounding:ua(e,0,8),n=vt(new a(i),t+i.e+1,e),r=Ds(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};Qe.toFraction=function(t){var e,r,n,i,a,o,s,l,u,f,d,p,m=this,y=m.d,g=m.constructor;if(!y)return new g(m);if(u=r=new g(1),n=l=new g(0),e=new g(n),a=e.e=yW(y)-m.e-1,o=a%xt,e.d[0]=Bn(10,o<0?xt+o:o),t==null)t=a>0?e:u;else{if(s=new g(t),!s.isInt()||s.lt(u))throw Error(Ul+s);t=s.gt(e)?a>0?e:u:s}for(It=!1,s=new g(hi(y)),f=g.precision,g.precision=a=y.length*xt*2;d=$r(s,e,0,1,1),i=r.plus(d.times(n)),i.cmp(t)!=1;)r=n,n=i,i=u,u=l.plus(d.times(i)),l=i,i=e,e=s.minus(d.times(i)),s=i;return i=$r(t.minus(r),n,0,1,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=m.s,p=$r(u,n,a,1).minus(m).abs().cmp($r(l,r,a,1).minus(m).abs())<1?[u,n]:[l,r],g.precision=f,It=!0,p};Qe.toHexadecimal=Qe.toHex=function(t,e){return aI(this,16,t,e)};Qe.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:ua(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(It=!1,r=$r(r,t,0,e,1).times(t),It=!0,vt(r)):(t.s=r.s,r=t),r};Qe.toNumber=function(){return+this};Qe.toOctal=function(t,e){return aI(this,8,t,e)};Qe.toPower=Qe.pow=function(t){var e,r,n,i,a,o,s=this,l=s.constructor,u=+(t=new l(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new l(Bn(+s,u));if(s=new l(s),s.eq(1))return s;if(n=l.precision,a=l.rounding,t.eq(1))return vt(s,n,a);if(e=Oi(t.e/xt),e>=t.d.length-1&&(r=u<0?-u:u)<=MSe)return i=bW(l,s,r,n),t.s<0?new l(1).div(i):vt(i,n,a);if(o=s.s,o<0){if(e<t.d.length-1)return new l(NaN);if((t.d[e]&1)==0&&(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return r=Bn(+s,u),e=r==0||!isFinite(r)?Oi(u*(Math.log("0."+hi(s.d))/Math.LN10+s.e+1)):new l(r+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?o/0:0):(It=!1,l.rounding=s.s=1,r=Math.min(12,(e+"").length),i=NC(t.times(Nl(s,n+r)),n),i.d&&(i=vt(i,n+5,1),og(i.d,n,a)&&(e=n+10,i=vt(NC(t.times(Nl(s,e+r)),e),e+5,1),+hi(i.d).slice(n+1,n+15)+1==1e14&&(i=vt(i,n+1,0)))),i.s=o,It=!0,l.rounding=a,vt(i,n,a))};Qe.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Ds(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(ua(t,1,Zl),e===void 0?e=i.rounding:ua(e,0,8),n=vt(new i(n),t,e),r=Ds(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};Qe.toSignificantDigits=Qe.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(ua(t,1,Zl),e===void 0?e=n.rounding:ua(e,0,8)),vt(new n(r),t,e)};Qe.toString=function(){var t=this,e=t.constructor,r=Ds(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};Qe.truncated=Qe.trunc=function(){return vt(new this.constructor(this),this.e+1,1)};Qe.valueOf=Qe.toJSON=function(){var t=this,e=t.constructor,r=Ds(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function hi(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=xt-n.length,r&&(a+=ml(r)),a+=n;o=t[e],n=o+"",r=xt-n.length,r&&(a+=ml(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function ua(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ul+t)}function og(t,e,r,n){var i,a,o,s;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=xt,i=0):(i=Math.ceil((e+1)/xt),e%=xt),a=Bn(10,xt-e),s=t[i]%a|0,n==null?e<3?(e==0?s=s/100|0:e==1&&(s=s/10|0),o=r<4&&s==99999||r>3&&s==49999||s==5e4||s==0):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(t[i+1]/a/100|0)==Bn(10,e-2)-1||(s==a/2||s==0)&&(t[i+1]/a/100|0)==0:e<4?(e==0?s=s/1e3|0:e==1?s=s/100|0:e==2&&(s=s/10|0),o=(n||r<4)&&s==9999||!n&&r>3&&s==4999):o=((n||r<4)&&s+1==a||!n&&r>3&&s+1==a/2)&&(t[i+1]/a/1e3|0)==Bn(10,e-3)-1,o}function fb(t,e,r){for(var n,i=[0],a,o=0,s=t.length;o<s;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=SC.indexOf(t.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function RSe(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/Ox(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=Yd(t,1,e.times(i),new t(1));for(var a=r;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=r,e}var $r=(function(){function t(n,i,a){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*i+s,n[l]=o%a|0,s=o/a|0;return s&&n.unshift(s),n}function e(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a,o){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,s,l){var u,f,d,p,m,y,g,b,E,O,A,S,x,_,T,N,C,R,I,P,k=n.constructor,q=n.s==i.s?1:-1,U=n.d,F=i.d;if(!U||!U[0]||!F||!F[0])return new k(!n.s||!i.s||(U?F&&U[0]==F[0]:!F)?NaN:U&&U[0]==0||!F?q*0:q/0);for(l?(m=1,f=n.e-i.e):(l=Ro,m=xt,f=Oi(n.e/m)-Oi(i.e/m)),I=F.length,C=U.length,E=new k(q),O=E.d=[],d=0;F[d]==(U[d]||0);d++);if(F[d]>(U[d]||0)&&f--,a==null?(_=a=k.precision,o=k.rounding):s?_=a+(n.e-i.e)+1:_=a,_<0)O.push(1),y=!0;else{if(_=_/m+2|0,d=0,I==1){for(p=0,F=F[0],_++;(d<C||p)&&_--;d++)T=p*l+(U[d]||0),O[d]=T/F|0,p=T%F|0;y=p||d<C}else{for(p=l/(F[0]+1)|0,p>1&&(F=t(F,p,l),U=t(U,p,l),I=F.length,C=U.length),N=I,A=U.slice(0,I),S=A.length;S<I;)A[S++]=0;P=F.slice(),P.unshift(0),R=F[0],F[1]>=l/2&&++R;do p=0,u=e(F,A,I,S),u<0?(x=A[0],I!=S&&(x=x*l+(A[1]||0)),p=x/R|0,p>1?(p>=l&&(p=l-1),g=t(F,p,l),b=g.length,S=A.length,u=e(g,A,b,S),u==1&&(p--,r(g,I<b?P:F,b,l))):(p==0&&(u=p=1),g=F.slice()),b=g.length,b<S&&g.unshift(0),r(A,g,S,l),u==-1&&(S=A.length,u=e(F,A,I,S),u<1&&(p++,r(A,I<S?P:F,S,l))),S=A.length):u===0&&(p++,A=[0]),O[d++]=p,u&&A[0]?A[S++]=U[N]||0:(A=[U[N]],S=1);while((N++<C||A[0]!==void 0)&&_--);y=A[0]!==void 0}O[0]||O.shift()}if(m==1)E.e=f,dW=y;else{for(d=1,p=O[0];p>=10;p/=10)d++;E.e=d+f*m-1,vt(E,s?a+E.e+1:a,o,y)}return E}})();function vt(t,e,r,n){var i,a,o,s,l,u,f,d,p,m=t.constructor;e:if(e!=null){if(d=t.d,!d)return t;for(i=1,s=d[0];s>=10;s/=10)i++;if(a=e-i,a<0)a+=xt,o=e,f=d[p=0],l=f/Bn(10,i-o-1)%10|0;else if(p=Math.ceil((a+1)/xt),s=d.length,p>=s)if(n){for(;s++<=p;)d.push(0);f=l=0,i=1,a%=xt,o=a-xt+1}else break e;else{for(f=s=d[p],i=1;s>=10;s/=10)i++;a%=xt,o=a-xt+i,l=o<0?0:f/Bn(10,i-o-1)%10|0}if(n=n||e<0||d[p+1]!==void 0||(o<0?f:f%Bn(10,i-o-1)),u=r<4?(l||n)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(a>0?o>0?f/Bn(10,i-o):0:d[p-1])%10&1||r==(t.s<0?8:7)),e<1||!d[0])return d.length=0,u?(e-=t.e+1,d[0]=Bn(10,(xt-e%xt)%xt),t.e=-e||0):d[0]=t.e=0,t;if(a==0?(d.length=p,s=1,p--):(d.length=p+1,s=Bn(10,xt-a),d[p]=o>0?(f/Bn(10,i-o)%Bn(10,o)|0)*s:0),u)for(;;)if(p==0){for(a=1,o=d[0];o>=10;o/=10)a++;for(o=d[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(t.e++,d[0]==Ro&&(d[0]=1));break}else{if(d[p]+=s,d[p]!=Ro)break;d[p--]=0,s=1}for(a=d.length;d[--a]===0;)d.pop()}return It&&(t.e>m.maxE?(t.d=null,t.e=NaN):t.e<m.minE&&(t.e=0,t.d=[0])),t}function Ds(t,e,r){if(!t.isFinite())return xW(t);var n,i=t.e,a=hi(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+ml(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+ml(-i-1)+a,r&&(n=r-o)>0&&(a+=ml(n))):i>=o?(a+=ml(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+ml(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=ml(n))),a}function Cx(t,e){var r=t[0];for(e*=xt;r>=10;r/=10)e++;return e}function H1(t,e,r){if(e>ISe)throw It=!0,r&&(t.precision=r),Error(pW);return vt(new t(z1),e,1,!0)}function ds(t,e,r){if(e>DC)throw Error(pW);return vt(new t(V1),e,r,!0)}function yW(t){var e=t.length-1,r=e*xt+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function ml(t){for(var e="";t--;)e+="0";return e}function bW(t,e,r,n){var i,a=new t(1),o=Math.ceil(n/xt+4);for(It=!1;;){if(r%2&&(a=a.times(e),i9(a.d,o)&&(i=!0)),r=Oi(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}e=e.times(e),i9(e.d,o)}return It=!0,a}function n9(t){return t.d[t.d.length-1]&1}function wW(t,e,r){for(var n,i,a=new t(e[0]),o=0;++o<e.length;){if(i=new t(e[o]),!i.s){a=i;break}n=a.cmp(i),(n===r||n===0&&a.s===r)&&(a=i)}return a}function NC(t,e){var r,n,i,a,o,s,l,u=0,f=0,d=0,p=t.constructor,m=p.rounding,y=p.precision;if(!t.d||!t.d[0]||t.e>17)return new p(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(It=!1,l=y):l=e,s=new p(.03125);t.e>-2;)t=t.times(s),d+=5;for(n=Math.log(Bn(2,d))/Math.LN10*2+5|0,l+=n,r=a=o=new p(1),p.precision=l;;){if(a=vt(a.times(t),l,1),r=r.times(++f),s=o.plus($r(a,r,l,1)),hi(s.d).slice(0,l)===hi(o.d).slice(0,l)){for(i=d;i--;)o=vt(o.times(o),l,1);if(e==null)if(u<3&&og(o.d,l-n,m,u))p.precision=l+=10,r=a=s=new p(1),f=0,u++;else return vt(o,p.precision=y,m,It=!0);else return p.precision=y,o}o=s}}function Nl(t,e){var r,n,i,a,o,s,l,u,f,d,p,m=1,y=10,g=t,b=g.d,E=g.constructor,O=E.rounding,A=E.precision;if(g.s<0||!b||!b[0]||!g.e&&b[0]==1&&b.length==1)return new E(b&&!b[0]?-1/0:g.s!=1?NaN:b?0:g);if(e==null?(It=!1,f=A):f=e,E.precision=f+=y,r=hi(b),n=r.charAt(0),Math.abs(a=g.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=hi(g.d),n=r.charAt(0),m++;a=g.e,n>1?(g=new E("0."+r),a++):g=new E(n+"."+r.slice(1))}else return u=H1(E,f+2,A).times(a+""),g=Nl(new E(n+"."+r.slice(1)),f-y).plus(u),E.precision=A,e==null?vt(g,A,O,It=!0):g;for(d=g,l=o=g=$r(g.minus(1),g.plus(1),f,1),p=vt(g.times(g),f,1),i=3;;){if(o=vt(o.times(p),f,1),u=l.plus($r(o,new E(i),f,1)),hi(u.d).slice(0,f)===hi(l.d).slice(0,f))if(l=l.times(2),a!==0&&(l=l.plus(H1(E,f+2,A).times(a+""))),l=$r(l,new E(m),f,1),e==null)if(og(l.d,f-y,O,s))E.precision=f+=y,u=o=g=$r(d.minus(1),d.plus(1),f,1),p=vt(g.times(g),f,1),i=s=1;else return vt(l,E.precision=A,O,It=!0);else return E.precision=A,l;l=u,i+=2}}function xW(t){return String(t.s*t.s/0)}function hb(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%xt,r<0&&(n+=xt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=xt;n<i;)t.d.push(+e.slice(n,n+=xt));e=e.slice(n),n=xt-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),It&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function PSe(t,e){var r,n,i,a,o,s,l,u,f;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),gW.test(e))return hb(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(CSe.test(e))r=16,e=e.toLowerCase();else if(NSe.test(e))r=2;else if(OSe.test(e))r=8;else throw Error(Ul+e);for(a=e.search(/p/i),a>0?(l=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=t.constructor,o&&(e=e.replace(".",""),s=e.length,a=s-a,i=bW(n,new n(r),a,a*2)),u=fb(e,r,Ro),f=u.length-1,a=f;u[a]===0;--a)u.pop();return a<0?new n(t.s*0):(t.e=Cx(u,f),t.d=u,It=!1,o&&(t=$r(t,i,s*4)),l&&(t=t.times(Math.abs(l)<54?Bn(2,l):zl.pow(2,l))),It=!0,t)}function BSe(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:Yd(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/Ox(5,r)),e=Yd(t,2,e,e);for(var i,a=new t(5),o=new t(16),s=new t(20);r--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(s))));return e}function Yd(t,e,r,n,i){var a,o,s,l,u=t.precision,f=Math.ceil(u/xt);for(It=!1,l=r.times(r),s=new t(n);;){if(o=$r(s.times(l),new t(e++*e++),u,1),s=i?n.plus(o):n.minus(o),n=$r(o.times(l),new t(e++*e++),u,1),o=s.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===s.d[a]&&a--;);if(a==-1)break}a=s,s=n,n=o,o=a}return It=!0,o.d.length=f+1,o}function Ox(t,e){for(var r=t;--e;)r*=t;return r}function _W(t,e){var r,n=e.s<0,i=ds(t,t.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return yu=n?4:1,e;if(r=e.divToInt(i),r.isZero())yu=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(a))return yu=n9(r)?n?2:3:n?4:1,e;yu=n9(r)?n?1:4:n?3:2}return e.minus(i).abs()}function aI(t,e,r,n){var i,a,o,s,l,u,f,d,p,m=t.constructor,y=r!==void 0;if(y?(ua(r,1,Zl),n===void 0?n=m.rounding:ua(n,0,8)):(r=m.precision,n=m.rounding),!t.isFinite())f=xW(t);else{for(f=Ds(t),o=f.indexOf("."),y?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,o>=0&&(f=f.replace(".",""),p=new m(1),p.e=f.length-o,p.d=fb(Ds(p),10,i),p.e=p.d.length),d=fb(f,10,i),a=l=d.length;d[--l]==0;)d.pop();if(!d[0])f=y?"0p+0":"0";else{if(o<0?a--:(t=new m(t),t.d=d,t.e=a,t=$r(t,p,r,n,0,i),d=t.d,a=t.e,u=dW),o=d[r],s=i/2,u=u||d[r+1]!==void 0,u=n<4?(o!==void 0||u)&&(n===0||n===(t.s<0?3:2)):o>s||o===s&&(n===4||u||n===6&&d[r-1]&1||n===(t.s<0?8:7)),d.length=r,u)for(;++d[--r]>i-1;)d[r]=0,r||(++a,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,f="";o<l;o++)f+=SC.charAt(d[o]);if(y){if(l>1)if(e==16||e==8){for(o=e==16?4:3,--l;l%o;l++)f+="0";for(d=fb(f,i,e),l=d.length;!d[l-1];--l);for(o=1,f="1.";o<l;o++)f+=SC.charAt(d[o])}else f=f.charAt(0)+"."+f.slice(1);f=f+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)f="0"+f;f="0."+f}else if(++a>l)for(a-=l;a--;)f+="0";else a<l&&(f=f.slice(0,a)+"."+f.slice(a))}f=(e==16?"0x":e==2?"0b":e==8?"0o":"")+f}return t.s<0?"-"+f:f}function i9(t,e){if(t.length>e)return t.length=e,!0}function kSe(t){return new this(t).abs()}function FSe(t){return new this(t).acos()}function $Se(t){return new this(t).acosh()}function LSe(t,e){return new this(t).plus(e)}function jSe(t){return new this(t).asin()}function qSe(t){return new this(t).asinh()}function USe(t){return new this(t).atan()}function zSe(t){return new this(t).atanh()}function VSe(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,a=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=ds(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?ds(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=ds(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan($r(t,e,a,1)),e=ds(this,a,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan($r(t,e,a,1)),r}function HSe(t){return new this(t).cbrt()}function GSe(t){return vt(t=new this(t),t.e+1,2)}function KSe(t,e,r){return new this(t).clamp(e,r)}function XSe(t){if(!t||typeof t!="object")throw Error(Nx+"Object expected");var e,r,n,i=t.defaults===!0,a=["precision",1,Zl,"rounding",0,8,"toExpNeg",-rd,0,"toExpPos",0,rd,"maxE",0,rd,"minE",-rd,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],i&&(this[r]=TC[r]),(n=t[r])!==void 0)if(Oi(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Ul+r+": "+n);if(r="crypto",i&&(this[r]=TC[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(mW);else this[r]=!1;else throw Error(Ul+r+": "+n);return this}function WSe(t){return new this(t).cos()}function YSe(t){return new this(t).cosh()}function AW(t){var e,r,n;function i(a){var o,s,l,u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,a9(a)){u.s=a.s,It?!a.d||a.e>i.maxE?(u.e=NaN,u.d=null):a.e<i.minE?(u.e=0,u.d=[0]):(u.e=a.e,u.d=a.d.slice()):(u.e=a.e,u.d=a.d?a.d.slice():a.d);return}if(l=typeof a,l==="number"){if(a===0){u.s=1/a<0?-1:1,u.e=0,u.d=[0];return}if(a<0?(a=-a,u.s=-1):u.s=1,a===~~a&&a<1e7){for(o=0,s=a;s>=10;s/=10)o++;It?o>i.maxE?(u.e=NaN,u.d=null):o<i.minE?(u.e=0,u.d=[0]):(u.e=o,u.d=[a]):(u.e=o,u.d=[a]);return}if(a*0!==0){a||(u.s=NaN),u.e=NaN,u.d=null;return}return hb(u,a.toString())}if(l==="string")return(s=a.charCodeAt(0))===45?(a=a.slice(1),u.s=-1):(s===43&&(a=a.slice(1)),u.s=1),gW.test(a)?hb(u,a):PSe(u,a);if(l==="bigint")return a<0?(a=-a,u.s=-1):u.s=1,hb(u,a.toString());throw Error(Ul+a)}if(i.prototype=Qe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=XSe,i.clone=AW,i.isDecimal=a9,i.abs=kSe,i.acos=FSe,i.acosh=$Se,i.add=LSe,i.asin=jSe,i.asinh=qSe,i.atan=USe,i.atanh=zSe,i.atan2=VSe,i.cbrt=HSe,i.ceil=GSe,i.clamp=KSe,i.cos=WSe,i.cosh=YSe,i.div=QSe,i.exp=ZSe,i.floor=JSe,i.hypot=eTe,i.ln=tTe,i.log=rTe,i.log10=iTe,i.log2=nTe,i.max=aTe,i.min=oTe,i.mod=sTe,i.mul=uTe,i.pow=lTe,i.random=cTe,i.round=fTe,i.sign=hTe,i.sin=dTe,i.sinh=pTe,i.sqrt=mTe,i.sub=vTe,i.sum=gTe,i.tan=yTe,i.tanh=bTe,i.trunc=wTe,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function QSe(t,e){return new this(t).div(e)}function ZSe(t){return new this(t).exp()}function JSe(t){return vt(t=new this(t),t.e+1,3)}function eTe(){var t,e,r=new this(0);for(It=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return It=!0,new this(1/0);r=e}return It=!0,r.sqrt()}function a9(t){return t instanceof zl||t&&t.toStringTag===vW||!1}function tTe(t){return new this(t).ln()}function rTe(t,e){return new this(t).log(e)}function nTe(t){return new this(t).log(2)}function iTe(t){return new this(t).log(10)}function aTe(){return wW(this,arguments,-1)}function oTe(){return wW(this,arguments,1)}function sTe(t,e){return new this(t).mod(e)}function uTe(t,e){return new this(t).mul(e)}function lTe(t,e){return new this(t).pow(e)}function cTe(t){var e,r,n,i,a=0,o=new this(1),s=[];if(t===void 0?t=this.precision:ua(t,1,Zl),n=Math.ceil(t/xt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(s.push(i%1e7),a+=4);a=n/4}else throw Error(mW);else for(;a<n;)s[a++]=Math.random()*1e7|0;for(n=s[--a],t%=xt,n&&t&&(i=Bn(10,xt-t),s[a]=(n/i|0)*i);s[a]===0;a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;s[0]===0;r-=xt)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<xt&&(r-=xt-n)}return o.e=r,o.d=s,o}function fTe(t){return vt(t=new this(t),t.e+1,this.rounding)}function hTe(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function dTe(t){return new this(t).sin()}function pTe(t){return new this(t).sinh()}function mTe(t){return new this(t).sqrt()}function vTe(t,e){return new this(t).sub(e)}function gTe(){var t=0,e=arguments,r=new this(e[t]);for(It=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return It=!0,vt(r,this.precision,this.rounding)}function yTe(t){return new this(t).tan()}function bTe(t){return new this(t).tanh()}function wTe(t){return vt(t=new this(t),t.e+1,1)}Qe[Symbol.for("nodejs.util.inspect.custom")]=Qe.toString;Qe[Symbol.toStringTag]="Decimal";var zl=Qe.constructor=AW(TC);z1=new zl(z1);V1=new zl(V1);var xTe="BigNumber",_Te=["?on","config"],ATe=ne(xTe,_Te,t=>{var{on:e,config:r}=t,n=zl.clone({precision:r.precision,modulo:zl.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const _i=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},Ja=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},ETe=function(t){const e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;const r=t*t;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},m2=function(t,e){return t=Math.abs(t),e=Math.abs(e),t<e&&([t,e]=[e,t]),t<1e8?Math.sqrt(t*t+e*e):(e/=t,t*Math.sqrt(1+e*e))},Lh=function(){throw SyntaxError("Invalid Param")};function v2(t,e){const r=Math.abs(t),n=Math.abs(e);return t===0?Math.log(n):e===0?Math.log(r):r<3e3&&n<3e3?Math.log(t*t+e*e)*.5:(t=t*.5,e=e*.5,.5*Math.log(t*t+e*e)+Math.LN2)}const STe={re:0,im:0},zc=function(t,e){const r=STe;if(t==null)r.re=r.im=0;else if(e!==void 0)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return Fe.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return Fe.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi)}else t.length===2?(r.re=t[0],r.im=t[1]):Lh();break;case"string":r.im=r.re=0;const n=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,a=0;n===null&&Lh();for(let o=0;o<n.length;o++){const s=n[o];s===" "||s==="	"||s===`
`||(s==="+"?i++:s==="-"?a++:s==="i"||s==="I"?(i+a===0&&Lh(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((a%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((a%2?"-":"")+"1"),i=a=0):((i+a===0||isNaN(s))&&Lh(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((a%2?"-":"")+s),o++):r.re+=parseFloat((a%2?"-":"")+s),i=a=0))}i+a>0&&Lh();break;case"number":r.im=0,r.re=t;break;default:Lh()}return isNaN(r.re)||isNaN(r.im),r};function Fe(t,e){if(!(this instanceof Fe))return new Fe(t,e);const r=zc(t,e);this.re=r.re,this.im=r.im}Fe.prototype={re:0,im:0,sign:function(){const t=m2(this.re,this.im);return new Fe(this.re/t,this.im/t)},add:function(t,e){const r=zc(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?Fe.NAN:Fe.INFINITY:new Fe(this.re+r.re,this.im+r.im)},sub:function(t,e){const r=zc(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?Fe.NAN:Fe.INFINITY:new Fe(this.re-r.re,this.im-r.im)},mul:function(t,e){const r=zc(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||i&&a?Fe.NAN:n||i?Fe.INFINITY:r.im===0&&this.im===0?new Fe(this.re*r.re,0):new Fe(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){const r=zc(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(a&&o||n&&i)return Fe.NAN;if(o||n)return Fe.INFINITY;if(a||i)return Fe.ZERO;if(r.im===0)return new Fe(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const s=r.re/r.im,l=r.re*s+r.im;return new Fe((this.re*s+this.im)/l,(this.im*s-this.re)/l)}else{const s=r.im/r.re,l=r.im*s+r.re;return new Fe((this.re+this.im*s)/l,(this.im-this.re*s)/l)}},pow:function(t,e){const r=zc(t,e),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return Fe.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new Fe(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new Fe(Math.pow(this.im,r.re),0);case 1:return new Fe(0,Math.pow(this.im,r.re));case 2:return new Fe(-Math.pow(this.im,r.re),0);case 3:return new Fe(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return Fe.ZERO;const a=Math.atan2(this.im,this.re),o=v2(this.re,this.im);let s=Math.exp(r.re*o-r.im*a),l=r.im*o+r.re*a;return new Fe(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){const t=this.re,e=this.im;if(e===0)return t>=0?new Fe(Math.sqrt(t),0):new Fe(0,Math.sqrt(-t));const r=m2(t,e);let n=Math.sqrt(.5*(r+Math.abs(t))),i=Math.abs(e)/(2*n);return t>=0?new Fe(n,e<0?-i:i):new Fe(i,e<0?-n:n)},exp:function(){const t=Math.exp(this.re);return this.im===0?new Fe(t,0):new Fe(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,e=this.im;return new Fe(Math.expm1(t)*Math.cos(e)+ETe(e),Math.exp(t)*Math.sin(e))},log:function(){const t=this.re,e=this.im;return e===0&&t>0?new Fe(Math.log(t),0):new Fe(v2(t,e),Math.atan2(e,t))},abs:function(){return m2(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,e=this.im;return new Fe(Math.sin(t)*_i(e),Math.cos(t)*Ja(e))},cos:function(){const t=this.re,e=this.im;return new Fe(Math.cos(t)*_i(e),-Math.sin(t)*Ja(e))},tan:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)+_i(e);return new Fe(Math.sin(t)/r,Ja(e)/r)},cot:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)-_i(e);return new Fe(-Math.sin(t)/r,Ja(e)/r)},sec:function(){const t=this.re,e=this.im,r=.5*_i(2*e)+.5*Math.cos(2*t);return new Fe(Math.cos(t)*_i(e)/r,Math.sin(t)*Ja(e)/r)},csc:function(){const t=this.re,e=this.im,r=.5*_i(2*e)-.5*Math.cos(2*t);return new Fe(Math.sin(t)*_i(e)/r,-Math.cos(t)*Ja(e)/r)},asin:function(){const t=this.re,e=this.im,r=new Fe(e*e-t*t+1,-2*t*e).sqrt(),n=new Fe(r.re-e,r.im+t).log();return new Fe(n.im,-n.re)},acos:function(){const t=this.re,e=this.im,r=new Fe(e*e-t*t+1,-2*t*e).sqrt(),n=new Fe(r.re-e,r.im+t).log();return new Fe(Math.PI/2-n.im,n.re)},atan:function(){const t=this.re,e=this.im;if(t===0){if(e===1)return new Fe(0,1/0);if(e===-1)return new Fe(0,-1/0)}const r=t*t+(1-e)*(1-e),n=new Fe((1-e*e-t*t)/r,-2*t/r).log();return new Fe(-.5*n.im,.5*n.re)},acot:function(){const t=this.re,e=this.im;if(e===0)return new Fe(Math.atan2(1,t),0);const r=t*t+e*e;return r!==0?new Fe(t/r,-e/r).atan():new Fe(t!==0?t/0:0,e!==0?-e/0:0).atan()},asec:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new Fe(0,1/0);const r=t*t+e*e;return r!==0?new Fe(t/r,-e/r).acos():new Fe(t!==0?t/0:0,e!==0?-e/0:0).acos()},acsc:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new Fe(Math.PI/2,1/0);const r=t*t+e*e;return r!==0?new Fe(t/r,-e/r).asin():new Fe(t!==0?t/0:0,e!==0?-e/0:0).asin()},sinh:function(){const t=this.re,e=this.im;return new Fe(Ja(t)*Math.cos(e),_i(t)*Math.sin(e))},cosh:function(){const t=this.re,e=this.im;return new Fe(_i(t)*Math.cos(e),Ja(t)*Math.sin(e))},tanh:function(){const t=2*this.re,e=2*this.im,r=_i(t)+Math.cos(e);return new Fe(Ja(t)/r,Math.sin(e)/r)},coth:function(){const t=2*this.re,e=2*this.im,r=_i(t)-Math.cos(e);return new Fe(Ja(t)/r,-Math.sin(e)/r)},csch:function(){const t=this.re,e=this.im,r=Math.cos(2*e)-_i(2*t);return new Fe(-2*Ja(t)*Math.cos(e)/r,2*_i(t)*Math.sin(e)/r)},sech:function(){const t=this.re,e=this.im,r=Math.cos(2*e)+_i(2*t);return new Fe(2*_i(t)*Math.cos(e)/r,-2*Ja(t)*Math.sin(e)/r)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;const e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){const t=this.acos();if(t.im<=0){const e=t.re;t.re=-t.im,t.im=e}else{const e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){const t=this.re,e=this.im,r=t>1&&e===0,n=1-t,i=1+t,a=n*n+e*e,o=a!==0?new Fe((i*n-e*e)/a,(e*n+i*e)/a):new Fe(t!==-1?t/0:0,e!==0?e/0:0),s=o.re;return o.re=v2(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,r&&(o.im=-o.im),o},acoth:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new Fe(0,Math.PI/2);const r=t*t+e*e;return r!==0?new Fe(t/r,-e/r).atanh():new Fe(t!==0?t/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const t=this.re,e=this.im;if(e===0)return new Fe(t!==0?Math.log(t+Math.sqrt(t*t+1)):1/0,0);const r=t*t+e*e;return r!==0?new Fe(t/r,-e/r).asinh():new Fe(t!==0?t/0:0,e!==0?-e/0:0).asinh()},asech:function(){const t=this.re,e=this.im;if(this.isZero())return Fe.INFINITY;const r=t*t+e*e;return r!==0?new Fe(t/r,-e/r).acosh():new Fe(t!==0?t/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Fe.INFINITY;if(this.isInfinite())return Fe.ZERO;const t=this.re,e=this.im,r=t*t+e*e;return new Fe(t/r,-e/r)},conjugate:function(){return new Fe(this.re,-this.im)},neg:function(){return new Fe(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new Fe(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new Fe(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new Fe(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){const r=zc(t,e);return Math.abs(r.re-this.re)<=Fe.EPSILON&&Math.abs(r.im-this.im)<=Fe.EPSILON},clone:function(){return new Fe(this.re,this.im)},toString:function(){let t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<Fe.EPSILON&&(t=0),Math.abs(e)<Fe.EPSILON&&(e=0),e===0?r+t:(t!==0?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),e!==1&&(r+=e),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};Fe.ZERO=new Fe(0,0);Fe.ONE=new Fe(1,0);Fe.I=new Fe(0,1);Fe.PI=new Fe(Math.PI,0);Fe.E=new Fe(Math.E,0);Fe.INFINITY=new Fe(1/0,1/0);Fe.NAN=new Fe(NaN,NaN);Fe.EPSILON=1e-15;var TTe="Complex",DTe=[],NTe=ne(TTe,DTe,()=>(Object.defineProperty(Fe,"name",{value:"Complex"}),Fe.prototype.constructor=Fe,Fe.prototype.type="Complex",Fe.prototype.isComplex=!0,Fe.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Fe.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Fe.prototype.format=function(t){var e="",r=this.im,n=this.re,i=lf(this.re,t),a=lf(this.im,t),o=Bt(t)?t:t?t.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=a+"i":r<0?r===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+a+"i",e},Fe.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return Fe(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Bt(r)){if(Ea(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Bt(n))return new Fe({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Fe.prototype.valueOf=Fe.prototype.toString,Fe.fromJSON=function(t){return new Fe(t)},Fe.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},Fe),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const pt=BigInt(0),Kt=BigInt(1),Zn=BigInt(2),hv=BigInt(3),nd=BigInt(5),ea=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const CTe=2e3,it={s:Kt,n:pt,d:Kt};function su(t,e){try{t=BigInt(t)}catch{throw dl()}return t*e}function Eo(t){return typeof t=="bigint"?t:Math.floor(t)}function Yr(t,e){if(e===pt)throw oI();const r=Object.create(eo.prototype);r.s=t<pt?-Kt:Kt,t=t<pt?-t:t;const n=Hc(t,e);return r.n=t/n,r.d=e/n,r}const OTe=[Zn*Zn,Zn,Zn*Zn,Zn,Zn*Zn,Zn*hv,Zn,Zn*hv];function jh(t){const e=Object.create(null);if(t<=Kt)return e[t]=Kt,e;const r=n=>{e[n]=(e[n]||pt)+Kt};for(;t%Zn===pt;)r(Zn),t/=Zn;for(;t%hv===pt;)r(hv),t/=hv;for(;t%nd===pt;)r(nd),t/=nd;for(let n=0,i=Zn+nd;i*i<=t;){for(;t%i===pt;)r(i),t/=i;i+=OTe[n],n=n+1&7}return t>Kt&&r(t),e}const Qn=function(t,e){let r=pt,n=Kt,i=Kt;if(t!=null)if(e!==void 0){if(typeof t=="bigint")r=t;else{if(isNaN(t))throw dl();if(t%1!==0)throw o9();r=BigInt(t)}if(typeof e=="bigint")n=e;else{if(isNaN(e))throw dl();if(e%1!==0)throw o9();n=BigInt(e)}i=r*n}else if(typeof t=="object"){if("d"in t&&"n"in t)r=BigInt(t.n),n=BigInt(t.d),"s"in t&&(r*=BigInt(t.s));else if(0 in t)r=BigInt(t[0]),1 in t&&(n=BigInt(t[1]));else if(typeof t=="bigint")r=t;else throw dl();i=r*n}else if(typeof t=="number"){if(isNaN(t))throw dl();if(t<0&&(i=-Kt,t=-t),t%1===0)r=BigInt(t);else{let a=1,o=0,s=1,l=1,u=1,f=1e7;for(t>=1&&(a=10**Math.floor(1+Math.log10(t)),t/=a);s<=f&&u<=f;){let d=(o+l)/(s+u);if(t===d){s+u<=f?(r=o+l,n=s+u):u>s?(r=l,n=u):(r=o,n=s);break}else t>d?(o+=l,s+=u):(l+=o,u+=s),s>f?(r=l,n=u):(r=o,n=s)}r=BigInt(r)*BigInt(a),n=BigInt(n)}}else if(typeof t=="string"){let a=0,o=pt,s=pt,l=pt,u=Kt,f=Kt,d=t.replace(/_/g,"").match(/\d+|./g);if(d===null)throw dl();if(d[a]==="-"?(i=-Kt,a++):d[a]==="+"&&a++,d.length===a+1?s=su(d[a++],i):d[a+1]==="."||d[a]==="."?(d[a]!=="."&&(o=su(d[a++],i)),a++,(a+1===d.length||d[a+1]==="("&&d[a+3]===")"||d[a+1]==="'"&&d[a+3]==="'")&&(s=su(d[a],i),u=ea**BigInt(d[a].length),a++),(d[a]==="("&&d[a+2]===")"||d[a]==="'"&&d[a+2]==="'")&&(l=su(d[a+1],i),f=ea**BigInt(d[a+1].length)-Kt,a+=3)):d[a+1]==="/"||d[a+1]===":"?(s=su(d[a],i),u=su(d[a+2],Kt),a+=3):d[a+3]==="/"&&d[a+1]===" "&&(o=su(d[a],i),s=su(d[a+2],i),u=su(d[a+4],Kt),a+=5),d.length<=a)n=u*f,i=r=l+n*o+f*s;else throw dl()}else if(typeof t=="bigint")r=t,i=t,n=Kt;else throw dl();if(n===pt)throw oI();it.s=i<pt?-Kt:Kt,it.n=r<pt?-r:r,it.d=n<pt?-n:n};function MTe(t,e,r){let n=Kt;for(;e>pt;t=t*t%r,e>>=Kt)e&Kt&&(n=n*t%r);return n}function ITe(t,e){for(;e%Zn===pt;e/=Zn);for(;e%nd===pt;e/=nd);if(e===Kt)return pt;let r=ea%e,n=1;for(;r!==Kt;n++)if(r=r*ea%e,n>CTe)return pt;return BigInt(n)}function RTe(t,e,r){let n=Kt,i=MTe(ea,r,e);for(let a=0;a<300;a++){if(n===i)return BigInt(a);n=n*ea%e,i=i*ea%e}return 0}function Hc(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function eo(t,e){if(Qn(t,e),this instanceof eo)t=Hc(it.d,it.n),this.s=it.s,this.n=it.n/t,this.d=it.d/t;else return Yr(it.s*it.n,it.d)}const oI=function(){return new Error("Division by Zero")},dl=function(){return new Error("Invalid argument")},o9=function(){return new Error("Parameters must be integer")};eo.prototype={s:Kt,n:pt,d:Kt,abs:function(){return Yr(this.n,this.d)},neg:function(){return Yr(-this.s*this.n,this.d)},add:function(t,e){return Qn(t,e),Yr(this.s*this.n*it.d+it.s*this.d*it.n,this.d*it.d)},sub:function(t,e){return Qn(t,e),Yr(this.s*this.n*it.d-it.s*this.d*it.n,this.d*it.d)},mul:function(t,e){return Qn(t,e),Yr(this.s*it.s*this.n*it.n,this.d*it.d)},div:function(t,e){return Qn(t,e),Yr(this.s*it.s*this.n*it.d,this.d*it.n)},clone:function(){return Yr(this.s*this.n,this.d)},mod:function(t,e){if(t===void 0)return Yr(this.s*this.n%this.d,Kt);if(Qn(t,e),pt===it.n*this.d)throw oI();return Yr(this.s*(it.d*this.n)%(it.n*this.d),it.d*this.d)},gcd:function(t,e){return Qn(t,e),Yr(Hc(it.n,this.n)*Hc(it.d,this.d),it.d*this.d)},lcm:function(t,e){return Qn(t,e),it.n===pt&&this.n===pt?Yr(pt,Kt):Yr(it.n*this.n,Hc(it.n,this.n)*Hc(it.d,this.d))},inverse:function(){return Yr(this.s*this.d,this.n)},pow:function(t,e){if(Qn(t,e),it.d===Kt)return it.s<pt?Yr((this.s*this.d)**it.n,this.n**it.n):Yr((this.s*this.n)**it.n,this.d**it.n);if(this.s<pt)return null;let r=jh(this.n),n=jh(this.d),i=Kt,a=Kt;for(let o in r)if(o!=="1"){if(o==="0"){i=pt;break}if(r[o]*=it.n,r[o]%it.d===pt)r[o]/=it.d;else return null;i*=BigInt(o)**r[o]}for(let o in n)if(o!=="1"){if(n[o]*=it.n,n[o]%it.d===pt)n[o]/=it.d;else return null;a*=BigInt(o)**n[o]}return it.s<pt?Yr(a,i):Yr(i,a)},log:function(t,e){if(Qn(t,e),this.s<=pt||it.s<=pt)return null;const r=Object.create(null),n=jh(it.n),i=jh(it.d),a=jh(this.n),o=jh(this.d);for(const u in i)n[u]=(n[u]||pt)-i[u];for(const u in o)a[u]=(a[u]||pt)-o[u];for(const u in n)u!=="1"&&(r[u]=!0);for(const u in a)u!=="1"&&(r[u]=!0);let s=null,l=null;for(const u in r){const f=n[u]||pt,d=a[u]||pt;if(f===pt){if(d!==pt)return null;continue}let p=d,m=f;const y=Hc(p,m);if(p/=y,m/=y,s===null&&l===null)s=p,l=m;else if(p*l!==s*m)return null}return s!==null&&l!==null?Yr(s,l):null},equals:function(t,e){return Qn(t,e),this.s*this.n*it.d===it.s*it.n*this.d},lt:function(t,e){return Qn(t,e),this.s*this.n*it.d<it.s*it.n*this.d},lte:function(t,e){return Qn(t,e),this.s*this.n*it.d<=it.s*it.n*this.d},gt:function(t,e){return Qn(t,e),this.s*this.n*it.d>it.s*it.n*this.d},gte:function(t,e){return Qn(t,e),this.s*this.n*it.d>=it.s*it.n*this.d},compare:function(t,e){Qn(t,e);let r=this.s*this.n*it.d-it.s*it.n*this.d;return(pt<r)-(r<pt)},ceil:function(t){return t=ea**BigInt(t||0),Yr(Eo(this.s*t*this.n/this.d)+(t*this.n%this.d>pt&&this.s>=pt?Kt:pt),t)},floor:function(t){return t=ea**BigInt(t||0),Yr(Eo(this.s*t*this.n/this.d)-(t*this.n%this.d>pt&&this.s<pt?Kt:pt),t)},round:function(t){return t=ea**BigInt(t||0),Yr(Eo(this.s*t*this.n/this.d)+this.s*((this.s>=pt?Kt:pt)+Zn*(t*this.n%this.d)>this.d?Kt:pt),t)},roundTo:function(t,e){Qn(t,e);const r=this.n*it.d,n=this.d*it.n,i=r%n;let a=Eo(r/n);return i+i>=n&&a++,Yr(this.s*a*it.n,it.d)},divisible:function(t,e){return Qn(t,e),it.n===pt?!1:this.n*it.d%(it.n*this.d)===pt},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t=15){let e=this.n,r=this.d,n=ITe(e,r),i=RTe(e,r,n),a=this.s<pt?"-":"";if(a+=Eo(e/r),e%=r,e*=ea,e&&(a+="."),n){for(let o=i;o--;)a+=Eo(e/r),e%=r,e*=ea;a+="(";for(let o=n;o--;)a+=Eo(e/r),e%=r,e*=ea;a+=")"}else for(let o=t;e&&o--;)a+=Eo(e/r),e%=r,e*=ea;return a},toFraction:function(t=!1){let e=this.n,r=this.d,n=this.s<pt?"-":"";if(r===Kt)n+=e;else{const i=Eo(e/r);t&&i>pt&&(n+=i,n+=" ",e%=r),n+=e,n+="/",n+=r}return n},toLatex:function(t=!1){let e=this.n,r=this.d,n=this.s<pt?"-":"";if(r===Kt)n+=e;else{const i=Eo(e/r);t&&i>pt&&(n+=i,e%=r),n+="\\frac{",n+=e,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let t=this.n,e=this.d;const r=[];for(;e;){r.push(Eo(t/e));const n=t%e;t=e,e=n}return r},simplify:function(t=.001){const e=BigInt(Math.ceil(1/t)),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let a=Yr(n[i-1],Kt);for(let s=i-2;s>=0;s--)a=a.inverse().add(n[s]);let o=a.sub(r);if(o.n*e<o.d)return a.mul(this.s)}return this}};var PTe="Fraction",BTe=[],kTe=ne(PTe,BTe,()=>(Object.defineProperty(eo,"name",{value:"Fraction"}),eo.prototype.constructor=eo,eo.prototype.type="Fraction",eo.prototype.isFraction=!0,eo.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},eo.fromJSON=function(t){return new eo(t)},eo),{isClass:!0}),FTe="Range",$Te=[],LTe=ne(FTe,$Te,()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=r!=null,o=n!=null;if(i){if(kt(e))e=e.toNumber();else if(typeof e!="number"&&!fv(e))throw new TypeError("Parameter start must be a number or bigint")}if(a){if(kt(r))r=r.toNumber();else if(typeof r!="number"&&!fv(r))throw new TypeError("Parameter end must be a number or bigint")}if(o){if(kt(n))n=n.toNumber();else if(typeof n!="number"&&!fv(n))throw new TypeError("Parameter step must be a number or bigint")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(r):0,this.step=o?parseFloat(n):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var r=e.split(":"),n=r.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,r=this.start,n=this.step,i=this.end,a=i-r;return Dl(n)===Dl(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var r=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;r<i;)e(r,[a],this),r+=n,a++;else if(n<0)for(;r>i;)e(r,[a],this),r+=n,a++},t.prototype.map=function(e){var r=[];return this.forEach(function(n,i,a){r[i[0]]=e(n,i,a)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,n){e[n[0]]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=lf(this.start,e);return this.step!==1&&(r+=":"+lf(this.step,e)),r+=":"+lf(this.end,e),r},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0}),jTe="Matrix",qTe=[],UTe=ne(jTe,qTe,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function g2(t,e,r){var n=t.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!ft(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),a="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function zTe(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=lW(e);switch(r){case"fixed":return HTe(t,n);case"exponential":return s9(t,n);case"engineering":return VTe(t,n);case"bin":return g2(t,2,i);case"oct":return g2(t,8,i);case"hex":return g2(t,16,i);case"auto":{var a=u9(e?.lowerExp,-3),o=u9(e?.upperExp,5);if(t.isZero())return"0";var s,l=t.toSignificantDigits(n),u=l.e;return u>=a&&u<o?s=l.toFixed():s=s9(t,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var f=arguments[2],d=arguments[4];return f!=="."?f+d:d})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function VTe(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.includes("e")){var o=t.constructor;a=new o(a).toFixed()}return a+"e"+(r>=0?"+":"")+n.toString()}function s9(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function HTe(t,e){return t.toFixed(e)}function u9(t,e){return Bt(t)?t:kt(t)?t.toNumber():e}function GTe(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function qt(t,e){var r=KTe(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function KTe(t,e){if(typeof t=="number")return lf(t,e);if(kt(t))return zTe(t,e);if(XTe(t))return!e||e.fraction!=="decimal"?"".concat(t.s*t.n,"/").concat(t.d):t.toString();if(Array.isArray(t))return EW(t,e);if(Di(t))return id(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>id(n)+": "+qt(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function id(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);r+=i in l9?l9[i]:i,n++}return'"'+r+'"'}var l9={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function oo(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function EW(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=EW(t[i],e);return r+="]",r}else return qt(t,e)}function XTe(t){return t&&typeof t=="object"&&typeof t.s=="bigint"&&typeof t.n=="bigint"&&typeof t.d=="bigint"||!1}function CC(t,e){if(!Di(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Dr(t)+", index: 0)");if(!Di(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Dr(e)+", index: 1)");return t===e?0:t>e?1:-1}function Ut(t,e,r){if(!(this instanceof Ut))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}Ut.prototype=new RangeError;Ut.prototype.constructor=RangeError;Ut.prototype.name="DimensionError";Ut.prototype.isDimensionError=!0;function $o(t,e,r){if(!(this instanceof $o))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}$o.prototype=new RangeError;$o.prototype.constructor=RangeError;$o.prototype.name="IndexError";$o.prototype.isIndexError=!0;function Dt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function SW(t,e,r){var n,i=t.length;if(i!==e[r])throw new Ut(i,e[r]);if(r<e.length-1){var a=r+1;for(n=0;n<i;n++){var o=t[n];if(!Array.isArray(o))throw new Ut(e.length-1,e.length,"<");SW(t[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new Ut(e.length+1,e.length,">")}function c9(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new Ut(t.length,0)}else SW(t,e,0)}function G1(t,e){var r=t.isMatrix?t._size:Dt(t),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==r[a])throw new Ut(i,r[a])})}function Rr(t,e){if(t!==void 0){if(!Bt(t)||!ft(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new $o(t,e)}}function Qd(t){for(var e=0;e<t._dimensions.length;++e){var r=t._dimensions[e];if(r._data&&Sr(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(Di(r)&&r.length===0)return!0}return!1}function Zd(t,e,r){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!Bt(i)||!ft(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+qt(e)+")")}),(Bt(t)||kt(t))&&(t=[t]);var n=r!==void 0?r:0;return OC(t,e,0,n),t}function OC(t,e,r,n){var i,a,o=t.length,s=e[r],l=Math.min(o,s);if(t.length=s,r<e.length-1){var u=r+1;for(i=0;i<l;i++)a=t[i],Array.isArray(a)||(a=[a],t[i]=a),OC(a,e,u,n);for(i=l;i<s;i++)a=[],t[i]=a,OC(a,e,u,n)}else{for(i=0;i<l;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=l;i<s;i++)t[i]=n}}function sI(t,e){var r=or(t,!0),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Ut(0,n,"!=");e=uI(e,n);var i=TW(e);if(n!==i)throw new Ut(i,n,"!=");try{return WTe(r,e)}catch(a){throw a instanceof Ut?new Ut(i,n,"!="):a}}function uI(t,e){var r=TW(t),n=t.slice(),i=-1,a=t.indexOf(i),o=t.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=a>=0,l=e%r===0;if(s)if(l)n[a]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function TW(t){return t.reduce((e,r)=>e*r,1)}function WTe(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=r.length/a,s=0;s<o;s++)n.push(r.slice(s*a,(s+1)*a));r=n}return r}function K1(t,e){for(var r=Dt(t);Array.isArray(t)&&t.length===1;)t=t[0],r.shift();for(var n=r.length;r[n-1]===1;)n--;return n<r.length&&(t=DW(t,n,0),r.length=n),t}function DW(t,e,r){var n,i;if(r<e){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=DW(t[n],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function NW(t,e,r,n){var i=n||Dt(t);if(r)for(var a=0;a<r;a++)t=[t],i.unshift(1);for(t=CW(t,e,0);i.length<e;)i.push(1);return t}function CW(t,e,r){var n,i;if(Array.isArray(t)){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=CW(t[n],e,a)}else for(var o=r;o<e;o++)t=[t];return t}function or(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(t))return t;if(typeof e!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return e?i(t):n(t),r;function n(a){for(var o=0;o<a.length;o++){var s=a[o];Array.isArray(s)?n(s):r.push(s)}}function i(a){if(Array.isArray(a[0]))for(var o=0;o<a.length;o++)i(a[o]);else for(var s=0;s<a.length;s++)r.push(a[s])}}function Pl(t,e){return Array.prototype.map.call(t,e)}function OW(t,e){Array.prototype.forEach.call(t,e)}function f9(t,e){if(Dt(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function h9(t,e){if(Dt(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r=>e.test(r))}function d9(t,e){return Array.prototype.join.call(t,e)}function Jd(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e}function X1(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function Mx(t,e){for(var r,n=0,i=0;i<t.length;i++){var a=t[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var s=o?Mx(a,e):e(a);if(r===void 0)r=s;else if(r!==s)return"mixed"}return r}function MW(t,e,r,n){if(n<r){if(t.length!==e.length)throw new Ut(t.length,e.length);for(var i=[],a=0;a<t.length;a++)i[a]=MW(t[a],e[a],r,n+1);return i}else return t.concat(e)}function IW(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(r,n){return MW(r,n,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function lI(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.map(p=>p.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var s=e[o],l=n[o],u=0;u<l;u++){var f=i-l+u;s[u]>a[f]&&(a[f]=s[u])}for(var d=0;d<e.length;d++)RW(e[d],a);return a}function RW(t,e){for(var r=e.length,n=t.length,i=0;i<n;i++){var a=r-n+i;if(t[i]<e[a]&&t[i]>1||t[i]>e[a])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(n," with size ").concat(t[i]," to size ").concat(e[a]))}}function ef(t,e){var r=Dt(t);if(Pu(r,e))return t;RW(r,e);var n=lI(r,e),i=n.length,a=[...Array(i-r.length).fill(1),...r],o=QTe(t);r.length<i&&(o=sI(o,a),r=Dt(o));for(var s=0;s<i;s++)r[s]<n[s]&&(o=YTe(o,n[s],s),r=Dt(o));return o}function YTe(t,e,r){return IW(...Array(e).fill(t),r)}function cI(t,e){if(!Array.isArray(t))throw new Error("Array expected");var r=Dt(t);if(e.length!==r.length)throw new Ut(e.length,r.length);for(var n=0;n<e.length;n++)Rr(e[n],r[n]);return e.reduce((i,a)=>i[a],t)}function MC(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return[];if(r)return a(t);var n=[];return i(t,0);function i(o,s){if(Array.isArray(o)){for(var l=o.length,u=Array(l),f=0;f<l;f++)n[s]=f,u[f]=i(o[f],s+1);return u}else return e(o,n.slice(0,s),t)}function a(o){if(Array.isArray(o)){for(var s=o.length,l=Array(s),u=0;u<s;u++)l[u]=a(o[u]);return l}else return e(o)}}function PW(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return;if(r){a(t);return}var n=[];i(t,0);function i(o,s){if(Array.isArray(o))for(var l=o.length,u=0;u<l;u++)n[s]=u,i(o[u],s+1);else e(o,n.slice(0,s),t)}function a(o){if(Array.isArray(o))for(var s=o.length,l=0;l<s;l++)a(o[l]);else e(o)}}function QTe(t){return kn([],t)}function _f(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(U1.isTypedFunction(t)){var i;if(n)i=1;else{var a=(e.isMatrix?e.size():Dt(e)).map(()=>0),o=e.isMatrix?e.get(a):cI(e,a);i=eDe(t,o,a,e)}var s;if(e.isMatrix&&e.dataType!=="mixed"&&e.dataType!==void 0){var l=ZTe(t,i);s=l!==void 0?l:t}else s=t;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];return p9(s,d.slice(0,i),r,t.name)}}:{isUnary:!1,fn:function(){for(var f=arguments.length,d=new Array(f),p=0;p<f;p++)d[p]=arguments[p];return p9(s,d,r,t.name)}}}return n===void 0?{isUnary:JTe(t),fn:t}:{isUnary:n,fn:t}}function ZTe(t,e){var r=[];if(Object.entries(t.signatures).forEach(n=>{var[i,a]=n;i.split(",").length===e&&r.push(a)}),r.length===1)return r[0]}function JTe(t){if(t.length!==1)return!1;var e=t.toString();if(/arguments/.test(e))return!1;var r=e.match(/\(.*?\)/);return!/\.\.\./.test(r)}function eDe(t,e,r,n){for(var i=[e,r,n],a=3;a>0;a--){var o=i.slice(0,a);if(U1.resolve(t,o)!==null)return a}}function p9(t,e,r,n){try{return t(...e)}catch(i){tDe(i,e,r,n)}}function tDe(t,e,r,n){var i;if(t instanceof TypeError&&((i=t.data)===null||i===void 0?void 0:i.category)==="wrongType"){var a=[];throw a.push("value: ".concat(Dr(e[0]))),e.length>=2&&a.push("index: ".concat(Dr(e[1]))),e.length>=3&&a.push("array: ".concat(Dr(e[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(a.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(t.message))}var rDe="DenseMatrix",nDe=["Matrix"],iDe=ne(rDe,nDe,t=>{var{Matrix:e}=t;function r(f,d){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!Di(d))throw new Error("Invalid datatype: "+d);if(gt(f))f.type==="DenseMatrix"?(this._data=Ct(f._data),this._size=Ct(f._size),this._datatype=d||f._datatype):(this._data=f.toArray(),this._size=f.size(),this._datatype=d||f._datatype);else if(f&&Sr(f.data)&&Sr(f.size))this._data=f.data,this._size=f.size,c9(this._data,this._size),this._datatype=d||f.datatype;else if(Sr(f))this._data=u(f),this._size=Dt(this._data),c9(this._data,this._size),this._datatype=d;else{if(f)throw new TypeError("Unsupported type of data ("+Dr(f)+")");this._data=[],this._size=[0],this._datatype=d}}r.prototype=new e,r.prototype.createDenseMatrix=function(f,d){return new r(f,d)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Mx(this._data,Dr)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(f,d){return new r(f,d)},r.prototype.subset=function(f,d,p){switch(arguments.length){case 1:return n(this,f);case 2:case 3:return a(this,f,d,p);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(f){return cI(this._data,f)},r.prototype.set=function(f,d,p){if(!Sr(f))throw new TypeError("Array expected");if(f.length<this._size.length)throw new Ut(f.length,this._size.length,"<");var m,y,g,b=f.map(function(O){return O+1});l(this,b,p);var E=this._data;for(m=0,y=f.length-1;m<y;m++)g=f[m],Rr(g,E.length),E=E[g];return g=f[f.length-1],Rr(g,E.length),E[g]=d,this};function n(f,d){if(!Ex(d))throw new TypeError("Invalid index");var p=d.isScalar();if(p)return f.get(d.min());var m=d.size();if(m.length!==f._size.length)throw new Ut(m.length,f._size.length);for(var y=d.min(),g=d.max(),b=0,E=f._size.length;b<E;b++)Rr(y[b],f._size[b]),Rr(g[b],f._size[b]);var O=new r([]),A=i(f._data,d);return O._size=A.size,O._datatype=f._datatype,O._data=A.data,O}function i(f,d){var p=d.size().length-1,m=Array(p);return{data:y(f),size:m};function y(g){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=d.dimension(b);return m[b]=E.size()[0],b<p?E.map(O=>(Rr(O,g.length),y(g[O],b+1))).valueOf():E.map(O=>(Rr(O,g.length),g[O])).valueOf()}}function a(f,d,p,m){if(!d||d.isIndex!==!0)throw new TypeError("Invalid index");var y=d.size(),g=d.isScalar(),b;if(gt(p)?(b=p.size(),p=p.valueOf()):b=Dt(p),g){if(b.length!==0)throw new TypeError("Scalar expected");f.set(d.min(),p,m)}else{if(!Pu(b,y))try{b.length===0?p=ef([p],y):p=ef(p,y),b=Dt(p)}catch{}if(y.length<f._size.length)throw new Ut(y.length,f._size.length,"<");if(b.length<y.length){for(var E=0,O=0;y[E]===1&&b[E]===1;)E++;for(;y[E]===1;)O++,E++;p=NW(p,y.length,O,b)}if(!Pu(y,b))throw new Ut(y,b,">");var A=d.max().map(function(S){return S+1});l(f,A,m),o(f._data,d,p)}return f}function o(f,d,p){var m=d.size().length-1;y(f,p);function y(g,b){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,O=d.dimension(E);E<m?O.forEach((A,S)=>{Rr(A,g.length),y(g[A],b[S[0]],E+1)}):O.forEach((A,S)=>{Rr(A,g.length),g[A]=b[S[0]]})}}r.prototype.resize=function(f,d,p){if(!fo(f))throw new TypeError("Array or Matrix expected");var m=f.valueOf().map(g=>Array.isArray(g)&&g.length===1?g[0]:g),y=p?this.clone():this;return s(y,m,d)};function s(f,d,p){if(d.length===0){for(var m=f._data;Sr(m);)m=m[0];return m}return f._size=d.slice(0),f._data=Zd(f._data,f._size,p),f}r.prototype.reshape=function(f,d){var p=d?this.clone():this;p._data=sI(p._data,f);var m=p._size.reduce((y,g)=>y*g);return p._size=uI(f,m),p};function l(f,d,p){for(var m=f._size.slice(0),y=!1;m.length<d.length;)m.push(0),y=!0;for(var g=0,b=d.length;g<b;g++)d[g]>m[g]&&(m[g]=d[g],y=!0);y&&s(f,m,p)}r.prototype.clone=function(){var f=new r({data:Ct(this._data),size:Ct(this._size),datatype:this._datatype});return f},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(f){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,m=p._size.length-1;if(m<0)return p.clone();var y=_f(f,p,"map",d),g=y.fn,b=p.create(void 0,p._datatype);if(b._size=p._size,d||y.isUnary)return b._data=_(p._data),b;if(m===0){for(var E=p.valueOf(),O=Array(E.length),A=0;A<E.length;A++)O[A]=g(E[A],[A],p);return b._data=O,b}var S=[];return b._data=x(p._data),b;function x(T){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=Array(T.length);if(N<m)for(var R=0;R<T.length;R++)S[N]=R,C[R]=x(T[R],N+1);else for(var I=0;I<T.length;I++)S[N]=I,C[I]=g(T[I],S.slice(),p);return C}function _(T){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=Array(T.length);if(N<m)for(var R=0;R<T.length;R++)C[R]=_(T[R],N+1);else for(var I=0;I<T.length;I++)C[I]=g(T[I]);return C}},r.prototype.forEach=function(f){var d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=this,m=p._size.length-1;if(m<0)return;var y=_f(f,p,"map",d),g=y.fn;if(d||y.isUnary){A(p._data);return}if(m===0){for(var b=0;b<p._data.length;b++)g(p._data[b],[b],p);return}var E=[];O(p._data);function O(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<m)for(var _=0;_<S.length;_++)E[x]=_,O(S[_],x+1);else for(var T=0;T<S.length;T++)E[x]=T,g(S[T],E.slice(),p)}function A(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(x<m)for(var _=0;_<S.length;_++)A(S[_],x+1);else for(var T=0;T<S.length;T++)g(S[T])}},r.prototype[Symbol.iterator]=function*(){var f=this._size.length-1;if(!(f<0)){if(f===0){for(var d=0;d<this._data.length;d++)yield{value:this._data[d],index:[d]};return}for(var p=Array(f+1).fill(0),m=this._size.reduce((O,A)=>O*A,1),y=0;y<m;y++){for(var g=this._data,b=0;b<f;b++)g=g[p[b]];yield{value:g[p[f]],index:p.slice()};for(var E=f;E>=0&&(p[E]++,!(p[E]<this._size[E]));E--)p[E]=0}}},r.prototype.rows=function(){var f=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)f.push(new r([m],this._datatype));return f},r.prototype.columns=function(){var f=this,d=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,y=function(E){var O=m.map(A=>[A[E]]);d.push(new r(O,f._datatype))},g=0;g<p[1];g++)y(g);return d},r.prototype.toArray=function(){return Ct(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(f){return qt(this._data,f)},r.prototype.toString=function(){return qt(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(f){if(f){if(kt(f)&&(f=f.toNumber()),!Bt(f)||!ft(f))throw new TypeError("The parameter k must be an integer number")}else f=0;for(var d=f>0?f:0,p=f<0?-f:0,m=this._size[0],y=this._size[1],g=Math.min(m-p,y-d),b=[],E=0;E<g;E++)b[E]=this._data[E+p][E+d];return new r({data:b,size:[g],datatype:this._datatype})},r.diagonal=function(f,d,p,m){if(!Sr(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(T){if(kt(T)&&(T=T.toNumber()),!Bt(T)||!ft(T)||T<1)throw new Error("Size values must be positive integers");return T}),p){if(kt(p)&&(p=p.toNumber()),!Bt(p)||!ft(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var y=p>0?p:0,g=p<0?-p:0,b=f[0],E=f[1],O=Math.min(b-g,E-y),A;if(Sr(d)){if(d.length!==O)throw new Error("Invalid value array length");A=function(N){return d[N]}}else if(gt(d)){var S=d.size();if(S.length!==1||S[0]!==O)throw new Error("Invalid matrix length");A=function(N){return d.get([N])}}else A=function(){return d};m||(m=kt(A(0))?A(0).mul(0):0);var x=[];if(f.length>0){x=Zd(x,f,m);for(var _=0;_<O;_++)x[_+g][_+y]=A(_)}return new r({data:x,size:[b,E]})},r.fromJSON=function(f){return new r(f)},r.prototype.swapRows=function(f,d){if(!Bt(f)||!ft(f)||!Bt(d)||!ft(d))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Rr(f,this._size[0]),Rr(d,this._size[0]),r._swapRows(f,d,this._data),this},r._swapRows=function(f,d,p){var m=p[f];p[f]=p[d],p[d]=m};function u(f){return gt(f)?u(f.valueOf()):Sr(f)?f.map(u):f}return r},{isClass:!0}),m9="clone",aDe=["typed"],oDe=ne(m9,aDe,t=>{var{typed:e}=t;return e(m9,{any:Ct})});function BW(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}function gp(t){for(var e=0;e<t.length;e++)if(fo(t[e]))return!0;return!1}function Vl(t,e){gt(t)?t.forEach(r=>e(r),!1,!0):PW(t,e,!0)}function Ft(t,e,r){if(!r)return gt(t)?t.map(i=>e(i),!1,!0):MC(t,e,!0);var n=i=>i===0?i:e(i);return gt(t)?t.map(i=>n(i),!1,!0):MC(t,n,!0)}function Ix(t,e,r){var n=Array.isArray(t)?Dt(t):t.size();if(e<0||e>=n.length)throw new $o(e,n.length);return gt(t)?t.create(W1(t.valueOf(),e,r),t.datatype()):W1(t,e,r)}function W1(t,e,r){var n,i,a,o;if(e<=0)if(Array.isArray(t[0])){for(o=BW(t),i=[],n=0;n<o.length;n++)i[n]=W1(o[n],e-1,r);return i}else{for(a=t[0],n=1;n<t.length;n++)a=r(a,t[n]);return a}else{for(i=[],n=0;n<t.length;n++)i[n]=W1(t[n],e-1,r);return i}}function v9(t,e,r,n,i,a,o,s,l,u,f){var d=t._values,p=t._index,m=t._ptr,y,g,b,E;if(n)for(g=m[e],b=m[e+1],y=g;y<b;y++)E=p[y],r[E]!==a?(r[E]=a,o.push(E),n[E]=d[y]):(n[E]=s(n[E],d[y]),i[E]=a);else for(g=m[e],b=m[e+1],y=g;y<b;y++)E=p[y],r[E]!==a?(r[E]=a,o.push(E)):i[E]=a}var g9="isInteger",sDe=["typed"],uDe=ne(g9,sDe,t=>{var{typed:e}=t;return e(g9,{number:ft,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r))})}),Lo="number",yp="number, number";function kW(t){return Math.abs(t)}kW.signature=Lo;function FW(t,e){return t+e}FW.signature=yp;function $W(t,e){return t-e}$W.signature=yp;function LW(t,e){return t*e}LW.signature=yp;function jW(t){return-t}jW.signature=Lo;function qW(t){return t}qW.signature=Lo;function Wm(t){return cSe(t)}Wm.signature=Lo;function UW(t){return t*t*t}UW.signature=Lo;function zW(t){return Math.exp(t)}zW.signature=Lo;function VW(t){return fSe(t)}VW.signature=Lo;function HW(t,e){if(!ft(t)||!ft(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}HW.signature=yp;function y9(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function Y1(t){return uSe(t)}Y1.signature=Lo;function IC(t){return sSe(t)}IC.signature=Lo;function b9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function RC(t){return Dl(t)}RC.signature=Lo;function GW(t){return t*t}GW.signature=Lo;function KW(t,e){var r,n,i,a=0,o=1,s=1,l=0;if(!ft(t)||!ft(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),i=t-n*e,r=a,a=o-n*a,o=r,r=s,s=l-n*s,l=r,t=e,e=i;var u;return t<0?u=[-t,-o,-l]:u=[t,t?o:0,l],u}KW.signature=yp;function XW(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}XW.signature=yp;function Lm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!ft(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(cW(t,e))}var lDe="number",bp="number, number";function WW(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function bitAnd");return t&e}WW.signature=bp;function YW(t){if(!ft(t))throw new Error("Integer expected in function bitNot");return~t}YW.signature=lDe;function QW(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function bitOr");return t|e}QW.signature=bp;function ZW(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function bitXor");return t^e}ZW.signature=bp;function JW(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function leftShift");return t<<e}JW.signature=bp;function eY(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function rightArithShift");return t>>e}eY.signature=bp;function tY(t,e){if(!ft(t)||!ft(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}tY.signature=bp;function bu(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return bu(t,r)*bu(r+1,e)}function rY(t,e){if(!ft(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!ft(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,i=e<r?r+1:e+1,a=2,o=e<r?e:r,s=i;s<=t;++s)for(n*=s;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=bu(a,o)),n}rY.signature="number, number";var cDe=Math.PI,fDe=2*Math.PI,hDe=Math.E,dDe=1.618033988749895,pDe="number",fI="number, number";function nY(t){return!t}nY.signature=pDe;function PC(t,e){return!!(t||e)}PC.signature=fI;function BC(t,e){return!!t!=!!e}BC.signature=fI;function kC(t,e){return!!(t&&e)}kC.signature=fI;function Q1(t){var e;if(ft(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:bu(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Q1(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,n=r*t,i=n*t,a=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*t))}--t,e=pd[0];for(var o=1;o<pd.length;++o)e+=pd[o]/(t+o);var s=t+iY+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*e}Q1.signature="number";var iY=4.7421875,pd=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],aY=.9189385332046728,mDe=5,vDe=7,w9=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Z1(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-Z1(1-t);t=t-1;for(var e=t+mDe+.5,r=w9[0],n=vDe-1;n>=1;n--)r+=w9[n]/(t+n);return aY+(t+.5)*Math.log(e)-e+Math.log(r)}Z1.signature="number";var Mi="number";function oY(t){return mSe(t)}oY.signature=Mi;function sY(t){return Math.atan(1/t)}sY.signature=Mi;function uY(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}uY.signature=Mi;function lY(t){return Math.asin(1/t)}lY.signature=Mi;function cY(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}cY.signature=Mi;function fY(t){return Math.acos(1/t)}fY.signature=Mi;function hY(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}hY.signature=Mi;function dY(t){return vSe(t)}dY.signature=Mi;function pY(t){return gSe(t)}pY.signature=Mi;function mY(t){return 1/Math.tan(t)}mY.signature=Mi;function vY(t){var e=Math.exp(2*t);return(e+1)/(e-1)}vY.signature=Mi;function gY(t){return 1/Math.sin(t)}gY.signature=Mi;function yY(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*Dl(t)}yY.signature=Mi;function bY(t){return 1/Math.cos(t)}bY.signature=Mi;function wY(t){return 2/(Math.exp(t)+Math.exp(-t))}wY.signature=Mi;function xY(t){return bSe(t)}xY.signature=Mi;var hI="number";function _Y(t){return t<0}_Y.signature=hI;function AY(t){return t>0}AY.signature=hI;function EY(t){return Number.isNaN(t)}EY.signature=hI;function ho(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return t.isNaN()||e.isNaN()?!1:!t.isFinite()||!e.isFinite()?t.eq(e):t.eq(e)?!0:t.minus(e).abs().lte(t.constructor.max(t.constructor.max(t.abs(),e.abs()).mul(r),n))}var x9="isNegative",gDe=["typed","config"],yDe=ne(x9,gDe,t=>{var{typed:e,config:r}=t;return e(x9,{number:n=>vi(n,0,r.relTol,r.absTol)?!1:_Y(n),BigNumber:n=>ho(n,new n.constructor(0),r.relTol,r.absTol)?!1:n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n<0n,Fraction:n=>n.s<0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>Ft(i,n))})}),_9="isNumeric",bDe=["typed"],wDe=ne(_9,bDe,t=>{var{typed:e}=t;return e(_9,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r))})}),A9="hasNumericValue",xDe=["typed","isNumeric"],_De=ne(A9,xDe,t=>{var{typed:e,isNumeric:r}=t;return e(A9,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return r(i)}})}),E9="isPositive",ADe=["typed","config"],EDe=ne(E9,ADe,t=>{var{typed:e,config:r}=t;return e(E9,{number:n=>vi(n,0,r.relTol,r.absTol)?!1:AY(n),BigNumber:n=>ho(n,new n.constructor(0),r.relTol,r.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0n&&n.n>0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>Ft(i,n))})}),S9="isZero",SDe=["typed","equalScalar"],TDe=ne(S9,SDe,t=>{var{typed:e,equalScalar:r}=t;return e(S9,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>Ft(i,n))})}),T9="isNaN",DDe=["typed"],NDe=ne(T9,DDe,t=>{var{typed:e}=t;return e(T9,{number:EY,BigNumber:function(n){return n.isNaN()},bigint:function(n){return!1},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r))})}),D9="typeOf",CDe=["typed"],ODe=ne(D9,CDe,t=>{var{typed:e}=t;return e(D9,{any:Dr})});function MDe(t,e,r,n){return vi(t.re,e.re,r,n)&&vi(t.im,e.im,r,n)}var wp=ne("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),J1="equalScalar",IDe=["typed","config"],RDe=ne(J1,IDe,t=>{var{typed:e,config:r}=t,n=wp({typed:e});return e(J1,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return vi(a,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||ho(a,o,r.relTol,r.absTol)},"bigint, bigint":function(a,o){return a===o},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return MDe(a,o,r.relTol,r.absTol)}},n)});ne(J1,["typed","config"],t=>{var{typed:e,config:r}=t;return e(J1,{"number, number":function(i,a){return vi(i,a,r.relTol,r.absTol)}})});var PDe="SparseMatrix",BDe=["typed","equalScalar","Matrix"],kDe=ne(PDe,BDe,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(g,b){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(b&&!Di(b))throw new Error("Invalid datatype: "+b);if(gt(g))a(this,g,b);else if(g&&Sr(g.index)&&Sr(g.ptr)&&Sr(g.size))this._values=g.values,this._index=g.index,this._ptr=g.ptr,this._size=g.size,this._datatype=b||g.datatype;else if(Sr(g))o(this,g,b);else{if(g)throw new TypeError("Unsupported type of data ("+Dr(g)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=b}}function a(g,b,E){b.type==="SparseMatrix"?(g._values=b._values?Ct(b._values):void 0,g._index=Ct(b._index),g._ptr=Ct(b._ptr),g._size=Ct(b._size),g._datatype=E||b._datatype):o(g,b.valueOf(),E||b._datatype)}function o(g,b,E){g._values=[],g._index=[],g._ptr=[],g._datatype=E;var O=b.length,A=0,S=r,x=0;if(Di(E)&&(S=e.find(r,[E,E])||r,x=e.convert(0,E)),O>0){var _=0;do{g._ptr.push(g._index.length);for(var T=0;T<O;T++){var N=b[T];if(Sr(N)){if(_===0&&A<N.length&&(A=N.length),_<N.length){var C=N[_];S(C,x)||(g._values.push(C),g._index.push(T))}}else _===0&&A<1&&(A=1),S(N,x)||(g._values.push(N),g._index.push(T))}_++}while(_<A)}g._ptr.push(g._index.length),g._size=[O,A]}i.prototype=new n,i.prototype.createSparseMatrix=function(g,b){return new i(g,b)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Mx(this._values,Dr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(g,b){return new i(g,b)},i.prototype.density=function(){var g=this._size[0],b=this._size[1];return g!==0&&b!==0?this._index.length/(g*b):0},i.prototype.subset=function(g,b,E){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,g);case 2:case 3:return l(this,g,b,E);default:throw new SyntaxError("Wrong number of arguments")}};function s(g,b){if(!Ex(b))throw new TypeError("Invalid index");var E=b.isScalar();if(E)return g.get(b.min());var O=b.size();if(O.length!==g._size.length)throw new Ut(O.length,g._size.length);var A,S,x,_,T=b.min(),N=b.max();for(A=0,S=g._size.length;A<S;A++)Rr(T[A],g._size[A]),Rr(N[A],g._size[A]);var C=g._values,R=g._index,I=g._ptr,P=b.dimension(0),k=b.dimension(1),q=[],U=[];P.forEach(function(H,z){U[H]=z[0],q[H]=!0});var F=C?[]:void 0,V=[],Z=[];return k.forEach(function(H){for(Z.push(V.length),x=I[H],_=I[H+1];x<_;x++)A=R[x],q[A]===!0&&(V.push(U[A]),F&&F.push(C[x]))}),Z.push(V.length),new i({values:F,index:V,ptr:Z,size:O,datatype:g._datatype})}function l(g,b,E,O){if(!b||b.isIndex!==!0)throw new TypeError("Invalid index");var A=b.size(),S=b.isScalar(),x;if(gt(E)?(x=E.size(),E=E.toArray()):x=Dt(E),S){if(x.length!==0)throw new TypeError("Scalar expected");g.set(b.min(),E,O)}else{if(A.length!==1&&A.length!==2)throw new Ut(A.length,g._size.length,"<");if(x.length<A.length){for(var _=0,T=0;A[_]===1&&x[_]===1;)_++;for(;A[_]===1;)T++,_++;E=NW(E,A.length,T,x)}if(!Pu(A,x))throw new Ut(A,x,">");if(A.length===1){var N=b.dimension(0);N.forEach(function(I,P){Rr(I),g.set([I,0],E[P[0]],O)})}else{var C=b.dimension(0),R=b.dimension(1);C.forEach(function(I,P){Rr(I),R.forEach(function(k,q){Rr(k),g.set([I,k],E[P[0]][q[0]],O)})})}}return g}i.prototype.get=function(g){if(!Sr(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new Ut(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var b=g[0],E=g[1];Rr(b,this._size[0]),Rr(E,this._size[1]);var O=u(b,this._ptr[E],this._ptr[E+1],this._index);return O<this._ptr[E+1]&&this._index[O]===b?this._values[O]:0},i.prototype.set=function(g,b,E){if(!Sr(g))throw new TypeError("Array expected");if(g.length!==this._size.length)throw new Ut(g.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var O=g[0],A=g[1],S=this._size[0],x=this._size[1],_=r,T=0;Di(this._datatype)&&(_=e.find(r,[this._datatype,this._datatype])||r,T=e.convert(0,this._datatype)),(O>S-1||A>x-1)&&(p(this,Math.max(O+1,S),Math.max(A+1,x),E),S=this._size[0],x=this._size[1]),Rr(O,S),Rr(A,x);var N=u(O,this._ptr[A],this._ptr[A+1],this._index);return N<this._ptr[A+1]&&this._index[N]===O?_(b,T)?f(N,A,this._values,this._index,this._ptr):this._values[N]=b:_(b,T)||d(N,O,A,b,this._values,this._index,this._ptr),this};function u(g,b,E,O){if(E-b===0)return E;for(var A=b;A<E;A++)if(O[A]===g)return A;return b}function f(g,b,E,O,A){E.splice(g,1),O.splice(g,1);for(var S=b+1;S<A.length;S++)A[S]--}function d(g,b,E,O,A,S,x){A.splice(g,0,O),S.splice(g,0,b);for(var _=E+1;_<x.length;_++)x[_]++}i.prototype.resize=function(g,b,E){if(!fo(g))throw new TypeError("Array or Matrix expected");var O=g.valueOf().map(S=>Array.isArray(S)&&S.length===1?S[0]:S);if(O.length!==2)throw new Error("Only two dimensions matrix are supported");O.forEach(function(S){if(!Bt(S)||!ft(S)||S<0)throw new TypeError("Invalid size, must contain positive integers (size: "+qt(O)+")")});var A=E?this.clone():this;return p(A,O[0],O[1],b)};function p(g,b,E,O){var A=O||0,S=r,x=0;Di(g._datatype)&&(S=e.find(r,[g._datatype,g._datatype])||r,x=e.convert(0,g._datatype),A=e.convert(A,g._datatype));var _=!S(A,x),T=g._size[0],N=g._size[1],C,R,I;if(E>N){for(R=N;R<E;R++)if(g._ptr[R]=g._values.length,_)for(C=0;C<T;C++)g._values.push(A),g._index.push(C);g._ptr[E]=g._values.length}else E<N&&(g._ptr.splice(E+1,N-E),g._values.splice(g._ptr[E],g._values.length),g._index.splice(g._ptr[E],g._index.length));if(N=E,b>T){if(_){var P=0;for(R=0;R<N;R++){g._ptr[R]=g._ptr[R]+P,I=g._ptr[R+1]+P;var k=0;for(C=T;C<b;C++,k++)g._values.splice(I+k,0,A),g._index.splice(I+k,0,C),P++}g._ptr[N]=g._values.length}}else if(b<T){var q=0;for(R=0;R<N;R++){g._ptr[R]=g._ptr[R]-q;var U=g._ptr[R],F=g._ptr[R+1]-q;for(I=U;I<F;I++)C=g._index[I],C>b-1&&(g._values.splice(I,1),g._index.splice(I,1),q++)}g._ptr[R]=g._values.length}return g._size[0]=b,g._size[1]=E,g}i.prototype.reshape=function(g,b){if(!Sr(g))throw new TypeError("Array expected");if(g.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");g.forEach(function(H){if(!Bt(H)||!ft(H)||H<=-2||H===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+qt(g)+")")});var E=this._size[0]*this._size[1];g=uI(g,E);var O=g[0]*g[1];if(E!==O)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var A=b?this.clone():this;if(this._size[0]===g[0]&&this._size[1]===g[1])return A;for(var S=[],x=0;x<A._ptr.length;x++)for(var _=0;_<A._ptr[x+1]-A._ptr[x];_++)S.push(x);for(var T=A._values.slice(),N=A._index.slice(),C=0;C<A._index.length;C++){var R=N[C],I=S[C],P=R*A._size[1]+I;S[C]=P%g[1],N[C]=Math.floor(P/g[1])}A._values.length=0,A._index.length=0,A._ptr.length=g[1]+1,A._size=g.slice();for(var k=0;k<A._ptr.length;k++)A._ptr[k]=0;for(var q=0;q<T.length;q++){var U=N[q],F=S[q],V=T[q],Z=u(U,A._ptr[F],A._ptr[F+1],A._index);d(Z,U,F,V,A._values,A._index,A._ptr)}return A},i.prototype.clone=function(){var g=new i({values:this._values?Ct(this._values):void 0,index:Ct(this._index),ptr:Ct(this._ptr),size:Ct(this._size),datatype:this._datatype});return g},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(g,b){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var E=this,O=this._size[0],A=this._size[1],S=_f(g,E,"map"),x=function(T,N,C){return S.fn(T,[N,C],E)};return m(this,0,O-1,0,A-1,x,b)};function m(g,b,E,O,A,S,x){var _=[],T=[],N=[],C=r,R=0;Di(g._datatype)&&(C=e.find(r,[g._datatype,g._datatype])||r,R=e.convert(0,g._datatype));for(var I=function(Q,K,we){var ge=S(Q,K,we);C(ge,R)||(_.push(ge),T.push(K))},P=O;P<=A;P++){N.push(_.length);var k=g._ptr[P],q=g._ptr[P+1];if(x)for(var U=k;U<q;U++){var F=g._index[U];F>=b&&F<=E&&I(g._values[U],F-b,P-O)}else{for(var V={},Z=k;Z<q;Z++){var H=g._index[Z];V[H]=g._values[Z]}for(var z=b;z<=E;z++){var J=z in V?V[z]:0;I(J,z-b,P-O)}}}return N.push(_.length),new i({values:_,index:T,ptr:N,size:[E-b+1,A-O+1]})}i.prototype.forEach=function(g,b){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var E=this,O=this._size[0],A=this._size[1],S=_f(g,E,"forEach"),x=0;x<A;x++){var _=this._ptr[x],T=this._ptr[x+1];if(b)for(var N=_;N<T;N++){var C=this._index[N];S.fn(this._values[N],[C,x],E)}else{for(var R={},I=_;I<T;I++){var P=this._index[I];R[P]=this._values[I]}for(var k=0;k<O;k++){var q=k in R?R[k]:0;S.fn(q,[k,x],E)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var g=this._size[1],b=0;b<g;b++)for(var E=this._ptr[b],O=this._ptr[b+1],A=E;A<O;A++){var S=this._index[A];yield{value:this._values[A],index:[S,b]}}},i.prototype.toArray=function(){return y(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return y(this._values,this._index,this._ptr,this._size,!1)};function y(g,b,E,O,A){var S=O[0],x=O[1],_=[],T,N;for(T=0;T<S;T++)for(_[T]=[],N=0;N<x;N++)_[T][N]=0;for(N=0;N<x;N++)for(var C=E[N],R=E[N+1],I=C;I<R;I++)T=b[I],_[T][N]=g?A?Ct(g[I]):g[I]:1;return _}return i.prototype.format=function(g){for(var b=this._size[0],E=this._size[1],O=this.density(),A="Sparse Matrix ["+qt(b,g)+" x "+qt(E,g)+"] density: "+qt(O,g)+`
`,S=0;S<E;S++)for(var x=this._ptr[S],_=this._ptr[S+1],T=x;T<_;T++){var N=this._index[T];A+=`
    (`+qt(N,g)+", "+qt(S,g)+") ==> "+(this._values?qt(this._values[T],g):"X")}return A},i.prototype.toString=function(){return qt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(g){if(g){if(kt(g)&&(g=g.toNumber()),!Bt(g)||!ft(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var b=g>0?g:0,E=g<0?-g:0,O=this._size[0],A=this._size[1],S=Math.min(O-E,A-b),x=[],_=[],T=[];T[0]=0;for(var N=b;N<A&&x.length<S;N++)for(var C=this._ptr[N],R=this._ptr[N+1],I=C;I<R;I++){var P=this._index[I];if(P===N-b+E){x.push(this._values[I]),_[x.length-1]=P-E;break}}return T.push(x.length),new i({values:x,index:_,ptr:T,size:[S,1]})},i.fromJSON=function(g){return new i(g)},i.diagonal=function(g,b,E,O,A){if(!Sr(g))throw new TypeError("Array expected, size parameter");if(g.length!==2)throw new Error("Only two dimensions matrix are supported");if(g=g.map(function(H){if(kt(H)&&(H=H.toNumber()),!Bt(H)||!ft(H)||H<1)throw new Error("Size values must be positive integers");return H}),E){if(kt(E)&&(E=E.toNumber()),!Bt(E)||!ft(E))throw new TypeError("The parameter k must be an integer number")}else E=0;var S=r,x=0;Di(A)&&(S=e.find(r,[A,A])||r,x=e.convert(0,A));var _=E>0?E:0,T=E<0?-E:0,N=g[0],C=g[1],R=Math.min(N-T,C-_),I;if(Sr(b)){if(b.length!==R)throw new Error("Invalid value array length");I=function(z){return b[z]}}else if(gt(b)){var P=b.size();if(P.length!==1||P[0]!==R)throw new Error("Invalid matrix length");I=function(z){return b.get([z])}}else I=function(){return b};for(var k=[],q=[],U=[],F=0;F<C;F++){U.push(k.length);var V=F-_;if(V>=0&&V<R){var Z=I(V);S(Z,x)||(q.push(V+T),k.push(Z))}}return U.push(k.length),new i({values:k,index:q,ptr:U,size:[N,C]})},i.prototype.swapRows=function(g,b){if(!Bt(g)||!ft(g)||!Bt(b)||!ft(b))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Rr(g,this._size[0]),Rr(b,this._size[0]),i._swapRows(g,b,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(g,b,E,O,A){for(var S=O[g],x=O[g+1],_=S;_<x;_++)A(E[_],b[_])},i._swapRows=function(g,b,E,O,A,S){for(var x=0;x<E;x++){var _=S[x],T=S[x+1],N=u(g,_,T,A),C=u(b,_,T,A);if(N<T&&C<T&&A[N]===g&&A[C]===b){if(O){var R=O[N];O[N]=O[C],O[C]=R}continue}if(N<T&&A[N]===g&&(C>=T||A[C]!==b)){var I=O?O[N]:void 0;A.splice(C,0,b),O&&O.splice(C,0,I),A.splice(C<=N?N+1:N,1),O&&O.splice(C<=N?N+1:N,1);continue}if(C<T&&A[C]===b&&(N>=T||A[N]!==g)){var P=O?O[C]:void 0;A.splice(N,0,g),O&&O.splice(N,0,P),A.splice(N<=C?C+1:C,1),O&&O.splice(N<=C?C+1:C,1)}}},i},{isClass:!0}),FDe="number",$De=["typed"];function LDe(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:i}}else return null}function jDe(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);r+=i/Math.pow(t.radix,n+1)}var a=e+r;if(isNaN(a))throw new SyntaxError('String "'+t.input+'" is not a valid number');return a}var qDe=ne(FDe,$De,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=LDe(i);if(a)return jDe(a);var o=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),i=s[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(l>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>Ft(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),UDe="bigint",zDe=["typed"],VDe=ne(UDe,zDe,t=>{var{typed:e}=t,r=e("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":e.referToSelf(n=>i=>Ft(i,n))});return r.fromJSON=function(n){return BigInt(n.value)},r}),N9="string",HDe=["typed"],GDe=ne(N9,HDe,t=>{var{typed:e}=t;return e(N9,{"":function(){return""},number:lf,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r)),any:function(n){return String(n)}})}),C9="boolean",KDe=["typed"],XDe=ne(C9,KDe,t=>{var{typed:e}=t;return e(C9,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r))})}),WDe="bignumber",YDe=["typed","BigNumber"],QDe=ne(WDe,YDe,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],s=r(a[1]),l=new r(2).pow(Number(o));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new r(2).pow(Number(o)-1);return s.gte(u)?s.sub(l):s}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new r(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new r(0)},"Array | Matrix":e.referToSelf(n=>i=>Ft(i,n))})}),ZDe="complex",JDe=["typed","Complex"],e2e=ne(ZDe,JDe,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,a){return new r(i,a)},"BigNumber, BigNumber":function(i,a){return new r(i.toNumber(),a.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Ft(i,n))})}),t2e="fraction",r2e=["typed","Fraction"],n2e=ne(t2e,r2e,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,a){return new r(i,a)},"bigint, bigint":function(i,a){return new r(i,a)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>Ft(i,n))})}),O9="matrix",i2e=["typed","Matrix","DenseMatrix","SparseMatrix"],a2e=ne(O9,i2e,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(O9,{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,l){return a([],s,l)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,s,l){if(s==="dense"||s==="default"||s===void 0)return new n(o,l);if(s==="sparse")return new i(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),M9="matrixFromFunction",o2e=["typed","matrix","isZero"],s2e=ne(M9,o2e,t=>{var{typed:e,matrix:r,isZero:n}=t;return e(M9,{"Array | Matrix, function, string, string":function(o,s,l,u){return i(o,s,l,u)},"Array | Matrix, function, string":function(o,s,l){return i(o,s,l)},"Matrix, function":function(o,s){return i(o,s,"dense")},"Array, function":function(o,s){return i(o,s,"dense").toArray()},"Array | Matrix, string, function":function(o,s,l){return i(o,l,s)},"Array | Matrix, string, string, function":function(o,s,l,u){return i(o,u,s,l)}});function i(a,o,s,l){var u;return l!==void 0?u=r(s,l):u=r(s),u.resize(a),u.forEach(function(f,d){var p=o(d);n(p)||u.set(d,p)}),u}}),I9="matrixFromRows",u2e=["typed","matrix","flatten","size"],l2e=ne(I9,u2e,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(I9,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(u=>u.toArray())))}});function a(s){if(s.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(s[0]),u=[];for(var f of s){var d=o(f);if(d!==l)throw new TypeError("The vectors had different length: "+(l|0)+"  "+(d|0));u.push(n(f))}return u}function o(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),R9="matrixFromColumns",c2e=["typed","matrix","flatten","size"],f2e=ne(R9,c2e,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(R9,{"...Array":function(l){return a(l)},"...Matrix":function(l){return r(a(l.map(u=>u.toArray())))}});function a(s){if(s.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(s[0]),u=[],f=0;f<l;f++)u[f]=[];for(var d of s){var p=o(d);if(p!==l)throw new TypeError("The vectors had different length: "+(l|0)+"  "+(p|0));for(var m=n(d),y=0;y<l;y++)u[y].push(m[y])}return u}function o(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),P9="splitUnit",h2e=["typed"],d2e=ne(P9,h2e,t=>{var{typed:e}=t;return e(P9,{"Unit, Array":function(n,i){return n.splitUnit(i)}})}),B9="unaryMinus",p2e=["typed"],m2e=ne(B9,p2e,t=>{var{typed:e}=t;return e(B9,{number:jW,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:e.referToSelf(r=>n=>{var i=n.clone();return i.value=e.find(r,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r,!0))})}),k9="unaryPlus",v2e=["typed","config","numeric"],g2e=ne(k9,v2e,t=>{var{typed:e,config:r,numeric:n}=t;return e(k9,{number:qW,Complex:function(a){return a},BigNumber:function(a){return a},bigint:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>Ft(a,i,!0)),boolean:function(a){return n(a?1:0,r.number)},string:function(a){return n(a,Ql(a,r))}})}),F9="abs",y2e=["typed"],b2e=ne(F9,y2e,t=>{var{typed:e}=t;return e(F9,{number:kW,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r,!0))})}),$9="mapSlices",w2e=["typed","isInteger"],FC=ne($9,w2e,t=>{var{typed:e,isInteger:r}=t;return e($9,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!r(a))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(i)?Dt(i):i.size();if(a<0||a>=s.length)throw new $o(a,s.length);return gt(i)?i.create(ew(i.valueOf(),a,o),i.datatype()):ew(i,a,o)}})},{formerly:"apply"});function ew(t,e,r){var n,i,a;if(e<=0)if(Array.isArray(t[0])){for(a=x2e(t),i=[],n=0;n<a.length;n++)i[n]=ew(a[n],e-1,r);return i}else return r(t);else{for(i=[],n=0;n<t.length;n++)i[n]=ew(t[n],e-1,r);return i}}function x2e(t){var e=t.length,r=t[0].length,n,i,a=[];for(i=0;i<r;i++){var o=[];for(n=0;n<e;n++)o.push(t[n][i]);a.push(o)}return a}var L9="addScalar",_2e=["typed"],A2e=ne(L9,_2e,t=>{var{typed:e}=t;return e(L9,{"number, number":FW,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),j9="subtractScalar",E2e=["typed"],S2e=ne(j9,E2e,t=>{var{typed:e}=t;return e(j9,{"number, number":$W,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),q9="cbrt",T2e=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],D2e=ne(q9,T2e,t=>{var{config:e,typed:r,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:s,Fraction:l}=t;return r(q9,{number:Wm,Complex:u,"Complex, boolean":u,BigNumber:function(p){return p.cbrt()},Unit:f});function u(d,p){var m=d.arg()/3,y=d.abs(),g=new o(Wm(y),0).mul(new o(0,m).exp());if(p){var b=[g,new o(Wm(y),0).mul(new o(0,m+Math.PI*2/3).exp()),new o(Wm(y),0).mul(new o(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?b:a(b)}else return g}function f(d){if(d.value&&Au(d.value)){var p=d.clone();return p.value=1,p=p.pow(1/3),p.value=u(d.value),p}else{var m=n(d.value);m&&(d.value=i(d.value));var y;kt(d.value)?y=new s(1).div(3):Mg(d.value)?y=new l(1,3):y=1/3;var g=d.pow(y);return m&&(g.value=i(g.value)),g}}}),N2e="matAlgo11xS0s",C2e=["typed","equalScalar"],gi=ne(N2e,C2e,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,s){var l=i._values,u=i._index,f=i._ptr,d=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=d[0],y=d[1],g,b=r,E=0,O=o;typeof p=="string"&&(g=p,b=e.find(r,[g,g]),E=e.convert(0,g),a=e.convert(a,g),O=e.find(o,[g,g]));for(var A=[],S=[],x=[],_=0;_<y;_++){x[_]=S.length;for(var T=f[_],N=f[_+1],C=T;C<N;C++){var R=u[C],I=s?O(a,l[C]):O(l[C],a);b(I,E)||(S.push(R),A.push(I))}}return x[y]=S.length,i.createSparseMatrix({values:A,index:S,ptr:x,size:[m,y],datatype:g})}}),O2e="matAlgo12xSfs",M2e=["typed","DenseMatrix"],Un=ne(O2e,M2e,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,s){var l=i._values,u=i._index,f=i._ptr,d=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=d[0],y=d[1],g,b=o;typeof p=="string"&&(g=p,a=e.convert(a,g),b=e.find(o,[g,g]));for(var E=[],O=[],A=[],S=0;S<y;S++){for(var x=S+1,_=f[S],T=f[S+1],N=_;N<T;N++){var C=u[N];O[C]=l[N],A[C]=x}for(var R=0;R<m;R++)S===0&&(E[R]=[]),A[R]===x?E[R][S]=s?b(a,O[R]):b(O[R],a):E[R][S]=s?b(a,0):b(0,a)}return new r({data:E,size:[m,y],datatype:g})}}),I2e="matAlgo14xDs",R2e=["typed"],jo=ne(I2e,R2e,t=>{var{typed:e}=t;return function(i,a,o,s){var l=i._data,u=i._size,f=i._datatype,d,p=o;typeof f=="string"&&(d=f,a=e.convert(a,d),p=e.find(o,[d,d]));var m=u.length>0?r(p,0,u,u[0],l,a,s):[];return i.createDenseMatrix({data:m,size:Ct(u),datatype:d})};function r(n,i,a,o,s,l,u){var f=[];if(i===a.length-1)for(var d=0;d<o;d++)f[d]=u?n(l,s[d]):n(s[d],l);else for(var p=0;p<o;p++)f[p]=r(n,i+1,a,a[i+1],s[p],l,u);return f}}),$C="ceil",P2e=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],B2e=new zl(10),k2e=ne($C,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;function i(a){var o=Math.ceil(a),s=n(a);return o===s?o:vi(a,s,r.relTol,r.absTol)&&!vi(a,o,r.relTol,r.absTol)?s:o}return e($C,{number:i,"number, number":function(o,s){if(!ft(s))throw new RangeError("number of decimals in function ceil must be an integer");if(s<0||s>15)throw new RangeError("number of decimals in ceil number must be in range 0-15");var l=10**s;return i(o*l)/l}})}),F2e=ne($C,P2e,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=t,l=gi({typed:e,equalScalar:a}),u=Un({typed:e,DenseMatrix:s}),f=jo({typed:e}),d=k2e({typed:e,config:r,round:n});function p(m){var y=(E,O)=>ho(E,O,r.relTol,r.absTol),g=m.ceil(),b=n(m);return g.eq(b)?g:y(m,b)&&!y(m,g)?b:g}return e("ceil",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(y){return y.ceil()},"Complex, number":function(y,g){return y.ceil(g)},"Complex, BigNumber":function(y,g){return y.ceil(g.toNumber())},BigNumber:p,"BigNumber, BigNumber":function(y,g){var b=B2e.pow(g);return p(y.mul(b)).div(b)},bigint:m=>m,"bigint, number":(m,y)=>m,"bigint, BigNumber":(m,y)=>m,Fraction:function(y){return y.ceil()},"Fraction, number":function(y,g){return y.ceil(g)},"Fraction, BigNumber":function(y,g){return y.ceil(g.toNumber())},"Unit, number, Unit":e.referToSelf(m=>function(y,g,b){var E=y.toNumeric(b);return b.multiply(m(E,g))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(y,g,b)=>m(y,g.toNumber(),b)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(y,g,b)=>Ft(y,E=>m(E,g,b),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(y,g)=>m(y,0,g)),"Array | Matrix":e.referToSelf(m=>y=>Ft(y,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(y,g)=>Ft(y,b=>m(b,g),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(y,g)=>l(y,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(y,g)=>f(y,g,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(y,g)=>f(i(g),y,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(y,g)=>a(y,0)?o(g.size(),g.storage()):g.storage()==="dense"?f(g,y,m,!0):u(g,y,m,!0))})}),U9="cube",$2e=["typed"],L2e=ne(U9,$2e,t=>{var{typed:e}=t;return e(U9,{number:UW,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},bigint:function(n){return n*n*n},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})}),z9="exp",j2e=["typed"],q2e=ne(z9,j2e,t=>{var{typed:e}=t;return e(z9,{number:zW,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),V9="expm1",U2e=["typed","Complex"],z2e=ne(V9,U2e,t=>{var{typed:e,Complex:r}=t;return e(V9,{number:VW,Complex:function(i){var a=Math.exp(i.re);return new r(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),LC="fix",V2e=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],H2e=ne(LC,["typed","ceil","floor"],t=>{var{typed:e,ceil:r,floor:n}=t;return e(LC,{number:function(a){return a>0?n(a):r(a)},"number, number":function(a,o){return a>0?n(a,o):r(a,o)}})}),G2e=ne(LC,V2e,t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:s,DenseMatrix:l}=t,u=Un({typed:e,DenseMatrix:l}),f=jo({typed:e}),d=H2e({typed:e,ceil:i,floor:a});return e("fix",{number:d.signatures.number,"number, number | BigNumber":d.signatures["number,number"],Complex:function(m){return new r(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,y){return new r(m.re>0?a(m.re,y):i(m.re,y),m.im>0?a(m.im,y):i(m.im,y))},"Complex, BigNumber":function(m,y){var g=y.toNumber();return new r(m.re>0?a(m.re,g):i(m.re,g),m.im>0?a(m.im,g):i(m.im,g))},BigNumber:function(m){return m.isNegative()?i(m):a(m)},"BigNumber, number | BigNumber":function(m,y){return m.isNegative()?i(m,y):a(m,y)},bigint:p=>p,"bigint, number":(p,m)=>p,"bigint, BigNumber":(p,m)=>p,Fraction:function(m){return m.s<0n?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,y){return m.s<0n?i(m,y):a(m,y)},"Unit, number, Unit":e.referToSelf(p=>function(m,y,g){var b=m.toNumeric(g);return g.multiply(p(b,y))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(m,y,g)=>p(m,y.toNumber(),g)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(p=>(m,y,g)=>Ft(m,b=>p(b,y,g),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(p=>(m,y)=>p(m,0,y)),"Array | Matrix":e.referToSelf(p=>m=>Ft(m,p,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(p=>(m,y)=>Ft(m,g=>p(g,y),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,y)=>f(n(y),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,y)=>o(m,0)?s(y.size(),y.storage()):y.storage()==="dense"?f(y,m,p,!0):u(y,m,p,!0))})}),jC="floor",K2e=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],X2e=new zl(10),W2e=ne(jC,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;function i(a){var o=Math.floor(a),s=n(a);return o===s?o:vi(a,s,r.relTol,r.absTol)&&!vi(a,o,r.relTol,r.absTol)?s:o}return e(jC,{number:i,"number, number":function(o,s){if(!ft(s))throw new RangeError("number of decimals in function floor must be an integer");if(s<0||s>15)throw new RangeError("number of decimals in floor number must be in range 0 - 15");var l=10**s;return i(o*l)/l}})}),SY=ne(jC,K2e,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=t,l=gi({typed:e,equalScalar:a}),u=Un({typed:e,DenseMatrix:s}),f=jo({typed:e}),d=W2e({typed:e,config:r,round:n});function p(m){var y=(E,O)=>ho(E,O,r.relTol,r.absTol),g=m.floor(),b=n(m);return g.eq(b)?g:y(m,b)&&!y(m,g)?b:g}return e("floor",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(y){return y.floor()},"Complex, number":function(y,g){return y.floor(g)},"Complex, BigNumber":function(y,g){return y.floor(g.toNumber())},BigNumber:p,"BigNumber, BigNumber":function(y,g){var b=X2e.pow(g);return p(y.mul(b)).div(b)},bigint:m=>m,"bigint, number":(m,y)=>m,"bigint, BigNumber":(m,y)=>m,Fraction:function(y){return y.floor()},"Fraction, number":function(y,g){return y.floor(g)},"Fraction, BigNumber":function(y,g){return y.floor(g.toNumber())},"Unit, number, Unit":e.referToSelf(m=>function(y,g,b){var E=y.toNumeric(b);return b.multiply(m(E,g))}),"Unit, BigNumber, Unit":e.referToSelf(m=>(y,g,b)=>m(y,g.toNumber(),b)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(m=>(y,g,b)=>Ft(y,E=>m(E,g,b),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(m=>(y,g)=>m(y,0,g)),"Array | Matrix":e.referToSelf(m=>y=>Ft(y,m,!0)),"Array, number | BigNumber":e.referToSelf(m=>(y,g)=>Ft(y,b=>m(b,g),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(m=>(y,g)=>l(y,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(y,g)=>f(y,g,m,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(m=>(y,g)=>f(i(g),y,m,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(m=>(y,g)=>a(y,0)?o(g.size(),g.storage()):g.storage()==="dense"?f(g,y,m,!0):u(g,y,m,!0))})}),Y2e="matAlgo02xDS0",Q2e=["typed","equalScalar"],qo=ne(Y2e,Q2e,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o,s){var l=i._data,u=i._size,f=i._datatype||i.getDataType(),d=a._values,p=a._index,m=a._ptr,y=a._size,g=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(u.length!==y.length)throw new Ut(u.length,y.length);if(u[0]!==y[0]||u[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+y+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var b=u[0],E=u[1],O,A=r,S=0,x=o;typeof f=="string"&&f===g&&f!=="mixed"&&(O=f,A=e.find(r,[O,O]),S=e.convert(0,O),x=e.find(o,[O,O]));for(var _=[],T=[],N=[],C=0;C<E;C++){N[C]=T.length;for(var R=m[C],I=m[C+1],P=R;P<I;P++){var k=p[P],q=s?x(d[P],l[k][C]):x(l[k][C],d[P]);A(q,S)||(T.push(k),_.push(q))}}return N[E]=T.length,a.createSparseMatrix({values:_,index:T,ptr:N,size:[b,E],datatype:f===i._datatype&&g===a._datatype?O:void 0})}}),Z2e="matAlgo03xDSf",J2e=["typed"],Hi=ne(Z2e,J2e,t=>{var{typed:e}=t;return function(n,i,a,o){var s=n._data,l=n._size,u=n._datatype||n.getDataType(),f=i._values,d=i._index,p=i._ptr,m=i._size,y=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==m.length)throw new Ut(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=l[0],b=l[1],E,O=0,A=a;typeof u=="string"&&u===y&&u!=="mixed"&&(E=u,O=e.convert(0,E),A=e.find(a,[E,E]));for(var S=[],x=0;x<g;x++)S[x]=[];for(var _=[],T=[],N=0;N<b;N++){for(var C=N+1,R=p[N],I=p[N+1],P=R;P<I;P++){var k=d[P];_[k]=o?A(f[P],s[k][N]):A(s[k][N],f[P]),T[k]=C}for(var q=0;q<g;q++)T[q]===C?S[q][N]=_[q]:S[q][N]=o?A(O,s[q][N]):A(s[q][N],O)}return n.createDenseMatrix({data:S,size:[g,b],datatype:u===n._datatype&&y===i._datatype?E:void 0})}}),eNe="matAlgo05xSfSf",tNe=["typed","equalScalar"],Rx=ne(eNe,tNe,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,f=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,y=a._ptr,g=a._size,b=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==g.length)throw new Ut(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");var E=f[0],O=f[1],A,S=r,x=0,_=o;typeof d=="string"&&d===b&&d!=="mixed"&&(A=d,S=e.find(r,[A,A]),x=e.convert(0,A),_=e.find(o,[A,A]));var T=s&&p?[]:void 0,N=[],C=[],R=T?[]:void 0,I=T?[]:void 0,P=[],k=[],q,U,F,V;for(U=0;U<O;U++){C[U]=N.length;var Z=U+1;for(F=u[U],V=u[U+1];F<V;F++)q=l[F],N.push(q),P[q]=Z,R&&(R[q]=s[F]);for(F=y[U],V=y[U+1];F<V;F++)q=m[F],P[q]!==Z&&N.push(q),k[q]=Z,I&&(I[q]=p[F]);if(T)for(F=C[U];F<N.length;){q=N[F];var H=P[q],z=k[q];if(H===Z||z===Z){var J=H===Z?R[q]:x,$=z===Z?I[q]:x,Q=_(J,$);S(Q,x)?N.splice(F,1):(T.push(Q),F++)}}}return C[O]=N.length,i.createSparseMatrix({values:T,index:N,ptr:C,size:[E,O],datatype:d===i._datatype&&b===a._datatype?A:void 0})}}),rNe="matAlgo13xDD",nNe=["typed"],iNe=ne(rNe,nNe,t=>{var{typed:e}=t;return function(i,a,o){var s=i._data,l=i._size,u=i._datatype,f=a._data,d=a._size,p=a._datatype,m=[];if(l.length!==d.length)throw new Ut(l.length,d.length);for(var y=0;y<l.length;y++){if(l[y]!==d[y])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");m[y]=l[y]}var g,b=o;typeof u=="string"&&u===p&&(g=u,b=e.find(o,[g,g]));var E=m.length>0?r(b,0,m,m[0],s,f):[];return i.createDenseMatrix({data:E,size:m,datatype:g})};function r(n,i,a,o,s,l){var u=[];if(i===a.length-1)for(var f=0;f<o;f++)u[f]=n(s[f],l[f]);else for(var d=0;d<o;d++)u[d]=r(n,i+1,a,a[i+1],s[d],l[d]);return u}});function Yn(t,e){if(Pu(t.size(),e.size()))return[t,e];var r=lI(t.size(),e.size());return[t,e].map(n=>aNe(n,r))}function aNe(t,e){return Pu(t.size(),e)?t:t.create(ef(t.valueOf(),e),t.datatype())}var oNe="matrixAlgorithmSuite",sNe=["typed","matrix"],Br=ne(oNe,sNe,t=>{var{typed:e,matrix:r}=t,n=iNe({typed:e}),i=jo({typed:e});return function(o){var s=o.elop,l=o.SD||o.DS,u;s?(u={"DenseMatrix, DenseMatrix":(m,y)=>n(...Yn(m,y),s),"Array, Array":(m,y)=>n(...Yn(r(m),r(y)),s).valueOf(),"Array, DenseMatrix":(m,y)=>n(...Yn(r(m),y),s),"DenseMatrix, Array":(m,y)=>n(...Yn(m,r(y)),s)},o.SS&&(u["SparseMatrix, SparseMatrix"]=(m,y)=>o.SS(...Yn(m,y),s,!1)),o.DS&&(u["DenseMatrix, SparseMatrix"]=(m,y)=>o.DS(...Yn(m,y),s,!1),u["Array, SparseMatrix"]=(m,y)=>o.DS(...Yn(r(m),y),s,!1)),l&&(u["SparseMatrix, DenseMatrix"]=(m,y)=>l(...Yn(y,m),s,!0),u["SparseMatrix, Array"]=(m,y)=>l(...Yn(r(y),m),s,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(y,g)=>n(...Yn(y,g),m)),"Array, Array":e.referToSelf(m=>(y,g)=>n(...Yn(r(y),r(g)),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(y,g)=>n(...Yn(r(y),g),m)),"DenseMatrix, Array":e.referToSelf(m=>(y,g)=>n(...Yn(y,r(g)),m))},o.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(y,g)=>o.SS(...Yn(y,g),m,!1))),o.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(y,g)=>o.DS(...Yn(y,g),m,!1)),u["Array, SparseMatrix"]=e.referToSelf(m=>(y,g)=>o.DS(...Yn(r(y),g),m,!1))),l&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(y,g)=>l(...Yn(g,y),m,!0)),u["SparseMatrix, Array"]=e.referToSelf(m=>(y,g)=>l(...Yn(r(g),y),m,!0))));var f=o.scalar||"any",d=o.Ds||o.Ss;d&&(s?(u["DenseMatrix,"+f]=(m,y)=>i(m,y,s,!1),u[f+", DenseMatrix"]=(m,y)=>i(y,m,s,!0),u["Array,"+f]=(m,y)=>i(r(m),y,s,!1).valueOf(),u[f+", Array"]=(m,y)=>i(r(y),m,s,!0).valueOf()):(u["DenseMatrix,"+f]=e.referToSelf(m=>(y,g)=>i(y,g,m,!1)),u[f+", DenseMatrix"]=e.referToSelf(m=>(y,g)=>i(g,y,m,!0)),u["Array,"+f]=e.referToSelf(m=>(y,g)=>i(r(y),g,m,!1).valueOf()),u[f+", Array"]=e.referToSelf(m=>(y,g)=>i(r(g),y,m,!0).valueOf())));var p=o.sS!==void 0?o.sS:o.Ss;return s?(o.Ss&&(u["SparseMatrix,"+f]=(m,y)=>o.Ss(m,y,s,!1)),p&&(u[f+", SparseMatrix"]=(m,y)=>p(y,m,s,!0))):(o.Ss&&(u["SparseMatrix,"+f]=e.referToSelf(m=>(y,g)=>o.Ss(y,g,m,!1))),p&&(u[f+", SparseMatrix"]=e.referToSelf(m=>(y,g)=>p(g,y,m,!0)))),s&&s.signatures&&sW(u,s.signatures),u}}),H9="mod",uNe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],TY=ne(H9,uNe,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s,concat:l}=t,u=SY({typed:e,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}),f=qo({typed:e,equalScalar:a}),d=Hi({typed:e}),p=Rx({typed:e,equalScalar:a}),m=gi({typed:e,equalScalar:a}),y=Un({typed:e,DenseMatrix:s}),g=Br({typed:e,matrix:i,concat:l});return e(H9,{"number, number":b,"BigNumber, BigNumber":function(O,A){return A.isZero()?O:O.sub(A.mul(u(O.div(A))))},"bigint, bigint":function(O,A){if(A===0n)return O;if(O<0){var S=O%A;return S===0n?S:S+A}return O%A},"Fraction, Fraction":function(O,A){return A.equals(0)?O:O.sub(A.mul(u(O.div(A))))}},g({SS:p,DS:d,SD:f,Ss:m,sS:y}));function b(E,O){return O===0?E:E-O*u(E/O)}}),lNe="matAlgo01xDSid",cNe=["typed"],Jl=ne(lNe,cNe,t=>{var{typed:e}=t;return function(n,i,a,o){var s=n._data,l=n._size,u=n._datatype||n.getDataType(),f=i._values,d=i._index,p=i._ptr,m=i._size,y=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==m.length)throw new Ut(l.length,m.length);if(l[0]!==m[0]||l[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+m+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=l[0],b=l[1],E=typeof u=="string"&&u!=="mixed"&&u===y?u:void 0,O=E?e.find(a,[E,E]):a,A,S,x=[];for(A=0;A<g;A++)x[A]=[];var _=[],T=[];for(S=0;S<b;S++){for(var N=S+1,C=p[S],R=p[S+1],I=C;I<R;I++)A=d[I],_[A]=o?O(f[I],s[A][S]):O(s[A][S],f[I]),T[A]=N;for(A=0;A<g;A++)T[A]===N?x[A][S]=_[A]:x[A][S]=s[A][S]}return n.createDenseMatrix({data:x,size:[g,b],datatype:u===n._datatype&&y===i._datatype?E:void 0})}}),fNe="matAlgo04xSidSid",hNe=["typed","equalScalar"],dI=ne(fNe,hNe,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,f=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,y=a._ptr,g=a._size,b=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==g.length)throw new Ut(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");var E=f[0],O=f[1],A,S=r,x=0,_=o;typeof d=="string"&&d===b&&d!=="mixed"&&(A=d,S=e.find(r,[A,A]),x=e.convert(0,A),_=e.find(o,[A,A]));var T=s&&p?[]:void 0,N=[],C=[],R=s&&p?[]:void 0,I=s&&p?[]:void 0,P=[],k=[],q,U,F,V,Z;for(U=0;U<O;U++){C[U]=N.length;var H=U+1;for(V=u[U],Z=u[U+1],F=V;F<Z;F++)q=l[F],N.push(q),P[q]=H,R&&(R[q]=s[F]);for(V=y[U],Z=y[U+1],F=V;F<Z;F++)if(q=m[F],P[q]===H){if(R){var z=_(R[q],p[F]);S(z,x)?P[q]=null:R[q]=z}}else N.push(q),k[q]=H,I&&(I[q]=p[F]);if(R&&I)for(F=C[U];F<N.length;)q=N[F],P[q]===H?(T[F]=R[q],F++):k[q]===H?(T[F]=I[q],F++):N.splice(F,1)}return C[O]=N.length,i.createSparseMatrix({values:T,index:N,ptr:C,size:[E,O],datatype:d===i._datatype&&b===a._datatype?A:void 0})}}),dNe="matAlgo10xSids",pNe=["typed","DenseMatrix"],Pf=ne(dNe,pNe,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,o,s){var l=i._values,u=i._index,f=i._ptr,d=i._size,p=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=d[0],y=d[1],g,b=o;typeof p=="string"&&(g=p,a=e.convert(a,g),b=e.find(o,[g,g]));for(var E=[],O=[],A=[],S=0;S<y;S++){for(var x=S+1,_=f[S],T=f[S+1],N=_;N<T;N++){var C=u[N];O[C]=l[N],A[C]=x}for(var R=0;R<m;R++)S===0&&(E[R]=[]),A[R]===x?E[R][S]=s?b(a,O[R]):b(O[R],a):E[R][S]=a}return new r({data:E,size:[m,y],datatype:g})}});function Bf(t,e,r,n){if(!(this instanceof Bf))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}Bf.prototype=new Error;Bf.prototype.constructor=Error;Bf.prototype.name="ArgumentsError";Bf.prototype.isArgumentsError=!0;var G9="gcd",mNe=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],y2="number | BigNumber | Fraction | Matrix | Array",vNe="".concat(y2,", ").concat(y2,", ...").concat(y2);function K9(t){return!t.some(e=>Array.isArray(e))}var gNe=ne(G9,mNe,t=>{var{typed:e,matrix:r,config:n,round:i,equalScalar:a,zeros:o,BigNumber:s,DenseMatrix:l,concat:u}=t,f=TY({typed:e,config:n,round:i,matrix:r,equalScalar:a,zeros:o,DenseMatrix:l,concat:u}),d=Jl({typed:e}),p=dI({typed:e,equalScalar:a}),m=Pf({typed:e,DenseMatrix:l}),y=Br({typed:e,matrix:r,concat:u});return e(G9,{"number, number":g,"BigNumber, BigNumber":b,"Fraction, Fraction":(E,O)=>E.gcd(O)},y({SS:p,DS:d,Ss:m}),{[vNe]:e.referToSelf(E=>(O,A,S)=>{for(var x=E(O,A),_=0;_<S.length;_++)x=E(x,S[_]);return x}),Array:e.referToSelf(E=>O=>{if(O.length===1&&Array.isArray(O[0])&&K9(O[0]))return E(...O[0]);if(K9(O))return E(...O);throw new Bf("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(E=>O=>E(O.toArray()))});function g(E,O){if(!ft(E)||!ft(O))throw new Error("Parameters in function gcd must be integer numbers");for(var A;O!==0;)A=f(E,O),E=O,O=A;return E<0?-E:E}function b(E,O){if(!E.isInt()||!O.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var A=new s(0);!O.isZero();){var S=f(E,O);E=O,O=S}return E.lt(A)?E.neg():E}}),yNe="matAlgo06xS0S0",bNe=["typed","equalScalar"],Px=ne(yNe,bNe,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._size,u=i._datatype||i._data===void 0?i._datatype:i.getDataType(),f=a._values,d=a._size,p=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==d.length)throw new Ut(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var m=l[0],y=l[1],g,b=r,E=0,O=o;typeof u=="string"&&u===p&&u!=="mixed"&&(g=u,b=e.find(r,[g,g]),E=e.convert(0,g),O=e.find(o,[g,g]));for(var A=s&&f?[]:void 0,S=[],x=[],_=A?[]:void 0,T=[],N=[],C=0;C<y;C++){x[C]=S.length;var R=C+1;if(v9(i,C,T,_,N,R,S,O),v9(a,C,T,_,N,R,S,O),_)for(var I=x[C];I<S.length;){var P=S[I];if(N[P]===R){var k=_[P];b(k,E)?S.splice(I,1):(A.push(k),I++)}else S.splice(I,1)}else for(var q=x[C];q<S.length;){var U=S[q];N[U]!==R?S.splice(q,1):q++}}return x[y]=S.length,i.createSparseMatrix({values:A,index:S,ptr:x,size:[m,y],datatype:u===i._datatype&&p===a._datatype?g:void 0})}}),X9="lcm",wNe=["typed","matrix","equalScalar","concat"],xNe=ne(X9,wNe,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=qo({typed:e,equalScalar:n}),o=Px({typed:e,equalScalar:n}),s=gi({typed:e,equalScalar:n}),l=Br({typed:e,matrix:r,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",f={};return f["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(p=>(m,y,g)=>{for(var b=p(m,y),E=0;E<g.length;E++)b=p(b,g[E]);return b}),e(X9,{"number, number":HW,"BigNumber, BigNumber":d,"Fraction, Fraction":(p,m)=>p.lcm(m)},l({SS:o,DS:a,Ss:s}),f);function d(p,m){if(!p.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(m.isZero())return m;for(var y=p.times(m);!m.isZero();){var g=m;m=p.mod(g),p=g}return y.div(p).abs()}});function pI(t,e,r,n){return function(i){if(i>0||r.predictable){if(i<=0)return NaN;var a=i.toString(16),o=a.substring(0,15);return t*(a.length-o.length)+e(+("0x"+o))}return n(i.toNumber())}}var W9="log10",_Ne=["typed","config","Complex"],ANe=Y1(16),ENe=ne(W9,_Ne,t=>{var{typed:e,config:r,Complex:n}=t;function i(o){return o.log().div(Math.LN10)}function a(o){return i(new n(o,0))}return e(W9,{number:function(s){return s>=0||r.predictable?Y1(s):a(s)},bigint:pI(ANe,Y1,r,a),Complex:i,BigNumber:function(s){return!s.isNegative()||r.predictable?s.log():a(s.toNumber())},"Array | Matrix":e.referToSelf(o=>s=>Ft(s,o))})}),Y9="log2",SNe=["typed","config","Complex"],TNe=ne(Y9,SNe,t=>{var{typed:e,config:r,Complex:n}=t;function i(o){return a(new n(o,0))}return e(Y9,{number:function(s){return s>=0||r.predictable?IC(s):i(s)},bigint:pI(4,IC,r,i),Complex:a,BigNumber:function(s){return!s.isNegative()||r.predictable?s.log(2):i(s.toNumber())},"Array | Matrix":e.referToSelf(o=>s=>Ft(s,o))});function a(o){var s=Math.sqrt(o.re*o.re+o.im*o.im);return new n(Math.log2?Math.log2(s):Math.log(s)/Math.LN2,Math.atan2(o.im,o.re)/Math.LN2)}}),DNe="multiplyScalar",NNe=["typed"],CNe=ne(DNe,NNe,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":LW,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),Q9="multiply",ONe=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],MNe=ne(Q9,ONe,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=t,s=gi({typed:e,equalScalar:a}),l=jo({typed:e});function u(x,_){switch(x.length){case 1:switch(_.length){case 1:if(x[0]!==_[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(x[0]!==_[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+x[0]+") must match Matrix rows ("+_[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+_.length+" dimensions)")}break;case 2:switch(_.length){case 1:if(x[1]!==_[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+x[1]+") must match Vector length ("+_[0]+")");break;case 2:if(x[1]!==_[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+x[1]+") must match Matrix B rows ("+_[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+_.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+x.length+" dimensions)")}}function f(x,_,T){if(T===0)throw new Error("Cannot multiply two empty vectors");return o(x,_)}function d(x,_){if(_.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(x,_)}function p(x,_){var T=x._data,N=x._size,C=x._datatype||x.getDataType(),R=_._data,I=_._size,P=_._datatype||_.getDataType(),k=N[0],q=I[1],U,F=n,V=i;C&&P&&C===P&&typeof C=="string"&&C!=="mixed"&&(U=C,F=e.find(n,[U,U]),V=e.find(i,[U,U]));for(var Z=[],H=0;H<q;H++){for(var z=V(T[0],R[0][H]),J=1;J<k;J++)z=F(z,V(T[J],R[J][H]));Z[H]=z}return x.createDenseMatrix({data:Z,size:[q],datatype:C===x._datatype&&P===_._datatype?U:void 0})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":g,"SparseMatrix, any":O}),y=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":b,"DenseMatrix, SparseMatrix":E,"SparseMatrix, DenseMatrix":A,"SparseMatrix, SparseMatrix":S});function g(x,_){var T=x._data,N=x._size,C=x._datatype||x.getDataType(),R=_._data,I=_._datatype||_.getDataType(),P=N[0],k=N[1],q,U=n,F=i;C&&I&&C===I&&typeof C=="string"&&C!=="mixed"&&(q=C,U=e.find(n,[q,q]),F=e.find(i,[q,q]));for(var V=[],Z=0;Z<P;Z++){for(var H=T[Z],z=F(H[0],R[0]),J=1;J<k;J++)z=U(z,F(H[J],R[J]));V[Z]=z}return x.createDenseMatrix({data:V,size:[P],datatype:C===x._datatype&&I===_._datatype?q:void 0})}function b(x,_){var T=x._data,N=x._size,C=x._datatype||x.getDataType(),R=_._data,I=_._size,P=_._datatype||_.getDataType(),k=N[0],q=N[1],U=I[1],F,V=n,Z=i;C&&P&&C===P&&typeof C=="string"&&C!=="mixed"&&C!=="mixed"&&(F=C,V=e.find(n,[F,F]),Z=e.find(i,[F,F]));for(var H=[],z=0;z<k;z++){var J=T[z];H[z]=[];for(var $=0;$<U;$++){for(var Q=Z(J[0],R[0][$]),K=1;K<q;K++)Q=V(Q,Z(J[K],R[K][$]));H[z][$]=Q}}return x.createDenseMatrix({data:H,size:[k,U],datatype:C===x._datatype&&P===_._datatype?F:void 0})}function E(x,_){var T=x._data,N=x._size,C=x._datatype||x.getDataType(),R=_._values,I=_._index,P=_._ptr,k=_._size,q=_._datatype||_._data===void 0?_._datatype:_.getDataType();if(!R)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var U=N[0],F=k[1],V,Z=n,H=i,z=a,J=0;C&&q&&C===q&&typeof C=="string"&&C!=="mixed"&&(V=C,Z=e.find(n,[V,V]),H=e.find(i,[V,V]),z=e.find(a,[V,V]),J=e.convert(0,V));for(var $=[],Q=[],K=[],we=_.createSparseMatrix({values:$,index:Q,ptr:K,size:[U,F],datatype:C===x._datatype&&q===_._datatype?V:void 0}),ge=0;ge<F;ge++){K[ge]=Q.length;var Ae=P[ge],te=P[ge+1];if(te>Ae)for(var ee=0,ue=0;ue<U;ue++){for(var ce=ue+1,se=void 0,Te=Ae;Te<te;Te++){var pe=I[Te];ee!==ce?(se=H(T[ue][pe],R[Te]),ee=ce):se=Z(se,H(T[ue][pe],R[Te]))}ee===ce&&!z(se,J)&&(Q.push(ue),$.push(se))}}return K[F]=Q.length,we}function O(x,_){var T=x._values,N=x._index,C=x._ptr,R=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=_._data,P=_._datatype||_.getDataType(),k=x._size[0],q=_._size[0],U=[],F=[],V=[],Z,H=n,z=i,J=a,$=0;R&&P&&R===P&&typeof R=="string"&&R!=="mixed"&&(Z=R,H=e.find(n,[Z,Z]),z=e.find(i,[Z,Z]),J=e.find(a,[Z,Z]),$=e.convert(0,Z));var Q=[],K=[];V[0]=0;for(var we=0;we<q;we++){var ge=I[we];if(!J(ge,$))for(var Ae=C[we],te=C[we+1],ee=Ae;ee<te;ee++){var ue=N[ee];K[ue]?Q[ue]=H(Q[ue],z(ge,T[ee])):(K[ue]=!0,F.push(ue),Q[ue]=z(ge,T[ee]))}}for(var ce=F.length,se=0;se<ce;se++){var Te=F[se];U[se]=Q[Te]}return V[1]=F.length,x.createSparseMatrix({values:U,index:F,ptr:V,size:[k,1],datatype:R===x._datatype&&P===_._datatype?Z:void 0})}function A(x,_){var T=x._values,N=x._index,C=x._ptr,R=x._datatype||x._data===void 0?x._datatype:x.getDataType();if(!T)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var I=_._data,P=_._datatype||_.getDataType(),k=x._size[0],q=_._size[0],U=_._size[1],F,V=n,Z=i,H=a,z=0;R&&P&&R===P&&typeof R=="string"&&R!=="mixed"&&(F=R,V=e.find(n,[F,F]),Z=e.find(i,[F,F]),H=e.find(a,[F,F]),z=e.convert(0,F));for(var J=[],$=[],Q=[],K=x.createSparseMatrix({values:J,index:$,ptr:Q,size:[k,U],datatype:R===x._datatype&&P===_._datatype?F:void 0}),we=[],ge=[],Ae=0;Ae<U;Ae++){Q[Ae]=$.length;for(var te=Ae+1,ee=0;ee<q;ee++){var ue=I[ee][Ae];if(!H(ue,z))for(var ce=C[ee],se=C[ee+1],Te=ce;Te<se;Te++){var pe=N[Te];ge[pe]!==te?(ge[pe]=te,$.push(pe),we[pe]=Z(ue,T[Te])):we[pe]=V(we[pe],Z(ue,T[Te]))}}for(var Ne=Q[Ae],je=$.length,Ke=Ne;Ke<je;Ke++){var Ue=$[Ke];J[Ke]=we[Ue]}}return Q[U]=$.length,K}function S(x,_){var T=x._values,N=x._index,C=x._ptr,R=x._datatype||x._data===void 0?x._datatype:x.getDataType(),I=_._values,P=_._index,k=_._ptr,q=_._datatype||_._data===void 0?_._datatype:_.getDataType(),U=x._size[0],F=_._size[1],V=T&&I,Z,H=n,z=i;R&&q&&R===q&&typeof R=="string"&&R!=="mixed"&&(Z=R,H=e.find(n,[Z,Z]),z=e.find(i,[Z,Z]));for(var J=V?[]:void 0,$=[],Q=[],K=x.createSparseMatrix({values:J,index:$,ptr:Q,size:[U,F],datatype:R===x._datatype&&q===_._datatype?Z:void 0}),we=V?[]:void 0,ge=[],Ae,te,ee,ue,ce,se,Te,pe,Ne=0;Ne<F;Ne++){Q[Ne]=$.length;var je=Ne+1;for(ce=k[Ne],se=k[Ne+1],ue=ce;ue<se;ue++)if(pe=P[ue],V)for(te=C[pe],ee=C[pe+1],Ae=te;Ae<ee;Ae++)Te=N[Ae],ge[Te]!==je?(ge[Te]=je,$.push(Te),we[Te]=z(I[ue],T[Ae])):we[Te]=H(we[Te],z(I[ue],T[Ae]));else for(te=C[pe],ee=C[pe+1],Ae=te;Ae<ee;Ae++)Te=N[Ae],ge[Te]!==je&&(ge[Te]=je,$.push(Te));if(V)for(var Ke=Q[Ne],Ue=$.length,nt=Ke;nt<Ue;nt++){var ae=$[nt];J[nt]=we[ae]}}return Q[F]=$.length,K}return e(Q9,i,{"Array, Array":e.referTo("Matrix, Matrix",x=>(_,T)=>{u(Dt(_),Dt(T));var N=x(r(_),r(T));return gt(N)?N.valueOf():N}),"Matrix, Matrix":function(_,T){var N=_.size(),C=T.size();return u(N,C),N.length===1?C.length===1?f(_,T,N[0]):d(_,T):C.length===1?m(_,T):y(_,T)},"Matrix, Array":e.referTo("Matrix,Matrix",x=>(_,T)=>x(_,r(T))),"Array, Matrix":e.referToSelf(x=>(_,T)=>x(r(_,T.storage()),T)),"SparseMatrix, any":function(_,T){return s(_,T,i,!1)},"DenseMatrix, any":function(_,T){return l(_,T,i,!1)},"any, SparseMatrix":function(_,T){return s(T,_,i,!0)},"any, DenseMatrix":function(_,T){return l(T,_,i,!0)},"Array, any":function(_,T){return l(r(_),T,i,!1).valueOf()},"any, Array":function(_,T){return l(r(T),_,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(x=>(_,T,N)=>{for(var C=x(_,T),R=0;R<N.length;R++)C=x(C,N[R]);return C})})}),Z9="nthRoot",INe=["typed","matrix","equalScalar","BigNumber","concat"],RNe=ne(Z9,INe,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,concat:a}=t,o=Jl({typed:e}),s=qo({typed:e,equalScalar:n}),l=Px({typed:e,equalScalar:n}),u=gi({typed:e,equalScalar:n}),f=Br({typed:e,matrix:r,concat:a});function d(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(Z9,{number:b9,"number, number":b9,BigNumber:m=>p(m,new i(2)),"BigNumber, BigNumber":p,Complex:d,"Complex, number":d,Array:e.referTo("DenseMatrix,number",m=>y=>m(r(y),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>y=>m(y,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>y=>m(y,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(y,g)=>{if(g.density()===1)return l(y,g,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(y,g)=>{if(g.density()===1)return o(y,g,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(y,g)=>m(r(y),g)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(y,g)=>{if(g.density()===1)return u(g,y,m,!0);throw new Error("Root must be non-zero")})},f({scalar:"number | BigNumber",SD:s,Ss:u,sS:!1}));function p(m,y){var g=i.precision,b=i.clone({precision:g+2}),E=new i(0),O=new b(1),A=y.isNegative();if(A&&(y=y.neg()),y.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!y.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return A?new b(1/0):0;if(!m.isFinite())return A?E:m;var S=m.abs().pow(O.div(y));return S=m.isNeg()?S.neg():S,new i((A?O.div(S):S).toPrecision(g))}}),J9="sign",PNe=["typed","BigNumber","Fraction","complex"],BNe=ne(J9,PNe,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:i}=t;return e(J9,{number:RC,Complex:function(o){return o.im===0?n(RC(o.re)):o.sign()},BigNumber:function(o){return new r(o.cmp(0))},bigint:function(o){return o>0n?1n:o<0n?-1n:0n},Fraction:function(o){return o.n===0n?new i(0):new i(o.s)},"Array | Matrix":e.referToSelf(a=>o=>Ft(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})}),kNe="sqrt",FNe=["config","typed","Complex"],$Ne=ne(kNe,FNe,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}}),ej="square",LNe=["typed"],jNe=ne(ej,LNe,t=>{var{typed:e}=t;return e(ej,{number:GW,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},bigint:function(n){return n*n},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})}),tj="subtract",qNe=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],UNe=ne(tj,qNe,t=>{var{typed:e,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:s}=t,l=Jl({typed:e}),u=Hi({typed:e}),f=Rx({typed:e,equalScalar:n}),d=Pf({typed:e,DenseMatrix:o}),p=Un({typed:e,DenseMatrix:o}),m=Br({typed:e,matrix:r,concat:s});return e(tj,{"any, any":i},m({elop:i,SS:f,DS:l,SD:u,Ss:p,sS:d}))}),rj="xgcd",zNe=["typed","config","matrix","BigNumber"],VNe=ne(rj,zNe,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(rj,{"number, number":function(s,l){var u=KW(s,l);return r.matrix==="Array"?u:n(u)},"BigNumber, BigNumber":a});function a(o,s){var l,u,f,d=new i(0),p=new i(1),m=d,y=p,g=p,b=d;if(!o.isInt()||!s.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!s.isZero();)u=o.div(s).floor(),f=o.mod(s),l=m,m=y.minus(u.times(m)),y=l,l=g,g=b.minus(u.times(g)),b=l,o=s,s=f;var E;return o.lt(d)?E=[o.neg(),y.neg(),b.neg()]:E=[o,o.isZero()?0:y,b],r.matrix==="Array"?E:n(E)}}),nj="invmod",HNe=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],GNe=ne(nj,HNe,t=>{var{typed:e,config:r,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:s,add:l,isInteger:u}=t;return e(nj,{"number, number":f,"BigNumber, BigNumber":f});function f(d,p){if(!u(d)||!u(p))throw new Error("Parameters in function invmod must be integer numbers");if(d=s(d,p),a(p,0))throw new Error("Divisor must be non zero");var m=i(d,p);m=m.valueOf();var[y,g]=m;return a(y,n(1))?(g=s(g,p),o(g,n(0))&&(g=l(g,p)),g):NaN}}),KNe="matAlgo09xS0Sf",XNe=["typed","equalScalar"],DY=ne(KNe,XNe,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,f=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,y=a._ptr,g=a._size,b=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==g.length)throw new Ut(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");var E=f[0],O=f[1],A,S=r,x=0,_=o;typeof d=="string"&&d===b&&d!=="mixed"&&(A=d,S=e.find(r,[A,A]),x=e.convert(0,A),_=e.find(o,[A,A]));var T=s&&p?[]:void 0,N=[],C=[],R=T?[]:void 0,I=[],P,k,q,U,F;for(k=0;k<O;k++){C[k]=N.length;var V=k+1;if(R)for(U=y[k],F=y[k+1],q=U;q<F;q++)P=m[q],I[P]=V,R[P]=p[q];for(U=u[k],F=u[k+1],q=U;q<F;q++)if(P=l[q],R){var Z=I[P]===V?R[P]:x,H=_(s[q],Z);S(H,x)||(N.push(P),T.push(H))}else N.push(P)}return C[O]=N.length,i.createSparseMatrix({values:T,index:N,ptr:C,size:[E,O],datatype:d===i._datatype&&b===a._datatype?A:void 0})}}),ij="dotMultiply",WNe=["typed","matrix","equalScalar","multiplyScalar","concat"],YNe=ne(ij,WNe,t=>{var{typed:e,matrix:r,equalScalar:n,multiplyScalar:i,concat:a}=t,o=qo({typed:e,equalScalar:n}),s=DY({typed:e,equalScalar:n}),l=gi({typed:e,equalScalar:n}),u=Br({typed:e,matrix:r,concat:a});return e(ij,u({elop:i,SS:s,DS:o,Ss:l}))});function QNe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return mI(t,e,function(n,i){return n&i})}function sg(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var n=t.plus(new e(1));return n.s=-n.s||null,e.config({precision:r}),n}function ZNe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var n=new r(-1);return t.isZero()||e.eq(n)||t.eq(e)?e:e.isZero()||t.eq(n)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?n:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:mI(t,e,function(i,a){return i|a})}function mI(t,e,r){var n=t.constructor,i,a,o=+(t.s<0),s=+(e.s<0);if(o){i=R0(sg(t));for(var l=0;l<i.length;++l)i[l]^=1}else i=R0(t);if(s){a=R0(sg(e));for(var u=0;u<a.length;++u)a[u]^=1}else a=R0(e);var f,d,p;i.length<=a.length?(f=i,d=a,p=o):(f=a,d=i,p=s);var m=f.length,y=d.length,g=r(o,s)^1,b=new n(g^1),E=new n(1),O=new n(2),A=n.precision;for(n.config({precision:1e9});m>0;)r(f[--m],d[--y])===g&&(b=b.plus(E)),E=E.times(O);for(;y>0;)r(p,d[--y])===g&&(b=b.plus(E)),E=E.times(O);return n.config({precision:A}),g===0&&(b.s=-b.s),b}function R0(t){for(var e=t.d,r=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var o=r.length;r.charAt(o)==="0";)o--;var s=t.e,l=r.slice(0,o+1||1),u=l.length;if(s>0)if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s));for(var f=[0],d=0;d<l.length;){for(var p=f.length;p--;)f[p]*=10;f[0]+=parseInt(l.charAt(d++));for(var m=0;m<f.length;++m)f[m]>1&&((f[m+1]===null||f[m+1]===void 0)&&(f[m+1]=0),f[m+1]+=f[m]>>1,f[m]&=1)}return f.reverse()}function JNe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var n=new r(-1);return t.eq(n)?sg(e):e.eq(n)?sg(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?n:new r(t.isNegative()===e.isNegative()?1/0:-1/0):mI(t,e,function(i,a){return i^a})}function eCe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new r(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e))}function tCe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():t.isNegative()?new r(-1):t.isFinite()?new r(0):new r(NaN)}var aj="bitAnd",rCe=["typed","matrix","equalScalar","concat"],NY=ne(aj,rCe,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,a=qo({typed:e,equalScalar:n}),o=Px({typed:e,equalScalar:n}),s=gi({typed:e,equalScalar:n}),l=Br({typed:e,matrix:r,concat:i});return e(aj,{"number, number":WW,"BigNumber, BigNumber":QNe,"bigint, bigint":(u,f)=>u&f},l({SS:o,DS:a,Ss:s}))}),oj="bitNot",nCe=["typed"],iCe=ne(oj,nCe,t=>{var{typed:e}=t;return e(oj,{number:YW,BigNumber:sg,bigint:r=>~r,"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r))})}),sj="bitOr",aCe=["typed","matrix","equalScalar","DenseMatrix","concat"],CY=ne(sj,aCe,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=Jl({typed:e}),s=dI({typed:e,equalScalar:n}),l=Pf({typed:e,DenseMatrix:i}),u=Br({typed:e,matrix:r,concat:a});return e(sj,{"number, number":QW,"BigNumber, BigNumber":ZNe,"bigint, bigint":(f,d)=>f|d},u({SS:s,DS:o,Ss:l}))}),oCe="matAlgo07xSSf",sCe=["typed","SparseMatrix"],Is=ne(oCe,sCe,t=>{var{typed:e,SparseMatrix:r}=t;return function(a,o,s){var l=a._size,u=a._datatype||a._data===void 0?a._datatype:a.getDataType(),f=o._size,d=o._datatype||o._data===void 0?o._datatype:o.getDataType();if(l.length!==f.length)throw new Ut(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var p=l[0],m=l[1],y,g=0,b=s;typeof u=="string"&&u===d&&u!=="mixed"&&(y=u,g=e.convert(0,y),b=e.find(s,[y,y]));for(var E=[],O=[],A=new Array(m+1).fill(0),S=[],x=[],_=[],T=[],N=0;N<m;N++){var C=N+1,R=0;n(a,N,_,S,C),n(o,N,T,x,C);for(var I=0;I<p;I++){var P=_[I]===C?S[I]:g,k=T[I]===C?x[I]:g,q=b(P,k);q!==0&&q!==!1&&(O.push(I),E.push(q),R++)}A[N+1]=A[N]+R}return new r({values:E,index:O,ptr:A,size:[p,m],datatype:u===a._datatype&&d===o._datatype?y:void 0})};function n(i,a,o,s,l){for(var u=i._values,f=i._index,d=i._ptr,p=d[a],m=d[a+1];p<m;p++){var y=f[p];o[y]=l,s[y]=u[p]}}}),uj="bitXor",uCe=["typed","matrix","DenseMatrix","concat","SparseMatrix"],lCe=ne(uj,uCe,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i,SparseMatrix:a}=t,o=Hi({typed:e}),s=Is({typed:e,SparseMatrix:a}),l=Un({typed:e,DenseMatrix:n}),u=Br({typed:e,matrix:r,concat:i});return e(uj,{"number, number":ZW,"BigNumber, BigNumber":JNe,"bigint, bigint":(f,d)=>f^d},u({SS:s,DS:o,Ss:l}))}),lj="arg",cCe=["typed"],fCe=ne(lj,cCe,t=>{var{typed:e}=t;return e(lj,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r))})}),cj="conj",hCe=["typed"],dCe=ne(cj,hCe,t=>{var{typed:e}=t;return e(cj,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:e.referToSelf(r=>n=>new n.constructor(r(n.toNumeric()),n.formatUnits())),"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r))})}),fj="im",pCe=["typed"],mCe=ne(fj,pCe,t=>{var{typed:e}=t;return e(fj,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r))})}),hj="re",vCe=["typed"],gCe=ne(hj,vCe,t=>{var{typed:e}=t;return e(hj,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r))})}),dj="not",yCe=["typed"],bCe=ne(dj,yCe,t=>{var{typed:e}=t;return e(dj,{"null | undefined":()=>!0,number:nY,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},bigint:r=>!r,Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r))})}),pj="or",wCe=["typed","matrix","equalScalar","DenseMatrix","concat"],OY=ne(pj,wCe,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=Hi({typed:e}),s=Rx({typed:e,equalScalar:n}),l=Un({typed:e,DenseMatrix:i}),u=Br({typed:e,matrix:r,concat:a});return e(pj,{"number, number":PC,"Complex, Complex":function(d,p){return d.re!==0||d.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(d,p){return!d.isZero()&&!d.isNaN()||!p.isZero()&&!p.isNaN()},"bigint, bigint":PC,"Unit, Unit":e.referToSelf(f=>(d,p)=>f(d.value||0,p.value||0))},u({SS:s,DS:o,Ss:l}))}),mj="xor",xCe=["typed","matrix","DenseMatrix","concat","SparseMatrix"],_Ce=ne(mj,xCe,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i,SparseMatrix:a}=t,o=Hi({typed:e}),s=Is({typed:e,SparseMatrix:a}),l=Un({typed:e,DenseMatrix:n}),u=Br({typed:e,matrix:r,concat:i});return e(mj,{"number, number":BC,"Complex, Complex":function(d,p){return(d.re!==0||d.im!==0)!=(p.re!==0||p.im!==0)},"bigint, bigint":BC,"BigNumber, BigNumber":function(d,p){return(!d.isZero()&&!d.isNaN())!=(!p.isZero()&&!p.isNaN())},"Unit, Unit":e.referToSelf(f=>(d,p)=>f(d.value||0,p.value||0))},u({SS:s,DS:o,Ss:l}))}),vj="concat",ACe=["typed","matrix","isInteger"],MY=ne(vj,ACe,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e(vj,{"...Array | Matrix | number | BigNumber":function(a){var o,s=a.length,l=-1,u,f=!1,d=[];for(o=0;o<s;o++){var p=a[o];if(gt(p)&&(f=!0),Bt(p)||kt(p)){if(o!==s-1)throw new Error("Dimension must be specified as last argument");if(u=l,l=p.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>u)throw new $o(l,u+1)}else{var m=Ct(p).valueOf(),y=Dt(m);if(d[o]=m,u=l,l=y.length-1,o>0&&l!==u)throw new Ut(u+1,l+1)}}if(d.length===0)throw new SyntaxError("At least one matrix expected");for(var g=d.shift();d.length;)g=IW(g,d.shift(),l);return f?r(g):g},"...string":function(a){return a.join("")}})}),gj="column",ECe=["typed","Index","matrix","range"],IY=ne(gj,ECe,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(gj,{"Matrix, number":a,"Array, number":function(s,l){return a(n(Ct(s)),l).valueOf()}});function a(o,s){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Rr(s,o.size()[1]);var l=i(0,o.size()[0]),u=new r(l,s),f=o.subset(u);return gt(f)?f:n([[f]])}}),yj="count",SCe=["typed","size","prod"],TCe=ne(yj,SCe,t=>{var{typed:e,size:r,prod:n}=t;return e(yj,{string:function(a){return a.length},"Matrix | Array":function(a){return n(r(a))}})}),bj="cross",DCe=["typed","matrix","subtract","multiply"],NCe=ne(bj,DCe,t=>{var{typed:e,matrix:r,subtract:n,multiply:i}=t;return e(bj,{"Matrix, Matrix":function(s,l){return r(a(s.toArray(),l.toArray()))},"Matrix, Array":function(s,l){return r(a(s.toArray(),l))},"Array, Matrix":function(s,l){return r(a(s,l.toArray()))},"Array, Array":a});function a(o,s){var l=Math.max(Dt(o).length,Dt(s).length);o=K1(o),s=K1(s);var u=Dt(o),f=Dt(s);if(u.length!==1||f.length!==1||u[0]!==3||f[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+f.join(", ")+"])");var d=[n(i(o[1],s[2]),i(o[2],s[1])),n(i(o[2],s[0]),i(o[0],s[2])),n(i(o[0],s[1]),i(o[1],s[0]))];return l>1?[d]:d}}),wj="diag",CCe=["typed","matrix","DenseMatrix","SparseMatrix"],OCe=ne(wj,CCe,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(wj,{Array:function(u){return a(u,0,Dt(u),null)},"Array, number":function(u,f){return a(u,f,Dt(u),null)},"Array, BigNumber":function(u,f){return a(u,f.toNumber(),Dt(u),null)},"Array, string":function(u,f){return a(u,0,Dt(u),f)},"Array, number, string":function(u,f,d){return a(u,f,Dt(u),d)},"Array, BigNumber, string":function(u,f,d){return a(u,f.toNumber(),Dt(u),d)},Matrix:function(u){return a(u,0,u.size(),u.storage())},"Matrix, number":function(u,f){return a(u,f,u.size(),u.storage())},"Matrix, BigNumber":function(u,f){return a(u,f.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,f){return a(u,0,u.size(),f)},"Matrix, number, string":function(u,f,d){return a(u,f,u.size(),d)},"Matrix, BigNumber, string":function(u,f,d){return a(u,f.toNumber(),u.size(),d)}});function a(l,u,f,d){if(!ft(u))throw new TypeError("Second parameter in function diag must be an integer");var p=u>0?u:0,m=u<0?-u:0;switch(f.length){case 1:return o(l,u,d,f[0],m,p);case 2:return s(l,u,d,f,m,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(l,u,f,d,p,m){var y=[d+p,d+m];if(f&&f!=="sparse"&&f!=="dense")throw new TypeError("Unknown matrix type ".concat(f,'"'));var g=f==="sparse"?i.diagonal(y,l,u):n.diagonal(y,l,u);return f!==null?g:g.valueOf()}function s(l,u,f,d,p,m){if(gt(l)){var y=l.diagonal(u);return f!==null?f!==y.storage()?r(y,f):y:y.valueOf()}for(var g=Math.min(d[0]-p,d[1]-m),b=[],E=0;E<g;E++)b[E]=l[E+p][E+m];return f!==null?r(b):b}}),MCe="filter",ICe=["typed"],RY=ne(MCe,ICe,t=>{var{typed:e}=t;return e("filter",{"Array, function":xj,"Matrix, function":function(n,i){return n.create(xj(n.valueOf(),i),n.datatype())},"Array, RegExp":h9,"Matrix, RegExp":function(n,i){return n.create(h9(n.valueOf(),i),n.datatype())}})});function xj(t,e){var r=_f(e,t,"filter");return r.isUnary?f9(t,r.fn):f9(t,function(n,i,a){return r.fn(n,[i],a)})}var _j="flatten",RCe=["typed"],PCe=ne(_j,RCe,t=>{var{typed:e}=t;return e(_j,{Array:function(n){return or(n)},Matrix:function(n){return n.create(or(n.valueOf(),!0),n.datatype())}})}),qC="forEach",BCe=["typed"],PY=ne(qC,BCe,t=>{var{typed:e}=t;return e(qC,{"Array, function":kCe,"Matrix, function":function(n,i){n.forEach(i)}})});function kCe(t,e){var r=_f(e,t,qC);PW(t,r.fn,r.isUnary)}var Aj="getMatrixDataType",FCe=["typed"],$Ce=ne(Aj,FCe,t=>{var{typed:e}=t;return e(Aj,{Array:function(n){return Mx(n,Dr)},Matrix:function(n){return n.getDataType()}})}),Ej="identity",LCe=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],jCe=ne(Ej,LCe,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=t;return e(Ej,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(f){return n(f)},"number | BigNumber":function(f){return l(f,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(f,d){return l(f,f,d)},"number | BigNumber, number | BigNumber":function(f,d){return l(f,d,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(f,d,p){return l(f,d,p)},Array:function(f){return s(f)},"Array, string":function(f,d){return s(f,d)},Matrix:function(f){return s(f.valueOf(),f.storage())},"Matrix, string":function(f,d){return s(f.valueOf(),d)}});function s(u,f){switch(u.length){case 0:return f?n(f):[];case 1:return l(u[0],u[0],f);case 2:return l(u[0],u[1],f);default:throw new Error("Vector containing two values expected")}}function l(u,f,d){var p=kt(u)||kt(f)?i:null;if(kt(u)&&(u=u.toNumber()),kt(f)&&(f=f.toNumber()),!ft(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!ft(f)||f<1)throw new Error("Parameters in function identity must be positive integers");var m=p?new i(1):1,y=p?new p(0):0,g=[u,f];if(d){if(d==="sparse")return o.diagonal(g,m,0,y);if(d==="dense")return a.diagonal(g,m,0,y);throw new TypeError('Unknown matrix type "'.concat(d,'"'))}for(var b=Zd([],g,y),E=u<f?u:f,O=0;O<E;O++)b[O][O]=m;return b}}),Sj="kron",qCe=["typed","matrix","multiplyScalar"],UCe=ne(Sj,qCe,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(Sj,{"Matrix, Matrix":function(o,s){return r(i(o.toArray(),s.toArray()))},"Matrix, Array":function(o,s){return r(i(o.toArray(),s))},"Array, Matrix":function(o,s){return r(i(o,s.toArray()))},"Array, Array":i});function i(a,o){if(Dt(a).length===1&&(a=[a]),Dt(o).length===1&&(o=[o]),Dt(a).length>2||Dt(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var s=[],l=[];return a.map(function(u){return o.map(function(f){return l=[],s.push(l),u.map(function(d){return f.map(function(p){return l.push(n(d,p))})})})})&&s}}),b2="map",zCe=["typed"],BY=ne(b2,zCe,t=>{var{typed:e}=t;return e(b2,{"Array, function":n,"Matrix, function":function(a,o){return a.map(o)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,a,o)=>r([i,a,...o.slice(0,o.length-1)],o[o.length-1])});function r(i,a){if(typeof a!="function")throw new Error("Last argument must be a callback function");var o=i[0].isMatrix,s=lI(...i.map(S=>S.isMatrix?S.size():Dt(S))),l=o?(S,x)=>S.get(x):cI,u=o?i.map(S=>S.isMatrix?S.create(ef(S.toArray(),s),S.datatype()):i[0].create(ef(S.valueOf(),s))):i.map(S=>S.isMatrix?ef(S.toArray(),s):ef(S,s)),f;if(e.isTypedFunction(a)){var d=s.map(()=>0),p=u.map(S=>l(S,d)),m=A(a,p,d,u);f=E(m)}else{var y=i.length,g=O(a,y);f=E(g)}var b=(S,x)=>f([S,...u.slice(1).map(_=>l(_,x))],x);if(o)return u[0].map(b);return n(u[0],b);function E(S){switch(S){case 0:return x=>a(...x);case 1:return(x,_)=>a(...x,_);case 2:return(x,_)=>a(...x,_,...u)}}function O(S,x){return S.length>x+1?2:S.length===x+1?1:0}function A(S,x,_,T){return e.resolve(S,[...x,_,...T])!==null?2:e.resolve(S,[...x,_])!==null?1:(e.resolve(S,x)!==null,0)}}function n(i,a){var o=_f(a,i,b2);return MC(i,o.fn,o.isUnary)}}),Tj="diff",VCe=["typed","matrix","subtract","number"],kY=ne(Tj,VCe,t=>{var{typed:e,matrix:r,subtract:n,number:i}=t;return e(Tj,{"Array | Matrix":function(f){return gt(f)?r(o(f.toArray())):o(f)},"Array | Matrix, number":function(f,d){if(!ft(d))throw new RangeError("Dimension must be a whole number");return gt(f)?r(a(f.toArray(),d)):a(f,d)},"Array, BigNumber":e.referTo("Array,number",u=>(f,d)=>u(f,i(d))),"Matrix, BigNumber":e.referTo("Matrix,number",u=>(f,d)=>u(f,i(d)))});function a(u,f){if(gt(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(f>0){var d=[];return u.forEach(p=>{d.push(a(p,f-1))}),d}else{if(f===0)return o(u);throw RangeError("Cannot have negative dimension")}}function o(u){for(var f=[],d=u.length,p=1;p<d;p++)f.push(s(u[p-1],u[p]));return f}function s(u,f){gt(u)&&(u=u.toArray()),gt(f)&&(f=f.toArray());var d=Array.isArray(u),p=Array.isArray(f);if(d&&p)return l(u,f);if(!d&&!p)return n(f,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(u,f){if(u.length!==f.length)throw RangeError("Not all sub-arrays have the same length");for(var d=[],p=u.length,m=0;m<p;m++)d.push(s(u[m],f[m]));return d}}),HCe="ones",GCe=["typed","config","matrix","BigNumber"],KCe=ne(HCe,GCe,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("ones",{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var f=u[u.length-1];if(typeof f=="string"){var d=u.pop();return a(u,d)}else return r.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var f=u.storage();return a(u.valueOf(),f)},"Array | Matrix, string":function(u,f){return a(u.valueOf(),f)}});function a(l,u){var f=o(l),d=f?new i(1):1;if(s(l),u){var p=n(u);return l.length>0?p.resize(l,d):p}else{var m=[];return l.length>0?Zd(m,l,d):m}}function o(l){var u=!1;return l.forEach(function(f,d,p){kt(f)&&(u=!0,p[d]=f.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!ft(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function vI(){throw new Error('No "bignumber" implementation available')}function FY(){throw new Error('No "fraction" implementation available')}function $Y(){throw new Error('No "matrix" implementation available')}var Dj="range",XCe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],LY=ne(Dj,XCe,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:f}=t;return e(Dj,{string:p,"string, boolean":p,number:function(b){throw new TypeError("Too few arguments to function range(): ".concat(b))},boolean:function(b){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(b,", number|bigint|BigNumber|Fraction"))},"number, number":function(b,E){return d(m(b,E,1,!1))},"number, number, number":function(b,E,O){return d(m(b,E,O,!1))},"number, number, boolean":function(b,E,O){return d(m(b,E,1,O))},"number, number, number, boolean":function(b,E,O,A){return d(m(b,E,O,A))},"bigint, bigint|number":function(b,E){return d(m(b,E,1n,!1))},"number, bigint":function(b,E){return d(m(BigInt(b),E,1n,!1))},"bigint, bigint|number, bigint|number":function(b,E,O){return d(m(b,E,BigInt(O),!1))},"number, bigint, bigint|number":function(b,E,O){return d(m(BigInt(b),E,BigInt(O),!1))},"bigint, bigint|number, boolean":function(b,E,O){return d(m(b,E,1n,O))},"number, bigint, boolean":function(b,E,O){return d(m(BigInt(b),E,1n,O))},"bigint, bigint|number, bigint|number, boolean":function(b,E,O,A){return d(m(b,E,BigInt(O),A))},"number, bigint, bigint|number, boolean":function(b,E,O,A){return d(m(BigInt(b),E,BigInt(O),A))},"BigNumber, BigNumber":function(b,E){var O=b.constructor;return d(m(b,E,new O(1),!1))},"BigNumber, BigNumber, BigNumber":function(b,E,O){return d(m(b,E,O,!1))},"BigNumber, BigNumber, boolean":function(b,E,O){var A=b.constructor;return d(m(b,E,new A(1),O))},"BigNumber, BigNumber, BigNumber, boolean":function(b,E,O,A){return d(m(b,E,O,A))},"Fraction, Fraction":function(b,E){return d(m(b,E,1,!1))},"Fraction, Fraction, Fraction":function(b,E,O){return d(m(b,E,O,!1))},"Fraction, Fraction, boolean":function(b,E,O){return d(m(b,E,1,O))},"Fraction, Fraction, Fraction, boolean":function(b,E,O,A){return d(m(b,E,O,A))},"Unit, Unit, Unit":function(b,E,O){return d(m(b,E,O,!1))},"Unit, Unit, Unit, boolean":function(b,E,O,A){return d(m(b,E,O,A))}});function d(g){return r.matrix==="Matrix"?n?n(g):$Y():g}function p(g,b){var E=y(g);if(!E)throw new SyntaxError('String "'+g+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&vI(),d(m(i(E.start),i(E.end),i(E.step)))):d(m(E.start,E.end,E.step,b))}function m(g,b,E,O){for(var A=[],S=f(E)?O?o:a:O?l:s,x=g;S(x,b);)A.push(x),x=u(x,E);return A}function y(g){var b=g.split(":"),E=b.map(function(A){return Number(A)}),O=E.some(function(A){return isNaN(A)});if(O)return null;switch(E.length){case 2:return{start:E[0],end:E[1],step:1};case 3:return{start:E[0],end:E[2],step:E[1]};default:return null}}}),Nj="reshape",WCe=["typed","isInteger","matrix"],YCe=ne(Nj,WCe,t=>{var{typed:e,isInteger:r}=t;return e(Nj,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!r(o))throw new TypeError("Invalid size for dimension: "+o)}),sI(i,a)}})}),QCe="resize",ZCe=["config","matrix"],JCe=ne(QCe,ZCe,t=>{var{config:e,matrix:r}=t;return function(a,o,s){if(arguments.length!==2&&arguments.length!==3)throw new Bf("resize",arguments.length,2,3);if(gt(o)&&(o=o.valueOf()),kt(o[0])&&(o=o.map(function(f){return kt(f)?f.toNumber():f})),gt(a))return a.resize(o,s,!0);if(typeof a=="string")return n(a,o,s);var l=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return Ct(a)}else{Array.isArray(a)||(a=[a]),a=Ct(a);var u=Zd(a,o,s);return l?r(u):u}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new Ut(a.length,1);var s=a[0];if(typeof s!="number"||!ft(s))throw new TypeError("Invalid size, must contain positive integers (size: "+qt(a)+")");if(i.length>s)return i.substring(0,s);if(i.length<s){for(var l=i,u=0,f=s-i.length;u<f;u++)l+=o;return l}else return i}}),Cj="rotate",eOe=["typed","multiply","rotationMatrix"],tOe=ne(Cj,eOe,t=>{var{typed:e,multiply:r,rotationMatrix:n}=t;return e(Cj,{"Array , number | BigNumber | Complex | Unit":function(o,s){i(o,2);var l=r(n(s),o);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,s){return i(o,2),r(n(s),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){i(o,3);var u=r(n(s,l),o);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,s,l){return i(o,3),r(n(s,l),o)}});function i(a,o){var s=Array.isArray(a)?Dt(a):a.size();if(s.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s.length===2&&s[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(s[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}}),Oj="rotationMatrix",rOe=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],nOe=ne(Oj,rOe,t=>{var{typed:e,config:r,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:s,matrix:l,DenseMatrix:u,SparseMatrix:f,cos:d,sin:p}=t;return e(Oj,{"":function(){return r.matrix==="Matrix"?l([]):[]},string:function(A){return l(A)},"number | BigNumber | Complex | Unit":function(A){return m(A,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(A,S){return m(A,S)},"number | BigNumber | Complex | Unit, Array":function(A,S){var x=l(S);return y(x),E(A,x,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(A,S){y(S);var x=S.storage()||(r.matrix==="Matrix"?"dense":void 0);return E(A,S,x)},"number | BigNumber | Complex | Unit, Array, string":function(A,S,x){var _=l(S);return y(_),E(A,_,x)},"number | BigNumber | Complex | Unit, Matrix, string":function(A,S,x){return y(S),E(A,S,x)}});function m(O,A){var S=kt(O),x=S?new s(-1):-1,_=d(O),T=p(O),N=[[_,n(x,T)],[T,_]];return b(N,A)}function y(O){var A=O.size();if(A.length<1||A[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function g(O){return O.reduce((A,S)=>n(A,S))}function b(O,A){if(A){if(A==="sparse")return new f(O);if(A==="dense")return new u(O);throw new TypeError('Unknown matrix type "'.concat(A,'"'))}return O}function E(O,A,S){var x=o(A);if(x===0)throw new RangeError("Rotation around zero vector");var _=kt(O)?s:null,T=_?new _(1):1,N=_?new _(-1):-1,C=_?new _(A.get([0])/x):A.get([0])/x,R=_?new _(A.get([1])/x):A.get([1])/x,I=_?new _(A.get([2])/x):A.get([2])/x,P=d(O),k=i(T,a(P)),q=p(O),U=i(P,g([C,C,k])),F=i(g([C,R,k]),g([N,I,q])),V=i(g([C,I,k]),g([R,q])),Z=i(g([C,R,k]),g([I,q])),H=i(P,g([R,R,k])),z=i(g([R,I,k]),g([N,C,q])),J=i(g([C,I,k]),g([N,R,q])),$=i(g([R,I,k]),g([C,q])),Q=i(P,g([I,I,k])),K=[[U,F,V],[Z,H,z],[J,$,Q]];return b(K,S)}}),Mj="row",iOe=["typed","Index","matrix","range"],jY=ne(Mj,iOe,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(Mj,{"Matrix, number":a,"Array, number":function(s,l){return a(n(Ct(s)),l).valueOf()}});function a(o,s){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Rr(s,o.size()[0]);var l=i(0,o.size()[1]),u=new r(s,l),f=o.subset(u);return gt(f)?f:n([[f]])}}),Ij="size",aOe=["typed","config","?matrix"],oOe=ne(Ij,aOe,t=>{var{typed:e,config:r,matrix:n}=t;return e(Ij,{Matrix:function(a){return a.create(a.size(),"number")},Array:Dt,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([],"dense","number"):$Y()}})}),Rj="squeeze",sOe=["typed"],uOe=ne(Rj,sOe,t=>{var{typed:e}=t;return e(Rj,{Array:function(n){return K1(Ct(n))},Matrix:function(n){var i=K1(n.toArray());return Array.isArray(i)?n.create(i,n.datatype()):i},any:function(n){return Ct(n)}})}),Pj="subset",lOe=["typed","matrix","zeros","add"],qY=ne(Pj,lOe,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t;return e(Pj,{"Matrix, Index":function(s,l){return Qd(l)?r():(G1(s,l),s.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(s,l){var u=o(r(s),l);return l.isScalar()?u:u.valueOf()}}),"Object, Index":fOe,"string, Index":cOe,"Matrix, Index, any, any":function(s,l,u,f){return Qd(l)?s:(G1(s,l),s.clone().subset(l,a(u,l),f))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(s,l,u,f){var d=o(r(s),l,u,f);return d.isMatrix?d.valueOf():d}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(s,l,u){return o(r(s),l,u,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(s,l,u){return o(s,l,u,void 0)}}),"string, Index, string":Bj,"string, Index, string, string":Bj,"Object, Index, any":hOe});function a(o,s){if(typeof o=="string")throw new Error("can't boradcast a string");if(s._isScalar)return o;var l=s.size();if(l.every(u=>u>0))try{return i(o,n(l))}catch{return o}else return o}});function cOe(t,e){if(!Ex(e))throw new TypeError("Index expected");if(Qd(e))return"";if(G1(Array.from(t),e),e.size().length!==1)throw new Ut(e.size().length,1);var r=t.length;Rr(e.min()[0],r),Rr(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach(function(a){i+=t.charAt(a)}),i}function Bj(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Qd(e))return t;if(G1(Array.from(t),e),e.size().length!==1)throw new Ut(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==r.length)throw new Ut(i.size()[0],r.length);var o=t.length;Rr(e.min()[0]),Rr(e.max()[0]);for(var s=[],l=0;l<o;l++)s[l]=t.charAt(l);if(i.forEach(function(d,p){s[d]=r.charAt(p[0])}),s.length>o)for(var u=o-1,f=s.length;u<f;u++)s[u]||(s[u]=n);return s.join("")}function fOe(t,e){if(!Qd(e)){if(e.size().length!==1)throw new Ut(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return qi(t,r)}}function hOe(t,e,r){if(Qd(e))return t;if(e.size().length!==1)throw new Ut(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=Ct(t);return Wd(i,n,r),i}var kj="transpose",dOe=["typed","matrix"],pOe=ne(kj,dOe,t=>{var{typed:e,matrix:r}=t;return e(kj,{Array:o=>n(r(o)).valueOf(),Matrix:n,any:Ct});function n(o){var s=o.size(),l;switch(s.length){case 1:l=o.clone();break;case 2:{var u=s[0],f=s[1];if(f===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+qt(s)+")");switch(o.storage()){case"dense":l=i(o,u,f);break;case"sparse":l=a(o,u,f);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+qt(s)+")")}return l}function i(o,s,l){for(var u=o._data,f=[],d,p=0;p<l;p++){d=f[p]=[];for(var m=0;m<s;m++)d[m]=Ct(u[m][p])}return o.createDenseMatrix({data:f,size:[l,s],datatype:o._datatype})}function a(o,s,l){for(var u=o._values,f=o._index,d=o._ptr,p=u?[]:void 0,m=[],y=[],g=[],b=0;b<s;b++)g[b]=0;var E,O,A;for(E=0,O=f.length;E<O;E++)g[f[E]]++;for(var S=0,x=0;x<s;x++)y.push(S),S+=g[x],g[x]=y[x];for(y.push(S),A=0;A<l;A++)for(var _=d[A],T=d[A+1],N=_;N<T;N++){var C=g[f[N]]++;m[C]=A,u&&(p[C]=Ct(u[N]))}return o.createSparseMatrix({values:p,index:m,ptr:y,size:[l,s],datatype:o._datatype})}}),Fj="ctranspose",mOe=["typed","transpose","conj"],vOe=ne(Fj,mOe,t=>{var{typed:e,transpose:r,conj:n}=t;return e(Fj,{any:function(a){return n(r(a))}})}),$j="zeros",gOe=["typed","config","matrix","BigNumber"],yOe=ne($j,gOe,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e($j,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(u){var f=u[u.length-1];if(typeof f=="string"){var d=u.pop();return a(u,d)}else return r.matrix==="Array"?a(u):a(u,"default")},Array:a,Matrix:function(u){var f=u.storage();return a(u.valueOf(),f)},"Array | Matrix, string":function(u,f){return a(u.valueOf(),f)}});function a(l,u){var f=o(l),d=f?new i(0):0;if(s(l),u){var p=n(u);return l.length>0?p.resize(l,d):p}else{var m=[];return l.length>0?Zd(m,l,d):m}}function o(l){var u=!1;return l.forEach(function(f,d,p){kt(f)&&(u=!0,p[d]=f.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!ft(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}}),Lj="fft",bOe=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],wOe=ne(Lj,bOe,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:s,i:l,dotDivide:u,conj:f,pow:d,ceil:p,log2:m}=t;return e(Lj,{Array:y,Matrix:function(A){return A.create(y(A.valueOf()),A.datatype())}});function y(O){var A=Dt(O);return A.length===1?E(O,A[0]):g(O.map(S=>y(S,A.slice(1))),0)}function g(O,A){var S=Dt(O);if(A!==0)return new Array(S[0]).fill(0).map((_,T)=>g(O[T],A-1));if(S.length===1)return E(O);function x(_){var T=Dt(_);return new Array(T[1]).fill(0).map((N,C)=>new Array(T[0]).fill(0).map((R,I)=>_[I][C]))}return x(g(x(O),1))}function b(O){for(var A=O.length,S=o(a(i(-1,i(l,s)),A)),x=[],_=1-A;_<A;_++)x.push(d(S,a(d(_,2),2)));for(var T=d(2,p(m(A+A-1))),N=[...new Array(A).fill(0).map((F,V)=>i(O[V],x[A-1+V])),...new Array(T-A).fill(0)],C=[...new Array(A+A-1).fill(0).map((F,V)=>a(1,x[V])),...new Array(T-(A+A-1)).fill(0)],R=E(N),I=E(C),P=new Array(T).fill(0).map((F,V)=>i(R[V],I[V])),k=u(f(y(f(P))),T),q=[],U=A-1;U<A+A-1;U++)q.push(i(k[U],x[U]));return q}function E(O){var A=O.length;if(A===1)return[O[0]];if(A%2===0){for(var S=[...E(O.filter((N,C)=>C%2===0)),...E(O.filter((N,C)=>C%2===1))],x=0;x<A/2;x++){var _=S[x],T=i(S[x+A/2],o(i(i(s,l),a(-x,A))));S[x]=n(_,T),S[x+A/2]=n(_,i(-1,T))}return S}else return b(O)}}),jj="ifft",xOe=["typed","fft","dotDivide","conj"],_Oe=ne(jj,xOe,t=>{var{typed:e,fft:r,dotDivide:n,conj:i}=t;return e(jj,{"Array | Matrix":function(o){var s=gt(o)?o.size():Dt(o);return n(i(r(i(o))),s.reduce((l,u)=>l*u,1))}})});function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function AOe(t,e){if(ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EOe(t){var e=AOe(t,"string");return ug(e)=="symbol"?e:e+""}function Sn(t,e,r){return(e=EOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qj(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SOe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(r),!0).forEach(function(n){Sn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var TOe="solveODE",DOe=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],NOe=ne(TOe,DOe,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,max:o,map:s,abs:l,isPositive:u,isNegative:f,larger:d,smaller:p,matrix:m,bignumber:y,unaryMinus:g}=t;function b(N){return function(C,R,I,P){var k=!(R.length===2&&(R.every(_)||R.every(Ea)));if(k)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var q=R[0],U=R[1],F=d(U,q),V=P.firstStep;if(V!==void 0&&!u(V))throw new Error('"firstStep" must be positive');var Z=P.maxStep;if(Z!==void 0&&!u(Z))throw new Error('"maxStep" must be positive');var H=P.minStep;if(H&&f(H))throw new Error('"minStep" must be positive or zero');var z=[q,U,V,H,Z].filter(Y=>Y!==void 0);if(!(z.every(_)||z.every(Ea)))throw new Error('Inconsistent type of "t" dependant variables');for(var J=1,$=P.tol?P.tol:1e-4,Q=P.minDelta?P.minDelta:.2,K=P.maxDelta?P.maxDelta:5,we=P.maxIter?P.maxIter:1e4,ge=[q,U,...I,Z,H].some(kt),[Ae,te,ee,ue]=ge?[y(N.a),y(N.c),y(N.b),y(N.bp)]:[N.a,N.c,N.b,N.bp],ce=V?F?V:g(V):a(n(U,q),J),se=[q],Te=[I],pe=n(ee,ue),Ne=0,je=0,Ke=S(F),Ue=x(F);Ke(se[Ne],U);){var nt=[];ce=Ue(se[Ne],U,ce),nt.push(C(se[Ne],Te[Ne]));for(var ae=1;ae<te.length;++ae)nt.push(C(r(se[Ne],i(te[ae],ce)),r(Te[Ne],i(ce,Ae[ae],nt))));var he=o(l(s(i(pe,nt),Y=>Ea(Y)?Y.value:Y)));he<$&&$/he>1/4&&(se.push(r(se[Ne],ce)),Te.push(r(Te[Ne],i(ce,ee,nt))),Ne++);var le=.84*($/he)**(1/5);if(p(le,Q)?le=Q:d(le,K)&&(le=K),le=ge?y(le):le,ce=i(ce,le),Z&&d(l(ce),Z)?ce=F?Z:g(Z):H&&p(l(ce),H)&&(ce=F?H:g(H)),je++,je>we)throw new Error("Maximum number of iterations reached, try changing options")}return{t:se,y:Te}}}function E(N,C,R,I){var P=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],k=[null,1/2,3/4,1],q=[2/9,1/3,4/9,0],U=[7/24,1/4,1/3,1/8],F={a:P,c:k,b:q,bp:U};return b(F)(N,C,R,I)}function O(N,C,R,I){var P=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],k=[null,1/5,3/10,4/5,8/9,1,1],q=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],U=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],F={a:P,c:k,b:q,bp:U};return b(F)(N,C,R,I)}function A(N,C,R,I){var P=I.method?I.method:"RK45",k={RK23:E,RK45:O};if(P.toUpperCase()in k){var q=SOe({},I);return delete q.method,k[P.toUpperCase()](N,C,R,q)}else{var U=Object.keys(k).map(V=>'"'.concat(V,'"')),F="".concat(U.slice(0,-1).join(", ")," and ").concat(U.slice(-1));throw new Error('Unavailable method "'.concat(P,'". Available methods are ').concat(F))}}function S(N){return N?p:d}function x(N){var C=N?d:p;return function(R,I,P){var k=r(R,P);return C(k,I)?n(I,R):P}}function _(N){return kt(N)||Bt(N)}function T(N,C,R,I){var P=A(N,C.toArray(),R.toArray(),I);return{t:m(P.t),y:m(P.y)}}return e("solveODE",{"function, Array, Array, Object":A,"function, Matrix, Matrix, Object":T,"function, Array, Array":(N,C,R)=>A(N,C,R,{}),"function, Matrix, Matrix":(N,C,R)=>T(N,C,R,{}),"function, Array, number | BigNumber | Unit":(N,C,R)=>{var I=A(N,C,[R],{});return{t:I.t,y:I.y.map(P=>P[0])}},"function, Matrix, number | BigNumber | Unit":(N,C,R)=>{var I=A(N,C.toArray(),[R],{});return{t:m(I.t),y:m(I.y.map(P=>P[0]))}},"function, Array, number | BigNumber | Unit, Object":(N,C,R,I)=>{var P=A(N,C,[R],I);return{t:P.t,y:P.y.map(k=>k[0])}},"function, Matrix, number | BigNumber | Unit, Object":(N,C,R,I)=>{var P=A(N,C.toArray(),[R],I);return{t:m(P.t),y:m(P.y.map(k=>k[0]))}}})}),COe="erf",OOe=["typed"],MOe=ne(COe,OOe,t=>{var{typed:e}=t;return e("name",{number:function(o){var s=Math.abs(o);return s>=POe?Dl(o):s<=IOe?Dl(o)*r(s):s<=4?Dl(o)*(1-n(s)):Dl(o)*(1-i(s))},"Array | Matrix":e.referToSelf(a=>o=>Ft(o,a))});function r(a){var o=a*a,s=uu[0][4]*o,l=o,u;for(u=0;u<3;u+=1)s=(s+uu[0][u])*o,l=(l+qh[0][u])*o;return a*(s+uu[0][3])/(l+qh[0][3])}function n(a){var o=uu[1][8]*a,s=a,l;for(l=0;l<7;l+=1)o=(o+uu[1][l])*a,s=(s+qh[1][l])*a;var u=(o+uu[1][7])/(s+qh[1][7]),f=parseInt(a*16)/16,d=(a-f)*(a+f);return Math.exp(-f*f)*Math.exp(-d)*u}function i(a){var o=1/(a*a),s=uu[2][5]*o,l=o,u;for(u=0;u<4;u+=1)s=(s+uu[2][u])*o,l=(l+qh[2][u])*o;var f=o*(s+uu[2][4])/(l+qh[2][4]);f=(ROe-f)/a,o=parseInt(a*16)/16;var d=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-d)*f}}),IOe=.46875,ROe=.5641895835477563,uu=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],qh=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],POe=Math.pow(2,53),Uj="zeta",BOe=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],kOe=ne(Uj,BOe,t=>{var{typed:e,config:r,multiply:n,pow:i,divide:a,factorial:o,equal:s,smallerEq:l,isNegative:u,gamma:f,sin:d,subtract:p,add:m,Complex:y,BigNumber:g,pi:b}=t;return e(Uj,{number:_=>E(_,T=>T,()=>20),BigNumber:_=>E(_,T=>new g(T),()=>Math.abs(Math.log10(r.relTol))),Complex:O});function E(_,T,N){return s(_,0)?T(-.5):s(_,1)?T(NaN):isFinite(_)?A(_,T,N,C=>C):u(_)?T(NaN):T(1)}function O(_){return _.re===0&&_.im===0?new y(-.5):_.re===1?new y(NaN,NaN):_.re===1/0&&_.im===0?new y(1):_.im===1/0||_.re===-1/0?new y(NaN,NaN):A(_,T=>T,T=>Math.round(1.3*15+.9*Math.abs(T.im)),T=>T.re)}function A(_,T,N,C){var R=N(_);if(C(_)>-(R-1)/2)return x(_,T(R),T);var I=n(i(2,_),i(T(b),p(_,1)));return I=n(I,d(n(a(T(b),2),_))),I=n(I,f(p(1,_))),n(I,A(p(1,_),T,N,C))}function S(_,T){for(var N=_,C=_;l(C,T);C=m(C,1)){var R=a(n(o(m(T,p(C,1))),i(4,C)),n(o(p(T,C)),o(n(2,C))));N=m(N,R)}return n(T,N)}function x(_,T,N){for(var C=a(1,n(S(N(0),T),p(1,i(2,p(1,_))))),R=N(0),I=N(1);l(I,T);I=m(I,1))R=m(R,a(n((-1)**(I-1),S(I,T)),i(I,_)));return n(C,R)}}),zj="mode",FOe=["typed","isNaN","isNumeric"],$Oe=ne(zj,FOe,t=>{var{typed:e,isNaN:r,isNumeric:n}=t;return e(zj,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=or(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var s={},l=[],u=0,f=0;f<a.length;f++){var d=a[f];if(n(d)&&r(d))throw new Error("Cannot calculate mode of an array containing NaN values");d in s||(s[d]=0),s[d]++,s[d]===u?l.push(d):s[d]>u&&(u=s[d],l=[d])}return l}});function Vi(t,e,r){var n;return String(t).includes("Unexpected type")?(n=arguments.length>2?" (type: "+Dr(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).includes("complex numbers")?(n=arguments.length>2?" (type: "+Dr(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var Vj="prod",LOe=["typed","config","multiplyScalar","numeric"],jOe=ne(Vj,LOe,t=>{var{typed:e,config:r,multiplyScalar:n,numeric:i}=t;return e(Vj,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(s,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(s){return a(s)}});function a(o){var s;if(Vl(o,function(l){try{s=s===void 0?l:n(s,l)}catch(u){throw Vi(u,"prod",l)}}),typeof s=="string"&&(s=i(s,Ql(s,r))),s===void 0)throw new Error("Cannot calculate prod of an empty array");return s}}),Hj="format",qOe=["typed"],UOe=ne(Hj,qOe,t=>{var{typed:e}=t;return e(Hj,{any:qt,"any, Object | function | number | BigNumber":qt})}),Gj="bin",zOe=["typed","format"],VOe=ne(Gj,zOe,t=>{var{typed:e,format:r}=t;return e(Gj,{"number | BigNumber":function(i){return r(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"bin",wordSize:a})}})}),Kj="oct",HOe=["typed","format"],GOe=ne(Kj,HOe,t=>{var{typed:e,format:r}=t;return e(Kj,{"number | BigNumber":function(i){return r(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"oct",wordSize:a})}})}),Xj="hex",KOe=["typed","format"],XOe=ne(Xj,KOe,t=>{var{typed:e,format:r}=t;return e(Xj,{"number | BigNumber":function(i){return r(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,a){return r(i,{notation:"hex",wordSize:a})}})}),UY=/\$([\w.]+)/g,Wj="print",WOe=["typed"],zY=ne(Wj,WOe,t=>{var{typed:e}=t;return e(Wj,{"string, Object | Array":Yj,"string, Object | Array, number | Object":Yj})});function Yj(t,e,r){return t.replace(UY,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var s=a.shift();o=s?o[s]:o+"."}return o!==void 0?Di(o)?o:qt(o,r):n})}var Qj="to",YOe=["typed","matrix","concat"],QOe=ne(Qj,YOe,t=>{var{typed:e,matrix:r,concat:n}=t,i=Br({typed:e,matrix:r,concat:n});return e(Qj,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))}),Zj="toBest",ZOe=["typed"],JOe=ne(Zj,ZOe,t=>{var{typed:e}=t;return e(Zj,{Unit:r=>r.toBest(),"Unit, string":(r,n)=>r.toBest(n.split(",")),"Unit, string, Object":(r,n,i)=>r.toBest(n.split(","),i),"Unit, Array":(r,n)=>r.toBest(n),"Unit, Array, Object":(r,n,i)=>r.toBest(n,i)})}),Jj="isPrime",eMe=["typed"],tMe=ne(Jj,eMe,t=>{var{typed:e}=t;return e(Jj,{number:function(n){if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},bigint:function(n){if(n<=3n)return n>1n;if(n%2n===0n||n%3n===0n)return!1;for(var i=5n;i*i<=n;i+=6n)if(n%i===0n||n%(i+2n)===0n)return!1;return!0},BigNumber:function(n){if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(O,A,S){for(var x=1;!A.eq(0);)A.mod(2).eq(0)?(A=A.div(2),O=O.mul(O).mod(S)):(A=A.sub(1),x=O.mul(x).mod(S));return x}var s=n.constructor.clone({precision:n.toFixed(0).length*2});n=new s(n);for(var l=0,u=n.sub(1);u.mod(2).eq(0);)u=u.div(2),l+=1;var f=null;if(n.lt("3317044064679887385961981"))f=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(O=>O<n);else{var d=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));f=[];for(var p=2;p<=d;p+=1)f.push(d)}for(var m=0;m<f.length;m+=1){var y=f[m],g=o(n.sub(n).add(y),u,n);if(!g.eq(1)){for(var b=0,E=g;!E.eq(n.sub(1));b+=1,E=E.mul(E).mod(n))if(b===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(r=>n=>Ft(n,r))})}),rMe="numeric",nMe=["number","?bignumber","?fraction"],iMe=ne(rMe,nMe,t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:r?o=>r(o):vI,bigint:o=>BigInt(o),Fraction:n?o=>n(o):FY};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var f=Dr(s);if(!(f in i))throw new TypeError("Cannot convert "+s+' of type "'+f+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in a))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(a).join(", "));return l===f?s:a[l](s)}}),eq="divideScalar",aMe=["typed","numeric"],oMe=ne(eq,aMe,t=>{var{typed:e,numeric:r}=t;return e(eq,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"bigint, bigint":function(i,a){return i/a},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),tq="pow",sMe=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],uMe=ne(tq,sMe,t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:a,inv:o,number:s,fraction:l,Complex:u}=t;return e(tq,{"number, number":f,"Complex, Complex":function(y,g){return y.pow(g)},"BigNumber, BigNumber":function(y,g){return g.isInteger()||y>=0||r.predictable?y.pow(g):new u(y.toNumber(),0).pow(g.toNumber(),0)},"bigint, bigint":(m,y)=>m**y,"Fraction, Fraction":function(y,g){var b=y.pow(g);if(b!=null)return b;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return f(y.valueOf(),g.valueOf())},"Array, number":d,"Array, BigNumber":function(y,g){return d(y,g.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(y,g){return p(y,g.toNumber())},"Unit, number | BigNumber":function(y,g){return y.pow(g)}});function f(m,y){if(r.predictable&&!ft(y)&&m<0)try{var g=l(y),b=s(g);if((y===b||Math.abs((y-b)/y)<1e-14)&&g.d%2n===1n)return(g.n%2n===0n?1:-1)*Math.pow(-m,y)}catch{}return r.predictable&&(m<-1&&y===1/0||m>-1&&m<0&&y===-1/0)?NaN:ft(y)||m>=0||r.predictable?XW(m,y):m*m<1&&y===1/0||m*m>1&&y===-1/0?0:new u(m,0).pow(y,0)}function d(m,y){if(!ft(y))throw new TypeError("For A^b, b must be an integer (value is "+y+")");var g=Dt(m);if(g.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+g.length+" dimensions)");if(g[0]!==g[1])throw new Error("For A^b, A must be square (size is "+g[0]+"x"+g[1]+")");if(y<0)try{return d(o(m),-y)}catch(O){throw O.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+y+")"):O}for(var b=n(g[0]).valueOf(),E=m;y>=1;)(y&1)===1&&(b=i(E,b)),y>>=1,E=i(E,E);return b}function p(m,y){return a(d(m.valueOf(),y))}}),Uh="Number of decimals in function round must be an integer",rq="round",lMe=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],cMe=ne(rq,lMe,t=>{var{typed:e,config:r,matrix:n,equalScalar:i,zeros:a,BigNumber:o,DenseMatrix:s}=t,l=gi({typed:e,equalScalar:i}),u=Un({typed:e,DenseMatrix:s}),f=jo({typed:e});function d(p){return Math.abs(Rg(p).exponent)}return e(rq,{number:function(m){var y=Lm(m,d(r.relTol)),g=vi(m,y,r.relTol,r.absTol)?y:m;return Lm(g)},"number, number":function(m,y){var g=d(r.relTol);if(y>=g)return Lm(m,y);var b=Lm(m,g),E=vi(m,b,r.relTol,r.absTol)?b:m;return Lm(E,y)},"number, BigNumber":function(m,y){if(!y.isInteger())throw new TypeError(Uh);return new o(m).toDecimalPlaces(y.toNumber())},Complex:function(m){return m.round()},"Complex, number":function(m,y){if(y%1)throw new TypeError(Uh);return m.round(y)},"Complex, BigNumber":function(m,y){if(!y.isInteger())throw new TypeError(Uh);var g=y.toNumber();return m.round(g)},BigNumber:function(m){var y=new o(m).toDecimalPlaces(d(r.relTol)),g=ho(m,y,r.relTol,r.absTol)?y:m;return g.toDecimalPlaces(0)},"BigNumber, BigNumber":function(m,y){if(!y.isInteger())throw new TypeError(Uh);var g=d(r.relTol);if(y>=g)return m.toDecimalPlaces(y.toNumber());var b=m.toDecimalPlaces(g),E=ho(m,b,r.relTol,r.absTol)?b:m;return E.toDecimalPlaces(y.toNumber())},bigint:p=>p,"bigint, number":(p,m)=>p,"bigint, BigNumber":(p,m)=>p,Fraction:function(m){return m.round()},"Fraction, number":function(m,y){if(y%1)throw new TypeError(Uh);return m.round(y)},"Fraction, BigNumber":function(m,y){if(!y.isInteger())throw new TypeError(Uh);return m.round(y.toNumber())},"Unit, number, Unit":e.referToSelf(p=>function(m,y,g){var b=m.toNumeric(g);return g.multiply(p(b,y))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(m,y,g)=>p(m,y.toNumber(),g)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(p=>(m,y,g)=>Ft(m,b=>p(b,y,g),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(p=>(m,y)=>p(m,0,y)),"Array | Matrix":e.referToSelf(p=>m=>Ft(m,p,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,y)=>l(m,y,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,y)=>f(m,y,p,!1)),"Array, number | BigNumber":e.referToSelf(p=>(m,y)=>f(n(m),y,p,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(p=>(m,y)=>i(m,0)?a(y.size(),y.storage()):u(y,m,p,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(p=>(m,y)=>i(m,0)?a(y.size(),y.storage()):f(y,m,p,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(p=>(m,y)=>f(n(y),m,p,!0).valueOf())})}),nq="log",fMe=["config","typed","typeOf","divideScalar","Complex"],hMe=Math.log(16),dMe=ne(nq,fMe,t=>{var{typed:e,typeOf:r,config:n,divideScalar:i,Complex:a}=t;function o(l){return l.log()}function s(l){return o(new a(l,0))}return e(nq,{number:function(u){return u>=0||n.predictable?y9(u):s(u)},bigint:pI(hMe,y9,n,s),Complex:o,BigNumber:function(u){return!u.isNegative()||n.predictable?u.ln():s(u.toNumber())},"any, any":e.referToSelf(l=>(u,f)=>{if(r(u)==="Fraction"&&r(f)==="Fraction"){var d=u.log(f);if(d!==null)return d}return i(l(u),l(f))})})}),iq="log1p",pMe=["typed","config","divideScalar","log","Complex"],mMe=ne(iq,pMe,t=>{var{typed:e,config:r,divideScalar:n,log:i,Complex:a}=t;return e(iq,{number:function(l){return l>=-1||r.predictable?lSe(l):o(new a(l,0))},Complex:o,BigNumber:function(l){var u=l.plus(1);return!u.isNegative()||r.predictable?u.ln():o(new a(l.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>l=>Ft(l,s)),"any, any":e.referToSelf(s=>(l,u)=>n(s(l),i(u)))});function o(s){var l=s.re+1;return new a(Math.log(Math.sqrt(l*l+s.im*s.im)),Math.atan2(s.im,l))}}),aq="nthRoots",vMe=["config","typed","divideScalar","Complex"],gMe=ne(aq,vMe,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t,a=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function o(s,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(s===0||s.abs()===0)return[new i(0,0)];var u=typeof s=="number",f;(u||s.re===0||s.im===0)&&(u?f=2*+(s<0):s.im===0?f=2*+(s.re<0):f=2*+(s.im<0)+1);for(var d=s.arg(),p=s.abs(),m=[],y=Math.pow(p,1/l),g=0;g<l;g++){var b=(f+4*g)/l;if(b===Math.round(b)){m.push(a[b%4](y));continue}m.push(new i({r:y,phi:(d+2*Math.PI*g)/l}))}return m}return e(aq,{Complex:function(l){return o(l,2)},"Complex, number":o})}),oq="dotPow",yMe=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],bMe=ne(oq,yMe,t=>{var{typed:e,equalScalar:r,matrix:n,pow:i,DenseMatrix:a,concat:o,SparseMatrix:s}=t,l=Hi({typed:e}),u=Is({typed:e,SparseMatrix:s}),f=gi({typed:e,equalScalar:r}),d=Un({typed:e,DenseMatrix:a}),p=Br({typed:e,matrix:n,concat:o}),m={};for(var y in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,y)&&!y.includes("Matrix")&&!y.includes("Array")&&(m[y]=i.signatures[y]);var g=e(m);return e(oq,p({elop:g,SS:u,DS:l,Ss:f,sS:d}))}),sq="dotDivide",wMe=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],xMe=ne(sq,wMe,t=>{var{typed:e,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o,SparseMatrix:s}=t,l=qo({typed:e,equalScalar:n}),u=Hi({typed:e}),f=Is({typed:e,SparseMatrix:s}),d=gi({typed:e,equalScalar:n}),p=Un({typed:e,DenseMatrix:a}),m=Br({typed:e,matrix:r,concat:o});return e(sq,m({elop:i,SS:f,DS:u,SD:l,Ss:d,sS:p}))});function Pg(t){var{DenseMatrix:e}=t;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+qt(o)+")");var s=o[0],l=o[1];if(s!==l)throw new RangeError("Matrix must be square (size: "+qt(o)+")");var u=[];if(gt(i)){var f=i.size(),d=i._data;if(f.length===1){if(f[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<s;p++)u[p]=[d[p]];return new e({data:u,size:[s,1],datatype:i._datatype})}if(f.length===2){if(f[0]!==s||f[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(q1(i)){if(a){u=[];for(var m=0;m<s;m++)u[m]=[d[m][0]];return new e({data:u,size:[s,1],datatype:i._datatype})}return i}if(Jc(i)){for(var y=0;y<s;y++)u[y]=[0];for(var g=i._values,b=i._index,E=i._ptr,O=E[1],A=E[0];A<O;A++){var S=b[A];u[S][0]=g[A]}return new e({data:u,size:[s,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Sr(i)){var x=Dt(i);if(x.length===1){if(x[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var _=0;_<s;_++)u[_]=[i[_]];return new e({data:u,size:[s,1]})}if(x.length===2){if(x[0]!==s||x[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var T=0;T<s;T++)u[T]=[i[T][0]];return new e({data:u,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var uq="lsolve",_Me=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],AMe=ne(uq,_Me,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=t,l=Pg({DenseMatrix:s});return e(uq,{"SparseMatrix, Array | Matrix":function(p,m){return f(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var y=r(p),g=u(y,m);return g.valueOf()}});function u(d,p){p=l(d,p,!0);for(var m=p._data,y=d._size[0],g=d._size[1],b=[],E=d._data,O=0;O<g;O++){var A=m[O][0]||0,S=void 0;if(o(A,0))S=0;else{var x=E[O][O];if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");S=n(A,x);for(var _=O+1;_<y;_++)m[_]=[a(m[_][0]||0,i(S,E[_][O]))]}b[O]=[S]}return new s({data:b,size:[y,1]})}function f(d,p){p=l(d,p,!0);for(var m=p._data,y=d._size[0],g=d._size[1],b=d._values,E=d._index,O=d._ptr,A=[],S=0;S<g;S++){var x=m[S][0]||0;if(o(x,0))A[S]=[0];else{for(var _=0,T=[],N=[],C=O[S],R=O[S+1],I=C;I<R;I++){var P=E[I];P===S?_=b[I]:P>S&&(T.push(b[I]),N.push(P))}if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=n(x,_),q=0,U=N.length;q<U;q++){var F=N[q];m[F]=[a(m[F][0]||0,i(k,T[q]))]}A[S]=[k]}}return new s({data:A,size:[y,1]})}}),lq="usolve",EMe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],SMe=ne(lq,EMe,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=t,l=Pg({DenseMatrix:s});return e(lq,{"SparseMatrix, Array | Matrix":function(p,m){return f(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var y=r(p),g=u(y,m);return g.valueOf()}});function u(d,p){p=l(d,p,!0);for(var m=p._data,y=d._size[0],g=d._size[1],b=[],E=d._data,O=g-1;O>=0;O--){var A=m[O][0]||0,S=void 0;if(o(A,0))S=0;else{var x=E[O][O];if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");S=n(A,x);for(var _=O-1;_>=0;_--)m[_]=[a(m[_][0]||0,i(S,E[_][O]))]}b[O]=[S]}return new s({data:b,size:[y,1]})}function f(d,p){p=l(d,p,!0);for(var m=p._data,y=d._size[0],g=d._size[1],b=d._values,E=d._index,O=d._ptr,A=[],S=g-1;S>=0;S--){var x=m[S][0]||0;if(o(x,0))A[S]=[0];else{for(var _=0,T=[],N=[],C=O[S],R=O[S+1],I=R-1;I>=C;I--){var P=E[I];P===S?_=b[I]:P<S&&(T.push(b[I]),N.push(P))}if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=n(x,_),q=0,U=N.length;q<U;q++){var F=N[q];m[F]=[a(m[F][0],i(k,T[q]))]}A[S]=[k]}}return new s({data:A,size:[y,1]})}}),cq="lsolveAll",TMe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],DMe=ne(cq,TMe,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=t,l=Pg({DenseMatrix:s});return e(cq,{"SparseMatrix, Array | Matrix":function(p,m){return f(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var y=r(p),g=u(y,m);return g.map(b=>b.valueOf())}});function u(d,p){for(var m=[l(d,p,!0)._data.map(N=>N[0])],y=d._data,g=d._size[0],b=d._size[1],E=0;E<b;E++)for(var O=m.length,A=0;A<O;A++){var S=m[A];if(o(y[E][E],0))if(o(S[E],0)){if(A===0){var _=[...S];_[E]=1;for(var T=E+1;T<b;T++)_[T]=a(_[T],y[T][E]);m.push(_)}}else{if(A===0)return[];m.splice(A,1),A-=1,O-=1}else{S[E]=n(S[E],y[E][E]);for(var x=E+1;x<b;x++)S[x]=a(S[x],i(S[E],y[x][E]))}}return m.map(N=>new s({data:N.map(C=>[C]),size:[g,1]}))}function f(d,p){for(var m=[l(d,p,!0)._data.map(J=>J[0])],y=d._size[0],g=d._size[1],b=d._values,E=d._index,O=d._ptr,A=0;A<g;A++)for(var S=m.length,x=0;x<S;x++){for(var _=m[x],T=[],N=[],C=O[A],R=O[A+1],I=0,P=C;P<R;P++){var k=E[P];k===A?I=b[P]:k>A&&(T.push(b[P]),N.push(k))}if(o(I,0))if(o(_[A],0)){if(x===0){var V=[..._];V[A]=1;for(var Z=0,H=N.length;Z<H;Z++){var z=N[Z];V[z]=a(V[z],T[Z])}m.push(V)}}else{if(x===0)return[];m.splice(x,1),x-=1,S-=1}else{_[A]=n(_[A],I);for(var q=0,U=N.length;q<U;q++){var F=N[q];_[F]=a(_[F],i(_[A],T[q]))}}}return m.map(J=>new s({data:J.map($=>[$]),size:[y,1]}))}}),fq="usolveAll",NMe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],CMe=ne(fq,NMe,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=t,l=Pg({DenseMatrix:s});return e(fq,{"SparseMatrix, Array | Matrix":function(p,m){return f(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return u(p,m)},"Array, Array | Matrix":function(p,m){var y=r(p),g=u(y,m);return g.map(b=>b.valueOf())}});function u(d,p){for(var m=[l(d,p,!0)._data.map(N=>N[0])],y=d._data,g=d._size[0],b=d._size[1],E=b-1;E>=0;E--)for(var O=m.length,A=0;A<O;A++){var S=m[A];if(o(y[E][E],0))if(o(S[E],0)){if(A===0){var _=[...S];_[E]=1;for(var T=E-1;T>=0;T--)_[T]=a(_[T],y[T][E]);m.push(_)}}else{if(A===0)return[];m.splice(A,1),A-=1,O-=1}else{S[E]=n(S[E],y[E][E]);for(var x=E-1;x>=0;x--)S[x]=a(S[x],i(S[E],y[x][E]))}}return m.map(N=>new s({data:N.map(C=>[C]),size:[g,1]}))}function f(d,p){for(var m=[l(d,p,!0)._data.map(J=>J[0])],y=d._size[0],g=d._size[1],b=d._values,E=d._index,O=d._ptr,A=g-1;A>=0;A--)for(var S=m.length,x=0;x<S;x++){for(var _=m[x],T=[],N=[],C=O[A],R=O[A+1],I=0,P=R-1;P>=C;P--){var k=E[P];k===A?I=b[P]:k<A&&(T.push(b[P]),N.push(k))}if(o(I,0))if(o(_[A],0)){if(x===0){var V=[..._];V[A]=1;for(var Z=0,H=N.length;Z<H;Z++){var z=N[Z];V[z]=a(V[z],T[Z])}m.push(V)}}else{if(x===0)return[];m.splice(x,1),x-=1,S-=1}else{_[A]=n(_[A],I);for(var q=0,U=N.length;q<U;q++){var F=N[q];_[F]=a(_[F],i(_[A],T[q]))}}}return m.map(J=>new s({data:J.map($=>[$]),size:[y,1]}))}}),OMe="matAlgo08xS0Sid",MMe=["typed","equalScalar"],gI=ne(OMe,MMe,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,o){var s=i._values,l=i._index,u=i._ptr,f=i._size,d=i._datatype||i._data===void 0?i._datatype:i.getDataType(),p=a._values,m=a._index,y=a._ptr,g=a._size,b=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==g.length)throw new Ut(f.length,g.length);if(f[0]!==g[0]||f[1]!==g[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+g+")");if(!s||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var E=f[0],O=f[1],A,S=r,x=0,_=o;typeof d=="string"&&d===b&&d!=="mixed"&&(A=d,S=e.find(r,[A,A]),x=e.convert(0,A),_=e.find(o,[A,A]));for(var T=[],N=[],C=[],R=[],I=[],P,k,q,U,F=0;F<O;F++){C[F]=N.length;var V=F+1;for(k=u[F],q=u[F+1],P=k;P<q;P++)U=l[P],I[U]=V,R[U]=s[P],N.push(U);for(k=y[F],q=y[F+1],P=k;P<q;P++)U=m[P],I[U]===V&&(R[U]=_(R[U],p[P]));for(P=C[F];P<N.length;){U=N[P];var Z=R[U];S(Z,x)?N.splice(P,1):(T.push(Z),P++)}}return C[O]=N.length,i.createSparseMatrix({values:T,index:N,ptr:C,size:[E,O],datatype:d===i._datatype&&b===a._datatype?A:void 0})}}),yI=ne("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:r}=t;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(r(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(r(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,r(a)).valueOf())}}),hq="leftShift",IMe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],RMe=ne(hq,IMe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,s=Jl({typed:e}),l=qo({typed:e,equalScalar:n}),u=gI({typed:e,equalScalar:n}),f=Pf({typed:e,DenseMatrix:a}),d=gi({typed:e,equalScalar:n}),p=jo({typed:e}),m=Br({typed:e,matrix:r,concat:o}),y=yI({typed:e,matrix:r});return e(hq,{"number, number":JW,"BigNumber, BigNumber":eCe,"bigint, bigint":(g,b)=>g<<b,"SparseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():d(b,E,g,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():p(b,E,g,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):f(E,b,g,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):p(E,b,g,!0))},y,m({SS:u,DS:s,SD:l}))}),dq="rightArithShift",PMe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],BMe=ne(dq,PMe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,s=Jl({typed:e}),l=qo({typed:e,equalScalar:n}),u=gI({typed:e,equalScalar:n}),f=Pf({typed:e,DenseMatrix:a}),d=gi({typed:e,equalScalar:n}),p=jo({typed:e}),m=Br({typed:e,matrix:r,concat:o}),y=yI({typed:e,matrix:r});return e(dq,{"number, number":eY,"BigNumber, BigNumber":tCe,"bigint, bigint":(g,b)=>g>>b,"SparseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():d(b,E,g,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():p(b,E,g,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):f(E,b,g,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):p(E,b,g,!0))},y,m({SS:u,DS:s,SD:l}))}),pq="rightLogShift",kMe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],FMe=ne(pq,kMe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=t,s=Jl({typed:e}),l=qo({typed:e,equalScalar:n}),u=gI({typed:e,equalScalar:n}),f=Pf({typed:e,DenseMatrix:a}),d=gi({typed:e,equalScalar:n}),p=jo({typed:e}),m=Br({typed:e,matrix:r,concat:o}),y=yI({typed:e,matrix:r});return e(pq,{"number, number":tY,"SparseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():d(b,E,g,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(g=>(b,E)=>n(E,0)?b.clone():p(b,E,g,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):f(E,b,g,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(g=>(b,E)=>n(b,0)?i(E.size(),E.storage()):p(E,b,g,!0))},y,m({SS:u,DS:s,SD:l}))}),mq="and",$Me=["typed","matrix","equalScalar","zeros","not","concat"],VY=ne(mq,$Me,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,s=qo({typed:e,equalScalar:n}),l=Px({typed:e,equalScalar:n}),u=gi({typed:e,equalScalar:n}),f=jo({typed:e}),d=Br({typed:e,matrix:r,concat:o});return e(mq,{"number, number":kC,"Complex, Complex":function(m,y){return(m.re!==0||m.im!==0)&&(y.re!==0||y.im!==0)},"BigNumber, BigNumber":function(m,y){return!m.isZero()&&!y.isZero()&&!m.isNaN()&&!y.isNaN()},"bigint, bigint":kC,"Unit, Unit":e.referToSelf(p=>(m,y)=>p(m.value||0,y.value||0)),"SparseMatrix, any":e.referToSelf(p=>(m,y)=>a(y)?i(m.size(),m.storage()):u(m,y,p,!1)),"DenseMatrix, any":e.referToSelf(p=>(m,y)=>a(y)?i(m.size(),m.storage()):f(m,y,p,!1)),"any, SparseMatrix":e.referToSelf(p=>(m,y)=>a(m)?i(m.size(),m.storage()):u(y,m,p,!0)),"any, DenseMatrix":e.referToSelf(p=>(m,y)=>a(m)?i(m.size(),m.storage()):f(y,m,p,!0)),"Array, any":e.referToSelf(p=>(m,y)=>p(r(m),y).valueOf()),"any, Array":e.referToSelf(p=>(m,y)=>p(m,r(y)).valueOf())},d({SS:l,DS:s}))}),tw="compare",LMe=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],jMe=ne(tw,LMe,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:s,concat:l}=t,u=Hi({typed:e}),f=Rx({typed:e,equalScalar:n}),d=Un({typed:e,DenseMatrix:s}),p=Br({typed:e,matrix:i,concat:l}),m=wp({typed:e});return e(tw,qMe({typed:e,config:r}),{"boolean, boolean":function(g,b){return g===b?0:g>b?1:-1},"BigNumber, BigNumber":function(g,b){return ho(g,b,r.relTol,r.absTol)?new a(0):new a(g.cmp(b))},"bigint, bigint":function(g,b){return g===b?0n:g>b?1n:-1n},"Fraction, Fraction":function(g,b){return new o(g.compare(b))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,p({SS:f,DS:u,Ss:d}))}),qMe=ne(tw,["typed","config"],t=>{var{typed:e,config:r}=t;return e(tw,{"number, number":function(i,a){return vi(i,a,r.relTol,r.absTol)?0:i>a?1:-1}})}),w2,vq;function UMe(){return vq||(vq=1,w2=function t(e,r){var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,s=/^0/,l=function(A){return t.insensitive&&(""+A).toLowerCase()||""+A},u=l(e).replace(i,"")||"",f=l(r).replace(i,"")||"",d=u.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=f.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(u.match(o),16)||d.length!==1&&u.match(a)&&Date.parse(u),y=parseInt(f.match(o),16)||m&&f.match(a)&&Date.parse(f)||null,g,b;if(y){if(m<y)return-1;if(m>y)return 1}for(var E=0,O=Math.max(d.length,p.length);E<O;E++){if(g=!(d[E]||"").match(s)&&parseFloat(d[E])||d[E]||0,b=!(p[E]||"").match(s)&&parseFloat(p[E])||p[E]||0,isNaN(g)!==isNaN(b))return isNaN(g)?1:-1;if(typeof g!=typeof b&&(g+="",b+=""),g<b)return-1;if(g>b)return 1}return 0}),w2}var zMe=UMe();const zh=pr(zMe);var gq="compareNatural",VMe=["typed","compare"],HMe=ne(gq,VMe,t=>{var{typed:e,compare:r}=t,n=r.signatures["boolean,boolean"];return e(gq,{"any, any":i});function i(l,u){var f=Dr(l),d=Dr(u),p;if((f==="number"||f==="BigNumber"||f==="Fraction")&&(d==="number"||d==="BigNumber"||d==="Fraction"))return p=r(l,u),p.toString()!=="0"?p>0?1:-1:zh(f,d);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(f)||m.includes(d))return p=a(i,l,u),p!==0?p:zh(f,d);if(f!==d)return zh(f,d);if(f==="Complex")return GMe(l,u);if(f==="Unit")return l.equalBase(u)?i(l.value,u.value):o(i,l.formatUnits(),u.formatUnits());if(f==="boolean")return n(l,u);if(f==="string")return zh(l,u);if(f==="Object")return s(i,l,u);if(f==="null"||f==="undefined")return 0;throw new TypeError('Unsupported type of value "'+f+'"')}function a(l,u,f){return Jc(u)&&Jc(f)?o(l,u.toJSON().values,f.toJSON().values):Jc(u)?a(l,u.toArray(),f):Jc(f)?a(l,u,f.toArray()):q1(u)?a(l,u.toJSON().data,f):q1(f)?a(l,u,f.toJSON().data):Array.isArray(u)?Array.isArray(f)?o(l,u,f):a(l,u,[f]):a(l,[u],f)}function o(l,u,f){for(var d=0,p=Math.min(u.length,f.length);d<p;d++){var m=l(u[d],f[d]);if(m!==0)return m}return u.length>f.length?1:u.length<f.length?-1:0}function s(l,u,f){var d=Object.keys(u),p=Object.keys(f);d.sort(zh),p.sort(zh);var m=o(l,d,p);if(m!==0)return m;for(var y=0;y<d.length;y++){var g=l(u[d[y]],f[p[y]]);if(g!==0)return g}return 0}});function GMe(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var yq="compareText",KMe=["typed","matrix","concat"];CC.signature="any, any";var XMe=ne(yq,KMe,t=>{var{typed:e,matrix:r,concat:n}=t,i=Br({typed:e,matrix:r,concat:n});return e(yq,CC,i({elop:CC,Ds:!0}))}),rw="equal",WMe=["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],YMe=ne(rw,WMe,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a,SparseMatrix:o}=t,s=Hi({typed:e}),l=Is({typed:e,SparseMatrix:o}),u=Un({typed:e,DenseMatrix:i}),f=Br({typed:e,matrix:r,concat:a});return e(rw,QMe({typed:e,equalScalar:n}),f({elop:n,SS:l,DS:s,Ss:u}))}),QMe=ne(rw,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(rw,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:r(i,a)}})}),bq="equalText",ZMe=["typed","compareText","isZero"],JMe=ne(bq,ZMe,t=>{var{typed:e,compareText:r,isZero:n}=t;return e(bq,{"any, any":function(a,o){return n(r(a,o))}})}),nw="smaller",eIe=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],tIe=ne(nw,eIe,t=>{var{typed:e,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:s}=t,l=Hi({typed:e}),u=Is({typed:e,SparseMatrix:s}),f=Un({typed:e,DenseMatrix:a}),d=Br({typed:e,matrix:i,concat:o}),p=wp({typed:e});function m(y,g){return y.lt(g)&&!ho(y,g,r.relTol,r.absTol)}return e(nw,rIe({typed:e,config:r}),{"boolean, boolean":(y,g)=>y<g,"BigNumber, BigNumber":m,"bigint, bigint":(y,g)=>y<g,"Fraction, Fraction":(y,g)=>y.compare(g)===-1,"Fraction, BigNumber":function(g,b){return m(n(g),b)},"BigNumber, Fraction":function(g,b){return m(g,n(b))},"Complex, Complex":function(g,b){throw new TypeError("No ordering relation is defined for complex numbers")}},p,d({SS:u,DS:l,Ss:f}))}),rIe=ne(nw,["typed","config"],t=>{var{typed:e,config:r}=t;return e(nw,{"number, number":function(i,a){return i<a&&!vi(i,a,r.relTol,r.absTol)}})}),iw="smallerEq",nIe=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],iIe=ne(iw,nIe,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:o}=t,s=Hi({typed:e}),l=Is({typed:e,SparseMatrix:o}),u=Un({typed:e,DenseMatrix:i}),f=Br({typed:e,matrix:n,concat:a}),d=wp({typed:e});return e(iw,aIe({typed:e,config:r}),{"boolean, boolean":(p,m)=>p<=m,"BigNumber, BigNumber":function(m,y){return m.lte(y)||ho(m,y,r.relTol,r.absTol)},"bigint, bigint":(p,m)=>p<=m,"Fraction, Fraction":(p,m)=>p.compare(m)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:l,DS:s,Ss:u}))}),aIe=ne(iw,["typed","config"],t=>{var{typed:e,config:r}=t;return e(iw,{"number, number":function(i,a){return i<=a||vi(i,a,r.relTol,r.absTol)}})}),aw="larger",oIe=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],sIe=ne(aw,oIe,t=>{var{typed:e,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:s}=t,l=Hi({typed:e}),u=Is({typed:e,SparseMatrix:s}),f=Un({typed:e,DenseMatrix:a}),d=Br({typed:e,matrix:i,concat:o}),p=wp({typed:e});function m(y,g){return y.gt(g)&&!ho(y,g,r.relTol,r.absTol)}return e(aw,uIe({typed:e,config:r}),{"boolean, boolean":(y,g)=>y>g,"BigNumber, BigNumber":m,"bigint, bigint":(y,g)=>y>g,"Fraction, Fraction":(y,g)=>y.compare(g)===1,"Fraction, BigNumber":function(g,b){return m(n(g),b)},"BigNumber, Fraction":function(g,b){return m(g,n(b))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},p,d({SS:u,DS:l,Ss:f}))}),uIe=ne(aw,["typed","config"],t=>{var{typed:e,config:r}=t;return e(aw,{"number, number":function(i,a){return i>a&&!vi(i,a,r.relTol,r.absTol)}})}),ow="largerEq",lIe=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],cIe=ne(ow,lIe,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:o}=t,s=Hi({typed:e}),l=Is({typed:e,SparseMatrix:o}),u=Un({typed:e,DenseMatrix:i}),f=Br({typed:e,matrix:n,concat:a}),d=wp({typed:e});return e(ow,fIe({typed:e,config:r}),{"boolean, boolean":(p,m)=>p>=m,"BigNumber, BigNumber":function(m,y){return m.gte(y)||ho(m,y,r.relTol,r.absTol)},"bigint, bigint":function(m,y){return m>=y},"Fraction, Fraction":(p,m)=>p.compare(m)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,f({SS:l,DS:s,Ss:u}))}),fIe=ne(ow,["typed","config"],t=>{var{typed:e,config:r}=t;return e(ow,{"number, number":function(i,a){return i>=a||vi(i,a,r.relTol,r.absTol)}})}),wq="deepEqual",hIe=["typed","equal"],dIe=ne(wq,hIe,t=>{var{typed:e,equal:r}=t;return e(wq,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var s=0;s<o;s++)if(!n(i[s],a[s]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:r(i,a)}}),sw="unequal",pIe=["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],mIe=ne(sw,pIe,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:s}=t,l=Hi({typed:e}),u=Is({typed:e,SparseMatrix:s}),f=Un({typed:e,DenseMatrix:a}),d=Br({typed:e,matrix:i,concat:o});return e(sw,vIe({typed:e,equalScalar:n}),d({elop:p,SS:u,DS:l,Ss:f}));function p(m,y){return!n(m,y)}}),vIe=ne(sw,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(sw,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!r(i,a)}})}),xq="partitionSelect",gIe=["typed","isNumeric","isNaN","compare"],yIe=ne(xq,gIe,t=>{var{typed:e,isNumeric:r,isNaN:n,compare:i}=t,a=i,o=(u,f)=>-i(u,f);return e(xq,{"Array | Matrix, number":function(f,d){return s(f,d,a)},"Array | Matrix, number, string":function(f,d,p){if(p==="asc")return s(f,d,a);if(p==="desc")return s(f,d,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(u,f,d){if(!ft(f)||f<0)throw new Error("k must be a non-negative integer");if(gt(u)){var p=u.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return l(u.valueOf(),f,d)}if(Array.isArray(u))return l(u,f,d)}function l(u,f,d){if(f>=u.length)throw new Error("k out of bounds");for(var p=0;p<u.length;p++)if(r(u[p])&&n(u[p]))return u[p];for(var m=0,y=u.length-1;m<y;){for(var g=m,b=y,E=u[Math.floor(Math.random()*(y-m+1))+m];g<b;)if(d(u[g],E)>=0){var O=u[b];u[b]=u[g],u[g]=O,--b}else++g;d(u[g],E)>0&&--g,f<=g?y=g:m=g+1}return u[f]}}),_q="sort",bIe=["typed","matrix","compare","compareNatural"],wIe=ne(_q,bIe,t=>{var{typed:e,matrix:r,compare:n,compareNatural:i}=t,a=n,o=(f,d)=>-n(f,d);return e(_q,{Array:function(d){return l(d),d.sort(a)},Matrix:function(d){return u(d),r(d.toArray().sort(a),d.storage())},"Array, function":function(d,p){return l(d),d.sort(p)},"Matrix, function":function(d,p){return u(d),r(d.toArray().sort(p),d.storage())},"Array, string":function(d,p){return l(d),d.sort(s(p))},"Matrix, string":function(d,p){return u(d),r(d.toArray().sort(s(p)),d.storage())}});function s(f){if(f==="asc")return a;if(f==="desc")return o;if(f==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(f){if(Dt(f).length!==1)throw new Error("One dimensional array expected")}function u(f){if(f.size().length!==1)throw new Error("One dimensional matrix expected")}}),Aq="max",xIe=["typed","config","numeric","larger","isNaN"],HY=ne(Aq,xIe,t=>{var{typed:e,config:r,numeric:n,larger:i,isNaN:a}=t;return e(Aq,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(u,f){return Ix(u,f.valueOf(),o)},"...":function(u){if(gp(u))throw new TypeError("Scalar values expected in function max");return s(u)}});function o(l,u){try{return i(l,u)?l:u}catch(f){throw Vi(f,"max",u)}}function s(l){var u;if(Vl(l,function(f){try{(a(f)||u===void 0||i(f,u))&&(u=f)}catch(d){throw Vi(d,"max",f)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,Ql(u,r))),u}}),Eq="min",_Ie=["typed","config","numeric","smaller","isNaN"],GY=ne(Eq,_Ie,t=>{var{typed:e,config:r,numeric:n,smaller:i,isNaN:a}=t;return e(Eq,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(u,f){return Ix(u,f.valueOf(),o)},"...":function(u){if(gp(u))throw new TypeError("Scalar values expected in function min");return s(u)}});function o(l,u){try{return i(l,u)?l:u}catch(f){throw Vi(f,"min",u)}}function s(l){var u;if(Vl(l,function(f){try{(a(f)||u===void 0||i(f,u))&&(u=f)}catch(d){throw Vi(d,"min",f)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,Ql(u,r))),u}}),AIe="ImmutableDenseMatrix",EIe=["smaller","DenseMatrix"],SIe=ne(AIe,EIe,t=>{var{smaller:e,DenseMatrix:r}=t;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Di(a))throw new Error("Invalid datatype: "+a);if(gt(i)||Sr(i)){var o=new r(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Sr(i.data)&&Sr(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Dr(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=r.prototype.subset.call(this,i);return gt(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:Ct(this._data),size:Ct(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0}),TIe="Index",DIe=["ImmutableDenseMatrix","getMatrixDataType"],NIe=ne(TIe,DIe,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:r}=t;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,s=arguments.length;o<s;o++){var l=arguments[o],u=Sr(l),f=gt(l),d=typeof l,p=null;if(iI(l))this._dimensions.push(l),this._isScalar=!1;else if(u||f){var m=void 0;r(l)==="boolean"?(u&&(m=i(Sq(l).valueOf())),f&&(m=i(Sq(l._data).valueOf())),p=l.valueOf().length):m=i(l.valueOf()),this._dimensions.push(m);var y=m.size();(y.length!==1||y[0]!==1||p!==null)&&(this._isScalar=!1)}else if(d==="number")this._dimensions.push(i([l]));else if(d==="bigint")this._dimensions.push(i([Number(l)]));else if(d==="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(p)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,s=a.length;o<s;o++)if(typeof a[o]!="number"||!ft(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=Ct(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?1:l.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.max()}return a},n.prototype.min=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a[o]=typeof l=="string"?l:l.min()}return a},n.prototype.forEach=function(a){for(var o=0,s=this._dimensions.length;o<s;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return typeof a!="number"?null:this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];a.push(typeof l=="string"?l:l.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,s=this._dimensions.length;o<s;o++){var l=this._dimensions[o];typeof l=="string"?a.push(JSON.stringify(l)):a.push(l.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function Sq(t){var e=[];return t.forEach((r,n)=>{r&&e.push(n)}),e}var CIe="FibonacciHeap",OIe=["smaller","larger"],MIe=ne(CIe,OIe,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(f,d){var p={key:f,value:d,degree:0};if(this._minimum){var m=this._minimum;p.left=m,p.right=m.right,m.right=p,p.right.left=p,e(f,m.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var f=this._minimum;if(f===null)return f;for(var d=this._minimum,p=f.degree,m=f.child;p>0;){var y=m.right;m.left.right=m.right,m.right.left=m.left,m.left=d,m.right=d.right,d.right=m,m.right.left=m,m.parent=null,m=y,p--}return f.left.right=f.right,f.right.left=f.left,f===f.right?d=null:(d=f.right,d=u(d,this._size)),this._size--,this._minimum=d,f},i.prototype.remove=function(f){this._minimum=a(this._minimum,f,-1),this.extractMinimum()};function a(f,d,p){d.key=p;var m=d.parent;return m&&e(d.key,m.key)&&(o(f,d,m),s(f,m)),e(d.key,f.key)&&(f=d),f}function o(f,d,p){d.left.right=d.right,d.right.left=d.left,p.degree--,p.child===d&&(p.child=d.right),p.degree===0&&(p.child=null),d.left=f,d.right=f.right,f.right=d,d.right.left=d,d.parent=null,d.mark=!1}function s(f,d){var p=d.parent;p&&(d.mark?(o(f,d,p),s(p)):d.mark=!0)}var l=function(d,p){d.left.right=d.right,d.right.left=d.left,d.parent=p,p.child?(d.left=p.child,d.right=p.child.right,p.child.right=d,d.right.left=d):(p.child=d,d.right=d,d.left=d),p.degree++,d.mark=!1};function u(f,d){var p=Math.floor(Math.log(d)*n)+1,m=new Array(p),y=0,g=f;if(g)for(y++,g=g.right;g!==f;)y++,g=g.right;for(var b;y>0;){for(var E=g.degree,O=g.right;b=m[E],!!b;){if(r(g.key,b.key)){var A=b;b=g,g=A}l(b,g),m[E]=null,E++}m[E]=g,g=O,y--}f=null;for(var S=0;S<p;S++)b=m[S],b&&(f?(b.left.right=b.right,b.right.left=b.left,b.left=f,b.right=f.right,f.right=b,b.right.left=b,e(b.key,f.key)&&(f=b)):f=b);return f}return i},{isClass:!0}),IIe="Spa",RIe=["addScalar","equalScalar","FibonacciHeap"],PIe=ne(IIe,RIe,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var s=this._heap.insert(a,o);this._values[a]=s}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var s=this._values[a];s?s.value=e(s.value,o):(s=this._heap.insert(a,o),this._values[a]=s)},i.prototype.forEach=function(a,o,s){var l=this._heap,u=this._values,f=[],d=l.extractMinimum();for(d&&f.push(d);d&&d.key<=o;)d.key>=a&&(r(d.value,0)||s(d.key,d.value,this)),d=l.extractMinimum(),d&&f.push(d);for(var p=0;p<f.length;p++){var m=f[p];d=l.insert(m.key,m.value),u[d.key]=d}},i.prototype.swap=function(a,o){var s=this._values[a],l=this._values[o];if(!s&&l)s=this._heap.insert(a,l.value),this._heap.remove(l),this._values[a]=s,this._values[o]=void 0;else if(s&&!l)l=this._heap.insert(o,s.value),this._heap.remove(s),this._values[o]=l,this._values[a]=void 0;else if(s&&l){var u=s.value;s.value=l.value,l.value=u}},i},{isClass:!0});function BIe(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),a=0,o=function(l){var u=i[l];if(u&&(delete n[u],delete i[l],--e,r===u)){if(!e){a=0,r=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(l){var u=i[l],f=++a;if(n[f]=l,i[l]=f,!u)return++e,e<=t?void 0:(l=n[r],o(l),l);if(delete n[u],r===u)for(;!Object.prototype.hasOwnProperty.call(n,++r););},delete:o,clear:function(){e=a=0,r=1,n=Object.create(null),i=Object.create(null)}}}function Bg(t){var{hasher:e,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:BIe(r||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var s=t.apply(t,i);return n.cache.values.set(o,s),n.cache.values.delete(n.cache.lru.hit(o)),s}}var kIe=Bg(function(t){return new t(1).exp()},{hasher:Bx}),FIe=Bg(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:Bx}),bI=Bg(function(t){return t.acos(-1)},{hasher:Bx}),$Ie=Bg(function(t){return bI(t).times(2)},{hasher:Bx});function Bx(t){return t[0].precision}function Tq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tq(Object(r),!0).forEach(function(n){Sn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var LIe="Unit",jIe=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","toBest","number","Complex","BigNumber","Fraction"],qIe=ne(LIe,jIe,t=>{var{on:e,config:r,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:s,abs:l,fix:u,round:f,equal:d,isNumeric:p,format:m,toBest:y,number:g,Complex:b,BigNumber:E,Fraction:O}=t,A=g;function S(ae,he){if(!(this instanceof S))throw new Error("Constructor must be called with the new operator");if(!(ae==null||p(ae)||Au(ae)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,he===void 0)this.units=[],this.dimensions=Q.map(Y=>0);else if(typeof he=="string"){var le=S.parse(he);this.units=le.units,this.dimensions=le.dimensions}else if(Ea(he)&&he.value===null)this.fixPrefix=he.fixPrefix,this.skipAutomaticSimplification=he.skipAutomaticSimplification,this.dimensions=he.dimensions.slice(0),this.units=he.units.map(Y=>kn({},Y));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(ae)}Object.defineProperty(S,"name",{value:"Unit"}),S.prototype.constructor=S,S.prototype.type="Unit",S.prototype.isUnit=!0;var x,_,T;function N(){for(;T===" "||T==="	";)I()}function C(ae){return ae>="0"&&ae<="9"||ae==="."}function R(ae){return ae>="0"&&ae<="9"}function I(){_++,T=x.charAt(_)}function P(ae){_=ae,T=x.charAt(_)}function k(){var ae="",he=_;if(T==="+"?I():T==="-"&&(ae+=T,I()),!C(T))return P(he),null;if(T==="."){if(ae+=T,I(),!R(T))return P(he),null}else{for(;R(T);)ae+=T,I();T==="."&&(ae+=T,I())}for(;R(T);)ae+=T,I();if(T==="E"||T==="e"){var le="",Y=_;if(le+=T,I(),(T==="+"||T==="-")&&(le+=T,I()),!R(T))return P(Y),ae;for(ae=ae+le;R(T);)ae+=T,I()}return ae}function q(){for(var ae="";R(T)||S.isValidAlpha(T);)ae+=T,I();var he=ae.charAt(0);return S.isValidAlpha(he)?ae:null}function U(ae){return T===ae?(I(),ae):null}S.parse=function(ae,he){if(he=he||{},x=ae,_=-1,T="",typeof x!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var le=new S;le.units=[];var Y=1,ie=!1;I(),N();var fe=k(),ye=null;if(fe){if(r.number==="BigNumber")ye=new E(fe);else if(r.number==="Fraction")try{ye=new O(fe)}catch{ye=parseFloat(fe)}else ye=parseFloat(fe);N(),U("*")?(Y=1,ie=!0):U("/")&&(Y=-1,ie=!0)}for(var me=[],Se=1;;){for(N();T==="(";)me.push(Y),Se*=Y,Y=1,I(),N();var Be=void 0;if(T){var ze=T;if(Be=q(),Be===null)throw new SyntaxError('Unexpected "'+ze+'" in "'+x+'" at index '+_.toString())}else break;var Ze=F(Be);if(Ze===null)throw new SyntaxError('Unit "'+Be+'" not found.');var Ye=Y*Se;if(N(),U("^")){N();var Rt=k();if(Rt===null)throw new SyntaxError('In "'+ae+'", "^" must be followed by a floating-point number');Ye*=Rt}le.units.push({unit:Ze.unit,prefix:Ze.prefix,power:Ye});for(var st=0;st<Q.length;st++)le.dimensions[st]+=(Ze.unit.dimensions[st]||0)*Ye;for(N();T===")";){if(me.length===0)throw new SyntaxError('Unmatched ")" in "'+x+'" at index '+_.toString());Se/=me.pop(),I(),N()}if(ie=!1,U("*")?(Y=1,ie=!0):U("/")?(Y=-1,ie=!0):Y=1,Ze.unit.base){var Gt=Ze.unit.base.key;ce.auto[Gt]={unit:Ze.unit,prefix:Ze.prefix}}}if(N(),T)throw new SyntaxError('Could not parse: "'+ae+'"');if(ie)throw new SyntaxError('Trailing characters: "'+ae+'"');if(me.length!==0)throw new SyntaxError('Unmatched "(" in "'+x+'"');if(le.units.length===0&&!he.allowNoUnits)throw new SyntaxError('"'+ae+'" contains no units');return le.value=ye!==void 0?le._normalize(ye):null,le},S.prototype.clone=function(){var ae=new S;ae.fixPrefix=this.fixPrefix,ae.skipAutomaticSimplification=this.skipAutomaticSimplification,ae.value=Ct(this.value),ae.dimensions=this.dimensions.slice(0),ae.units=[];for(var he=0;he<this.units.length;he++){ae.units[he]={};for(var le in this.units[he])ut(this.units[he],le)&&(ae.units[he][le]=this.units[he][le])}return ae},S.prototype.valueType=function(){return Dr(this.value)},S.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},S.prototype._normalize=function(ae){if(ae==null||this.units.length===0)return ae;for(var he=ae,le=S._getNumberConverter(Dr(ae)),Y=0;Y<this.units.length;Y++){var ie=le(this.units[Y].unit.value),fe=le(this.units[Y].prefix.value),ye=le(this.units[Y].power);he=a(he,s(a(ie,fe),ye))}return he},S.prototype._denormalize=function(ae,he){if(ae==null||this.units.length===0)return ae;for(var le=ae,Y=S._getNumberConverter(Dr(ae)),ie=0;ie<this.units.length;ie++){var fe=Y(this.units[ie].unit.value),ye=Y(this.units[ie].prefix.value),me=Y(this.units[ie].power);le=o(le,s(a(fe,ye),me))}return le};var F=Bg(ae=>{if(ut(te,ae)){var he=te[ae],le=he.prefixes[""];return{unit:he,prefix:le}}for(var Y in te)if(ut(te,Y)&&GTe(ae,Y)){var ie=te[Y],fe=ae.length-Y.length,ye=ae.substring(0,fe),me=ut(ie.prefixes,ye)?ie.prefixes[ye]:void 0;if(me!==void 0)return{unit:ie,prefix:me}}return null},{hasher:ae=>ae[0],limit:100});S.isValuelessUnit=function(ae){return F(ae)!==null},S.prototype.hasBase=function(ae){if(typeof ae=="string"&&(ae=K[ae]),!ae)return!1;for(var he=0;he<Q.length;he++)if(Math.abs((this.dimensions[he]||0)-(ae.dimensions[he]||0))>1e-12)return!1;return!0},S.prototype.equalBase=function(ae){for(var he=0;he<Q.length;he++)if(Math.abs((this.dimensions[he]||0)-(ae.dimensions[he]||0))>1e-12)return!1;return!0},S.prototype.equals=function(ae){return this.equalBase(ae)&&d(this.value,ae.value)},S.prototype.multiply=function(ae){for(var he=this.clone(),le=Ea(ae)?ae:new S(ae),Y=0;Y<Q.length;Y++)he.dimensions[Y]=(this.dimensions[Y]||0)+(le.dimensions[Y]||0);for(var ie=0;ie<le.units.length;ie++){var fe=x2({},le.units[ie]);he.units.push(fe)}if(this.value!==null||le.value!==null){var ye=this.value===null?this._normalize(Z(le.value)):this.value,me=le.value===null?le._normalize(Z(this.value)):le.value;he.value=a(ye,me)}else he.value=null;return Ea(ae)&&(he.skipAutomaticSimplification=!1),V(he)},S.prototype.divideInto=function(ae){return new S(ae).divide(this)},S.prototype.divide=function(ae){for(var he=this.clone(),le=Ea(ae)?ae:new S(ae),Y=0;Y<Q.length;Y++)he.dimensions[Y]=(this.dimensions[Y]||0)-(le.dimensions[Y]||0);for(var ie=0;ie<le.units.length;ie++){var fe=x2(x2({},le.units[ie]),{},{power:-le.units[ie].power});he.units.push(fe)}if(this.value!==null||le.value!==null){var ye=this.value===null?this._normalize(Z(le.value)):this.value,me=le.value===null?le._normalize(Z(this.value)):le.value;he.value=o(ye,me)}else he.value=null;return Ea(ae)&&(he.skipAutomaticSimplification=!1),V(he)},S.prototype.pow=function(ae){for(var he=this.clone(),le=0;le<Q.length;le++)he.dimensions[le]=(this.dimensions[le]||0)*ae;for(var Y=0;Y<he.units.length;Y++)he.units[Y].power*=ae;return he.value!==null?he.value=s(he.value,ae):he.value=null,he.skipAutomaticSimplification=!1,V(he)};function V(ae){return ae.equalBase(K.NONE)&&ae.value!==null&&!r.predictable?ae.value:ae}function Z(ae){var he=S._getNumberConverter(Dr(ae));return he(1)}S.prototype.abs=function(){var ae=this.clone();if(ae.value!==null)if(ae._isDerived()||ae.units.length===0||ae.units[0].unit.offset===0)ae.value=l(ae.value);else{var he=ae._numberConverter(),le=he(ae.units[0].unit.value),Y=he(ae.units[0].unit.offset),ie=a(le,Y);ae.value=i(l(n(ae.value,ie)),ie)}for(var fe in ae.units)(ae.units[fe].unit.name==="VA"||ae.units[fe].unit.name==="VAR")&&(ae.units[fe].unit=te.W);return ae},S.prototype.to=function(ae){var he=this.value===null?this._normalize(1):this.value,le;if(typeof ae=="string")le=S.parse(ae);else if(Ea(ae))le=ae.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(le))throw new Error("Units do not match ('".concat(le.toString(),"' != '").concat(this.toString(),"')"));if(le.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||le.units.length===0||this.units[0].unit.offset===le.units[0].unit.offset)le.value=Ct(he);else{var Y=S._getNumberConverter(Dr(he)),ie=this.units[0].unit.value,fe=this.units[0].unit.offset,ye=a(ie,fe),me=le.units[0].unit.value,Se=le.units[0].unit.offset,Be=a(me,Se);le.value=n(he,Y(i(ye,Be)))}return le.fixPrefix=!0,le.skipAutomaticSimplification=!0,le},S.prototype.toNumber=function(ae){return A(this.toNumeric(ae))},S.prototype.toNumeric=function(ae){var he;return ae?he=this.to(ae):he=this.clone(),he._isDerived()||he.units.length===0?he._denormalize(he.value):he._denormalize(he.value,he.units[0].prefix.value)},S.prototype.toString=function(){return this.format()},S.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},S.fromJSON=function(ae){var he,le=new S(ae.value,(he=ae.unit)!==null&&he!==void 0?he:void 0);return le.fixPrefix=ae.fixPrefix||!1,le},S.prototype.valueOf=S.prototype.toString,S.prototype.simplify=function(){var ae=this.clone(),he=[],le;for(var Y in se)if(ut(se,Y)&&ae.hasBase(K[Y])){le=Y;break}if(le==="NONE")ae.units=[];else{var ie;if(le&&ut(se,le)&&(ie=se[le]),ie)ae.units=[{unit:ie.unit,prefix:ie.prefix,power:1}];else{for(var fe=!1,ye=0;ye<Q.length;ye++){var me=Q[ye];Math.abs(ae.dimensions[ye]||0)>1e-12&&(ut(se,me)?he.push({unit:se[me].unit,prefix:se[me].prefix,power:ae.dimensions[ye]||0}):fe=!0)}he.length<ae.units.length&&!fe&&(ae.units=he)}}return ae},S.prototype.toSI=function(){for(var ae=this.clone(),he=[],le=0;le<Q.length;le++){var Y=Q[le];if(Math.abs(ae.dimensions[le]||0)>1e-12)if(ut(ce.si,Y))he.push({unit:ce.si[Y].unit,prefix:ce.si[Y].prefix,power:ae.dimensions[le]||0});else throw new Error("Cannot express custom unit "+Y+" in SI units")}return ae.units=he,ae.fixPrefix=!0,ae.skipAutomaticSimplification=!0,this.value!==null?(ae.value=null,this.to(ae)):ae},S.prototype.formatUnits=function(){for(var ae="",he="",le=0,Y=0,ie=0;ie<this.units.length;ie++)this.units[ie].power>0?(le++,ae+=" "+this.units[ie].prefix.name+this.units[ie].unit.name,Math.abs(this.units[ie].power-1)>1e-15&&(ae+="^"+this.units[ie].power)):this.units[ie].power<0&&Y++;if(Y>0)for(var fe=0;fe<this.units.length;fe++)this.units[fe].power<0&&(le>0?(he+=" "+this.units[fe].prefix.name+this.units[fe].unit.name,Math.abs(this.units[fe].power+1)>1e-15&&(he+="^"+-this.units[fe].power)):(he+=" "+this.units[fe].prefix.name+this.units[fe].unit.name,he+="^"+this.units[fe].power));ae=ae.substr(1),he=he.substr(1),le>1&&Y>0&&(ae="("+ae+")"),Y>1&&le>0&&(he="("+he+")");var ye=ae;return le>0&&Y>0&&(ye+=" / "),ye+=he,ye},S.prototype.toBest=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ae&&!Array.isArray(ae))throw new Error("Invalid unit type. Expected string or Unit.");var le=this.units[0].unit.prefixes;if(ae&&ae.length>0){var Y=ae.map(ye=>{var me=null;if(typeof ye=="string"){if(me=S.parse(ye),!me)throw new Error("Invalid unit type. Expected compatible string or Unit.")}else if(!Ea(ye))throw new Error("Invalid unit type. Expected compatible string or Unit.");me===null&&(me=ye.clone());try{return this.to(me.formatUnits()),me}catch{throw new Error("Invalid unit type. Expected compatible string or Unit.")}}),ie=Y.map(ye=>ye.units[0].prefix);this.units[0].unit.prefixes=ie.reduce((ye,me)=>(ye[me.name]=me,ye),{}),this.units[0].prefix=ie[0]}var fe=H(this,he).simp;return this.units[0].unit.prefixes=le,fe.fixPrefix=!0,fe},S.prototype.format=function(ae){var{simp:he,valueStr:le,unitStr:Y}=H(this,ae),ie=le;return he.value&&Au(he.value)&&(ie="("+ie+")"),Y.length>0&&ie.length>0&&(ie+=" "),ie+=Y,ie};function H(ae){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=ae.skipAutomaticSimplification||ae.value===null?ae.clone():ae.simplify();z(le),J(le,he.offset);var Y=le._denormalize(le.value),ie=le.value!==null?m(Y,he||{}):"",fe=le.formatUnits();return{simp:le,valueStr:ie,unitStr:fe}}function z(ae){var he=!1;typeof ae.value<"u"&&ae.value!==null&&Au(ae.value)&&(he=Math.abs(ae.value.re)<1e-14);for(var le in ae.units)ut(ae.units,le)&&ae.units[le].unit&&(ae.units[le].unit.name==="VA"&&he?ae.units[le].unit=te.VAR:ae.units[le].unit.name==="VAR"&&!he&&(ae.units[le].unit=te.VA))}function J(ae,he){ae.units.length===1&&!ae.fixPrefix&&Math.abs(ae.units[0].power-Math.round(ae.units[0].power))<1e-14&&(ae.units[0].prefix=ae._bestPrefix(he))}S.prototype._bestPrefix=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1.2;if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var he=this.value!==null?l(this.value):0,le=l(this.units[0].unit.value),Y=this.units[0].prefix;if(he===0)return Y;var ie=this.units[0].power,fe=Math.log(he/Math.pow(Y.value*le,ie))/Math.LN10-ae;if(fe>-2.200001&&fe<1.800001)return Y;fe=Math.abs(fe);var ye=this.units[0].unit.prefixes;for(var me in ye)if(ut(ye,me)){var Se=ye[me];if(Se.scientific){var Be=Math.abs(Math.log(he/Math.pow(Se.value*le,ie))/Math.LN10-ae);(Be<fe||Be===fe&&Se.name.length<Y.name.length)&&(Y=Se,fe=Be)}}return Y},S.prototype.splitUnit=function(ae){for(var he=this.clone(),le=[],Y=0;Y<ae.length&&(he=he.to(ae[Y]),Y!==ae.length-1);Y++){var ie=he.toNumeric(),fe=f(ie),ye=void 0,me=d(fe,ie);me?ye=fe:ye=u(he.toNumeric());var Se=new S(ye,ae[Y].toString());le.push(Se),he=i(he,Se)}for(var Be=0,ze=0;ze<le.length;ze++)Be=n(Be,le[ze].value);return d(Be,this.value)&&(he.value=0),le.push(he),le};var $={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};$.SHORTLONG=kn({},$.SHORT,$.LONG),$.BINARY_SHORT=kn({},$.BINARY_SHORT_SI,$.BINARY_SHORT_IEC),$.BINARY_LONG=kn({},$.BINARY_LONG_SI,$.BINARY_LONG_IEC);var Q=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],K={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var we in K)ut(K,we)&&(K[we].key=we);var ge={},Ae={name:"",base:ge,value:1,offset:0,dimensions:Q.map(ae=>0)},te={meter:{name:"meter",base:K.LENGTH,prefixes:$.LONG,value:1,offset:0},inch:{name:"inch",base:K.LENGTH,prefixes:$.NONE,value:.0254,offset:0},foot:{name:"foot",base:K.LENGTH,prefixes:$.NONE,value:.3048,offset:0},yard:{name:"yard",base:K.LENGTH,prefixes:$.NONE,value:.9144,offset:0},mile:{name:"mile",base:K.LENGTH,prefixes:$.NONE,value:1609.344,offset:0},link:{name:"link",base:K.LENGTH,prefixes:$.NONE,value:.201168,offset:0},rod:{name:"rod",base:K.LENGTH,prefixes:$.NONE,value:5.0292,offset:0},chain:{name:"chain",base:K.LENGTH,prefixes:$.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:K.LENGTH,prefixes:$.NONE,value:1e-10,offset:0},m:{name:"m",base:K.LENGTH,prefixes:$.SHORT,value:1,offset:0},in:{name:"in",base:K.LENGTH,prefixes:$.NONE,value:.0254,offset:0},ft:{name:"ft",base:K.LENGTH,prefixes:$.NONE,value:.3048,offset:0},yd:{name:"yd",base:K.LENGTH,prefixes:$.NONE,value:.9144,offset:0},mi:{name:"mi",base:K.LENGTH,prefixes:$.NONE,value:1609.344,offset:0},li:{name:"li",base:K.LENGTH,prefixes:$.NONE,value:.201168,offset:0},rd:{name:"rd",base:K.LENGTH,prefixes:$.NONE,value:5.02921,offset:0},ch:{name:"ch",base:K.LENGTH,prefixes:$.NONE,value:20.1168,offset:0},mil:{name:"mil",base:K.LENGTH,prefixes:$.NONE,value:254e-7,offset:0},m2:{name:"m2",base:K.SURFACE,prefixes:$.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:K.SURFACE,prefixes:$.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:K.SURFACE,prefixes:$.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:K.SURFACE,prefixes:$.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:K.SURFACE,prefixes:$.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:K.SURFACE,prefixes:$.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:K.SURFACE,prefixes:$.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:K.SURFACE,prefixes:$.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:K.SURFACE,prefixes:$.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:K.SURFACE,prefixes:$.NONE,value:1e4,offset:0},m3:{name:"m3",base:K.VOLUME,prefixes:$.CUBIC,value:1,offset:0},L:{name:"L",base:K.VOLUME,prefixes:$.SHORT,value:.001,offset:0},l:{name:"l",base:K.VOLUME,prefixes:$.SHORT,value:.001,offset:0},litre:{name:"litre",base:K.VOLUME,prefixes:$.LONG,value:.001,offset:0},cuin:{name:"cuin",base:K.VOLUME,prefixes:$.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:K.VOLUME,prefixes:$.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:K.VOLUME,prefixes:$.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:K.VOLUME,prefixes:$.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:K.VOLUME,prefixes:$.NONE,value:15e-6,offset:0},drop:{name:"drop",base:K.VOLUME,prefixes:$.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:K.VOLUME,prefixes:$.NONE,value:5e-8,offset:0},minim:{name:"minim",base:K.VOLUME,prefixes:$.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:K.VOLUME,prefixes:$.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:K.VOLUME,prefixes:$.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:K.VOLUME,prefixes:$.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:K.VOLUME,prefixes:$.NONE,value:1e-6,offset:0},cup:{name:"cup",base:K.VOLUME,prefixes:$.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:K.VOLUME,prefixes:$.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:K.VOLUME,prefixes:$.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:K.VOLUME,prefixes:$.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:K.VOLUME,prefixes:$.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:K.VOLUME,prefixes:$.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:K.VOLUME,prefixes:$.NONE,value:.238480942392,offset:0},g:{name:"g",base:K.MASS,prefixes:$.SHORT,value:.001,offset:0},gram:{name:"gram",base:K.MASS,prefixes:$.LONG,value:.001,offset:0},ton:{name:"ton",base:K.MASS,prefixes:$.SHORT,value:907.18474,offset:0},t:{name:"t",base:K.MASS,prefixes:$.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:K.MASS,prefixes:$.LONG,value:1e3,offset:0},grain:{name:"grain",base:K.MASS,prefixes:$.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:K.MASS,prefixes:$.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:K.MASS,prefixes:$.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:K.MASS,prefixes:$.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:K.MASS,prefixes:$.NONE,value:45.359237,offset:0},stick:{name:"stick",base:K.MASS,prefixes:$.NONE,value:.115,offset:0},stone:{name:"stone",base:K.MASS,prefixes:$.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:K.MASS,prefixes:$.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:K.MASS,prefixes:$.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:K.MASS,prefixes:$.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:K.MASS,prefixes:$.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:K.MASS,prefixes:$.NONE,value:45.359237,offset:0},s:{name:"s",base:K.TIME,prefixes:$.SHORT,value:1,offset:0},min:{name:"min",base:K.TIME,prefixes:$.NONE,value:60,offset:0},h:{name:"h",base:K.TIME,prefixes:$.NONE,value:3600,offset:0},second:{name:"second",base:K.TIME,prefixes:$.LONG,value:1,offset:0},sec:{name:"sec",base:K.TIME,prefixes:$.LONG,value:1,offset:0},minute:{name:"minute",base:K.TIME,prefixes:$.NONE,value:60,offset:0},hour:{name:"hour",base:K.TIME,prefixes:$.NONE,value:3600,offset:0},day:{name:"day",base:K.TIME,prefixes:$.NONE,value:86400,offset:0},week:{name:"week",base:K.TIME,prefixes:$.NONE,value:7*86400,offset:0},month:{name:"month",base:K.TIME,prefixes:$.NONE,value:2629800,offset:0},year:{name:"year",base:K.TIME,prefixes:$.NONE,value:31557600,offset:0},decade:{name:"decade",base:K.TIME,prefixes:$.NONE,value:315576e3,offset:0},century:{name:"century",base:K.TIME,prefixes:$.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:K.TIME,prefixes:$.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:K.FREQUENCY,prefixes:$.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:K.FREQUENCY,prefixes:$.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:K.ANGLE,prefixes:$.SHORT,value:1,offset:0},radian:{name:"radian",base:K.ANGLE,prefixes:$.LONG,value:1,offset:0},deg:{name:"deg",base:K.ANGLE,prefixes:$.SHORT,value:null,offset:0},degree:{name:"degree",base:K.ANGLE,prefixes:$.LONG,value:null,offset:0},grad:{name:"grad",base:K.ANGLE,prefixes:$.SHORT,value:null,offset:0},gradian:{name:"gradian",base:K.ANGLE,prefixes:$.LONG,value:null,offset:0},cycle:{name:"cycle",base:K.ANGLE,prefixes:$.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:K.ANGLE,prefixes:$.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:K.ANGLE,prefixes:$.NONE,value:null,offset:0},A:{name:"A",base:K.CURRENT,prefixes:$.SHORT,value:1,offset:0},ampere:{name:"ampere",base:K.CURRENT,prefixes:$.LONG,value:1,offset:0},K:{name:"K",base:K.TEMPERATURE,prefixes:$.SHORT,value:1,offset:0},degC:{name:"degC",base:K.TEMPERATURE,prefixes:$.SHORT,value:1,offset:273.15},degF:{name:"degF",base:K.TEMPERATURE,prefixes:$.SHORT,value:new O(5,9),offset:459.67},degR:{name:"degR",base:K.TEMPERATURE,prefixes:$.SHORT,value:new O(5,9),offset:0},kelvin:{name:"kelvin",base:K.TEMPERATURE,prefixes:$.LONG,value:1,offset:0},celsius:{name:"celsius",base:K.TEMPERATURE,prefixes:$.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:K.TEMPERATURE,prefixes:$.LONG,value:new O(5,9),offset:459.67},rankine:{name:"rankine",base:K.TEMPERATURE,prefixes:$.LONG,value:new O(5,9),offset:0},mol:{name:"mol",base:K.AMOUNT_OF_SUBSTANCE,prefixes:$.SHORT,value:1,offset:0},mole:{name:"mole",base:K.AMOUNT_OF_SUBSTANCE,prefixes:$.LONG,value:1,offset:0},cd:{name:"cd",base:K.LUMINOUS_INTENSITY,prefixes:$.SHORT,value:1,offset:0},candela:{name:"candela",base:K.LUMINOUS_INTENSITY,prefixes:$.LONG,value:1,offset:0},N:{name:"N",base:K.FORCE,prefixes:$.SHORT,value:1,offset:0},newton:{name:"newton",base:K.FORCE,prefixes:$.LONG,value:1,offset:0},dyn:{name:"dyn",base:K.FORCE,prefixes:$.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:K.FORCE,prefixes:$.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:K.FORCE,prefixes:$.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:K.FORCE,prefixes:$.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:K.FORCE,prefixes:$.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:K.FORCE,prefixes:$.NONE,value:9.80665,offset:0},J:{name:"J",base:K.ENERGY,prefixes:$.SHORT,value:1,offset:0},joule:{name:"joule",base:K.ENERGY,prefixes:$.LONG,value:1,offset:0},erg:{name:"erg",base:K.ENERGY,prefixes:$.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:K.ENERGY,prefixes:$.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:K.ENERGY,prefixes:$.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:K.ENERGY,prefixes:$.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:K.ENERGY,prefixes:$.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:K.POWER,prefixes:$.SHORT,value:1,offset:0},watt:{name:"watt",base:K.POWER,prefixes:$.LONG,value:1,offset:0},hp:{name:"hp",base:K.POWER,prefixes:$.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:K.POWER,prefixes:$.SHORT,value:b.I,offset:0},VA:{name:"VA",base:K.POWER,prefixes:$.SHORT,value:1,offset:0},Pa:{name:"Pa",base:K.PRESSURE,prefixes:$.SHORT,value:1,offset:0},psi:{name:"psi",base:K.PRESSURE,prefixes:$.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:K.PRESSURE,prefixes:$.NONE,value:101325,offset:0},bar:{name:"bar",base:K.PRESSURE,prefixes:$.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:K.PRESSURE,prefixes:$.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:K.PRESSURE,prefixes:$.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:K.PRESSURE,prefixes:$.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:K.PRESSURE,prefixes:$.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:K.ELECTRIC_CHARGE,prefixes:$.LONG,value:1,offset:0},C:{name:"C",base:K.ELECTRIC_CHARGE,prefixes:$.SHORT,value:1,offset:0},farad:{name:"farad",base:K.ELECTRIC_CAPACITANCE,prefixes:$.LONG,value:1,offset:0},F:{name:"F",base:K.ELECTRIC_CAPACITANCE,prefixes:$.SHORT,value:1,offset:0},volt:{name:"volt",base:K.ELECTRIC_POTENTIAL,prefixes:$.LONG,value:1,offset:0},V:{name:"V",base:K.ELECTRIC_POTENTIAL,prefixes:$.SHORT,value:1,offset:0},ohm:{name:"ohm",base:K.ELECTRIC_RESISTANCE,prefixes:$.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:K.ELECTRIC_INDUCTANCE,prefixes:$.LONG,value:1,offset:0},H:{name:"H",base:K.ELECTRIC_INDUCTANCE,prefixes:$.SHORT,value:1,offset:0},siemens:{name:"siemens",base:K.ELECTRIC_CONDUCTANCE,prefixes:$.LONG,value:1,offset:0},S:{name:"S",base:K.ELECTRIC_CONDUCTANCE,prefixes:$.SHORT,value:1,offset:0},weber:{name:"weber",base:K.MAGNETIC_FLUX,prefixes:$.LONG,value:1,offset:0},Wb:{name:"Wb",base:K.MAGNETIC_FLUX,prefixes:$.SHORT,value:1,offset:0},tesla:{name:"tesla",base:K.MAGNETIC_FLUX_DENSITY,prefixes:$.LONG,value:1,offset:0},T:{name:"T",base:K.MAGNETIC_FLUX_DENSITY,prefixes:$.SHORT,value:1,offset:0},b:{name:"b",base:K.BIT,prefixes:$.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:K.BIT,prefixes:$.BINARY_LONG,value:1,offset:0},B:{name:"B",base:K.BIT,prefixes:$.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:K.BIT,prefixes:$.BINARY_LONG,value:8,offset:0}},ee={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ue(ae){if(ae.number==="BigNumber"){var he=bI(E);te.rad.value=new E(1),te.deg.value=he.div(180),te.grad.value=he.div(200),te.cycle.value=he.times(2),te.arcsec.value=he.div(648e3),te.arcmin.value=he.div(10800)}else te.rad.value=1,te.deg.value=Math.PI/180,te.grad.value=Math.PI/200,te.cycle.value=Math.PI*2,te.arcsec.value=Math.PI/648e3,te.arcmin.value=Math.PI/10800;te.radian.value=te.rad.value,te.degree.value=te.deg.value,te.gradian.value=te.grad.value}ue(r),e&&e("config",function(ae,he){ae.number!==he.number&&ue(ae)});var ce={si:{NONE:{unit:Ae,prefix:$.NONE[""]},LENGTH:{unit:te.m,prefix:$.SHORT[""]},MASS:{unit:te.g,prefix:$.SHORT.k},TIME:{unit:te.s,prefix:$.SHORT[""]},CURRENT:{unit:te.A,prefix:$.SHORT[""]},TEMPERATURE:{unit:te.K,prefix:$.SHORT[""]},LUMINOUS_INTENSITY:{unit:te.cd,prefix:$.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:te.mol,prefix:$.SHORT[""]},ANGLE:{unit:te.rad,prefix:$.SHORT[""]},BIT:{unit:te.bits,prefix:$.SHORT[""]},FORCE:{unit:te.N,prefix:$.SHORT[""]},ENERGY:{unit:te.J,prefix:$.SHORT[""]},POWER:{unit:te.W,prefix:$.SHORT[""]},PRESSURE:{unit:te.Pa,prefix:$.SHORT[""]},ELECTRIC_CHARGE:{unit:te.C,prefix:$.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:te.F,prefix:$.SHORT[""]},ELECTRIC_POTENTIAL:{unit:te.V,prefix:$.SHORT[""]},ELECTRIC_RESISTANCE:{unit:te.ohm,prefix:$.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:te.H,prefix:$.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:te.S,prefix:$.SHORT[""]},MAGNETIC_FLUX:{unit:te.Wb,prefix:$.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:te.T,prefix:$.SHORT[""]},FREQUENCY:{unit:te.Hz,prefix:$.SHORT[""]}}};ce.cgs=JSON.parse(JSON.stringify(ce.si)),ce.cgs.LENGTH={unit:te.m,prefix:$.SHORT.c},ce.cgs.MASS={unit:te.g,prefix:$.SHORT[""]},ce.cgs.FORCE={unit:te.dyn,prefix:$.SHORT[""]},ce.cgs.ENERGY={unit:te.erg,prefix:$.NONE[""]},ce.us=JSON.parse(JSON.stringify(ce.si)),ce.us.LENGTH={unit:te.ft,prefix:$.NONE[""]},ce.us.MASS={unit:te.lbm,prefix:$.NONE[""]},ce.us.TEMPERATURE={unit:te.degF,prefix:$.NONE[""]},ce.us.FORCE={unit:te.lbf,prefix:$.NONE[""]},ce.us.ENERGY={unit:te.BTU,prefix:$.BTU[""]},ce.us.POWER={unit:te.hp,prefix:$.NONE[""]},ce.us.PRESSURE={unit:te.psi,prefix:$.NONE[""]},ce.auto=JSON.parse(JSON.stringify(ce.si));var se=ce.auto;S.setUnitSystem=function(ae){if(ut(ce,ae))se=ce[ae];else throw new Error("Unit system "+ae+" does not exist. Choices are: "+Object.keys(ce).join(", "))},S.getUnitSystem=function(){for(var ae in ce)if(ut(ce,ae)&&ce[ae]===se)return ae},S.typeConverters={BigNumber:function(he){return he!=null&&he.isFraction?new E(String(he.n)).div(String(he.d)).times(String(he.s)):new E(he+"")},Fraction:function(he){return new O(he)},Complex:function(he){return he},number:function(he){return he!=null&&he.isFraction?g(he):he}},S.prototype._numberConverter=function(){var ae=S.typeConverters[this.valueType()];if(ae)return ae;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},S._getNumberConverter=function(ae){if(!S.typeConverters[ae])throw new TypeError('Unsupported type "'+ae+'"');return S.typeConverters[ae]};for(var Te in te)if(ut(te,Te)){var pe=te[Te];pe.dimensions=pe.base.dimensions}for(var Ne in ee)if(ut(ee,Ne)){var je=te[ee[Ne]],Ke={};for(var Ue in je)ut(je,Ue)&&(Ke[Ue]=je[Ue]);Ke.name=Ne,te[Ne]=Ke}S.isValidAlpha=function(he){return/^[a-zA-Z]$/.test(he)};function nt(ae){for(var he=0;he<ae.length;he++){if(T=ae.charAt(he),he===0&&!S.isValidAlpha(T))throw new Error('Invalid unit name (must begin with alpha character): "'+ae+'"');if(he>0&&!(S.isValidAlpha(T)||R(T)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+ae+'"')}}return S.createUnit=function(ae,he){if(typeof ae!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(he&&he.override){for(var le in ae)if(ut(ae,le)&&S.deleteUnit(le),ae[le].aliases)for(var Y=0;Y<ae[le].aliases.length;Y++)S.deleteUnit(ae[le].aliases[Y])}var ie;for(var fe in ae)ut(ae,fe)&&(ie=S.createUnitSingle(fe,ae[fe]));return ie},S.createUnitSingle=function(ae,he){if((typeof he>"u"||he===null)&&(he={}),typeof ae!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(ut(te,ae))throw new Error('Cannot create unit "'+ae+'": a unit with that name already exists');nt(ae);var le=null,Y=[],ie=0,fe,ye,me;if(he&&he.type==="Unit")le=he.clone();else if(typeof he=="string")he!==""&&(fe=he);else if(typeof he=="object")fe=he.definition,ye=he.prefixes,ie=he.offset,me=he.baseName,he.aliases&&(Y=he.aliases.valueOf());else throw new TypeError('Cannot create unit "'+ae+'" from "'+he.toString()+'": expecting "string" or "Unit" or "Object"');if(Y){for(var Se=0;Se<Y.length;Se++)if(ut(te,Y[Se]))throw new Error('Cannot create alias "'+Y[Se]+'": a unit with that name already exists')}if(fe&&typeof fe=="string"&&!le)try{le=S.parse(fe,{allowNoUnits:!0})}catch(_r){throw _r.message='Could not create unit "'+ae+'" from "'+fe+'": '+_r.message,_r}else fe&&fe.type==="Unit"&&(le=fe.clone());Y=Y||[],ie=ie||0,ye&&ye.toUpperCase?ye=$[ye.toUpperCase()]||$.NONE:ye=$.NONE;var Be={};if(le){Be={name:ae,value:le.value,dimensions:le.dimensions.slice(0),prefixes:ye,offset:ie};var Rt=!1;for(var st in K)if(ut(K,st)){for(var Gt=!0,j=0;j<Q.length;j++)if(Math.abs((Be.dimensions[j]||0)-(K[st].dimensions[j]||0))>1e-12){Gt=!1;break}if(Gt){Rt=!0,Be.base=K[st];break}}if(!Rt){me=me||ae+"_STUFF";var ve={dimensions:le.dimensions.slice(0)};ve.key=me,K[me]=ve,se[me]={unit:Be,prefix:$.NONE[""]},Be.base=K[me]}}else{if(me=me||ae+"_STUFF",Q.indexOf(me)>=0)throw new Error('Cannot create new base unit "'+ae+'": a base unit with that name already exists (and cannot be overridden)');Q.push(me);for(var ze in K)ut(K,ze)&&(K[ze].dimensions[Q.length-1]=0);for(var Ze={dimensions:[]},Ye=0;Ye<Q.length;Ye++)Ze.dimensions[Ye]=0;Ze.dimensions[Q.length-1]=1,Ze.key=me,K[me]=Ze,Be={name:ae,value:1,dimensions:K[me].dimensions.slice(0),prefixes:ye,offset:ie,base:K[me]},se[me]={unit:Be,prefix:$.NONE[""]}}S.UNITS[ae]=Be;for(var Ie=0;Ie<Y.length;Ie++){var He=Y[Ie],ht={};for(var dt in Be)ut(Be,dt)&&(ht[dt]=Be[dt]);ht.name=He,S.UNITS[He]=ht}return delete F.cache,new S(null,ae)},S.deleteUnit=function(ae){delete S.UNITS[ae],delete F.cache},S.PREFIXES=$,S.BASE_DIMENSIONS=Q,S.BASE_UNITS=K,S.UNIT_SYSTEMS=ce,S.UNITS=te,S},{isClass:!0}),Dq="unit",UIe=["typed","Unit"],zIe=ne(Dq,UIe,t=>{var{typed:e,Unit:r}=t;return e(Dq,{Unit:function(i){return i.clone()},string:function(i){return r.isValuelessUnit(i)?new r(null,i):r.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new r(i,a)},"number | BigNumber | Fraction":function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>Ft(i,n))})}),Nq="sparse",VIe=["typed","SparseMatrix"],HIe=ne(Nq,VIe,t=>{var{typed:e,SparseMatrix:r}=t;return e(Nq,{"":function(){return new r([])},string:function(i){return new r([],i)},"Array | Matrix":function(i){return new r(i)},"Array | Matrix, string":function(i,a){return new r(i,a)}})}),Cq="createUnit",GIe=["typed","Unit"],KIe=ne(Cq,GIe,t=>{var{typed:e,Unit:r}=t;return e(Cq,{"Object, Object":function(i,a){return r.createUnit(i,a)},Object:function(i){return r.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var s={};return s[i]=a,r.createUnit(s,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,r.createUnit(o,{})},string:function(i){var a={};return a[i]={},r.createUnit(a,{})}})}),Oq="acos",XIe=["typed","config","Complex"],WIe=ne(Oq,XIe,t=>{var{typed:e,config:r,Complex:n}=t;return e(Oq,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})}),Mq="acosh",YIe=["typed","config","Complex"],QIe=ne(Mq,YIe,t=>{var{typed:e,config:r,Complex:n}=t;return e(Mq,{number:function(a){return a>=1||r.predictable?oY(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})}),Iq="acot",ZIe=["typed","BigNumber"],JIe=ne(Iq,ZIe,t=>{var{typed:e,BigNumber:r}=t;return e(Iq,{number:sY,Complex:function(i){return i.acot()},BigNumber:function(i){return new r(1).div(i).atan()}})}),Rq="acoth",eRe=["typed","config","Complex","BigNumber"],tRe=ne(Rq,eRe,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(Rq,{number:function(o){return o>=1||o<=-1||r.predictable?uY(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})}),Pq="acsc",rRe=["typed","config","Complex","BigNumber"],nRe=ne(Pq,rRe,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(Pq,{number:function(o){return o<=-1||o>=1||r.predictable?lY(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})}),Bq="acsch",iRe=["typed","BigNumber"],aRe=ne(Bq,iRe,t=>{var{typed:e,BigNumber:r}=t;return e(Bq,{number:cY,Complex:function(i){return i.acsch()},BigNumber:function(i){return new r(1).div(i).asinh()}})}),kq="asec",oRe=["typed","config","Complex","BigNumber"],sRe=ne(kq,oRe,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(kq,{number:function(o){return o<=-1||o>=1||r.predictable?fY(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})}),Fq="asech",uRe=["typed","config","Complex","BigNumber"],lRe=ne(Fq,uRe,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(Fq,{number:function(o){if(o<=1&&o>=-1||r.predictable){var s=1/o;if(s>0||r.predictable)return hY(o);var l=Math.sqrt(s*s-1);return new n(Math.log(l-s),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})}),$q="asin",cRe=["typed","config","Complex"],fRe=ne($q,cRe,t=>{var{typed:e,config:r,Complex:n}=t;return e($q,{number:function(a){return a>=-1&&a<=1||r.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})}),hRe="asinh",dRe=["typed"],pRe=ne(hRe,dRe,t=>{var{typed:e}=t;return e("asinh",{number:dY,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})}),mRe="atan",vRe=["typed"],gRe=ne(mRe,vRe,t=>{var{typed:e}=t;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})}),Lq="atan2",yRe=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],bRe=ne(Lq,yRe,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=t,s=qo({typed:e,equalScalar:n}),l=Hi({typed:e}),u=DY({typed:e,equalScalar:n}),f=gi({typed:e,equalScalar:n}),d=Un({typed:e,DenseMatrix:a}),p=Br({typed:e,matrix:r,concat:o});return e(Lq,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,y)=>i.atan2(m,y)},p({scalar:"number | BigNumber",SS:u,DS:l,SD:s,Ss:f,sS:d}))}),jq="atanh",wRe=["typed","config","Complex"],xRe=ne(jq,wRe,t=>{var{typed:e,config:r,Complex:n}=t;return e(jq,{number:function(a){return a<=1&&a>=-1||r.predictable?pY(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})}),xp=ne("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,n.valueType())(n.value)})}}),qq="cos",_Re=["typed"],ARe=ne(qq,_Re,t=>{var{typed:e}=t,r=xp({typed:e});return e(qq,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)}),Uq="cosh",ERe=["typed"],SRe=ne(Uq,ERe,t=>{var{typed:e}=t;return e(Uq,{number:ySe,"Complex | BigNumber":r=>r.cosh()})}),zq="cot",TRe=["typed","BigNumber"],DRe=ne(zq,TRe,t=>{var{typed:e,BigNumber:r}=t,n=xp({typed:e});return e(zq,{number:mY,Complex:i=>i.cot(),BigNumber:i=>new r(1).div(i.tan())},n)}),Vq="coth",NRe=["typed","BigNumber"],CRe=ne(Vq,NRe,t=>{var{typed:e,BigNumber:r}=t;return e(Vq,{number:vY,Complex:n=>n.coth(),BigNumber:n=>new r(1).div(n.tanh())})}),Hq="csc",ORe=["typed","BigNumber"],MRe=ne(Hq,ORe,t=>{var{typed:e,BigNumber:r}=t,n=xp({typed:e});return e(Hq,{number:gY,Complex:i=>i.csc(),BigNumber:i=>new r(1).div(i.sin())},n)}),Gq="csch",IRe=["typed","BigNumber"],RRe=ne(Gq,IRe,t=>{var{typed:e,BigNumber:r}=t;return e(Gq,{number:yY,Complex:n=>n.csch(),BigNumber:n=>new r(1).div(n.sinh())})}),Kq="sec",PRe=["typed","BigNumber"],BRe=ne(Kq,PRe,t=>{var{typed:e,BigNumber:r}=t,n=xp({typed:e});return e(Kq,{number:bY,Complex:i=>i.sec(),BigNumber:i=>new r(1).div(i.cos())},n)}),Xq="sech",kRe=["typed","BigNumber"],FRe=ne(Xq,kRe,t=>{var{typed:e,BigNumber:r}=t;return e(Xq,{number:wY,Complex:n=>n.sech(),BigNumber:n=>new r(1).div(n.cosh())})}),Wq="sin",$Re=["typed"],LRe=ne(Wq,$Re,t=>{var{typed:e}=t,r=xp({typed:e});return e(Wq,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)}),Yq="sinh",jRe=["typed"],qRe=ne(Yq,jRe,t=>{var{typed:e}=t;return e(Yq,{number:xY,"Complex | BigNumber":r=>r.sinh()})}),Qq="tan",URe=["typed"],zRe=ne(Qq,URe,t=>{var{typed:e}=t,r=xp({typed:e});return e(Qq,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},r)}),VRe="tanh",HRe=["typed"],GRe=ne(VRe,HRe,t=>{var{typed:e}=t;return e("tanh",{number:wSe,"Complex | BigNumber":r=>r.tanh()})}),Zq="setCartesian",KRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],XRe=ne(Zq,KRe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(Zq,{"Array | Matrix, Array | Matrix":function(l,u){var f=[];if(n(r(l),new a(0))!==0&&n(r(u),new a(0))!==0){var d=or(Array.isArray(l)?l:l.toArray()).sort(i),p=or(Array.isArray(u)?u:u.toArray()).sort(i);f=[];for(var m=0;m<d.length;m++)for(var y=0;y<p.length;y++)f.push([d[m],p[y]])}return Array.isArray(l)&&Array.isArray(u)?f:new o(f)}})}),Jq="setDifference",WRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],YRe=ne(Jq,WRe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(Jq,{"Array | Matrix, Array | Matrix":function(l,u){var f;if(n(r(l),new a(0))===0)f=[];else{if(n(r(u),new a(0))===0)return or(l.toArray());var d=Jd(or(Array.isArray(l)?l:l.toArray()).sort(i)),p=Jd(or(Array.isArray(u)?u:u.toArray()).sort(i));f=[];for(var m,y=0;y<d.length;y++){m=!1;for(var g=0;g<p.length;g++)if(i(d[y].value,p[g].value)===0&&d[y].identifier===p[g].identifier){m=!0;break}m||f.push(d[y])}}return Array.isArray(l)&&Array.isArray(u)?X1(f):new o(X1(f))}})}),eU="setDistinct",QRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],ZRe=ne(eU,QRe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(eU,{"Array | Matrix":function(l){var u;if(n(r(l),new a(0))===0)u=[];else{var f=or(Array.isArray(l)?l:l.toArray()).sort(i);u=[],u.push(f[0]);for(var d=1;d<f.length;d++)i(f[d],f[d-1])!==0&&u.push(f[d])}return Array.isArray(l)?u:new o(u)}})}),tU="setIntersect",JRe=["typed","size","subset","compareNatural","Index","DenseMatrix"],ePe=ne(tU,JRe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=t;return e(tU,{"Array | Matrix, Array | Matrix":function(l,u){var f;if(n(r(l),new a(0))===0||n(r(u),new a(0))===0)f=[];else{var d=Jd(or(Array.isArray(l)?l:l.toArray()).sort(i)),p=Jd(or(Array.isArray(u)?u:u.toArray()).sort(i));f=[];for(var m=0;m<d.length;m++)for(var y=0;y<p.length;y++)if(i(d[m].value,p[y].value)===0&&d[m].identifier===p[y].identifier){f.push(d[m]);break}}return Array.isArray(l)&&Array.isArray(u)?X1(f):new o(X1(f))}})}),rU="setIsSubset",tPe=["typed","size","subset","compareNatural","Index"],rPe=ne(rU,tPe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(rU,{"Array | Matrix, Array | Matrix":function(s,l){if(n(r(s),new a(0))===0)return!0;if(n(r(l),new a(0))===0)return!1;for(var u=Jd(or(Array.isArray(s)?s:s.toArray()).sort(i)),f=Jd(or(Array.isArray(l)?l:l.toArray()).sort(i)),d,p=0;p<u.length;p++){d=!1;for(var m=0;m<f.length;m++)if(i(u[p].value,f[m].value)===0&&u[p].identifier===f[m].identifier){d=!0;break}if(d===!1)return!1}return!0}})}),nU="setMultiplicity",nPe=["typed","size","subset","compareNatural","Index"],iPe=ne(nU,nPe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(nU,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(s,l){if(n(r(l),new a(0))===0)return 0;for(var u=or(Array.isArray(l)?l:l.toArray()),f=0,d=0;d<u.length;d++)i(u[d],s)===0&&f++;return f}})}),iU="setPowerset",aPe=["typed","size","subset","compareNatural","Index"],oPe=ne(iU,aPe,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:a}=t;return e(iU,{"Array | Matrix":function(u){if(n(r(u),new a(0))===0)return[];for(var f=or(Array.isArray(u)?u:u.toArray()).sort(i),d=[],p=0;p.toString(2).length<=f.length;)d.push(o(f,p.toString(2).split("").reverse())),p++;return s(d)}});function o(l,u){for(var f=[],d=0;d<u.length;d++)u[d]==="1"&&f.push(l[d]);return f}function s(l){for(var u=[],f=l.length-1;f>0;f--)for(var d=0;d<f;d++)l[d].length>l[d+1].length&&(u=l[d],l[d]=l[d+1],l[d+1]=u);return l}}),aU="setSize",sPe=["typed","compareNatural"],uPe=ne(aU,sPe,t=>{var{typed:e,compareNatural:r}=t;return e(aU,{"Array | Matrix":function(i){return Array.isArray(i)?or(i).length:or(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?or(i).length:or(i.toArray()).length;for(var o=or(Array.isArray(i)?i:i.toArray()).sort(r),s=1,l=1;l<o.length;l++)r(o[l],o[l-1])!==0&&s++;return s}})}),oU="setSymDifference",lPe=["typed","size","concat","subset","setDifference","Index"],cPe=ne(oU,lPe,t=>{var{typed:e,size:r,concat:n,subset:i,setDifference:a,Index:o}=t;return e(oU,{"Array | Matrix, Array | Matrix":function(l,u){if(i(r(l),new o(0))===0)return or(u);if(i(r(u),new o(0))===0)return or(l);var f=or(l),d=or(u);return n(a(f,d),a(d,f))}})}),sU="setUnion",fPe=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],hPe=ne(sU,fPe,t=>{var{typed:e,size:r,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:s}=t;return e(sU,{"Array | Matrix, Array | Matrix":function(u,f){if(i(r(u),new s(0))===0)return or(f);if(i(r(f),new s(0))===0)return or(u);var d=or(u),p=or(f);return n(o(d,p),a(d,p))}})}),uU="add",dPe=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],pPe=ne(uU,dPe,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:s}=t,l=Jl({typed:e}),u=dI({typed:e,equalScalar:i}),f=Pf({typed:e,DenseMatrix:a}),d=Br({typed:e,matrix:r,concat:s});return e(uU,{"any, any":n,"any, any, ...any":e.referToSelf(p=>(m,y,g)=>{for(var b=p(m,y),E=0;E<g.length;E++)b=p(b,g[E]);return b})},d({elop:n,DS:l,SS:u,Ss:f}))}),lU="hypot",mPe=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],vPe=ne(lU,mPe,t=>{var{typed:e,abs:r,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:s,isPositive:l}=t;return e(lU,{"... number | BigNumber":u,Array:u,Matrix:f=>u(or(f.toArray(),!0))});function u(f){for(var d=0,p=0,m=0;m<f.length;m++){if(Au(f[m]))throw new TypeError("Unexpected type of argument to hypot");var y=r(f[m]);s(p,y)?(d=a(d,a(i(p,y),i(p,y))),d=n(d,1),p=y):d=n(d,l(y)?a(i(y,p),i(y,p)):y)}return a(p,o(d))}}),cU="norm",gPe=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],yPe=ne(cU,gPe,t=>{var{typed:e,abs:r,add:n,pow:i,conj:a,sqrt:o,multiply:s,equalScalar:l,larger:u,smaller:f,matrix:d,ctranspose:p,eigs:m}=t;return e(cU,{number:Math.abs,Complex:function(N){return N.abs()},BigNumber:function(N){return N.abs()},boolean:function(N){return Math.abs(N)},Array:function(N){return _(d(N),2)},Matrix:function(N){return _(N,2)},"Array, number | BigNumber | string":function(N,C){return _(d(N),C)},"Matrix, number | BigNumber | string":function(N,C){return _(N,C)}});function y(T){var N=0;return T.forEach(function(C){var R=r(C);u(R,N)&&(N=R)},!0),N}function g(T){var N;return T.forEach(function(C){var R=r(C);(!N||f(R,N))&&(N=R)},!0),N||0}function b(T,N){if(N===Number.POSITIVE_INFINITY||N==="inf")return y(T);if(N===Number.NEGATIVE_INFINITY||N==="-inf")return g(T);if(N==="fro")return _(T,2);if(typeof N=="number"&&!isNaN(N)){if(!l(N,0)){var C=0;return T.forEach(function(R){C=n(i(r(R),N),C)},!0),i(C,1/N)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function E(T){var N=0;return T.forEach(function(C,R){N=n(N,s(C,a(C)))}),r(o(N))}function O(T){var N=[],C=0;return T.forEach(function(R,I){var P=I[1],k=n(N[P]||0,r(R));u(k,C)&&(C=k),N[P]=k},!0),C}function A(T){var N=T.size();if(N[0]!==N[1])throw new RangeError("Invalid matrix dimensions");var C=p(T),R=s(C,T),I=m(R).values.toArray(),P=I[I.length-1];return r(o(P))}function S(T){var N=[],C=0;return T.forEach(function(R,I){var P=I[0],k=n(N[P]||0,r(R));u(k,C)&&(C=k),N[P]=k},!0),C}function x(T,N){if(N===1)return O(T);if(N===Number.POSITIVE_INFINITY||N==="inf")return S(T);if(N==="fro")return E(T);if(N===2)return A(T);throw new Error("Unsupported parameter value "+N)}function _(T,N){var C=T.size();if(C.length===1)return b(T,N);if(C.length===2){if(C[0]&&C[1])return x(T,N);throw new RangeError("Invalid matrix dimensions")}}}),fU="dot",bPe=["typed","addScalar","multiplyScalar","conj","size"],wPe=ne(fU,bPe,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:a}=t;return e(fU,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function o(f,d){var p=u(f),m=u(d),y,g;if(p.length===1)y=p[0];else if(p.length===2&&p[1]===1)y=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)g=m[0];else if(m.length===2&&m[1]===1)g=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(y!==g)throw new RangeError("Vectors must have equal length ("+y+" != "+g+")");if(y===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return y}function s(f,d){var p=o(f,d),m=gt(f)?f._data:f,y=gt(f)?f._datatype||f.getDataType():void 0,g=gt(d)?d._data:d,b=gt(d)?d._datatype||d.getDataType():void 0,E=u(f).length===2,O=u(d).length===2,A=r,S=n;if(y&&b&&y===b&&typeof y=="string"&&y!=="mixed"){var x=y;A=e.find(r,[x,x]),S=e.find(n,[x,x])}if(!E&&!O){for(var _=S(i(m[0]),g[0]),T=1;T<p;T++)_=A(_,S(i(m[T]),g[T]));return _}if(!E&&O){for(var N=S(i(m[0]),g[0][0]),C=1;C<p;C++)N=A(N,S(i(m[C]),g[C][0]));return N}if(E&&!O){for(var R=S(i(m[0][0]),g[0]),I=1;I<p;I++)R=A(R,S(i(m[I][0]),g[I]));return R}if(E&&O){for(var P=S(i(m[0][0]),g[0][0]),k=1;k<p;k++)P=A(P,S(i(m[k][0]),g[k][0]));return P}}function l(f,d){o(f,d);for(var p=f._index,m=f._values,y=d._index,g=d._values,b=0,E=r,O=n,A=0,S=0;A<p.length&&S<y.length;){var x=p[A],_=y[S];if(x<_){A++;continue}if(x>_){S++;continue}x===_&&(b=E(b,O(m[A],g[S])),A++,S++)}return b}function u(f){return gt(f)?f.size():a(f)}}),xPe="trace",_Pe=["typed","matrix","add"],APe=ne(xPe,_Pe,t=>{var{typed:e,matrix:r,add:n}=t;return e("trace",{Array:function(s){return i(r(s))},SparseMatrix:a,DenseMatrix:i,any:Ct});function i(o){var s=o._size,l=o._data;switch(s.length){case 1:if(s[0]===1)return Ct(l[0]);throw new RangeError("Matrix must be square (size: "+qt(s)+")");case 2:{var u=s[0],f=s[1];if(u===f){for(var d=0,p=0;p<u;p++)d=n(d,l[p][p]);return d}else throw new RangeError("Matrix must be square (size: "+qt(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+qt(s)+")")}}function a(o){var s=o._values,l=o._index,u=o._ptr,f=o._size,d=f[0],p=f[1];if(d===p){var m=0;if(s.length>0)for(var y=0;y<p;y++)for(var g=u[y],b=u[y+1],E=g;E<b;E++){var O=l[E];if(O===y){m=n(m,s[E]);break}if(O>y)break}return m}throw new RangeError("Matrix must be square (size: "+qt(f)+")")}}),hU="index",EPe=["typed","Index"],SPe=ne(hU,EPe,t=>{var{typed:e,Index:r}=t;return e(hU,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(s){return kt(s)?s.toNumber():Sr(s)||gt(s)?s.map(function(l){return kt(l)?l.toNumber():l}):s}),o=new r;return r.apply(o,a),o}})}),KY=new Set(["end"]),TPe="Node",DPe=["mathWithTransform"],NPe=ne(TPe,DPe,t=>{var{mathWithTransform:e}=t;function r(i){for(var a of[...KY])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},s=null;function l(u){var f=hd(u);return r(f),a(f,o,s)}return{evaluate:l}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!wr(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(s,l){s.forEach(function(u,f,d){l(u,f,d),o(u,l)})}o(this,a)}transform(a){function o(s,l,u){var f=a(s,l,u);return f!==s?f:s.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(s,l,u){a(s,l,u)&&o.push(s)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&Pu(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o<"u"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function Gi(t){return t&&t.isIndexError?new $o(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function XY(t){var{subset:e}=t;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return qi(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw Gi(a)}}}var P0="AccessorNode",CPe=["subset","Node"],OPe=ne(P0,CPe,t=>{var{subset:e,Node:r}=t,n=XY({subset:e});function i(o){return!(xf(o)||ro(o)||er(o)||ql(o)||Tx(o)||Ru(o)||ri(o))}class a extends r{constructor(s,l){if(super(),!wr(s))throw new TypeError('Node expected for parameter "object"');if(!vp(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=s,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return P0}get isAccessorNode(){return!0}_compile(s,l){var u=this.object._compile(s,l),f=this.index._compile(s,l);if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(m,y,g){return qi(u(m,y,g),d)}}else return function(m,y,g){var b=u(m,y,g),E=f(m,y,b);return n(b,E)}}forEach(s){s(this.object,"object",this),s(this.index,"index",this)}map(s){return new a(this._ifNode(s(this.object,"object",this)),this._ifNode(s(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(s){var l=this.object.toString(s);return i(this.object)&&(l="("+l+")"),l+this.index.toString(s)}_toHTML(s){var l=this.object.toHTML(s);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(s)}_toTex(s){var l=this.object.toTex(s);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(s)}toJSON(){return{mathjs:P0,object:this.object,index:this.index}}static fromJSON(s){return new a(s.object,s.index)}}return Sn(a,"name",P0),a},{isClass:!0,isNode:!0}),B0="ArrayNode",MPe=["Node"],IPe=ne(B0,MPe,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(wr))throw new TypeError("Array containing Nodes expected")}get type(){return B0}get isArrayNode(){return!0}_compile(i,a){var o=Pl(this.items,function(u){return u._compile(i,a)}),s=i.config.matrix!=="Array";if(s){var l=i.matrix;return function(f,d,p){return l(Pl(o,function(m){return m(f,d,p)}))}}else return function(f,d,p){return Pl(o,function(m){return m(f,d,p)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new r(a)}clone(){return new r(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:B0,items:this.items}}static fromJSON(i){return new r(i.items)}_toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,s){var l=o.some(ro)&&!o.every(ro),u=s||l,f=u?"&":"\\\\",d=o.map(function(p){return p.items?a(p.items,!s):p.toTex(i)}).join(f);return l||!u||u&&!s?"\\begin{bmatrix}"+d+"\\end{bmatrix}":d}return a(this.items,!1)}}return Sn(r,"name",B0),r},{isClass:!0,isNode:!0});function RPe(t){var{subset:e,matrix:r}=t;return function(i,a,o){try{if(Array.isArray(i)){var s=r(i).subset(a,o).valueOf();return s.forEach((l,u)=>{i[u]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Wd(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw Gi(l)}}}var No=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function k0(t,e){if(!e||e!=="auto")return t;for(var r=t;Ru(r);)r=r.content;return r}function Tr(t,e,r,n){var i=t;e!=="keep"&&(i=t.getContent());for(var a=i.getIdentifier(),o=null,s=0;s<No.length;s++)if(a in No[s]){o=s;break}if(a==="OperatorNode:multiply"&&i.implicit&&r!=="show"){var l=k0(i.args[0],e);!(er(l)&&n&&n.getIdentifier()==="OperatorNode:divide"&&EC(k0(n.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&EC(k0(l.args[0],e))&&er(k0(l.args[1])))&&(o+=1)}return o}function jm(t,e){var r=t;e!=="keep"&&(r=t.getContent());var n=r.getIdentifier(),i=Tr(r,e);if(i===null)return null;var a=No[i][n];if(ut(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function _2(t,e,r){var n=r!=="keep"?t.getContent():t,i=r!=="keep"?t.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),s=Tr(n,r);if(s===null)return null;var l=No[s][a];if(ut(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===o)return!0;return!1}return null}function PPe(t){var e="OperatorNode:"+t;for(var r of No)if(e in r)return r[e].op;return null}var F0="AssignmentNode",BPe=["subset","?matrix","Node"],kPe=ne(F0,BPe,t=>{var{subset:e,matrix:r,Node:n}=t,i=XY({subset:e}),a=RPe({subset:e,matrix:r});function o(l,u,f){u||(u="keep");var d=Tr(l,u,f),p=Tr(l.value,u,f);return u==="all"||p!==null&&p<=d}class s extends n{constructor(u,f,d){if(super(),this.object=u,this.index=d?f:null,this.value=d||f,!ri(u)&&!xf(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(ri(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!vp(this.index))throw new TypeError('IndexNode expected as "index"');if(!wr(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return F0}get isAssignmentNode(){return!0}_compile(u,f){var d=this.object._compile(u,f),p=this.index?this.index._compile(u,f):null,m=this.value._compile(u,f),y=this.object.name;if(this.index)if(this.index.isObjectProperty()){var g=this.index.getObjectProperty();return function(S,x,_){var T=d(S,x,_),N=m(S,x,_);return Wd(T,g,N),N}}else{if(ri(this.object))return function(S,x,_){var T=d(S,x,_),N=m(S,x,_),C=p(S,x,T);return S.set(y,a(T,C,N)),N};var b=this.object.object._compile(u,f);if(this.object.index.isObjectProperty()){var E=this.object.index.getObjectProperty();return function(S,x,_){var T=b(S,x,_),N=qi(T,E),C=p(S,x,N),R=m(S,x,_);return Wd(T,E,a(N,C,R)),R}}else{var O=this.object.index._compile(u,f);return function(S,x,_){var T=b(S,x,_),N=O(S,x,T),C=i(T,N),R=p(S,x,C),I=m(S,x,_);return a(T,N,a(C,R,I)),I}}}else{if(!ri(this.object))throw new TypeError("SymbolNode expected as object");return function(S,x,_){var T=m(S,x,_);return S.set(y,T),T}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var f=this._ifNode(u(this.object,"object",this)),d=this.index?this._ifNode(u(this.index,"index",this)):null,p=this._ifNode(u(this.value,"value",this));return new s(f,d,p)}clone(){return new s(this.object,this.index,this.value)}_toString(u){var f=this.object.toString(u),d=this.index?this.index.toString(u):"",p=this.value.toString(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(p="("+p+")"),f+d+" = "+p}toJSON(){return{mathjs:F0,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new s(u.object,u.index,u.value)}_toHTML(u){var f=this.object.toHTML(u),d=this.index?this.index.toHTML(u):"",p=this.value.toHTML(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),f+d+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(u){var f=this.object.toTex(u),d=this.index?this.index.toTex(u):"",p=this.value.toTex(u);return o(this,u&&u.parenthesis,u&&u.implicit)&&(p="\\left(".concat(p,"\\right)")),f+d+"="+p}}return Sn(s,"name",F0),s},{isClass:!0,isNode:!0}),$0="BlockNode",FPe=["ResultSet","Node"],$Pe=ne($0,FPe,t=>{var{ResultSet:e,Node:r}=t;class n extends r{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var s=o&&o.node,l=o&&o.visible!==void 0?o.visible:!0;if(!wr(s))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:s,visible:l}})}get type(){return $0}get isBlockNode(){return!0}_compile(a,o){var s=Pl(this.blocks,function(l){return{evaluate:l.node._compile(a,o),visible:l.visible}});return function(u,f,d){var p=[];return OW(s,function(y){var g=y.evaluate(u,f,d);y.visible&&p.push(g)}),new e(p)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],s=0;s<this.blocks.length;s++){var l=this.blocks[s],u=this._ifNode(a(l.node,"blocks["+s+"].node",this));o[s]={node:u,visible:l.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:$0,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}_toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return Sn(n,"name",$0),n},{isClass:!0,isNode:!0}),L0="ConditionalNode",LPe=["Node"],jPe=ne(L0,LPe,t=>{var{Node:e}=t;function r(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(kt(i))return!i.isZero();if(Au(i))return!!(i.re||i.im);if(Ea(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Dr(i)+'"')}class n extends e{constructor(a,o,s){if(super(),!wr(a))throw new TypeError("Parameter condition must be a Node");if(!wr(o))throw new TypeError("Parameter trueExpr must be a Node");if(!wr(s))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=s}get type(){return L0}get isConditionalNode(){return!0}_compile(a,o){var s=this.condition._compile(a,o),l=this.trueExpr._compile(a,o),u=this.falseExpr._compile(a,o);return function(d,p,m){return r(s(d,p,m))?l(d,p,m):u(d,p,m)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=Tr(this,o,a&&a.implicit),l=this.condition.toString(a),u=Tr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l="("+l+")");var f=this.trueExpr.toString(a),d=Tr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=s)&&(f="("+f+")");var p=this.falseExpr.toString(a),m=Tr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=s)&&(p="("+p+")"),l+" ? "+f+" : "+p}toJSON(){return{mathjs:L0,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=Tr(this,o,a&&a.implicit),l=this.condition.toHTML(a),u=Tr(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var f=this.trueExpr.toHTML(a),d=Tr(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||d!==null&&d<=s)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(a),m=Tr(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=s)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+f+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Sn(n,"name",L0),n},{isClass:!0,isNode:!0}),A2,dU;function qPe(){if(dU)return A2;dU=1;var t=Object.assign||function(i){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])}return i},e={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},r={"":"\\--","":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},n=function(a,o){return t({},a,o)};return A2=function(i){for(var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.preserveFormatting,s=o===void 0?!1:o,l=a.escapeMapFn,u=l===void 0?n:l,f=String(i),d="",p=u(t({},e),s?t({},r):{}),m=Object.keys(p),y=function(){var b=!1;m.forEach(function(E,O){b||f.length>=E.length&&f.slice(0,E.length)===E&&(d+=p[m[O]],f=f.slice(E.length,f.length),b=!0)}),b||(d+=f.slice(0,1),f=f.slice(1,f.length))};f;)y();return d},A2}var UPe=qPe();const zPe=pr(UPe);var UC={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ar={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},pU={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ar.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ar.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ar.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ar.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ar.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ar.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ar.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ar.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ar.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ar.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ar.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ar.bitAnd,"${args[1]}\\right)")},bitNot:{1:ar.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ar.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ar.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ar.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ar.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ar.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ar.and,"${args[1]}\\right)")},not:{1:ar.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ar.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ar.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ar.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(ar.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ar.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ar.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ar.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ar.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ar.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ar.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ar.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ar.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ar.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(UC.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},VPe="\\mathrm{${name}}\\left(${args}\\right)",mU={deg:"^\\circ"};function zC(t){return zPe(t,{preserveFormatting:!0})}function WY(t,e){return e=typeof e>"u"?!1:e,e?ut(mU,t)?mU[t]:"\\mathrm{"+zC(t)+"}":ut(UC,t)?UC[t]:zC(t)}var j0="ConstantNode",HPe=["Node"],GPe=ne(j0,HPe,t=>{var{Node:e}=t;class r extends e{constructor(i){super(),this.value=i}get type(){return j0}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new r(this.value)}_toString(i){return qt(this.value,i)}_toHTML(i){var a=this._toString(i);switch(Dr(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:j0,value:this.value}}static fromJSON(i){return new r(i.value)}_toTex(i){var a=this._toString(i),o=Dr(this.value);switch(o){case"string":return"\\mathtt{"+zC(a)+"}";case"number":case"BigNumber":{var s=o==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!s)return this.value.valueOf()<0?"-\\infty":"\\infty";var l=a.toLowerCase().indexOf("e");return l!==-1?a.substring(0,l)+"\\cdot10^{"+a.substring(l+1)+"}":a}case"bigint":return a.toString();case"Fraction":return this.value.toLatex();default:return a}}}return Sn(r,"name",j0),r},{isClass:!0,isNode:!0}),q0="FunctionAssignmentNode",KPe=["typed","Node"],XPe=ne(q0,KPe,t=>{var{typed:e,Node:r}=t;function n(a,o,s){var l=Tr(a,o,s),u=Tr(a.expr,o,s);return o==="all"||u!==null&&u<=l}class i extends r{constructor(o,s,l){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(s))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!wr(l))throw new TypeError('Node expected for parameter "expr"');if(KY.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var u=new Set;for(var f of s){var d=typeof f=="string"?f:f.name;if(u.has(d))throw new Error('Duplicate parameter name "'.concat(d,'"'));u.add(d)}this.name=o,this.params=s.map(function(p){return p&&p.name||p}),this.types=s.map(function(p){return p&&p.type||"any"}),this.expr=l}get type(){return q0}get isFunctionAssignmentNode(){return!0}_compile(o,s){var l=Object.create(s);OW(this.params,function(g){l[g]=!0});var u=this.expr,f=u._compile(o,l),d=this.name,p=this.params,m=d9(this.types,","),y=d+"("+d9(this.params,", ")+")";return function(b,E,O){var A={};A[m]=function(){for(var x=Object.create(E),_=0;_<p.length;_++)x[p[_]]=arguments[_];return f(b,x,O)};var S=e(d,A);return S.syntax=y,S.expr=u.toString(),b.set(d,S),S}}forEach(o){o(this.expr,"expr",this)}map(o){var s=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),s)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return n(this,s,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:q0,name:this.name,params:this.params.map(function(s,l){return{name:s,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var s=o&&o.parenthesis?o.parenthesis:"keep",l=[],u=0;u<this.params.length;u++)l.push('<span class="math-symbol math-parameter">'+oo(this.params[u])+"</span>");var f=this.expr.toHTML(o);return n(this,s,o&&o.implicit)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+oo(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+f}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return n(this,s,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(WY).join(",")+"\\right)="+l}}return Sn(i,"name",q0),i},{isClass:!0,isNode:!0}),U0="IndexNode",WPe=["Node","size"],YPe=ne(U0,WPe,t=>{var{Node:e,size:r}=t;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(wr))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return U0}get isIndexNode(){return!0}_compile(a,o){var s=Pl(this.dimensions,function(u,f){var d=u.filter(y=>y.isSymbolNode&&y.name==="end").length>0;if(d){var p=Object.create(o);p.end=!0;var m=u._compile(a,p);return function(g,b,E){if(!gt(E)&&!Sr(E)&&!Di(E))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Dr(E));var O=r(E).valueOf(),A=Object.create(b);return A.end=O[f],m(g,A,E)}}else return u._compile(a,o)}),l=qi(a,"index");return function(f,d,p){var m=Pl(s,function(y){return y(f,d,p)});return l(...m)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this._ifNode(a(this.dimensions[s],"dimensions["+s+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&er(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:U0,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}_toHTML(a){for(var o=[],s=0;s<this.dimensions.length;s++)o[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+oo(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(s){return s.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return Sn(n,"name",U0),n},{isClass:!0,isNode:!0}),z0="ObjectNode",QPe=["Node"],ZPe=ne(z0,QPe,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return wr(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return z0}get isObjectNode(){return!0}_compile(i,a){var o={};for(var s in this.properties)if(ut(this.properties,s)){var l=id(s),u=JSON.parse(l),f=qi(this.properties,s);o[u]=f._compile(i,a)}return function(p,m,y){var g={};for(var b in o)ut(o,b)&&(g[b]=o[b](p,m,y));return g}}forEach(i){for(var a in this.properties)ut(this.properties,a)&&i(this.properties[a],"properties["+id(a)+"]",this)}map(i){var a={};for(var o in this.properties)ut(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+id(o)+"]",this)));return new r(a)}clone(){var i={};for(var a in this.properties)ut(this.properties,a)&&(i[a]=this.properties[a]);return new r(i)}_toString(i){var a=[];for(var o in this.properties)ut(this.properties,o)&&a.push(id(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:z0,properties:this.properties}}static fromJSON(i){return new r(i.properties)}_toHTML(i){var a=[];for(var o in this.properties)ut(this.properties,o)&&a.push('<span class="math-symbol math-property">'+oo(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)ut(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var s="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return s}}return Sn(r,"name",z0),r},{isClass:!0,isNode:!0});function Ym(t,e){return new tW(t,new Ax(e),new Set(Object.keys(e)))}var V0="OperatorNode",JPe=["Node"],e3e=ne(V0,JPe,t=>{var{Node:e}=t;function r(a,o){var s=a;if(o==="auto")for(;Ru(s);)s=s.content;return er(s)?!0:dn(s)?r(s.args[0],o):!1}function n(a,o,s,l,u){var f=Tr(a,o,s),d=jm(a,o);if(o==="all"||l.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return l.map(function(R){switch(R.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(l.length){case 0:p=[];break;case 1:{var m=Tr(l[0],o,s,a);if(u&&m!==null){var y,g;if(o==="keep"?(y=l[0].getIdentifier(),g=a.getIdentifier()):(y=l[0].getContent().getIdentifier(),g=a.getContent().getIdentifier()),No[f][g].latexLeftParens===!1){p=[!1];break}if(No[m][y].latexParens===!1){p=[!1];break}}if(m===null){p=[!1];break}if(m<=f){p=[!0];break}p=[!1]}break;case 2:{var b,E=Tr(l[0],o,s,a),O=_2(a,l[0],o);E===null?b=!1:E===f&&d==="right"&&!O||E<f?b=!0:b=!1;var A,S=Tr(l[1],o,s,a),x=_2(a,l[1],o);if(S===null?A=!1:S===f&&d==="left"&&!x||S<f?A=!0:A=!1,u){var _,T,N;o==="keep"?(_=a.getIdentifier(),T=a.args[0].getIdentifier(),N=a.args[1].getIdentifier()):(_=a.getContent().getIdentifier(),T=a.args[0].getContent().getIdentifier(),N=a.args[1].getContent().getIdentifier()),E!==null&&(No[f][_].latexLeftParens===!1&&(b=!1),No[E][T].latexParens===!1&&(b=!1)),S!==null&&(No[f][_].latexRightParens===!1&&(A=!1),No[S][N].latexParens===!1&&(A=!1))}p=[b,A]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(p=l.map(function(R){var I=Tr(R,o,s,a),P=_2(a,R,o),k=jm(R,o);return I===null?!1:f===I&&d===k&&!P?!0:I<f}));break}if(l.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&s==="hide")for(var C=1;C<p.length;++C)r(l[C],o)&&!p[C-1]&&(o!=="keep"||!Ru(l[C-1]))&&(p[C]=!0);return p}class i extends e{constructor(o,s,l,u,f){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof s!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(wr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=f===!0,this.op=o,this.fn=s,this.args=l||[]}get type(){return V0}get isOperatorNode(){return!0}_compile(o,s){if(typeof this.fn!="string"||!nI(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=qi(o,this.fn),u=Pl(this.args,function(y){return y._compile(o,s)});if(typeof l=="function"&&l.rawArgs===!0){var f=this.args;return function(g,b,E){return l(f,o,Ym(g,b))}}else if(u.length===1){var d=u[0];return function(g,b,E){return l(d(g,b,E))}}else if(u.length===2){var p=u[0],m=u[1];return function(g,b,E){return l(p(g,b,E),m(g,b,E))}}else return function(g,b,E){return l.apply(null,Pl(u,function(O){return O(g,b,E)}))}}forEach(o){for(var s=0;s<this.args.length;s++)o(this.args[s],"args["+s+"]",this)}map(o){for(var s=[],l=0;l<this.args.length;l++)s[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,s,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,f=n(this,s,l,u,!1);if(u.length===1){var d=jm(this,s),p=u[0].toString(o);f[0]&&(p="("+p+")");var m=/[a-zA-Z]+/.test(this.op);return d==="right"?this.op+(m?" ":"")+p:d==="left"?p+(m?" ":"")+this.op:p+this.op}else if(u.length===2){var y=u[0].toString(o),g=u[1].toString(o);return f[0]&&(y="("+y+")"),f[1]&&(g="("+g+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?y+" "+g:y+" "+this.op+" "+g}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var b=u.map(function(E,O){return E=E.toString(o),f[O]&&(E="("+E+")"),E});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?b.join(" "):b.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:V0,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,f=n(this,s,l,u,!1);if(u.length===1){var d=jm(this,s),p=u[0].toHTML(o);return f[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),d==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+oo(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+oo(this.op)+"</span>"}else if(u.length===2){var m=u[0].toHTML(o),y=u[1].toHTML(o);return f[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f[1]&&(y='<span class="math-parenthesis math-round-parenthesis">(</span>'+y+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+y:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+oo(this.op)+"</span>"+y}else{var g=u.map(function(b,E){return b=b.toHTML(o),f[E]&&(b='<span class="math-parenthesis math-round-parenthesis">(</span>'+b+'<span class="math-parenthesis math-round-parenthesis">)</span>'),b});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?g.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):g.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+oo(this.op)+"</span>"):'<span class="math-function">'+oo(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+g.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var s=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",u=this.args,f=n(this,s,l,u,!0),d=ar[this.fn];if(d=typeof d>"u"?this.op:d,u.length===1){var p=jm(this,s),m=u[0].toTex(o);return f[0]&&(m="\\left(".concat(m,"\\right)")),p==="right"?d+m:m+d}else if(u.length===2){var y=u[0],g=y.toTex(o);f[0]&&(g="\\left(".concat(g,"\\right)"));var b=u[1],E=b.toTex(o);f[1]&&(E="\\left(".concat(E,"\\right)"));var O;switch(s==="keep"?O=y.getIdentifier():O=y.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return d+"{"+g+"}{"+E+"}";case"OperatorNode:pow":switch(g="{"+g+"}",E="{"+E+"}",O){case"ConditionalNode":case"OperatorNode:divide":g="\\left(".concat(g,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return g+"~"+E}return g+d+E}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var A=u.map(function(S,x){return S=S.toTex(o),f[x]&&(S="\\left(".concat(S,"\\right)")),S});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?A.join("~"):A.join(d)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(S){return S.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Sn(i,"name",V0),i},{isClass:!0,isNode:!0}),H0="ParenthesisNode",t3e=["Node"],r3e=ne(H0,t3e,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),!wr(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return H0}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new r(a)}clone(){return new r(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:H0,content:this.content}}static fromJSON(i){return new r(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Sn(r,"name",H0),r},{isClass:!0,isNode:!0}),G0="RangeNode",n3e=["Node"],i3e=ne(G0,n3e,t=>{var{Node:e}=t;function r(i,a,o){var s=Tr(i,a,o),l={},u=Tr(i.start,a,o);if(l.start=u!==null&&u<=s||a==="all",i.step){var f=Tr(i.step,a,o);l.step=f!==null&&f<=s||a==="all"}var d=Tr(i.end,a,o);return l.end=d!==null&&d<=s||a==="all",l}class n extends e{constructor(a,o,s){if(super(),!wr(a))throw new TypeError("Node expected");if(!wr(o))throw new TypeError("Node expected");if(s&&!wr(s))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=s||null}get type(){return G0}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return ri(o)&&o.name==="end"});return a.length>0}_compile(a,o){var s=a.range,l=this.start._compile(a,o),u=this.end._compile(a,o);if(this.step){var f=this.step._compile(a,o);return function(p,m,y){return s(l(p,m,y),u(p,m,y),f(p,m,y))}}else return function(p,m,y){return s(l(p,m,y),u(p,m,y))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=r(this,o,a&&a.implicit),l,u=this.start.toString(a);if(s.start&&(u="("+u+")"),l=u,this.step){var f=this.step.toString(a);s.step&&(f="("+f+")"),l+=":"+f}var d=this.end.toString(a);return s.end&&(d="("+d+")"),l+=":"+d,l}toJSON(){return{mathjs:G0,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=r(this,o,a&&a.implicit),l,u=this.start.toHTML(a);if(s.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=u,this.step){var f=this.step.toHTML(a);s.step&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+f}var d=this.end.toHTML(a);return s.end&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+d,l}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",s=r(this,o,a&&a.implicit),l=this.start.toTex(a);if(s.start&&(l="\\left(".concat(l,"\\right)")),this.step){var u=this.step.toTex(a);s.step&&(u="\\left(".concat(u,"\\right)")),l+=":"+u}var f=this.end.toTex(a);return s.end&&(f="\\left(".concat(f,"\\right)")),l+=":"+f,l}}return Sn(n,"name",G0),n},{isClass:!0,isNode:!0}),K0="RelationalNode",a3e=["Node"],o3e=ne(K0,a3e,t=>{var{Node:e}=t,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return K0}get isRelationalNode(){return!0}_compile(a,o){var s=this,l=this.params.map(u=>u._compile(a,o));return function(f,d,p){for(var m,y=l[0](f,d,p),g=0;g<s.conditionals.length;g++){m=y,y=l[g+1](f,d,p);var b=qi(a,s.conditionals[g]);if(!b(m,y))return!1}return!0}}forEach(a){this.params.forEach((o,s)=>a(o,"params["+s+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,s)=>this._ifNode(a(o,"params["+s+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=Tr(this,o,a&&a.implicit),l=this.params.map(function(d,p){var m=Tr(d,o,a&&a.implicit);return o==="all"||m!==null&&m<=s?"("+d.toString(a)+")":d.toString(a)}),u=l[0],f=0;f<this.conditionals.length;f++)u+=" "+r[this.conditionals[f]],u+=" "+l[f+1];return u}toJSON(){return{mathjs:K0,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=Tr(this,o,a&&a.implicit),l=this.params.map(function(d,p){var m=Tr(d,o,a&&a.implicit);return o==="all"||m!==null&&m<=s?'<span class="math-parenthesis math-round-parenthesis">(</span>'+d.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':d.toHTML(a)}),u=l[0],f=0;f<this.conditionals.length;f++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+oo(r[this.conditionals[f]])+"</span>"+l[f+1];return u}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",s=Tr(this,o,a&&a.implicit),l=this.params.map(function(d,p){var m=Tr(d,o,a&&a.implicit);return o==="all"||m!==null&&m<=s?"\\left("+d.toTex(a)+"\right)":d.toTex(a)}),u=l[0],f=0;f<this.conditionals.length;f++)u+=ar[this.conditionals[f]]+l[f+1];return u}}return Sn(n,"name",K0),n},{isClass:!0,isNode:!0}),s3e="SymbolNode",u3e=["math","?Unit","Node"],l3e=ne(s3e,u3e,t=>{var{math:e,Unit:r,Node:n}=t;function i(o){return r?r.isValuelessUnit(o):!1}class a extends n{constructor(s){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');this.name=s}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(s,l){var u=this.name;if(l[u]===!0)return function(d,p,m){return qi(p,u)};if(u in s)return function(d,p,m){return d.has(u)?d.get(u):qi(s,u)};var f=i(u);return function(d,p,m){return d.has(u)?d.get(u):f?new r(null,u):a.onUndefinedSymbol(u)}}forEach(s){}map(s){return this.clone()}static onUndefinedSymbol(s){throw new Error("Undefined symbol "+s)}clone(){return new a(this.name)}_toString(s){return this.name}_toHTML(s){var l=oo(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(s){return new a(s.name)}_toTex(s){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var u=WY(this.name,l);return u[0]==="\\"?u:" "+u}}return a},{isClass:!0,isNode:!0}),X0="FunctionNode",c3e=["math","Node","SymbolNode"],f3e=ne(X0,c3e,t=>{var e,{math:r,Node:n,SymbolNode:i}=t,a=l=>qt(l,{truncate:78});function o(l,u,f){for(var d="",p=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,y;(y=p.exec(l))!==null;)if(d+=l.substring(m,y.index),m=y.index,y[0]==="$$")d+="$",m++;else{m+=y[0].length;var g=u[y[1]];if(!g)throw new ReferenceError("Template: Property "+y[1]+" does not exist.");if(y[2]===void 0)switch(typeof g){case"string":d+=g;break;case"object":if(wr(g))d+=g.toTex(f);else if(Array.isArray(g))d+=g.map(function(b,E){if(wr(b))return b.toTex(f);throw new TypeError("Template: "+y[1]+"["+E+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+y[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+y[1]+" has to be a Node, String or array of Nodes")}else if(wr(g[y[2]]&&g[y[2]]))d+=g[y[2]].toTex(f);else throw new TypeError("Template: "+y[1]+"["+y[2]+"] is not a Node.")}return d+=l.slice(m),d}class s extends n{constructor(u,f){if(super(),typeof u=="string"&&(u=new i(u)),!wr(u))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(f)||!f.every(wr))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=u,this.args=f||[]}get name(){return this.fn.name||""}get type(){return X0}get isFunctionNode(){return!0}_compile(u,f){var d=this.args.map(N=>N._compile(u,f));if(ri(this.fn)){var p=this.fn.name;if(f[p]){var E=this.args;return function(C,R,I){var P=qi(R,p);if(typeof P!="function")throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(a(P)));if(P.rawArgs)return P(E,u,Ym(C,R));var k=d.map(q=>q(C,R,I));return P.apply(P,k)}}else{var m=p in u?qi(u,p):void 0,y=typeof m=="function"&&m.rawArgs===!0,g=N=>{var C;if(N.has(p))C=N.get(p);else if(p in u)C=qi(u,p);else return s.onUndefinedFunction(p);if(typeof C=="function")return C;throw new TypeError("'".concat(p,`' is not a function; its value is:
  `).concat(a(C)))};if(y){var b=this.args;return function(C,R,I){var P=g(C);if(P.rawArgs===!0)return P(b,u,Ym(C,R));var k=d.map(q=>q(C,R,I));return P(...k)}}else switch(d.length){case 0:return function(C,R,I){var P=g(C);return P()};case 1:return function(C,R,I){var P=g(C),k=d[0];return P(k(C,R,I))};case 2:return function(C,R,I){var P=g(C),k=d[0],q=d[1];return P(k(C,R,I),q(C,R,I))};default:return function(C,R,I){var P=g(C),k=d.map(q=>q(C,R,I));return P(...k)}}}}else if(xf(this.fn)&&vp(this.fn.index)&&this.fn.index.isObjectProperty()){var O=this.fn.object._compile(u,f),A=this.fn.index.getObjectProperty(),S=this.args;return function(C,R,I){var P=O(C,R,I),k=FEe(P,A);if(k!=null&&k.rawArgs)return k(S,u,Ym(C,R));var q=d.map(U=>U(C,R,I));return k.apply(P,q)}}else{var x=this.fn.toString(),_=this.fn._compile(u,f),T=this.args;return function(C,R,I){var P=_(C,R,I);if(typeof P!="function")throw new TypeError("Expression '".concat(x,"' did not evaluate to a function; value is:")+`
  `.concat(a(P)));if(P.rawArgs)return P(T,u,Ym(C,R));var k=d.map(q=>q(C,R,I));return P.apply(P,k)}}}forEach(u){u(this.fn,"fn",this);for(var f=0;f<this.args.length;f++)u(this.args[f],"args["+f+"]",this)}map(u){for(var f=this._ifNode(u(this.fn,"fn",this)),d=[],p=0;p<this.args.length;p++)d[p]=this._ifNode(u(this.args[p],"args["+p+"]",this));return new s(f,d)}clone(){return new s(this.fn,this.args.slice(0))}toString(u){var f,d=this.fn.toString(u);return u&&typeof u.handler=="object"&&ut(u.handler,d)&&(f=u.handler[d](this,u)),typeof f<"u"?f:super.toString(u)}_toString(u){var f=this.args.map(function(p){return p.toString(u)}),d=Ig(this.fn)?"("+this.fn.toString(u)+")":this.fn.toString(u);return d+"("+f.join(", ")+")"}toJSON(){return{mathjs:X0,fn:this.fn,args:this.args}}_toHTML(u){var f=this.args.map(function(d){return d.toHTML(u)});return'<span class="math-function">'+oo(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+f.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(u){var f;return u&&typeof u.handler=="object"&&ut(u.handler,this.name)&&(f=u.handler[this.name](this,u)),typeof f<"u"?f:super.toTex(u)}_toTex(u){var f=this.args.map(function(m){return m.toTex(u)}),d;pU[this.name]&&(d=pU[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(d=r[this.name].toTex);var p;switch(typeof d){case"function":p=d(this,u);break;case"string":p=o(d,this,u);break;case"object":switch(typeof d[f.length]){case"function":p=d[f.length](this,u);break;case"string":p=o(d[f.length],this,u);break}}return typeof p<"u"?p:o(VPe,this,u)}getIdentifier(){return this.type+":"+this.name}}return e=s,Sn(s,"name",X0),Sn(s,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),Sn(s,"fromJSON",function(l){return new e(l.fn,l.args)}),s},{isClass:!0,isNode:!0}),vU="parse",h3e=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],d3e=ne(vU,h3e,t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:s,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:f,FunctionNode:d,IndexNode:p,ObjectNode:m,OperatorNode:y,ParenthesisNode:g,RangeNode:b,RelationalNode:E,SymbolNode:O}=t,A=e(vU,{string:function(ve){return J(ve,{})},"Array | Matrix":function(ve){return S(ve,{})},"string, Object":function(ve,Ie){var He=Ie.nodes!==void 0?Ie.nodes:{};return J(ve,He)},"Array | Matrix, Object":S});function S(j){var ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=ve.nodes!==void 0?ve.nodes:{};return Ft(j,function(He){if(typeof He!="string")throw new TypeError("String expected");return J(He,Ie)})}var x={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},_={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},T={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},N={true:!0,false:!1,null:null,undefined:void 0},C=["NaN","Infinity"],R={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function I(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:x.NULL,nestingLevel:0,conditionalLevel:null}}function P(j,ve){return j.expression.substr(j.index,ve)}function k(j){return P(j,1)}function q(j){j.index++}function U(j){return j.expression.charAt(j.index-1)}function F(j){return j.expression.charAt(j.index+1)}function V(j){for(j.tokenType=x.NULL,j.token="",j.comment="";;){if(k(j)==="#")for(;k(j)!==`
`&&k(j)!=="";)j.comment+=k(j),q(j);if(A.isWhitespace(k(j),j.nestingLevel))q(j);else break}if(k(j)===""){j.tokenType=x.DELIMITER;return}if(k(j)===`
`&&!j.nestingLevel){j.tokenType=x.DELIMITER,j.token=k(j),q(j);return}var ve=k(j),Ie=P(j,2),He=P(j,3);if(He.length===3&&_[He]){j.tokenType=x.DELIMITER,j.token=He,q(j),q(j),q(j);return}if(Ie.length===2&&_[Ie]){j.tokenType=x.DELIMITER,j.token=Ie,q(j),q(j);return}if(_[ve]){j.tokenType=x.DELIMITER,j.token=ve,q(j);return}if(A.isDigitDot(ve)){j.tokenType=x.NUMBER;var ht=P(j,2);if(ht==="0b"||ht==="0o"||ht==="0x"){for(j.token+=k(j),q(j),j.token+=k(j),q(j);A.isHexDigit(k(j));)j.token+=k(j),q(j);if(k(j)===".")for(j.token+=".",q(j);A.isHexDigit(k(j));)j.token+=k(j),q(j);else if(k(j)==="i")for(j.token+="i",q(j);A.isDigit(k(j));)j.token+=k(j),q(j);return}if(k(j)==="."){if(j.token+=k(j),q(j),!A.isDigit(k(j))){j.tokenType=x.DELIMITER;return}}else{for(;A.isDigit(k(j));)j.token+=k(j),q(j);A.isDecimalMark(k(j),F(j))&&(j.token+=k(j),q(j))}for(;A.isDigit(k(j));)j.token+=k(j),q(j);if(k(j)==="E"||k(j)==="e"){if(A.isDigit(F(j))||F(j)==="-"||F(j)==="+"){if(j.token+=k(j),q(j),(k(j)==="+"||k(j)==="-")&&(j.token+=k(j),q(j)),!A.isDigit(k(j)))throw st(j,'Digit expected, got "'+k(j)+'"');for(;A.isDigit(k(j));)j.token+=k(j),q(j);if(A.isDecimalMark(k(j),F(j)))throw st(j,'Digit expected, got "'+k(j)+'"')}else if(A.isDecimalMark(F(j),j.expression.charAt(j.index+2)))throw q(j),st(j,'Digit expected, got "'+k(j)+'"')}return}if(A.isAlpha(k(j),U(j),F(j))){for(;A.isAlpha(k(j),U(j),F(j))||A.isDigit(k(j));)j.token+=k(j),q(j);ut(T,j.token)?j.tokenType=x.DELIMITER:j.tokenType=x.SYMBOL;return}for(j.tokenType=x.UNKNOWN;k(j)!=="";)j.token+=k(j),q(j);throw st(j,'Syntax error in part "'+j.token+'"')}function Z(j){do V(j);while(j.token===`
`)}function H(j){j.nestingLevel++}function z(j){j.nestingLevel--}A.isAlpha=function(ve,Ie,He){return A.isValidLatinOrGreek(ve)||A.isValidMathSymbol(ve,He)||A.isValidMathSymbol(Ie,ve)},A.isValidLatinOrGreek=function(ve){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(ve)},A.isValidMathSymbol=function(ve,Ie){return/^[\uD835]$/.test(ve)&&/^[\uDC00-\uDFFF]$/.test(Ie)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ie)},A.isWhitespace=function(ve,Ie){return ve===" "||ve==="	"||ve===""||ve===`
`&&Ie>0},A.isDecimalMark=function(ve,Ie){return ve==="."&&Ie!=="/"&&Ie!=="*"&&Ie!=="^"},A.isDigitDot=function(ve){return ve>="0"&&ve<="9"||ve==="."},A.isDigit=function(ve){return ve>="0"&&ve<="9"},A.isHexDigit=function(ve){return ve>="0"&&ve<="9"||ve>="a"&&ve<="f"||ve>="A"&&ve<="F"};function J(j,ve){var Ie=I();kn(Ie,{expression:j,extraNodes:ve}),V(Ie);var He=$(Ie);if(Ie.token!=="")throw Ie.tokenType===x.DELIMITER?Gt(Ie,"Unexpected operator "+Ie.token):st(Ie,'Unexpected part "'+Ie.token+'"');return He}function $(j){var ve,Ie=[],He;for(j.token!==""&&j.token!==`
`&&j.token!==";"&&(ve=Q(j),j.comment&&(ve.comment=j.comment));j.token===`
`||j.token===";";)Ie.length===0&&ve&&(He=j.token!==";",Ie.push({node:ve,visible:He})),V(j),j.token!==`
`&&j.token!==";"&&j.token!==""&&(ve=Q(j),j.comment&&(ve.comment=j.comment),He=j.token!==";",Ie.push({node:ve,visible:He}));return Ie.length>0?new s(Ie):(ve||(ve=new u(void 0),j.comment&&(ve.comment=j.comment)),ve)}function Q(j){var ve,Ie,He,ht,dt=K(j);if(j.token==="="){if(ri(dt))return ve=dt.name,Z(j),He=Q(j),new o(new O(ve),He);if(xf(dt))return Z(j),He=Q(j),new o(dt.object,dt.index,He);if(ql(dt)&&ri(dt.fn)&&(ht=!0,Ie=[],ve=dt.name,dt.args.forEach(function(_r,ks){ri(_r)?Ie[ks]=_r.name:ht=!1}),ht))return Z(j),He=Q(j),new f(ve,Ie,He);throw st(j,"Invalid left hand side of assignment operator =")}return dt}function K(j){for(var ve=we(j);j.token==="?";){var Ie=j.conditionalLevel;j.conditionalLevel=j.nestingLevel,Z(j);var He=ve,ht=Q(j);if(j.token!==":")throw st(j,"False part of conditional expression expected");j.conditionalLevel=null,Z(j);var dt=Q(j);ve=new l(He,ht,dt),j.conditionalLevel=Ie}return ve}function we(j){for(var ve=ge(j);j.token==="or";)Z(j),ve=new y("or","or",[ve,ge(j)]);return ve}function ge(j){for(var ve=Ae(j);j.token==="xor";)Z(j),ve=new y("xor","xor",[ve,Ae(j)]);return ve}function Ae(j){for(var ve=te(j);j.token==="and";)Z(j),ve=new y("and","and",[ve,te(j)]);return ve}function te(j){for(var ve=ee(j);j.token==="|";)Z(j),ve=new y("|","bitOr",[ve,ee(j)]);return ve}function ee(j){for(var ve=ue(j);j.token==="^|";)Z(j),ve=new y("^|","bitXor",[ve,ue(j)]);return ve}function ue(j){for(var ve=ce(j);j.token==="&";)Z(j),ve=new y("&","bitAnd",[ve,ce(j)]);return ve}function ce(j){for(var ve=[se(j)],Ie=[],He={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};ut(He,j.token);){var ht={name:j.token,fn:He[j.token]};Ie.push(ht),Z(j),ve.push(se(j))}return ve.length===1?ve[0]:ve.length===2?new y(Ie[0].name,Ie[0].fn,ve):new E(Ie.map(dt=>dt.fn),ve)}function se(j){var ve,Ie,He,ht;ve=Te(j);for(var dt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};ut(dt,j.token);)Ie=j.token,He=dt[Ie],Z(j),ht=[ve,Te(j)],ve=new y(Ie,He,ht);return ve}function Te(j){var ve,Ie,He,ht;ve=pe(j);for(var dt={to:"to",in:"to"};ut(dt,j.token);)Ie=j.token,He=dt[Ie],Z(j),Ie==="in"&&"])},;".includes(j.token)?ve=new y("*","multiply",[ve,new O("in")],!0):(ht=[ve,pe(j)],ve=new y(Ie,He,ht));return ve}function pe(j){var ve,Ie=[];if(j.token===":"?ve=new u(1):ve=Ne(j),j.token===":"&&j.conditionalLevel!==j.nestingLevel){for(Ie.push(ve);j.token===":"&&Ie.length<3;)Z(j),j.token===")"||j.token==="]"||j.token===","||j.token===""?Ie.push(new O("end")):Ie.push(Ne(j));Ie.length===3?ve=new b(Ie[0],Ie[2],Ie[1]):ve=new b(Ie[0],Ie[1])}return ve}function Ne(j){var ve,Ie,He,ht;ve=je(j);for(var dt={"+":"add","-":"subtract"};ut(dt,j.token);){Ie=j.token,He=dt[Ie],Z(j);var _r=je(j);_r.isPercentage?ht=[ve,new y("*","multiply",[ve,_r])]:ht=[ve,_r],ve=new y(Ie,He,ht)}return ve}function je(j){var ve,Ie,He,ht;ve=Ke(j),Ie=ve;for(var dt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};ut(dt,j.token);)if(He=j.token,ht=dt[He],Z(j),He==="%"&&j.tokenType===x.DELIMITER&&j.token!=="(")if(j.token!==""&&dt[j.token]){var _r=new y("/","divide",[ve,new u(100)],!1,!0);He=j.token,ht=dt[He],Z(j),Ie=Ke(j),ve=new y(He,ht,[_r,Ie])}else ve=new y("/","divide",[ve,new u(100)],!1,!0);else Ie=Ke(j),ve=new y(He,ht,[ve,Ie]);return ve}function Ke(j){var ve,Ie;for(ve=Ue(j),Ie=ve;j.tokenType===x.SYMBOL||j.token==="in"&&er(ve)||j.token==="in"&&dn(ve)&&ve.fn==="unaryMinus"&&er(ve.args[0])||j.tokenType===x.NUMBER&&!er(Ie)&&(!dn(Ie)||Ie.op==="!")||j.token==="(";)Ie=Ue(j),ve=new y("*","multiply",[ve,Ie],!0);return ve}function Ue(j){for(var ve=nt(j),Ie=ve,He=[];j.token==="/"&&EC(Ie);)if(He.push(kn({},j)),Z(j),j.tokenType===x.NUMBER)if(He.push(kn({},j)),Z(j),j.tokenType===x.SYMBOL||j.token==="("||j.token==="in")kn(j,He.pop()),He.pop(),Ie=nt(j),ve=new y("/","divide",[ve,Ie]);else{He.pop(),kn(j,He.pop());break}else{kn(j,He.pop());break}return ve}function nt(j){var ve,Ie,He,ht={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return ut(ht,j.token)?(He=ht[j.token],ve=j.token,Z(j),Ie=[nt(j)],new y(ve,He,Ie)):ae(j)}function ae(j){var ve,Ie,He,ht;return ve=he(j),(j.token==="^"||j.token===".^")&&(Ie=j.token,He=Ie==="^"?"pow":"dotPow",Z(j),ht=[ve,nt(j)],ve=new y(Ie,He,ht)),ve}function he(j){var ve,Ie,He,ht;ve=le(j);for(var dt={"!":"factorial","'":"ctranspose"};ut(dt,j.token);)Ie=j.token,He=dt[Ie],V(j),ht=[ve],ve=new y(Ie,He,ht),ve=ie(j,ve);return ve}function le(j){var ve=[];if(j.tokenType===x.SYMBOL&&ut(j.extraNodes,j.token)){var Ie=j.extraNodes[j.token];if(V(j),j.token==="("){if(ve=[],H(j),V(j),j.token!==")")for(ve.push(Q(j));j.token===",";)V(j),ve.push(Q(j));if(j.token!==")")throw st(j,"Parenthesis ) expected");z(j),V(j)}return new Ie(ve)}return Y(j)}function Y(j){var ve,Ie;return j.tokenType===x.SYMBOL||j.tokenType===x.DELIMITER&&j.token in T?(Ie=j.token,V(j),ut(N,Ie)?ve=new u(N[Ie]):C.includes(Ie)?ve=new u(r(Ie,"number")):ve=new O(Ie),ve=ie(j,ve),ve):fe(j)}function ie(j,ve,Ie){for(var He;j.token==="("||j.token==="["||j.token===".";)if(He=[],j.token==="(")if(ri(ve)||xf(ve)){if(H(j),V(j),j.token!==")")for(He.push(Q(j));j.token===",";)V(j),He.push(Q(j));if(j.token!==")")throw st(j,"Parenthesis ) expected");z(j),V(j),ve=new d(ve,He)}else return ve;else if(j.token==="["){if(H(j),V(j),j.token!=="]")for(He.push(Q(j));j.token===",";)V(j),He.push(Q(j));if(j.token!=="]")throw st(j,"Parenthesis ] expected");z(j),V(j),ve=new i(ve,new p(He))}else{V(j);var ht=j.tokenType===x.SYMBOL||j.tokenType===x.DELIMITER&&j.token in T;if(!ht)throw st(j,"Property name expected after dot");He.push(new u(j.token)),V(j);var dt=!0;ve=new i(ve,new p(He,dt))}return ve}function fe(j){var ve,Ie;return j.token==='"'||j.token==="'"?(Ie=ye(j,j.token),ve=new u(Ie),ve=ie(j,ve),ve):me(j)}function ye(j,ve){for(var Ie="";k(j)!==""&&k(j)!==ve;)if(k(j)==="\\"){q(j);var He=k(j),ht=R[He];if(ht!==void 0)Ie+=ht,j.index+=1;else if(He==="u"){var dt=j.expression.slice(j.index+1,j.index+5);if(/^[0-9A-Fa-f]{4}$/.test(dt))Ie+=String.fromCharCode(parseInt(dt,16)),j.index+=5;else throw st(j,"Invalid unicode character \\u".concat(dt))}else throw st(j,"Bad escape character \\".concat(He))}else Ie+=k(j),q(j);if(V(j),j.token!==ve)throw st(j,"End of string ".concat(ve," expected"));return V(j),Ie}function me(j){var ve,Ie,He,ht;if(j.token==="["){if(H(j),V(j),j.token!=="]"){var dt=Se(j);if(j.token===";"){for(He=1,Ie=[dt];j.token===";";)V(j),j.token!=="]"&&(Ie[He]=Se(j),He++);if(j.token!=="]")throw st(j,"End of matrix ] expected");z(j),V(j),ht=Ie[0].items.length;for(var _r=1;_r<He;_r++)if(Ie[_r].items.length!==ht)throw Gt(j,"Column dimensions mismatch ("+Ie[_r].items.length+" !== "+ht+")");ve=new a(Ie)}else{if(j.token!=="]")throw st(j,"End of matrix ] expected");z(j),V(j),ve=dt}}else z(j),V(j),ve=new a([]);return ie(j,ve)}return Be(j)}function Se(j){for(var ve=[Q(j)],Ie=1;j.token===",";)V(j),j.token!=="]"&&j.token!==";"&&(ve[Ie]=Q(j),Ie++);return new a(ve)}function Be(j){if(j.token==="{"){H(j);var ve,Ie={};do if(V(j),j.token!=="}"){if(j.token==='"'||j.token==="'")ve=ye(j,j.token);else if(j.tokenType===x.SYMBOL||j.tokenType===x.DELIMITER&&j.token in T)ve=j.token,V(j);else throw st(j,"Symbol or string expected as object key");if(j.token!==":")throw st(j,"Colon : expected after object key");V(j),Ie[ve]=Q(j)}while(j.token===",");if(j.token!=="}")throw st(j,"Comma , or bracket } expected after object value");z(j),V(j);var He=new m(Ie);return He=ie(j,He),He}return ze(j)}function ze(j){var ve;if(j.tokenType===x.NUMBER){ve=j.token,V(j);var Ie=Ql(ve,n),He=r(ve,Ie);return new u(He)}return Ze(j)}function Ze(j){var ve;if(j.token==="("){if(H(j),V(j),ve=Q(j),j.token!==")")throw st(j,"Parenthesis ) expected");return z(j),V(j),ve=new g(ve),ve=ie(j,ve),ve}return Ye(j)}function Ye(j){throw j.token===""?st(j,"Unexpected end of expression"):st(j,"Value expected")}function Rt(j){return j.index-j.token.length+1}function st(j,ve){var Ie=Rt(j),He=new SyntaxError(ve+" (char "+Ie+")");return He.char=Ie,He}function Gt(j,ve){var Ie=Rt(j),He=new SyntaxError(ve+" (char "+Ie+")");return He.char=Ie,He}return e.addConversion({from:"string",to:"Node",convert:A}),A}),gU="compile",p3e=["typed","parse"],m3e=ne(gU,p3e,t=>{var{typed:e,parse:r}=t;return e(gU,{string:function(i){return r(i).compile()},"Array | Matrix":function(i){return Ft(i,function(a){return r(a).compile()})}})}),yU="evaluate",v3e=["typed","parse"],g3e=ne(yU,v3e,t=>{var{typed:e,parse:r}=t;return e(yU,{string:function(i){var a=ag();return r(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return r(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=ag();return Ft(i,function(o){return r(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return Ft(i,function(o){return r(o).compile().evaluate(a)})}})}),y3e="Parser",b3e=["evaluate","parse"],w3e=ne(y3e,b3e,t=>{var{evaluate:e,parse:r}=t;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:ag(),writable:!1})}n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(a){return e(a,this.scope)},n.prototype.get=function(a){if(this.scope.has(a))return this.scope.get(a)},n.prototype.getAll=function(){return qEe(this.scope)},n.prototype.getAllAsMap=function(){return this.scope};function i(a){if(a.length===0)return!1;for(var o=0;o<a.length;o++){var s=a.charAt(o-1),l=a.charAt(o),u=a.charAt(o+1),f=r.isAlpha(l,s,u)||o>0&&r.isDigit(l);if(!f)return!1}return!0}return n.prototype.set=function(a,o){if(!i(a))throw new Error("Invalid variable name: '".concat(a,"'. Variable names must follow the specified rules."));return this.scope.set(a,o),o},n.prototype.remove=function(a){this.scope.delete(a)},n.prototype.clear=function(){this.scope.clear()},n.prototype.toJSON=function(){var a={mathjs:"Parser",variables:{},functions:{}};for(var[o,s]of this.scope)if(iW(s)){if(!x3e(s))throw new Error("Cannot serialize external function ".concat(o));a.functions[o]="".concat(s.syntax," = ").concat(s.expr)}else a.variables[o]=s;return a},n.fromJSON=function(a){var o=new n;return Object.entries(a.variables).forEach(s=>{var[l,u]=s;return o.set(l,u)}),Object.entries(a.functions).forEach(s=>{var[l,u]=s;return o.evaluate(u)}),o},n},{isClass:!0});function x3e(t){return typeof t=="function"&&typeof t.syntax=="string"&&typeof t.expr=="string"}var bU="parser",_3e=["typed","Parser"],A3e=ne(bU,_3e,t=>{var{typed:e,Parser:r}=t;return e(bU,{"":function(){return new r}})}),wU="lup",E3e=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],S3e=ne(wU,E3e,t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:s,larger:l,equalScalar:u,unaryMinus:f,DenseMatrix:d,SparseMatrix:p,Spa:m}=t;return e(wU,{DenseMatrix:function(E){return y(E)},SparseMatrix:function(E){return g(E)},Array:function(E){var O=r(E),A=y(O);return{L:A.L.valueOf(),U:A.U.valueOf(),p:A.p}}});function y(b){var E=b._size[0],O=b._size[1],A=Math.min(E,O),S=Ct(b._data),x=[],_=[E,A],T=[],N=[A,O],C,R,I,P=[];for(C=0;C<E;C++)P[C]=C;for(R=0;R<O;R++){if(R>0)for(C=0;C<E;C++){var k=Math.min(C,R),q=0;for(I=0;I<k;I++)q=i(q,o(S[C][I],S[I][R]));S[C][R]=s(S[C][R],q)}var U=R,F=0,V=0;for(C=R;C<E;C++){var Z=S[C][R],H=n(Z);l(H,F)&&(U=C,F=H,V=Z)}if(R!==U&&(P[R]=[P[U],P[U]=P[R]][0],d._swapRows(R,U,S)),R<E)for(C=R+1;C<E;C++){var z=S[C][R];u(z,0)||(S[C][R]=a(S[C][R],V))}}for(R=0;R<O;R++)for(C=0;C<E;C++){if(R===0&&(C<O&&(T[C]=[]),x[C]=[]),C<R){C<O&&(T[C][R]=S[C][R]),R<E&&(x[C][R]=0);continue}if(C===R){C<O&&(T[C][R]=S[C][R]),R<E&&(x[C][R]=1);continue}C<O&&(T[C][R]=0),R<E&&(x[C][R]=S[C][R])}var J=new d({data:x,size:_}),$=new d({data:T,size:N}),Q=[];for(C=0,A=P.length;C<A;C++)Q[P[C]]=C;return{L:J,U:$,p:Q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function g(b){var E=b._size[0],O=b._size[1],A=Math.min(E,O),S=b._values,x=b._index,_=b._ptr,T=[],N=[],C=[],R=[E,A],I=[],P=[],k=[],q=[A,O],U,F,V,Z=[],H=[];for(U=0;U<E;U++)Z[U]=U,H[U]=U;var z=function(Q,K){var we=H[Q],ge=H[K];Z[we]=K,Z[ge]=Q,H[Q]=ge,H[K]=we},J=function(){var Q=new m;F<E&&(C.push(T.length),T.push(1),N.push(F)),k.push(I.length);var K=_[F],we=_[F+1];for(V=K;V<we;V++)U=x[V],Q.set(Z[U],S[V]);F>0&&Q.forEach(0,F-1,function(ee,ue){p._forEachRow(ee,T,N,C,function(ce,se){ce>ee&&Q.accumulate(ce,f(o(se,ue)))})});var ge=F,Ae=Q.get(F),te=n(Ae);Q.forEach(F+1,E-1,function(ee,ue){var ce=n(ue);l(ce,te)&&(ge=ee,te=ce,Ae=ue)}),F!==ge&&(p._swapRows(F,ge,R[1],T,N,C),p._swapRows(F,ge,q[1],I,P,k),Q.swap(F,ge),z(F,ge)),Q.forEach(0,E-1,function(ee,ue){ee<=F?(I.push(ue),P.push(ee)):(ue=a(ue,Ae),u(ue,0)||(T.push(ue),N.push(ee)))})};for(F=0;F<O;F++)J();return k.push(I.length),C.push(T.length),{L:new p({values:T,index:N,ptr:C,size:R}),U:new p({values:I,index:P,ptr:k,size:q}),p:Z,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),xU="qr",T3e=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],D3e=ne(xU,T3e,t=>{var{typed:e,matrix:r,zeros:n,identity:i,isZero:a,equal:o,sign:s,sqrt:l,conj:u,unaryMinus:f,addScalar:d,divideScalar:p,multiplyScalar:m,subtractScalar:y,complex:g}=t;return kn(e(xU,{DenseMatrix:function(S){return E(S)},SparseMatrix:function(S){return O()},Array:function(S){var x=r(S),_=E(x);return{Q:_.Q.valueOf(),R:_.R.valueOf()}}}),{_denseQRimpl:b});function b(A){var S=A._size[0],x=A._size[1],_=i([S],"dense"),T=_._data,N=A.clone(),C=N._data,R,I,P,k=n([S],"");for(P=0;P<Math.min(x,S);++P){var q=C[P][P],U=f(o(q,0)?1:s(q)),F=u(U),V=0;for(R=P;R<S;R++)V=d(V,m(C[R][P],u(C[R][P])));var Z=m(U,l(V));if(!a(Z)){var H=y(q,Z);for(k[P]=1,R=P+1;R<S;R++)k[R]=p(C[R][P],H);var z=f(u(p(H,Z))),J=void 0;for(I=P;I<x;I++){for(J=0,R=P;R<S;R++)J=d(J,m(u(k[R]),C[R][I]));for(J=m(J,z),R=P;R<S;R++)C[R][I]=m(y(C[R][I],m(k[R],J)),F)}for(R=0;R<S;R++){for(J=0,I=P;I<S;I++)J=d(J,m(T[R][I],k[I]));for(J=m(J,z),I=P;I<S;++I)T[R][I]=p(y(T[R][I],m(J,u(k[I]))),F)}}}return{Q:_,R:N,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function E(A){var S=b(A),x=S.R._data;if(A._data.length>0)for(var _=x[0][0].type==="Complex"?g(0):0,T=0;T<x.length;++T)for(var N=0;N<T&&N<(x[0]||[]).length;++N)x[T][N]=_;return S}function O(A){throw new Error("qr not implemented for sparse matrices yet")}});function N3e(t,e,r,n){t._values;for(var i=t._index,a=t._ptr,o=t._size,s=t._datatype,l=o[0],u=o[1],f=null,d=[],p=[],m=0,y=0;y<u;y++){p[y]=m;for(var g=r?r[y]:y,b=a[g],E=a[g+1],O=b;O<E;O++){var A=i[O];d[m]=A,m++}}return p[u]=m,t.createSparseMatrix({values:f,index:d,ptr:p,size:[l,u],datatype:s})}function YY(t,e,r,n,i,a,o){var s=0;for(r[o]=t;s>=0;){var l=r[o+s],u=r[n+l];u===-1?(s--,a[e++]=l):(r[n+l]=r[i+u],++s,r[o+s]=u)}return e}function C3e(t,e){if(!t)return null;var r=0,n,i=[],a=[],o=0,s=e,l=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(a[s+n]=a[o+t[n]],a[o+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=YY(n,r,a,o,s,i,l));return i}function O3e(t,e){if(!t)return null;var r=t._index,n=t._ptr,i=t._size,a=i[0],o=i[1],s=[],l=[],u=0,f=o,d,p;for(d=0;d<a;d++)l[f+d]=-1;for(var m=0;m<o;m++){s[m]=-1,l[u+m]=-1;for(var y=n[m],g=n[m+1],b=y;b<g;b++){var E=r[b];for(d=l[f+E];d!==-1&&d<m;d=p)p=l[u+d],l[u+d]=m,p===-1&&(s[d]=m);l[f+E]=m}}return s}function M3e(t,e,r){for(var n=t._values,i=t._index,a=t._ptr,o=t._size,s=o[1],l=0,u=0;u<s;u++){var f=a[u];for(a[u]=l;f<a[u+1];f++)e(i[f],u,n?n[f]:1,r)&&(i[l]=i[f],n&&(n[l]=n[f]),l++)}return a[s]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function vl(t){return-t-2}var I3e="csAmd",R3e=["add","multiply","transpose"],P3e=ne(I3e,R3e,t=>{var{add:e,multiply:r,transpose:n}=t;return function(f,d){if(!d||f<=0||f>3)return null;var p=d._size,m=p[0],y=p[1],g=0,b=Math.max(16,10*Math.sqrt(y));b=Math.min(y-2,b);var E=i(f,d,m,y,b);M3e(E,l,null);for(var O=E._index,A=E._ptr,S=A[y],x=[],_=[],T=0,N=y+1,C=2*(y+1),R=3*(y+1),I=4*(y+1),P=5*(y+1),k=6*(y+1),q=7*(y+1),U=x,F=a(y,A,_,T,R,U,C,q,N,k,I,P),V=o(y,A,_,P,I,k,b,N,R,U,C),Z=0,H,z,J,$,Q,K,we,ge,Ae,te,ee,ue,ce,se,Te,pe;V<y;){for(J=-1;Z<y&&(J=_[R+Z])===-1;Z++);_[C+J]!==-1&&(U[_[C+J]]=-1),_[R+Z]=_[C+J];var Ne=_[I+J],je=_[N+J];V+=je;var Ke=0;_[N+J]=-je;var Ue=A[J],nt=Ne===0?Ue:S,ae=nt;for($=1;$<=Ne+1;$++){for($>Ne?(K=J,we=Ue,ge=_[T+J]-Ne):(K=O[Ue++],we=A[K],ge=_[T+K]),Q=1;Q<=ge;Q++)H=O[we++],!((Ae=_[N+H])<=0)&&(Ke+=Ae,_[N+H]=-Ae,O[ae++]=H,_[C+H]!==-1&&(U[_[C+H]]=U[H]),U[H]!==-1?_[C+U[H]]=_[C+H]:_[R+_[P+H]]=_[C+H]);K!==J&&(A[K]=vl(J),_[k+K]=0)}for(Ne!==0&&(S=ae),_[P+J]=Ke,A[J]=nt,_[T+J]=ae-nt,_[I+J]=-2,F=s(F,g,_,k,y),te=nt;te<ae;te++)if(H=O[te],!((ee=_[I+H])<=0)){Ae=-_[N+H];var he=F-Ae;for(Ue=A[H],ue=A[H]+ee-1;Ue<=ue;Ue++)K=O[Ue],_[k+K]>=F?_[k+K]-=Ae:_[k+K]!==0&&(_[k+K]=_[P+K]+he)}for(te=nt;te<ae;te++){for(H=O[te],ue=A[H],ce=ue+_[I+H]-1,se=ue,Te=0,pe=0,Ue=ue;Ue<=ce;Ue++)if(K=O[Ue],_[k+K]!==0){var le=_[k+K]-F;le>0?(pe+=le,O[se++]=K,Te+=K):(A[K]=vl(J),_[k+K]=0)}_[I+H]=se-ue+1;var Y=se,ie=ue+_[T+H];for(Ue=ce+1;Ue<ie;Ue++){z=O[Ue];var fe=_[N+z];fe<=0||(pe+=fe,O[se++]=z,Te+=z)}pe===0?(A[H]=vl(J),Ae=-_[N+H],Ke-=Ae,je+=Ae,V+=Ae,_[N+H]=0,_[I+H]=-1):(_[P+H]=Math.min(_[P+H],pe),O[se]=O[Y],O[Y]=O[ue],O[ue]=J,_[T+H]=se-ue+1,Te=(Te<0?-Te:Te)%y,_[C+H]=_[q+Te],_[q+Te]=H,U[H]=Te)}for(_[P+J]=Ke,g=Math.max(g,Ke),F=s(F+g,g,_,k,y),te=nt;te<ae;te++)if(H=O[te],!(_[N+H]>=0))for(Te=U[H],H=_[q+Te],_[q+Te]=-1;H!==-1&&_[C+H]!==-1;H=_[C+H],F++){for(ge=_[T+H],ee=_[I+H],Ue=A[H]+1;Ue<=A[H]+ge-1;Ue++)_[k+O[Ue]]=F;var ye=H;for(z=_[C+H];z!==-1;){var me=_[T+z]===ge&&_[I+z]===ee;for(Ue=A[z]+1;me&&Ue<=A[z]+ge-1;Ue++)_[k+O[Ue]]!==F&&(me=0);me?(A[z]=vl(H),_[N+H]+=_[N+z],_[N+z]=0,_[I+z]=-1,z=_[C+z],_[C+ye]=z):(ye=z,z=_[C+z])}}for(Ue=nt,te=nt;te<ae;te++)H=O[te],!((Ae=-_[N+H])<=0)&&(_[N+H]=Ae,pe=_[P+H]+Ke-Ae,pe=Math.min(pe,y-V-Ae),_[R+pe]!==-1&&(U[_[R+pe]]=H),_[C+H]=_[R+pe],U[H]=-1,_[R+pe]=H,Z=Math.min(Z,pe),_[P+H]=pe,O[Ue++]=H);_[N+J]=je,(_[T+J]=Ue-nt)===0&&(A[J]=-1,_[k+J]=0),Ne!==0&&(S=Ue)}for(H=0;H<y;H++)A[H]=vl(A[H]);for(z=0;z<=y;z++)_[R+z]=-1;for(z=y;z>=0;z--)_[N+z]>0||(_[C+z]=_[R+A[z]],_[R+A[z]]=z);for(K=y;K>=0;K--)_[N+K]<=0||A[K]!==-1&&(_[C+K]=_[R+A[K]],_[R+A[K]]=K);for(J=0,H=0;H<=y;H++)A[H]===-1&&(J=YY(H,J,_,R,C,x,k));return x.splice(x.length-1,1),x};function i(u,f,d,p,m){var y=n(f);if(u===1&&p===d)return e(f,y);if(u===2){for(var g=y._index,b=y._ptr,E=0,O=0;O<d;O++){var A=b[O];if(b[O]=E,!(b[O+1]-A>m))for(var S=b[O+1];A<S;A++)g[E++]=g[A]}return b[d]=E,f=n(y),r(y,f)}return r(y,f)}function a(u,f,d,p,m,y,g,b,E,O,A,S){for(var x=0;x<u;x++)d[p+x]=f[x+1]-f[x];d[p+u]=0;for(var _=0;_<=u;_++)d[m+_]=-1,y[_]=-1,d[g+_]=-1,d[b+_]=-1,d[E+_]=1,d[O+_]=1,d[A+_]=0,d[S+_]=d[p+_];var T=s(0,0,d,O,u);return d[A+u]=-2,f[u]=-1,d[O+u]=0,T}function o(u,f,d,p,m,y,g,b,E,O,A){for(var S=0,x=0;x<u;x++){var _=d[p+x];if(_===0)d[m+x]=-2,S++,f[x]=-1,d[y+x]=0;else if(_>g)d[b+x]=0,d[m+x]=-1,S++,f[x]=vl(u),d[b+u]++;else{var T=d[E+_];T!==-1&&(O[T]=x),d[A+x]=d[E+_],d[E+_]=x}}return S}function s(u,f,d,p,m){if(u<2||u+f<0){for(var y=0;y<m;y++)d[p+y]!==0&&(d[p+y]=1);u=2}return u}function l(u,f){return u!==f}});function B3e(t,e,r,n,i,a,o){var s,l,u=0,f;if(t<=e||r[n+e]<=r[i+t])return-1;r[i+t]=r[n+e];var d=r[a+t];if(r[a+t]=e,d===-1)u=1,f=t;else{for(u=2,f=d;f!==r[o+f];f=r[o+f]);for(s=d;s!==f;s=l)l=r[o+s],r[o+s]=f}return{jleaf:u,q:f}}var k3e="csCounts",F3e=["transpose"],$3e=ne(k3e,F3e,t=>{var{transpose:e}=t;return function(r,n,i,a){if(!r||!n||!i)return null;var o=r._size,s=o[0],l=o[1],u,f,d,p,m,y,g,b=4*l+(a?l+s+1:0),E=[],O=0,A=l,S=2*l,x=3*l,_=4*l,T=5*l+1;for(d=0;d<b;d++)E[d]=-1;var N=[],C=e(r),R=C._index,I=C._ptr;for(d=0;d<l;d++)for(f=i[d],N[f]=E[x+f]===-1?1:0;f!==-1&&E[x+f]===-1;f=n[f])E[x+f]=d;if(a){for(d=0;d<l;d++)E[i[d]]=d;for(u=0;u<s;u++){for(d=l,y=I[u],g=I[u+1],m=y;m<g;m++)d=Math.min(d,E[R[m]]);E[T+u]=E[_+d],E[_+d]=u}}for(u=0;u<l;u++)E[O+u]=u;for(d=0;d<l;d++){for(f=i[d],n[f]!==-1&&N[n[f]]--,p=a?E[_+d]:f;p!==-1;p=a?E[T+p]:-1)for(m=I[p];m<I[p+1];m++){u=R[m];var P=B3e(u,f,E,x,A,S,O);P.jleaf>=1&&N[f]++,P.jleaf===2&&N[P.q]--}n[f]!==-1&&(E[O+f]=n[f])}for(f=0;f<l;f++)n[f]!==-1&&(N[n[f]]+=N[f]);return N}}),L3e="csSqr",j3e=["add","multiply","transpose"],q3e=ne(L3e,j3e,t=>{var{add:e,multiply:r,transpose:n}=t,i=P3e({add:e,multiply:r,transpose:n}),a=$3e({transpose:n});return function(l,u,f){var d=u._ptr,p=u._size,m=p[1],y,g={};if(g.q=i(l,u),l&&!g.q)return null;if(f){var b=l?N3e(u,null,g.q):u;g.parent=O3e(b);var E=C3e(g.parent,m);if(g.cp=a(b,g.parent,E,1),b&&g.parent&&g.cp&&o(b,g))for(g.unz=0,y=0;y<m;y++)g.unz+=g.cp[y]}else g.unz=4*d[m]+m,g.lnz=g.unz;return g};function o(s,l){var u=s._ptr,f=s._index,d=s._size,p=d[0],m=d[1];l.pinv=[],l.leftmost=[];var y=l.parent,g=l.pinv,b=l.leftmost,E=[],O=0,A=p,S=p+m,x=p+2*m,_,T,N,C,R;for(T=0;T<m;T++)E[A+T]=-1,E[S+T]=-1,E[x+T]=0;for(_=0;_<p;_++)b[_]=-1;for(T=m-1;T>=0;T--)for(C=u[T],R=u[T+1],N=C;N<R;N++)b[f[N]]=T;for(_=p-1;_>=0;_--)g[_]=-1,T=b[_],T!==-1&&(E[x+T]++===0&&(E[S+T]=_),E[O+_]=E[A+T],E[A+T]=_);for(l.lnz=0,l.m2=p,T=0;T<m;T++)if(_=E[A+T],l.lnz++,_<0&&(_=l.m2++),g[_]=T,!(--x[T]<=0)){l.lnz+=E[x+T];var I=y[T];I!==-1&&(E[x+I]===0&&(E[S+I]=E[S+T]),E[O+E[S+T]]=E[A+I],E[A+I]=E[O+_],E[x+I]+=E[x+T])}for(_=0;_<p;_++)g[_]<0&&(g[_]=T++);return!0}});function VC(t,e){return t[e]<0}function QY(t,e){t[e]=vl(t[e])}function _U(t){return t<0?vl(t):t}function U3e(t,e,r,n,i){var a=e._index,o=e._ptr,s=e._size,l=s[1],u,f,d,p=0;for(n[0]=t;p>=0;){t=n[p];var m=i?i[t]:t;VC(o,t)||(QY(o,t),n[l+p]=m<0?0:_U(o[m]));var y=1;for(f=n[l+p],d=m<0?0:_U(o[m+1]);f<d;f++)if(u=a[f],!VC(o,u)){n[l+p]=f,n[++p]=u,y=0;break}y&&(p--,n[--r]=t)}return r}function z3e(t,e,r,n,i){var a=t._ptr,o=t._size,s=e._index,l=e._ptr,u=o[1],f,d,p,m=u;for(d=l[r],p=l[r+1],f=d;f<p;f++){var y=s[f];VC(a,y)||(m=U3e(y,t,m,n,i))}for(f=m;f<u;f++)QY(a,n[f]);return m}var V3e="csSpsolve",H3e=["divideScalar","multiply","subtract"],G3e=ne(V3e,H3e,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(a,o,s,l,u,f,d){var p=a._values,m=a._index,y=a._ptr,g=a._size,b=g[1],E=o._values,O=o._index,A=o._ptr,S,x,_,T,N=z3e(a,o,s,l,f);for(S=N;S<b;S++)u[l[S]]=0;for(x=A[s],_=A[s+1],S=x;S<_;S++)u[O[S]]=E[S];for(var C=N;C<b;C++){var R=l[C],I=f?f[R]:R;if(!(I<0))for(x=y[I],_=y[I+1],u[R]=e(u[R],p[d?x:_-1]),S=d?x+1:x,T=d?_:_-1;S<T;S++){var P=m[S];u[P]=n(u[P],r(p[S],u[R]))}}return N}}),K3e="csLu",X3e=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],W3e=ne(K3e,X3e,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:s}=t,l=G3e({divideScalar:r,multiply:n,subtract:i});return function(f,d,p){if(!f)return null;var m=f._size,y=m[1],g,b=100,E=100;d&&(g=d.q,b=d.lnz||b,E=d.unz||E);var O=[],A=[],S=[],x=new s({values:O,index:A,ptr:S,size:[y,y]}),_=[],T=[],N=[],C=new s({values:_,index:T,ptr:N,size:[y,y]}),R=[],I,P,k=[],q=[];for(I=0;I<y;I++)k[I]=0,R[I]=-1,S[I+1]=0;b=0,E=0;for(var U=0;U<y;U++){S[U]=b,N[U]=E;var F=g?g[U]:U,V=l(x,f,F,q,k,R,1),Z=-1,H=-1;for(P=V;P<y;P++)if(I=q[P],R[I]<0){var z=e(k[I]);a(z,H)&&(H=z,Z=I)}else T[E]=R[I],_[E++]=k[I];if(Z===-1||H<=0)return null;R[F]<0&&o(e(k[F]),n(H,p))&&(Z=F);var J=k[Z];for(T[E]=U,_[E++]=J,R[Z]=U,A[b]=Z,O[b++]=1,P=V;P<y;P++)I=q[P],R[I]<0&&(A[b]=I,O[b++]=r(k[I],J)),k[I]=0}for(S[y]=b,N[y]=E,P=0;P<b;P++)A[P]=R[A[P]];return O.splice(b,O.length-b),A.splice(b,A.length-b),_.splice(E,_.length-E),T.splice(E,T.length-E),{L:x,U:C,pinv:R}}}),AU="slu",Y3e=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Q3e=ne(AU,Y3e,t=>{var{typed:e,abs:r,add:n,multiply:i,transpose:a,divideScalar:o,subtract:s,larger:l,largerEq:u,SparseMatrix:f}=t,d=q3e({add:n,multiply:i,transpose:a}),p=W3e({abs:r,divideScalar:o,multiply:i,subtract:s,larger:l,largerEq:u,SparseMatrix:f});return e(AU,{"SparseMatrix, number, number":function(y,g,b){if(!ft(g)||g<0||g>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(b<0||b>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var E=d(g,y,!1),O=p(y,E,b);return{L:O.L,U:O.U,p:O.pinv,q:E.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function EU(t,e){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}var SU="lusolve",Z3e=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],J3e=ne(SU,Z3e,t=>{var{typed:e,matrix:r,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:s}=t,l=Pg({DenseMatrix:s});return e(SU,{"Array, Array | Matrix":function(p,m){p=r(p);var y=n(p),g=f(y.L,y.U,y.p,null,m);return g.valueOf()},"DenseMatrix, Array | Matrix":function(p,m){var y=n(p);return f(y.L,y.U,y.p,null,m)},"SparseMatrix, Array | Matrix":function(p,m){var y=n(p);return f(y.L,y.U,y.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(p,m,y,g){var b=i(p,y,g);return f(b.L,b.U,b.p,b.q,m)},"Object, Array | Matrix":function(p,m){return f(p.L,p.U,p.p,p.q,m)}});function u(d){if(gt(d))return d;if(Sr(d))return r(d);throw new TypeError("Invalid Matrix LU decomposition")}function f(d,p,m,y,g){d=u(d),p=u(p),m&&(g=l(d,g,!0),g._data=EU(m,g._data));var b=o(d,g),E=a(p,b);return y&&(E._data=EU(y,E._data)),E}}),TU="polynomialRoot",e4e=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],t4e=ne(TU,e4e,t=>{var{typed:e,isZero:r,equalScalar:n,add:i,subtract:a,multiply:o,divide:s,sqrt:l,unaryMinus:u,cbrt:f,typeOf:d,im:p,re:m}=t;return e(TU,{"number|Complex, ...number|Complex":(y,g)=>{for(var b=[y,...g];b.length>0&&r(b[b.length-1]);)b.pop();if(b.length<2)throw new RangeError("Polynomial [".concat(y,", ").concat(g,"] must have a non-zero non-constant coefficient"));switch(b.length){case 2:return[u(s(b[0],b[1]))];case 3:{var[E,O,A]=b,S=o(2,A),x=o(O,O),_=o(4,A,E);if(n(x,_))return[s(u(O),S)];var T=l(a(x,_));return[s(a(T,O),S),s(a(u(T),O),S)]}case 4:{var[N,C,R,I]=b,P=u(o(3,I)),k=o(R,R),q=o(3,I,C),U=i(o(2,R,R,R),o(27,I,I,N)),F=o(9,I,R,C);if(n(k,q)&&n(U,F))return[s(R,P)];var V=a(k,q),Z=a(U,F),H=i(o(18,I,R,C,N),o(R,R,C,C)),z=i(o(4,R,R,R,N),o(4,I,C,C,C),o(27,I,I,N,N));if(n(H,z))return[s(a(o(4,I,R,C),i(o(9,I,I,N),o(R,R,R))),o(I,V)),s(a(o(9,I,N),o(R,C)),o(2,V))];var J;n(k,q)?J=Z:J=s(i(Z,l(a(o(Z,Z),o(4,V,V,V)))),2);var $=!0,Q=f(J,$).toArray().map(K=>s(i(R,K,s(V,K)),P));return Q.map(K=>d(K)==="Complex"&&n(m(K),m(K)+p(K))?m(K):K)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(b))}}})}),r4e="Help",n4e=["evaluate"],i4e=ne(r4e,n4e,t=>{var{evaluate:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a=!1,o=e("config()"),s={config:d=>(a=!0,e("config(newConfig)",{newConfig:d}))},l=0;l<n.examples.length;l++){var u=n.examples[l];i+="    "+u+`
`;var f=void 0;try{f=e(u,s)}catch(d){f=d}f!==void 0&&!nW(f)&&(i+="        "+qt(f,{precision:14})+`
`)}i+=`
`,a&&e("config(originalConfig)",{originalConfig:o})}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},r.prototype.toJSON=function(){var n=Ct(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new r(i)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0}),a4e="Chain",o4e=["?on","math","typed"],s4e=ne(a4e,o4e,t=>{var{on:e,math:r,typed:n}=t;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");oW(u)?this.value=u.value:this.value=u}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return qt(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(u){return new i(u.value)};function a(u,f){typeof f=="function"&&(i.prototype[u]=s(f))}function o(u,f){eSe(i.prototype,u,function(){var p=f();if(typeof p=="function")return s(p)})}function s(u){return function(){if(arguments.length===0)return new i(u(this.value));for(var f=[this.value],d=0;d<arguments.length;d++)f[d+1]=arguments[d];if(n.isTypedFunction(u)){var p=n.resolve(u,f);if(p.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new i(p.implementation.apply(u,f))}return new i(u.apply(u,f))}}i.createProxy=function(u,f){if(typeof u=="string")a(u,f);else{var d=function(y){ut(u,y)&&l[y]===void 0&&o(y,()=>u[y])};for(var p in u)d(p)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(r),e&&e("import",function(u,f,d){d||o(u,f)}),i},{isClass:!0}),DU={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},u4e={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},l4e={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},c4e={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},f4e={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},h4e={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},d4e={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},p4e={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},m4e={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},v4e={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},g4e={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},NU={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},y4e={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},b4e={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},w4e={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},x4e={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},_4e={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},A4e={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},E4e={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},S4e={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},T4e={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},D4e={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},N4e={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},C4e={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix","number","range","string","unit"]},O4e={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},M4e={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},I4e={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},R4e={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},P4e={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},B4e={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},k4e={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},F4e={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},$4e={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},L4e={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},j4e={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},q4e={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},U4e={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},z4e={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},V4e={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},H4e={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},G4e={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},K4e={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},X4e={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},W4e={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},Y4e={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},Q4e={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},Z4e={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},J4e={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},eBe={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},tBe={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},rBe={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},nBe={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},iBe={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},aBe={name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},oBe={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},sBe={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},uBe={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},lBe={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},cBe={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},fBe={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},hBe={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},dBe={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},pBe={name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},mBe={name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},vBe={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},gBe={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},yBe={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax  1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bBe={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},wBe={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},xBe={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},_Be={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},ABe={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},EBe={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},SBe={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},TBe={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},DBe={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},NBe={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},CBe={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},OBe={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},MBe={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},IBe={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},RBe={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},PBe={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},BBe={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},kBe={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},FBe={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},$Be={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},LBe={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},jBe={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},qBe={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},UBe={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},zBe={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},VBe={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},HBe={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},GBe={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},KBe={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},XBe={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},WBe={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},YBe={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},QBe={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},ZBe={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},JBe={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},eke={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},tke={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},rke={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},nke={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:["parser","parse","compile"]},ike={name:"parser",category:"Expression",syntax:["parser()"],description:"Create a parser object that keeps a context of variables and their values, allowing the evaluation of expressions in that context.",examples:["myParser = parser()",'myParser.evaluate("sqrt(3^2 + 4^2)")','myParser.set("x", 3)','myParser.evaluate("y = x + 3")','myParser.evaluate(["y = x + 3", "y = y + 1"])','myParser.get("y")'],seealso:["evaluate","parse","compile"]},ake={name:"parse",category:"Expression",syntax:["parse(expr)","parse(expr, options)","parse([expr1, expr2, expr3, ...])","parse([expr1, expr2, expr3, ...], options)"],description:"Parse an expression. Returns a node tree, which can be evaluated by invoking node.evaluate() or transformed into a functional object via node.compile().",examples:['node1 = parse("sqrt(3^2 + 4^2)")',"node1.evaluate()","code1 = node1.compile()","code1.evaluate()","scope = {a: 3, b: 4}",'node2 = parse("a * b")',"node2.evaluate(scope)","code2 = node2.compile()","code2.evaluate(scope)"],seealso:["parser","evaluate","compile"]},oke={name:"compile",category:"Expression",syntax:["compile(expr) ","compile([expr1, expr2, expr3, ...])"],description:"Parse and compile an expression. Returns a an object with a function evaluate([scope]) to evaluate the compiled expression.",examples:['code1 = compile("sqrt(3^2 + 4^2)")',"code1.evaluate() ",'code2 = compile("a * b")',"code2.evaluate({a: 3, b: 4})"],seealso:["parser","parse","evaluate"]},ske={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},uke={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},lke={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},cke={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},fke={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},hke={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},dke={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},pke={name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]},mke={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},vke={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},gke={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},yke={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},bke={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},wke={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},xke={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},_ke={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},Ake={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},Eke={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},Ske={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},Tke={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},Dke={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},Nke={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},Cke={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Oke={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Mke={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the MoorePenrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},Ike={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},Rke={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},Pke={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},Bke={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},kke={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},Fke={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},$ke={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},Lke={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},jke={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},qke={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},Uke={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},zke={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},Vke={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},Hke={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},Gke={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},Kke={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},Xke={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},Wke={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},Yke={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},Qke={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},Zke={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},Jke={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},eFe={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},tFe={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},rFe={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},nFe={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},iFe={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},aFe={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},oFe={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},sFe={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},uFe={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},lFe={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},cFe={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},fFe={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},hFe={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},dFe={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},pFe={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},mFe={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},vFe={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},gFe={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},yFe={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},bFe={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},wFe={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},xFe={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},_Fe={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},AFe={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},EFe={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},SFe={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},TFe={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},DFe={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},NFe={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},CFe={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},OFe={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},MFe={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},IFe={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},RFe={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},PFe={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},BFe={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},kFe={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},FFe={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},$Fe={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},LFe={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},jFe={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},qFe={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},UFe={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},zFe={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},VFe={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},HFe={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},GFe={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","variance"]},KFe={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},XFe={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},WFe={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},YFe={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},QFe={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},ZFe={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},JFe={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},e$e={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},t$e={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},r$e={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},n$e={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},i$e={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},a$e={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},o$e={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},s$e={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},u$e={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},l$e={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},c$e={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},f$e={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},h$e={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},d$e={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},p$e={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},m$e={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},v$e={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},g$e={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},y$e={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},b$e={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},w$e={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},x$e={name:"toBest",category:"Units",syntax:["toBest(x)","toBest(x, unitList)","toBest(x, unitList, options)"],description:"Converts to the most appropriate display unit.",examples:['toBest(unit(5000, "m"))','toBest(unit(3500000, "W"))','toBest(unit(0.000000123, "A"))','toBest(unit(10, "m"), "cm")','toBest(unit(10, "m"), "mm,km", {offset: 1.5})'],seealso:[]},_$e={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},A$e={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},E$e={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},S$e={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},T$e={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},D$e={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},N$e={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},C$e={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},O$e={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},M$e={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},I$e={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},R$e={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},P$e={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]},B$e={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},k$e={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},F$e={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},$$e={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},L$e={bignumber:A4e,bigint:E4e,boolean:S4e,complex:T4e,createUnit:D4e,fraction:N4e,index:C4e,matrix:O4e,number:M4e,sparse:I4e,splitUnit:R4e,string:P4e,unit:B4e,e:DU,E:DU,false:u4e,i:l4e,Infinity:c4e,LN2:h4e,LN10:f4e,LOG2E:p4e,LOG10E:d4e,NaN:m4e,null:v4e,pi:NU,PI:NU,phi:g4e,SQRT1_2:y4e,SQRT2:b4e,tau:w4e,true:x4e,version:_4e,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant. Deprecated in favor of coulombConstant",examples:["coulombConstant"]},coulombConstant:{description:"Coulomb's constant",examples:["coulombConstant"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:L4e,lsolve:q4e,lsolveAll:U4e,lup:z4e,lusolve:V4e,leafCount:j4e,polynomialRoot:H4e,resolve:X4e,simplify:W4e,simplifyConstant:Y4e,simplifyCore:Q4e,symbolicEqual:J4e,rationalize:K4e,slu:Z4e,usolve:eBe,usolveAll:tBe,qr:G4e,abs:rBe,add:nBe,cbrt:iBe,ceil:aBe,cube:oBe,divide:sBe,dotDivide:uBe,dotMultiply:lBe,dotPow:cBe,exp:fBe,expm:hBe,expm1:dBe,fix:pBe,floor:mBe,gcd:vBe,hypot:gBe,lcm:bBe,log:wBe,log2:ABe,log1p:_Be,log10:xBe,mod:EBe,multiply:SBe,norm:TBe,nthRoot:DBe,nthRoots:NBe,pow:CBe,round:OBe,sign:MBe,sqrt:IBe,sqrtm:RBe,square:FBe,subtract:$Be,unaryMinus:LBe,unaryPlus:jBe,xgcd:qBe,invmod:yBe,bitAnd:UBe,bitNot:zBe,bitOr:VBe,bitXor:HBe,leftShift:GBe,rightArithShift:KBe,rightLogShift:XBe,bellNumbers:WBe,catalan:YBe,composition:QBe,stirlingS2:ZBe,config:k4e,import:F4e,typed:$4e,arg:JBe,conj:eke,re:rke,im:tke,evaluate:nke,help:ske,parse:ake,parser:ike,compile:oke,distance:uke,intersect:lke,and:cke,not:fke,or:hke,xor:dke,mapSlices:pke,concat:vke,count:gke,cross:yke,column:mke,ctranspose:bke,det:wke,diag:xke,diff:_ke,dot:Ake,getMatrixDataType:Nke,identity:Cke,filter:Ske,flatten:Tke,forEach:Dke,inv:Oke,pinv:Mke,eigs:Eke,kron:Ike,matrixFromFunction:Bke,matrixFromRows:kke,matrixFromColumns:Pke,map:Rke,ones:Fke,partitionSelect:$ke,range:Lke,resize:qke,reshape:jke,rotate:Uke,rotationMatrix:zke,row:Vke,size:Hke,sort:Gke,squeeze:Kke,subset:Xke,trace:Wke,transpose:Yke,zeros:Qke,fft:Zke,ifft:Jke,sylvester:PBe,schur:BBe,lyap:kBe,solveODE:$$e,combinations:eFe,combinationsWithRep:tFe,factorial:rFe,gamma:nFe,kldivergence:aFe,lgamma:iFe,multinomial:oFe,permutations:sFe,pickRandom:uFe,random:lFe,randomInt:cFe,compare:fFe,compareNatural:hFe,compareText:dFe,deepEqual:pFe,equal:mFe,equalText:vFe,larger:gFe,largerEq:yFe,smaller:bFe,smallerEq:wFe,unequal:xFe,setCartesian:_Fe,setDifference:AFe,setDistinct:EFe,setIntersect:SFe,setIsSubset:TFe,setMultiplicity:DFe,setPowerset:NFe,setSize:CFe,setSymDifference:OFe,setUnion:MFe,zpk2tf:IFe,freqz:RFe,erf:PFe,zeta:BFe,cumsum:HFe,mad:kFe,max:FFe,mean:$Fe,median:LFe,min:jFe,mode:qFe,prod:UFe,quantileSeq:zFe,std:VFe,sum:GFe,variance:KFe,corr:XFe,acos:WFe,acosh:YFe,acot:QFe,acoth:ZFe,acsc:JFe,acsch:e$e,asec:t$e,asech:r$e,asin:n$e,asinh:i$e,atan:a$e,atanh:s$e,atan2:o$e,cos:u$e,cosh:l$e,cot:c$e,coth:f$e,csc:h$e,csch:d$e,sec:p$e,sech:m$e,sin:v$e,sinh:g$e,tan:y$e,tanh:b$e,to:w$e,toBest:x$e,clone:A$e,format:E$e,bin:_$e,oct:B$e,hex:T$e,isNaN:N$e,isInteger:D$e,isNegative:C$e,isNumeric:O$e,hasNumericValue:S$e,isPositive:M$e,isPrime:I$e,isZero:R$e,print:k$e,typeOf:F$e,numeric:P$e},CU="help",j$e=["typed","mathWithTransform","Help"],q$e=ne(CU,j$e,t=>{var{typed:e,mathWithTransform:r,Help:n}=t;return e(CU,{any:function(a){var o,s=a;if(typeof a!="string"){for(o in r)if(ut(r,o)&&a===r[o]){s=o;break}}var l=qi(L$e,s);if(!l){var u=typeof s=="function"?s.name:s;throw new Error('No documentation found on "'+u+'"')}return new n(l)}})}),OU="chain",U$e=["typed","Chain"],z$e=ne(OU,U$e,t=>{var{typed:e,Chain:r}=t;return e(OU,{"":function(){return new r},any:function(i){return new r(i)}})}),MU="det",V$e=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],H$e=ne(MU,V$e,t=>{var{typed:e,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:s}=t;return e(MU,{any:function(f){return Ct(f)},"Array | Matrix":function(f){var d;switch(gt(f)?d=f.size():Array.isArray(f)?(f=r(f),d=f.size()):d=[],d.length){case 0:return Ct(f);case 1:if(d[0]===1)return Ct(f.valueOf()[0]);if(d[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+qt(d)+")");case 2:{var p=d[0],m=d[1];if(p===m)return l(f.clone().valueOf(),p);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+qt(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+qt(d)+")")}}});function l(u,f,d){if(f===1)return Ct(u[0][0]);if(f===2)return n(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var p=!1,m=new Array(f).fill(0).map((T,N)=>N),y=0;y<f;y++){var g=m[y];if(o(u[g][y])){var b=void 0;for(b=y+1;b<f;b++)if(!o(u[m[b]][y])){g=m[b],m[b]=m[y],m[y]=g,p=!p;break}if(b===f)return u[g][y]}for(var E=u[g][y],O=y===0?1:u[m[y-1]][y-1],A=y+1;A<f;A++)for(var S=m[A],x=y+1;x<f;x++)u[S][x]=a(n(i(u[S][x],E),i(u[S][y],u[g][x])),O)}var _=u[m[f-1]][f-1];return p?s(_):_}}),IU="inv",G$e=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],K$e=ne(IU,G$e,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:s,identity:l,abs:u}=t;return e(IU,{"Array | Matrix":function(p){var m=gt(p)?p.size():Dt(p);switch(m.length){case 1:if(m[0]===1)return gt(p)?r([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+qt(m)+")");case 2:{var y=m[0],g=m[1];if(y===g)return gt(p)?r(f(p.valueOf(),y,g),p.storage()):f(p,y,g);throw new RangeError("Matrix must be square (size: "+qt(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+qt(m)+")")}},any:function(p){return n(1,p)}});function f(d,p,m){var y,g,b,E,O;if(p===1){if(E=d[0][0],E===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,E)]]}else if(p===2){var A=s(d);if(A===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(d[1][1],A),n(o(d[0][1]),A)],[n(o(d[1][0]),A),n(d[0][0],A)]]}else{var S=d.concat();for(y=0;y<p;y++)S[y]=S[y].concat();for(var x=l(p).valueOf(),_=0;_<m;_++){var T=u(S[_][_]),N=_;for(y=_+1;y<p;)u(S[y][_])>T&&(T=u(S[y][_]),N=y),y++;if(T===0)throw Error("Cannot calculate inverse, determinant is zero");y=N,y!==_&&(O=S[_],S[_]=S[y],S[y]=O,O=x[_],x[_]=x[y],x[y]=O);var C=S[_],R=x[_];for(y=0;y<p;y++){var I=S[y],P=x[y];if(y!==_){if(I[_]!==0){for(b=n(o(I[_]),C[_]),g=_;g<m;g++)I[g]=i(I[g],a(b,C[g]));for(g=0;g<m;g++)P[g]=i(P[g],a(b,R[g]))}}else{for(b=C[_],g=_;g<m;g++)I[g]=n(I[g],b);for(g=0;g<m;g++)P[g]=n(P[g],b)}}}return x}}}),RU="pinv",X$e=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],W$e=ne(RU,X$e,t=>{var{typed:e,matrix:r,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:s,ctranspose:l,divideScalar:u,multiply:f,add:d,Complex:p}=t;return e(RU,{"Array | Matrix":function(A){var S=gt(A)?A.size():Dt(A);switch(S.length){case 1:return E(A)?l(A):S[0]===1?n(A):o(l(A),s(A,A));case 2:{if(E(A))return l(A);var x=S[0],_=S[1];if(x===_)try{return n(A)}catch(T){if(!(T instanceof Error&&T.message.match(/Cannot calculate inverse, determinant is zero/)))throw T}return gt(A)?r(m(A.valueOf(),x,_),A.storage()):m(A,x,_)}default:throw new RangeError("Matrix must be two dimensional (size: "+qt(S)+")")}},any:function(A){return a(A,0)?Ct(A):u(1,A)}});function m(O,A,S){var{C:x,F:_}=g(O,A,S),T=f(n(f(l(x),x)),l(x)),N=f(l(_),n(f(_,l(_))));return f(N,T)}function y(O,A,S){for(var x=Ct(O),_=0,T=0;T<A;T++){if(S<=_)return x;for(var N=T;b(x[N][_]);)if(N++,A===N&&(N=T,_++,S===_))return x;[x[N],x[T]]=[x[T],x[N]];for(var C=x[T][_],R=0;R<S;R++)x[T][R]=o(x[T][R],C);for(var I=0;I<A;I++)if(I!==T){C=x[I][_];for(var P=0;P<S;P++)x[I][P]=d(x[I][P],f(-1,f(C,x[T][P])))}_++}return x}function g(O,A,S){var x=y(O,A,S),_=O.map((N,C)=>N.filter((R,I)=>I<A&&!b(s(x[I],x[I])))),T=x.filter((N,C)=>!b(s(x[C],x[C])));return{C:_,F:T}}function b(O){return a(d(O,p(1,1)),d(0,p(1,1)))}function E(O){return i(d(O,p(1,1)),d(f(O,0),p(1,1)))}});function Y$e(t){var{addScalar:e,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:s,abs:l,bignumber:u,diag:f,size:d,reshape:p,inv:m,qr:y,usolve:g,usolveAll:b,equal:E,complex:O,larger:A,smaller:S,matrixFromColumns:x,dot:_}=t;function T($,Q,K,we){var ge=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,Ae=N($,Q,K,we,ge);C($,Q,K,we,ge,Ae);var{values:te,C:ee}=R($,Q,K,we,ge);if(ge){var ue=I($,Q,ee,Ae,te,K,we);return{values:te,eigenvectors:ue}}return{values:te}}function N($,Q,K,we,ge){var Ae=we==="BigNumber",te=we==="Complex",ee=Ae?u(0):0,ue=Ae?u(1):te?O(1):1,ce=Ae?u(1):1,se=Ae?u(10):2,Te=a(se,se),pe;ge&&(pe=Array(Q).fill(ue));for(var Ne=!1;!Ne;){Ne=!0;for(var je=0;je<Q;je++){for(var Ke=ee,Ue=ee,nt=0;nt<Q;nt++)je!==nt&&(Ke=e(Ke,l($[nt][je])),Ue=e(Ue,l($[je][nt])));if(!E(Ke,0)&&!E(Ue,0)){for(var ae=ce,he=Ke,le=o(Ue,se),Y=a(Ue,se);S(he,le);)he=a(he,Te),ae=a(ae,se);for(;A(he,Y);)he=o(he,Te),ae=o(ae,se);var ie=S(o(e(he,Ue),ae),a(e(Ke,Ue),.95));if(ie){Ne=!1;for(var fe=o(1,ae),ye=0;ye<Q;ye++)je!==ye&&($[je][ye]=a($[je][ye],fe),$[ye][je]=a($[ye][je],ae));ge&&(pe[je]=a(pe[je],fe))}}}}return ge?f(pe):null}function C($,Q,K,we,ge,Ae){var te=we==="BigNumber",ee=we==="Complex",ue=te?u(0):ee?O(0):0;te&&(K=u(K));for(var ce=0;ce<Q-2;ce++){for(var se=0,Te=ue,pe=ce+1;pe<Q;pe++){var Ne=$[pe][ce];S(l(Te),l(Ne))&&(Te=Ne,se=pe)}if(!S(l(Te),K)){if(se!==ce+1){var je=$[se];$[se]=$[ce+1],$[ce+1]=je;for(var Ke=0;Ke<Q;Ke++){var Ue=$[Ke][se];$[Ke][se]=$[Ke][ce+1],$[Ke][ce+1]=Ue}if(ge){var nt=Ae[se];Ae[se]=Ae[ce+1],Ae[ce+1]=nt}}for(var ae=ce+2;ae<Q;ae++){var he=o($[ae][ce],Te);if(he!==0){for(var le=0;le<Q;le++)$[ae][le]=r($[ae][le],a(he,$[ce+1][le]));for(var Y=0;Y<Q;Y++)$[Y][ce+1]=e($[Y][ce+1],a(he,$[Y][ae]));if(ge)for(var ie=0;ie<Q;ie++)Ae[ae][ie]=r(Ae[ae][ie],a(he,Ae[ce+1][ie]))}}}}return Ae}function R($,Q,K,we,ge){var Ae=we==="BigNumber",te=we==="Complex",ee=Ae?u(1):te?O(1):1;Ae&&(K=u(K));for(var ue=Ct($),ce=[],se=Q,Te=[],pe=ge?f(Array(Q).fill(ee)):void 0,Ne=ge?f(Array(se).fill(ee)):void 0,je=0;je<=100;){je+=1;for(var Ke=ue[se-1][se-1],Ue=0;Ue<se;Ue++)ue[Ue][Ue]=r(ue[Ue][Ue],Ke);var{Q:nt,R:ae}=y(ue);ue=i(ae,nt);for(var he=0;he<se;he++)ue[he][he]=e(ue[he][he],Ke);if(ge&&(Ne=i(Ne,nt)),se===1||S(l(ue[se-1][se-2]),K)){je=0,ce.push(ue[se-1][se-1]),ge&&(Te.unshift([[1]]),q(Ne,Q),pe=i(pe,Ne),se>1&&(Ne=f(Array(se-1).fill(ee)))),se-=1,ue.pop();for(var le=0;le<se;le++)ue[le].pop()}else if(se===2||S(l(ue[se-2][se-3]),K)){je=0;var Y=P(ue[se-2][se-2],ue[se-2][se-1],ue[se-1][se-2],ue[se-1][se-1]);ce.push(...Y),ge&&(Te.unshift(k(ue[se-2][se-2],ue[se-2][se-1],ue[se-1][se-2],ue[se-1][se-1],Y[0],Y[1],K,we)),q(Ne,Q),pe=i(pe,Ne),se>2&&(Ne=f(Array(se-2).fill(ee)))),se-=2,ue.pop(),ue.pop();for(var ie=0;ie<se;ie++)ue[ie].pop(),ue[ie].pop()}if(se===0)break}if(ce.sort((me,Se)=>+r(l(me),l(Se))),je>100){var fe=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+ce.join(", "));throw fe.values=ce,fe.vectors=[],fe}var ye=ge?i(pe,U(Te,Q)):void 0;return{values:ce,C:ye}}function I($,Q,K,we,ge,Ae,te){var ee=m(K),ue=i(ee,$,K),ce=te==="BigNumber",se=te==="Complex",Te=ce?u(0):se?O(0):0,pe=ce?u(1):se?O(1):1,Ne=[],je=[];for(var Ke of ge){var Ue=F(Ne,Ke,E);Ue===-1?(Ne.push(Ke),je.push(1)):je[Ue]+=1}for(var nt=[],ae=Ne.length,he=Array(Q).fill(Te),le=f(Array(Q).fill(pe)),Y=function(){var ye=Ne[ie],me=r(ue,i(ye,le)),Se=b(me,he);for(Se.shift();Se.length<je[ie];){var Be=V(me,Q,Se,Ae,te);if(Be===null)break;Se.push(Be)}var ze=i(m(we),K);Se=Se.map(Ze=>i(ze,Ze)),nt.push(...Se.map(Ze=>({value:ye,vector:n(Ze)})))},ie=0;ie<ae;ie++)Y();return nt}function P($,Q,K,we){var ge=e($,we),Ae=r(a($,we),a(Q,K)),te=a(ge,.5),ee=a(s(r(a(ge,ge),a(4,Ae))),.5);return[e(te,ee),r(te,ee)]}function k($,Q,K,we,ge,Ae,te,ee){var ue=ee==="BigNumber",ce=ee==="Complex",se=ue?u(0):ce?O(0):0,Te=ue?u(1):ce?O(1):1;if(S(l(K),te))return[[Te,se],[se,Te]];if(A(l(r(ge,Ae)),te))return[[r(ge,we),r(Ae,we)],[K,K]];var pe=r($,ge),Ne=r(we,ge);return S(l(Q),te)&&S(l(Ne),te)?[[pe,Te],[K,se]]:[[Q,se],[Ne,Te]]}function q($,Q){for(var K=0;K<$.length;K++)$[K].push(...Array(Q-$[K].length).fill(0));for(var we=$.length;we<Q;we++)$.push(Array(Q).fill(0)),$[we][we]=1;return $}function U($,Q){for(var K=[],we=0;we<Q;we++)K[we]=Array(Q).fill(0);var ge=0;for(var Ae of $){for(var te=Ae.length,ee=0;ee<te;ee++)for(var ue=0;ue<te;ue++)K[ge+ee][ge+ue]=Ae[ee][ue];ge+=te}return K}function F($,Q,K){for(var we=0;we<$.length;we++)if(K($[we],Q))return we;return-1}function V($,Q,K,we,ge){for(var Ae=ge==="BigNumber"?u(1e3):1e3,te,ee=0;ee<5;++ee){te=Z(Q,K,ge);try{te=g($,te)}catch{continue}if(A(z(te),Ae))break}if(ee>=5)return null;for(ee=0;;){var ue=g($,te);if(S(z(H(te,[ue])),we))break;if(++ee>=10)return null;te=J(ue)}return te}function Z($,Q,K){var we=K==="BigNumber",ge=K==="Complex",Ae=Array($).fill(0).map(te=>2*Math.random()-1);return we&&(Ae=Ae.map(te=>u(te))),ge&&(Ae=Ae.map(te=>O(te))),Ae=H(Ae,Q),J(Ae,K)}function H($,Q){var K=d($);for(var we of Q)we=p(we,K),$=r($,i(o(_(we,$),_(we,we)),we));return $}function z($){return l(s(_($,$)))}function J($,Q){var K=Q==="BigNumber",we=Q==="Complex",ge=K?u(1):we?O(1):1;return i(o(ge,z($)),$)}return T}function Q$e(t){var{config:e,addScalar:r,subtract:n,abs:i,atan:a,cos:o,sin:s,multiplyScalar:l,inv:u,bignumber:f,multiply:d,add:p}=t;function m(C,R){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,P=arguments.length>3?arguments[3]:void 0,k=arguments.length>4?arguments[4]:void 0;if(P==="number")return y(C,I,k);if(P==="BigNumber")return g(C,I,k);throw TypeError("Unsupported data type: "+P)}function y(C,R,I){var P=C.length,k=Math.abs(R/P),q,U;if(I){U=new Array(P);for(var F=0;F<P;F++)U[F]=Array(P).fill(0),U[F][F]=1}for(var V=_(C);Math.abs(V[1])>=Math.abs(k);){var Z=V[0][0],H=V[0][1];q=b(C[Z][Z],C[H][H],C[Z][H]),C=x(C,q,Z,H),I&&(U=O(U,q,Z,H)),V=_(C)}for(var z=Array(P).fill(0),J=0;J<P;J++)z[J]=C[J][J];return N(Ct(z),U,I)}function g(C,R,I){var P=C.length,k=i(R/P),q,U;if(I){U=new Array(P);for(var F=0;F<P;F++)U[F]=Array(P).fill(0),U[F][F]=1}for(var V=T(C);i(V[1])>=i(k);){var Z=V[0][0],H=V[0][1];q=E(C[Z][Z],C[H][H],C[Z][H]),C=S(C,q,Z,H),I&&(U=A(U,q,Z,H)),V=T(C)}for(var z=Array(P).fill(0),J=0;J<P;J++)z[J]=C[J][J];return N(Ct(z),U,I)}function b(C,R,I){var P=R-C;return Math.abs(P)<=e.relTol?Math.PI/4:.5*Math.atan(2*I/(R-C))}function E(C,R,I){var P=n(R,C);return i(P)<=e.relTol?f(-1).acos().div(4):l(.5,a(d(2,I,u(P))))}function O(C,R,I,P){for(var k=C.length,q=Math.cos(R),U=Math.sin(R),F=Array(k).fill(0),V=Array(k).fill(0),Z=0;Z<k;Z++)F[Z]=q*C[Z][I]-U*C[Z][P],V[Z]=U*C[Z][I]+q*C[Z][P];for(var H=0;H<k;H++)C[H][I]=F[H],C[H][P]=V[H];return C}function A(C,R,I,P){for(var k=C.length,q=o(R),U=s(R),F=Array(k).fill(f(0)),V=Array(k).fill(f(0)),Z=0;Z<k;Z++)F[Z]=n(l(q,C[Z][I]),l(U,C[Z][P])),V[Z]=r(l(U,C[Z][I]),l(q,C[Z][P]));for(var H=0;H<k;H++)C[H][I]=F[H],C[H][P]=V[H];return C}function S(C,R,I,P){for(var k=C.length,q=f(o(R)),U=f(s(R)),F=l(q,q),V=l(U,U),Z=Array(k).fill(f(0)),H=Array(k).fill(f(0)),z=d(f(2),q,U,C[I][P]),J=r(n(l(F,C[I][I]),z),l(V,C[P][P])),$=p(l(V,C[I][I]),z,l(F,C[P][P])),Q=0;Q<k;Q++)Z[Q]=n(l(q,C[I][Q]),l(U,C[P][Q])),H[Q]=r(l(U,C[I][Q]),l(q,C[P][Q]));C[I][I]=J,C[P][P]=$,C[I][P]=f(0),C[P][I]=f(0);for(var K=0;K<k;K++)K!==I&&K!==P&&(C[I][K]=Z[K],C[K][I]=Z[K],C[P][K]=H[K],C[K][P]=H[K]);return C}function x(C,R,I,P){for(var k=C.length,q=Math.cos(R),U=Math.sin(R),F=q*q,V=U*U,Z=Array(k).fill(0),H=Array(k).fill(0),z=F*C[I][I]-2*q*U*C[I][P]+V*C[P][P],J=V*C[I][I]+2*q*U*C[I][P]+F*C[P][P],$=0;$<k;$++)Z[$]=q*C[I][$]-U*C[P][$],H[$]=U*C[I][$]+q*C[P][$];C[I][I]=z,C[P][P]=J,C[I][P]=0,C[P][I]=0;for(var Q=0;Q<k;Q++)Q!==I&&Q!==P&&(C[I][Q]=Z[Q],C[Q][I]=Z[Q],C[P][Q]=H[Q],C[Q][P]=H[Q]);return C}function _(C){for(var R=C.length,I=0,P=[0,1],k=0;k<R;k++)for(var q=k+1;q<R;q++)Math.abs(I)<Math.abs(C[k][q])&&(I=Math.abs(C[k][q]),P=[k,q]);return[P,I]}function T(C){for(var R=C.length,I=0,P=[0,1],k=0;k<R;k++)for(var q=k+1;q<R;q++)i(I)<i(C[k][q])&&(I=i(C[k][q]),P=[k,q]);return[P,I]}function N(C,R,I){var P=C.length,k=Array(P),q;if(I){q=Array(P);for(var U=0;U<P;U++)q[U]=Array(P)}for(var F=0;F<P;F++){for(var V=0,Z=C[0],H=0;H<C.length;H++)i(C[H])<i(Z)&&(V=H,Z=C[V]);if(k[F]=C.splice(V,1)[0],I)for(var z=0;z<P;z++)q[F][z]=R[z][V],R[z].splice(V,1)}if(!I)return{values:k};var J=q.map(($,Q)=>({value:k[Q],vector:$}));return{values:k,eigenvectors:J}}return m}var Z$e="eigs",J$e=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],e6e=ne(Z$e,J$e,t=>{var{config:e,typed:r,matrix:n,addScalar:i,subtract:a,equal:o,abs:s,atan:l,cos:u,sin:f,multiplyScalar:d,divideScalar:p,inv:m,bignumber:y,multiply:g,add:b,larger:E,column:O,flatten:A,number:S,complex:x,sqrt:_,diag:T,size:N,reshape:C,qr:R,usolve:I,usolveAll:P,im:k,re:q,smaller:U,matrixFromColumns:F,dot:V}=t,Z=Q$e({config:e,addScalar:i,subtract:a,abs:s,atan:l,cos:u,sin:f,multiplyScalar:d,inv:m,bignumber:y,multiply:g,add:b}),H=Y$e({addScalar:i,subtract:a,multiply:g,multiplyScalar:d,flatten:A,divideScalar:p,sqrt:_,abs:s,bignumber:y,diag:T,size:N,reshape:C,qr:R,inv:m,usolve:I,usolveAll:P,equal:o,complex:x,larger:E,smaller:U,matrixFromColumns:F,dot:V});return r("eigs",{Array:function(Ae){return z(n(Ae))},"Array, number|BigNumber":function(Ae,te){return z(n(Ae),{precision:te})},"Array, Object"(ge,Ae){return z(n(ge),Ae)},Matrix:function(Ae){return z(Ae,{matricize:!0})},"Matrix, number|BigNumber":function(Ae,te){return z(Ae,{precision:te,matricize:!0})},"Matrix, Object":function(Ae,te){var ee={matricize:!0};return kn(ee,te),z(Ae,ee)}});function z(ge){var Ae,te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee="eigenvectors"in te?te.eigenvectors:!0,ue=(Ae=te.precision)!==null&&Ae!==void 0?Ae:e.relTol,ce=J(ge,ue,ee);return te.matricize&&(ce.values=n(ce.values),ee&&(ce.eigenvectors=ce.eigenvectors.map(se=>{var{value:Te,vector:pe}=se;return{value:Te,vector:n(pe)}}))),ee&&Object.defineProperty(ce,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),ce}function J(ge,Ae,te){var ee=ge.toArray(),ue=ge.size();if(ue.length!==2||ue[0]!==ue[1])throw new RangeError("Matrix must be square (size: ".concat(qt(ue),")"));var ce=ue[0];if(Q(ee,ce,Ae)&&(K(ee,ce),$(ee,ce,Ae))){var se=we(ge,ee,ce);return Z(ee,ce,Ae,se,te)}var Te=we(ge,ee,ce);return H(ee,ce,Ae,Te,te)}function $(ge,Ae,te){for(var ee=0;ee<Ae;ee++)for(var ue=ee;ue<Ae;ue++)if(E(y(s(a(ge[ee][ue],ge[ue][ee]))),te))return!1;return!0}function Q(ge,Ae,te){for(var ee=0;ee<Ae;ee++)for(var ue=0;ue<Ae;ue++)if(E(y(s(k(ge[ee][ue]))),te))return!1;return!0}function K(ge,Ae){for(var te=0;te<Ae;te++)for(var ee=0;ee<Ae;ee++)ge[te][ee]=q(ge[te][ee])}function we(ge,Ae,te){var ee=ge.datatype();if(ee==="number"||ee==="BigNumber"||ee==="Complex")return ee;for(var ue=!1,ce=!1,se=!1,Te=0;Te<te;Te++)for(var pe=0;pe<te;pe++){var Ne=Ae[Te][pe];if(Bt(Ne)||Mg(Ne))ue=!0;else if(kt(Ne))ce=!0;else if(Au(Ne))se=!0;else throw TypeError("Unsupported type in Matrix: "+Dr(Ne))}if(ce&&se&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),se){for(var je=0;je<te;je++)for(var Ke=0;Ke<te;Ke++)Ae[je][Ke]=x(Ae[je][Ke]);return"Complex"}if(ce){for(var Ue=0;Ue<te;Ue++)for(var nt=0;nt<te;nt++)Ae[Ue][nt]=y(Ae[Ue][nt]);return"BigNumber"}if(ue){for(var ae=0;ae<te;ae++)for(var he=0;he<te;he++)Ae[ae][he]=S(Ae[ae][he]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),PU="expm",t6e=["typed","abs","add","identity","inv","multiply"],r6e=ne(PU,t6e,t=>{var{typed:e,abs:r,add:n,identity:i,inv:a,multiply:o}=t;return e(PU,{Matrix:function(d){var p=d.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+qt(p)+")");for(var m=p[0],y=1e-15,g=s(d),b=l(g,y),E=b.q,O=b.j,A=o(d,Math.pow(2,-O)),S=i(m),x=i(m),_=1,T=A,N=-1,C=1;C<=E;C++)C>1&&(T=o(T,A),N=-N),_=_*(E-C+1)/((2*E-C+1)*C),S=n(S,o(_,T)),x=n(x,o(_*N,T));for(var R=o(a(x),S),I=0;I<O;I++)R=o(R,R);return Jc(d)?d.createSparseMatrix(R):R}});function s(f){for(var d=f.size()[0],p=0,m=0;m<d;m++){for(var y=0,g=0;g<d;g++)y+=r(f.get([m,g]));p=Math.max(y,p)}return p}function l(f,d){for(var p=30,m=0;m<p;m++)for(var y=0;y<=m;y++){var g=m-y;if(u(f,y,g)<d)return{q:y,j:g}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(f,d,p){for(var m=1,y=2;y<=d;y++)m*=y;for(var g=m,b=d+1;b<=2*d;b++)g*=b;var E=g*(2*d+1);return 8*Math.pow(f/Math.pow(2,p),2*d)*m*m/(g*E)}}),BU="sqrtm",n6e=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],i6e=ne(BU,n6e,t=>{var{typed:e,abs:r,add:n,multiply:i,map:a,sqrt:o,subtract:s,inv:l,size:u,max:f,identity:d}=t,p=1e3,m=1e-6;function y(g){var b,E=0,O=g,A=d(u(g));do{var S=O;if(O=i(.5,n(S,l(A))),A=i(.5,n(A,l(S))),b=f(r(s(O,S))),b>m&&++E>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(b>m);return O}return e(BU,{"Array | Matrix":function(b){var E=gt(b)?b.size():Dt(b);switch(E.length){case 1:if(E[0]===1)return a(b,o);throw new RangeError("Matrix must be square (size: "+qt(E)+")");case 2:{var O=E[0],A=E[1];if(O===A)return y(b);throw new RangeError("Matrix must be square (size: "+qt(E)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+qt(E)+")")}}})}),kU="sylvester",a6e=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],o6e=ne(kU,a6e,t=>{var{typed:e,schur:r,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:s,transpose:l,index:u,subset:f,add:d,subtract:p,identity:m,lusolve:y,abs:g}=t;return e(kU,{"Matrix, Matrix, Matrix":b,"Array, Matrix, Matrix":function(O,A,S){return b(i(O),A,S)},"Array, Array, Matrix":function(O,A,S){return b(i(O),i(A),S)},"Array, Matrix, Array":function(O,A,S){return b(i(O),A,i(S))},"Matrix, Array, Matrix":function(O,A,S){return b(O,i(A),S)},"Matrix, Array, Array":function(O,A,S){return b(O,i(A),i(S))},"Matrix, Matrix, Array":function(O,A,S){return b(O,A,i(S))},"Array, Array, Array":function(O,A,S){return b(i(O),i(A),i(S)).toArray()}});function b(E,O,A){for(var S=O.size()[0],x=E.size()[0],_=r(E),T=_.T,N=_.U,C=r(a(-1,O)),R=C.T,I=C.U,P=a(a(l(N),A),I),k=o(0,x),q=[],U=(se,Te)=>s(se,Te,1),F=(se,Te)=>s(se,Te,0),V=0;V<S;V++)if(V<S-1&&g(f(R,u(V+1,V)))>1e-5){for(var Z=F(f(P,u(k,V)),f(P,u(k,V+1))),H=0;H<V;H++)Z=d(Z,F(a(q[H],f(R,u(H,V))),a(q[H],f(R,u(H,V+1)))));var z=a(m(x),a(-1,f(R,u(V,V)))),J=a(m(x),a(-1,f(R,u(V+1,V)))),$=a(m(x),a(-1,f(R,u(V,V+1)))),Q=a(m(x),a(-1,f(R,u(V+1,V+1)))),K=F(U(d(T,z),J),U($,d(T,Q))),we=y(K,Z);q[V]=we.subset(u(o(0,x),0)),q[V+1]=we.subset(u(o(x,2*x),0)),V++}else{for(var ge=f(P,u(k,V)),Ae=0;Ae<V;Ae++)ge=d(ge,a(q[Ae],f(R,u(Ae,V))));var te=f(R,u(V,V)),ee=p(T,a(te,m(x)));q[V]=y(ee,ge)}var ue=i(n(...q)),ce=a(N,a(ue,l(I)));return ce}}),FU="schur",s6e=["typed","matrix","identity","multiply","qr","norm","subtract"],u6e=ne(FU,s6e,t=>{var{typed:e,matrix:r,identity:n,multiply:i,qr:a,norm:o,subtract:s}=t;return e(FU,{Array:function(f){var d=l(r(f));return{U:d.U.valueOf(),T:d.T.valueOf()}},Matrix:function(f){return l(f)}});function l(u){var f=u.size()[0],d=u,p=n(f),m=0,y;do{y=d;var g=a(d),b=g.Q,E=g.R;if(d=i(E,b),p=i(p,b),m++>100)break}while(o(s(d,y))>1e-4);return{U:p,T:d}}}),$U="lyap",l6e=["typed","matrix","sylvester","multiply","transpose"],c6e=ne($U,l6e,t=>{var{typed:e,matrix:r,sylvester:n,multiply:i,transpose:a}=t;return e($U,{"Matrix, Matrix":function(s,l){return n(s,a(s),i(-1,l))},"Array, Matrix":function(s,l){return n(r(s),a(r(s)),i(-1,l))},"Matrix, Array":function(s,l){return n(s,a(r(s)),r(i(-1,l)))},"Array, Array":function(s,l){return n(r(s),a(r(s)),r(i(-1,l))).toArray()}})}),f6e="divide",h6e=["typed","matrix","multiply","equalScalar","divideScalar","inv"],d6e=ne(f6e,h6e,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:o}=t,s=gi({typed:e,equalScalar:i}),l=jo({typed:e});return e("divide",sW({"Array | Matrix, Array | Matrix":function(f,d){return n(f,o(d))},"DenseMatrix, any":function(f,d){return l(f,d,a,!1)},"SparseMatrix, any":function(f,d){return s(f,d,a,!1)},"Array, any":function(f,d){return l(r(f),d,a,!1).valueOf()},"any, Array | Matrix":function(f,d){return n(f,o(d))}},a.signatures))}),LU="distance",p6e=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],m6e=ne(LU,p6e,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:s,abs:l}=t;return e(LU,{"Array, Array, Array":function(x,_,T){if(x.length===2&&_.length===2&&T.length===2){if(!f(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!f(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(_,T))throw new TypeError("LinePoint1 should not be same with LinePoint2");var N=n(T[1],_[1]),C=n(_[0],T[0]),R=n(i(T[0],_[1]),i(_[0],T[1]));return b(x[0],x[1],N,C,R)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(x,_,T){if(Object.keys(x).length===2&&Object.keys(_).length===2&&Object.keys(T).length===2){if(!f(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(_))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!f(T))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(y(_),y(T)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in x&&"pointY"in x&&"lineOnePtX"in _&&"lineOnePtY"in _&&"lineTwoPtX"in T&&"lineTwoPtY"in T){var N=n(T.lineTwoPtY,_.lineOnePtY),C=n(_.lineOnePtX,T.lineTwoPtX),R=n(i(T.lineTwoPtX,_.lineOnePtY),i(_.lineOnePtX,T.lineTwoPtY));return b(x.pointX,x.pointY,N,C,R)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(x,_){if(x.length===2&&_.length===3){if(!f(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(_))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return b(x[0],x[1],_[0],_[1],_[2])}else if(x.length===3&&_.length===6){if(!d(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(_))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return E(x[0],x[1],x[2],_[0],_[1],_[2],_[3],_[4],_[5])}else if(x.length===_.length&&x.length>0){if(!p(x))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(_))throw new TypeError("All values of an array should be numbers or BigNumbers");return O(x,_)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(x,_){if(Object.keys(x).length===2&&Object.keys(_).length===3){if(!f(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(_))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"xCoeffLine"in _&&"yCoeffLine"in _&&"constant"in _)return b(x.pointX,x.pointY,_.xCoeffLine,_.yCoeffLine,_.constant);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(_).length===6){if(!d(x))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(_))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"x0"in _&&"y0"in _&&"z0"in _&&"a"in _&&"b"in _&&"c"in _)return E(x.pointX,x.pointY,x.pointZ,_.x0,_.y0,_.z0,_.a,_.b,_.c);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===2&&Object.keys(_).length===2){if(!f(x))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!f(_))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointTwoX"in _&&"pointTwoY"in _)return O([x.pointOneX,x.pointOneY],[_.pointTwoX,_.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(_).length===3){if(!d(x))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(_))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointOneZ"in x&&"pointTwoX"in _&&"pointTwoY"in _&&"pointTwoZ"in _)return O([x.pointOneX,x.pointOneY,x.pointOneZ],[_.pointTwoX,_.pointTwoY,_.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(x){if(!g(x))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return A(x)}});function u(S){return typeof S=="number"||kt(S)}function f(S){return S.constructor!==Array&&(S=y(S)),u(S[0])&&u(S[1])}function d(S){return S.constructor!==Array&&(S=y(S)),u(S[0])&&u(S[1])&&u(S[2])}function p(S){return Array.isArray(S)||(S=y(S)),S.every(u)}function m(S){return S.constructor!==Array&&(S=y(S)),u(S[0])&&u(S[1])&&u(S[2])&&u(S[3])&&u(S[4])&&u(S[5])}function y(S){for(var x=Object.keys(S),_=[],T=0;T<x.length;T++)_.push(S[x[T]]);return _}function g(S){if(S[0].length===2&&u(S[0][0])&&u(S[0][1])){if(S.some(x=>x.length!==2||!u(x[0])||!u(x[1])))return!1}else if(S[0].length===3&&u(S[0][0])&&u(S[0][1])&&u(S[0][2])){if(S.some(x=>x.length!==3||!u(x[0])||!u(x[1])||!u(x[2])))return!1}else return!1;return!0}function b(S,x,_,T,N){var C=l(r(r(i(_,S),i(T,x)),N)),R=s(r(i(_,_),i(T,T)));return a(C,R)}function E(S,x,_,T,N,C,R,I,P){var k=[n(i(n(N,x),P),i(n(C,_),I)),n(i(n(C,_),R),i(n(T,S),P)),n(i(n(T,S),I),i(n(N,x),R))];k=s(r(r(i(k[0],k[0]),i(k[1],k[1])),i(k[2],k[2])));var q=s(r(r(i(R,R),i(I,I)),i(P,P)));return a(k,q)}function O(S,x){for(var _=S.length,T=0,N=0,C=0;C<_;C++)N=n(S[C],x[C]),T=r(i(N,N),T);return s(T)}function A(S){for(var x=[],_=[],T=[],N=0;N<S.length-1;N++)for(var C=N+1;C<S.length;C++)S[0].length===2?(_=[S[N][0],S[N][1]],T=[S[C][0],S[C][1]]):S[0].length===3&&(_=[S[N][0],S[N][1],S[N][2]],T=[S[C][0],S[C][1],S[C][2]]),x.push(O(_,T));return x}}),v6e="intersect",g6e=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],y6e=ne(v6e,g6e,t=>{var{typed:e,config:r,abs:n,add:i,addScalar:a,matrix:o,multiply:s,multiplyScalar:l,divideScalar:u,subtract:f,smaller:d,equalScalar:p,flatten:m,isZero:y,isNumeric:g}=t;return e("intersect",{"Array, Array, Array":b,"Array, Array, Array, Array":E,"Matrix, Matrix, Matrix":function(I,P,k){var q=b(I.valueOf(),P.valueOf(),k.valueOf());return q===null?null:o(q)},"Matrix, Matrix, Matrix, Matrix":function(I,P,k,q){var U=E(I.valueOf(),P.valueOf(),k.valueOf(),q.valueOf());return U===null?null:o(U)}});function b(R,I,P){if(R=O(R),I=O(I),P=O(P),!S(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!S(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(P))throw new TypeError("Array with 4 numbers expected as third argument");return C(R[0],R[1],R[2],I[0],I[1],I[2],P[0],P[1],P[2],P[3])}function E(R,I,P,k){if(R=O(R),I=O(I),P=O(P),k=O(k),R.length===2){if(!A(R))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!A(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!A(P))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!A(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return _(R,I,P,k)}else if(R.length===3){if(!S(R))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!S(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!S(P))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!S(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return N(R[0],R[1],R[2],I[0],I[1],I[2],P[0],P[1],P[2],k[0],k[1],k[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function O(R){return R.length===1?R[0]:R.length>1&&Array.isArray(R[0])&&R.every(I=>Array.isArray(I)&&I.length===1)?m(R):R}function A(R){return R.length===2&&g(R[0])&&g(R[1])}function S(R){return R.length===3&&g(R[0])&&g(R[1])&&g(R[2])}function x(R){return R.length===4&&g(R[0])&&g(R[1])&&g(R[2])&&g(R[3])}function _(R,I,P,k){var q=R,U=P,F=f(q,I),V=f(U,k),Z=f(l(F[0],V[1]),l(V[0],F[1]));if(y(Z)||d(n(Z),r.relTol))return null;var H=l(V[0],q[1]),z=l(V[1],q[0]),J=l(V[0],U[1]),$=l(V[1],U[0]),Q=u(a(f(f(H,z),J),$),Z);return i(s(F,Q),q)}function T(R,I,P,k,q,U,F,V,Z,H,z,J){var $=l(f(R,I),f(P,k)),Q=l(f(q,U),f(F,V)),K=l(f(Z,H),f(z,J));return a(a($,Q),K)}function N(R,I,P,k,q,U,F,V,Z,H,z,J){var $=T(R,F,H,F,I,V,z,V,P,Z,J,Z),Q=T(H,F,k,R,z,V,q,I,J,Z,U,P),K=T(R,F,k,R,I,V,q,I,P,Z,U,P),we=T(H,F,H,F,z,V,z,V,J,Z,J,Z),ge=T(k,R,k,R,q,I,q,I,U,P,U,P),Ae=f(l($,Q),l(K,we)),te=f(l(ge,we),l(Q,Q));if(y(te))return null;var ee=u(Ae,te),ue=u(a($,l(ee,Q)),we),ce=a(R,l(ee,f(k,R))),se=a(I,l(ee,f(q,I))),Te=a(P,l(ee,f(U,P))),pe=a(F,l(ue,f(H,F))),Ne=a(V,l(ue,f(z,V))),je=a(Z,l(ue,f(J,Z)));return p(ce,pe)&&p(se,Ne)&&p(Te,je)?[ce,se,Te]:null}function C(R,I,P,k,q,U,F,V,Z,H){var z=l(R,F),J=l(k,F),$=l(I,V),Q=l(q,V),K=l(P,Z),we=l(U,Z),ge=f(f(f(H,z),$),K),Ae=f(f(f(a(a(J,Q),we),z),$),K),te=u(ge,Ae),ee=a(R,l(te,f(k,R))),ue=a(I,l(te,f(q,I))),ce=a(P,l(te,f(U,P)));return[ee,ue,ce]}}),jU="sum",b6e=["typed","config","add","numeric"],ZY=ne(jU,b6e,t=>{var{typed:e,config:r,add:n,numeric:i}=t;return e(jU,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(l){if(gp(l))throw new TypeError("Scalar values expected in function sum");return a(l)}});function a(s){var l;return Vl(s,function(u){try{l=l===void 0?u:n(l,u)}catch(f){throw Vi(f,"sum",u)}}),l===void 0&&(l=i(0,r.number)),typeof l=="string"&&(l=i(l,Ql(l,r))),l}function o(s,l){try{var u=Ix(s,l,n);return u}catch(f){throw Vi(f,"sum")}}}),W0="cumsum",w6e=["typed","add","unaryPlus"],JY=ne(W0,w6e,t=>{var{typed:e,add:r,unaryPlus:n}=t;return e(W0,{Array:i,Matrix:function(u){return u.create(i(u.valueOf(),u.datatype()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(u,f){return u.create(o(u.valueOf(),f),u.datatype())},"...":function(u){if(gp(u))throw new TypeError("All values expected to be scalar in function cumsum");return i(u)}});function i(l){try{return a(l)}catch(u){throw Vi(u,W0)}}function a(l){if(l.length===0)return[];for(var u=[n(l[0])],f=1;f<l.length;++f)u.push(r(u[f-1],l[f]));return u}function o(l,u){var f=Dt(l);if(u<0||u>=f.length)throw new $o(u,f.length);try{return s(l,u)}catch(d){throw Vi(d,W0)}}function s(l,u){var f,d,p;if(u<=0){var m=l[0][0];if(Array.isArray(m)){for(p=BW(l),d=[],f=0;f<p.length;f++)d[f]=s(p[f],u-1);return d}else return a(l)}else{for(d=[],f=0;f<l.length;f++)d[f]=s(l[f],u-1);return d}}}),qU="mean",x6e=["typed","add","divide"],eQ=ne(qU,x6e,t=>{var{typed:e,add:r,divide:n}=t;return e(qU,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(s){if(gp(s))throw new TypeError("Scalar values expected in function mean");return a(s)}});function i(o,s){try{var l=Ix(o,s,r),u=Array.isArray(o)?Dt(o):o.size();return n(l,u[s])}catch(f){throw Vi(f,"mean")}}function a(o){var s,l=0;if(Vl(o,function(u){try{s=s===void 0?u:r(s,u),l++}catch(f){throw Vi(f,"mean",u)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return n(s,l)}}),UU="median",_6e=["typed","add","divide","compare","partitionSelect"],A6e=ne(UU,_6e,t=>{var{typed:e,add:r,divide:n,compare:i,partitionSelect:a}=t;function o(u){try{u=or(u.valueOf());var f=u.length;if(f===0)throw new Error("Cannot calculate median of an empty array");if(f%2===0){for(var d=f/2-1,p=a(u,d+1),m=u[d],y=0;y<d;++y)i(u[y],m)>0&&(m=u[y]);return l(m,p)}else{var g=a(u,(f-1)/2);return s(g)}}catch(b){throw Vi(b,"median")}}var s=e({"number | BigNumber | Complex | Unit":function(f){return f}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(f,d){return n(r(f,d),2)}});return e(UU,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(f,d){throw new Error("median(A, dim) is not yet supported")},"...":function(f){if(gp(f))throw new TypeError("Scalar values expected in function median");return o(f)}})}),zU="mad",E6e=["typed","abs","map","median","subtract"],S6e=ne(zU,E6e,t=>{var{typed:e,abs:r,map:n,median:i,subtract:a}=t;return e(zU,{"Array | Matrix":o,"...":function(l){return o(l)}});function o(s){if(s=or(s.valueOf()),s.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(s);return i(n(s,function(u){return r(a(u,l))}))}catch(u){throw u instanceof TypeError&&u.message.includes("median")?new TypeError(u.message.replace("median","mad")):Vi(u,"mad")}}}),E2="unbiased",VU="variance",T6e=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],tQ=ne(VU,T6e,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,mapSlices:o,isNaN:s}=t;return e(VU,{"Array | Matrix":function(d){return l(d,E2)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(d,p){return u(d,p,E2)},"Array | Matrix, number | BigNumber, string":u,"...":function(d){return l(d,E2)}});function l(f,d){var p,m=0;if(f.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Vl(f,function(b){try{p=p===void 0?b:r(p,b),m++}catch(E){throw Vi(E,"variance",b)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var y=a(p,m);if(p=void 0,Vl(f,function(b){var E=n(b,y);p=p===void 0?i(E,E):r(p,i(E,E))}),s(p))return p;switch(d){case"uncorrected":return a(p,m);case"biased":return a(p,m+1);case"unbiased":{var g=kt(p)?p.mul(0):0;return m===1?g:a(p,m-1)}default:throw new Error('Unknown normalization "'+d+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(f,d,p){try{if(f.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(f,d,m=>l(m,p))}catch(m){throw Vi(m,"variance")}}}),HU="quantileSeq",D6e=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],rQ=ne(HU,D6e,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:f,smallerEq:d,larger:p,mapSlices:m}=t;return e(HU,{"Array | Matrix, number | BigNumber":(O,A)=>g(O,A,!1),"Array | Matrix, number | BigNumber, number":(O,A,S)=>y(O,A,!1,S,g),"Array | Matrix, number | BigNumber, boolean":g,"Array | Matrix, number | BigNumber, boolean, number":(O,A,S,x)=>y(O,A,S,x,g),"Array | Matrix, Array | Matrix":(O,A)=>b(O,A,!1),"Array | Matrix, Array | Matrix, number":(O,A,S)=>y(O,A,!1,S,b),"Array | Matrix, Array | Matrix, boolean":b,"Array | Matrix, Array | Matrix, boolean, number":(O,A,S,x)=>y(O,A,S,x,b)});function y(O,A,S,x,_){return m(O,x,T=>_(T,A,S))}function g(O,A,S){var x,_=O.valueOf();if(f(A,0))throw new Error("N/prob must be non-negative");if(d(A,1))return Bt(A)?E(_,A,S):r(E(_,A,S));if(p(A,1)){if(!u(A))throw new Error("N must be a positive integer");if(p(A,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var T=n(A,1);x=[];for(var N=0;f(N,A);N++){var C=a(N+1,T);x.push(E(_,C,S))}return Bt(A)?x:r(x)}}function b(O,A,S){for(var x=O.valueOf(),_=A.valueOf(),T=[],N=0;N<_.length;++N)T.push(E(x,_[N],S));return T}function E(O,A,S){var x=or(O),_=x.length;if(_===0)throw new Error("Cannot calculate quantile of an empty sequence");var T=Bt(A)?A*(_-1):A.times(_-1),N=Bt(A)?Math.floor(T):T.floor().toNumber(),C=Bt(A)?T%1:T.minus(N);if(u(T))return S?x[T]:s(x,Bt(A)?T:T.valueOf());var R,I;if(S)R=x[N],I=x[N+1];else{I=s(x,N+1),R=x[N];for(var P=0;P<N;++P)l(x[P],R)>0&&(R=x[P])}return n(o(R,i(1,C)),o(I,C))}}),GU="std",N6e=["typed","map","sqrt","variance"],nQ=ne(GU,N6e,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t;return e(GU,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(s){return a(s)}});function a(o,s){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return fo(l)?r(l,n):n(l)}catch(u){throw u instanceof TypeError&&u.message.includes(" variance")?new TypeError(u.message.replace(" variance"," std")):u}}}),KU="corr",C6e=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],O6e=ne(KU,C6e,t=>{var{typed:e,matrix:r,sqrt:n,sum:i,add:a,subtract:o,multiply:s,pow:l,divide:u}=t;return e(KU,{"Array, Array":function(m,y){return f(m,y)},"Matrix, Matrix":function(m,y){var g=f(m.toArray(),y.toArray());return Array.isArray(g)?r(g):g}});function f(p,m){var y=[];if(Array.isArray(p[0])&&Array.isArray(m[0])){if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var g=0;g<p.length;g++){if(p[g].length!==m[g].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");y.push(d(p[g],m[g]))}return y}else{if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return d(p,m)}}function d(p,m){var y=p.length,g=i(p),b=i(m),E=p.reduce((_,T,N)=>a(_,s(T,m[N])),0),O=i(p.map(_=>l(_,2))),A=i(m.map(_=>l(_,2))),S=o(s(y,E),s(g,b)),x=n(s(o(s(y,O),l(g,2)),o(s(y,A),l(b,2))));return u(S,x)}}),XU="combinations",M6e=["typed"],I6e=ne(XU,M6e,t=>{var{typed:e}=t;return e(XU,{"number, number":rY,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,s,l=n.minus(i),u=new a(1);if(!WU(n)||!WU(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=u,i.lt(l))for(s=u;s.lte(l);s=s.plus(u))o=o.times(i.plus(s)).dividedBy(s);else for(s=u;s.lte(i);s=s.plus(u))o=o.times(l.plus(s)).dividedBy(s);return o}})});function WU(t){return t.isInteger()&&t.gte(0)}var YU="combinationsWithRep",R6e=["typed"],P6e=ne(YU,R6e,t=>{var{typed:e}=t;return e(YU,{"number, number":function(n,i){if(!ft(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!ft(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=bu(n,n+i-1);return a/bu(1,i)}var o=bu(i+1,n+i-1);return o/bu(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,s,l=new a(1),u=n.minus(l);if(!QU(n)||!QU(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,i.lt(u))for(s=l;s.lte(u);s=s.plus(l))o=o.times(i.plus(s)).dividedBy(s);else for(s=l;s.lte(i);s=s.plus(l))o=o.times(u.plus(s)).dividedBy(s);return o}})});function QU(t){return t.isInteger()&&t.gte(0)}var ZU="gamma",B6e=["typed","config","multiplyScalar","pow","BigNumber","Complex"],k6e=ne(ZU,B6e,t=>{var{typed:e,config:r,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=t;function s(u){if(u.im===0)return Q1(u.re);if(u.re<.5){var f=new o(1-u.re,-u.im),d=new o(Math.PI*u.re,Math.PI*u.im);return new o(Math.PI).div(d.sin()).div(s(f))}u=new o(u.re-1,u.im);for(var p=new o(pd[0],0),m=1;m<pd.length;++m){var y=new o(pd[m],0);p=p.add(y.div(u.add(m)))}var g=new o(u.re+iY+.5,u.im),b=Math.sqrt(2*Math.PI),E=g.pow(u.add(.5)),O=g.neg().exp();return p.mul(b).mul(E).mul(O)}return e(ZU,{number:Q1,Complex:s,BigNumber:function(f){if(f.isInteger())return f.isNegative()||f.isZero()?new a(1/0):l(f.minus(1));if(!f.isFinite())return new a(f.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(u){if(u<8)return new a([1,1,2,6,24,120,720,5040][u]);var f=r.precision+(Math.log(u.toNumber())|0),d=a.clone({precision:f});if(u%2===1)return u.times(l(new a(u-1)));for(var p=u,m=new d(u),y=u.toNumber();p>2;)p-=2,y+=p,m=m.times(y);return new a(m.toPrecision(a.precision))}}),JU="lgamma",F6e=["Complex","typed"],$6e=ne(JU,F6e,t=>{var{Complex:e,typed:r}=t,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(JU,{number:Z1,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(u){var f=6.283185307179586,d=1.1447298858494002,p=.1;if(u.isNaN())return new e(NaN,NaN);if(u.im===0)return new e(Z1(u.re),0);if(u.re>=n||Math.abs(u.im)>=i)return s(u);if(u.re<=p){var m=xSe(f,u.im)*Math.floor(.5*u.re+.25),y=u.mul(Math.PI).sin().log(),g=o(new e(1-u.re,-u.im));return new e(d,m).sub(y).sub(g)}else return u.im>=0?l(u):l(u.conjugate()).conjugate()}function s(u){for(var f=u.sub(.5).mul(u.log()).sub(u).add(aY),d=new e(1,0).div(u),p=d.div(u),m=a[0],y=a[1],g=2*p.re,b=p.re*p.re+p.im*p.im,E=2;E<8;E++){var O=y;y=-b*m+a[E],m=g*m+O}var A=d.mul(p.mul(m).add(y));return f.add(A)}function l(u){var f=0,d=0,p=u;for(u=u.add(1);u.re<=n;){p=p.mul(u);var m=p.im<0?1:0;m!==0&&d===0&&f++,d=m,u=u.add(1)}return s(u).sub(p.log()).sub(new e(0,f*2*Math.PI*1))}}),ez="factorial",L6e=["typed","gamma"],j6e=ne(ez,L6e,t=>{var{typed:e,gamma:r}=t;return e(ez,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return r(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return r(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>Ft(i,n))})}),tz="kldivergence",q6e=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],U6e=ne(tz,q6e,t=>{var{typed:e,matrix:r,divide:n,sum:i,multiply:a,map:o,dotDivide:s,log:l,isNumeric:u}=t;return e(tz,{"Array, Array":function(p,m){return f(r(p),r(m))},"Matrix, Array":function(p,m){return f(p,r(m))},"Array, Matrix":function(p,m){return f(r(p),m)},"Matrix, Matrix":function(p,m){return f(p,m)}});function f(d,p){var m=p.size().length,y=d.size().length;if(m>1)throw new Error("first object must be one dimensional");if(y>1)throw new Error("second object must be one dimensional");if(m!==y)throw new Error("Length of two vectors must be equal");var g=i(d);if(g===0)throw new Error("Sum of elements in first object must be non zero");var b=i(p);if(b===0)throw new Error("Sum of elements in second object must be non zero");var E=n(d,i(d)),O=n(p,i(p)),A=i(a(E,o(s(E,O),S=>l(S))));return u(A)?A:Number.NaN}}),rz="multinomial",z6e=["typed","add","divide","multiply","factorial","isInteger","isPositive"],V6e=ne(rz,z6e,t=>{var{typed:e,add:r,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:s}=t;return e(rz,{"Array | Matrix":function(u){var f=0,d=1;return Vl(u,function(p){if(!o(p)||!s(p))throw new TypeError("Positive integer value expected in function multinomial");f=r(f,p),d=i(d,a(p))}),n(a(f),d)}})}),nz="permutations",H6e=["typed","factorial"],G6e=ne(nz,H6e,t=>{var{typed:e,factorial:r}=t;return e(nz,{"number | BigNumber":r,"number, number":function(i,a){if(!ft(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!ft(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return bu(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,s;if(!iz(i)||!iz(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(o=l,s=i.minus(a).plus(1);s.lte(i);s=s.plus(1))o=o.times(s);return o}})});function iz(t){return t.isInteger()&&t.gte(0)}var db={exports:{}},K6e=db.exports,az;function X6e(){return az||(az=1,(function(t){(function(e,r,n){function i(l){var u=this,f=s();u.next=function(){var d=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=d-(u.c=d|0)},u.c=1,u.s0=f(" "),u.s1=f(" "),u.s2=f(" "),u.s0-=f(l),u.s0<0&&(u.s0+=1),u.s1-=f(l),u.s1<0&&(u.s1+=1),u.s2-=f(l),u.s2<0&&(u.s2+=1),f=null}function a(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function o(l,u){var f=new i(l),d=u&&u.state,p=f.next;return p.int32=function(){return f.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,d&&(typeof d=="object"&&a(d,f),p.state=function(){return a(f,{})}),p}function s(){var l=4022871197,u=function(f){f=String(f);for(var d=0;d<f.length;d++){l+=f.charCodeAt(d);var p=.02519603282416938*l;l=p>>>0,p-=l,p*=l,l=p>>>0,p-=l,l+=p*4294967296}return(l>>>0)*23283064365386963e-26};return u}r&&r.exports?r.exports=o:this.alea=o})(K6e,t)})(db)),db.exports}var pb={exports:{}},W6e=pb.exports,oz;function Y6e(){return oz||(oz=1,(function(t){(function(e,r,n){function i(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var d=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^d^d>>>8},s===(s|0)?l.x=s:u+=s;for(var f=0;f<u.length+64;f++)l.x^=u.charCodeAt(f)|0,l.next()}function a(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function o(s,l){var u=new i(s),f=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},d.int32=u.next,d.quick=d,f&&(typeof f=="object"&&a(f,u),d.state=function(){return a(u,{})}),d}r&&r.exports?r.exports=o:this.xor128=o})(W6e,t)})(pb)),pb.exports}var mb={exports:{}},Q6e=mb.exports,sz;function Z6e(){return sz||(sz=1,(function(t){(function(e,r,n){function i(s){var l=this,u="";l.next=function(){var d=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(d^d<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:u+=s;for(var f=0;f<u.length+64;f++)l.x^=u.charCodeAt(f)|0,f==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function a(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function o(s,l){var u=new i(s),f=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},d.int32=u.next,d.quick=d,f&&(typeof f=="object"&&a(f,u),d.state=function(){return a(u,{})}),d}r&&r.exports?r.exports=o:this.xorwow=o})(Q6e,t)})(mb)),mb.exports}var vb={exports:{}},J6e=vb.exports,uz;function e5e(){return uz||(uz=1,(function(t){(function(e,r,n){function i(s){var l=this;l.next=function(){var f=l.x,d=l.i,p,m;return p=f[d],p^=p>>>7,m=p^p<<24,p=f[d+1&7],m^=p^p>>>10,p=f[d+3&7],m^=p^p>>>3,p=f[d+4&7],m^=p^p<<7,p=f[d+7&7],p=p^p<<13,m^=p^p<<9,f[d]=m,l.i=d+1&7,m};function u(f,d){var p,m=[];if(d===(d|0))m[0]=d;else for(d=""+d,p=0;p<d.length;++p)m[p&7]=m[p&7]<<15^d.charCodeAt(p)+m[p+1&7]<<13;for(;m.length<8;)m.push(0);for(p=0;p<8&&m[p]===0;++p);for(p==8?m[7]=-1:m[p],f.x=m,f.i=0,p=256;p>0;--p)f.next()}u(l,s)}function a(s,l){return l.x=s.x.slice(),l.i=s.i,l}function o(s,l){s==null&&(s=+new Date);var u=new i(s),f=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},d.int32=u.next,d.quick=d,f&&(f.x&&a(f,u),d.state=function(){return a(u,{})}),d}r&&r.exports?r.exports=o:this.xorshift7=o})(J6e,t)})(vb)),vb.exports}var gb={exports:{}},t5e=gb.exports,lz;function r5e(){return lz||(lz=1,(function(t){(function(e,r,n){function i(s){var l=this;l.next=function(){var f=l.w,d=l.X,p=l.i,m,y;return l.w=f=f+1640531527|0,y=d[p+34&127],m=d[p=p+1&127],y^=y<<13,m^=m<<17,y^=y>>>15,m^=m>>>12,y=d[p]=y^m,l.i=p,y+(f^f>>>16)|0};function u(f,d){var p,m,y,g,b,E=[],O=128;for(d===(d|0)?(m=d,d=null):(d=d+"\0",m=0,O=Math.max(O,d.length)),y=0,g=-32;g<O;++g)d&&(m^=d.charCodeAt((g+32)%d.length)),g===0&&(b=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,g>=0&&(b=b+1640531527|0,p=E[g&127]^=m+b,y=p==0?y+1:0);for(y>=128&&(E[(d&&d.length||0)&127]=-1),y=127,g=512;g>0;--g)m=E[y+34&127],p=E[y=y+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,E[y]=m^p;f.w=b,f.X=E,f.i=y}u(l,s)}function a(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function o(s,l){s==null&&(s=+new Date);var u=new i(s),f=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},d.int32=u.next,d.quick=d,f&&(f.X&&a(f,u),d.state=function(){return a(u,{})}),d}r&&r.exports?r.exports=o:this.xor4096=o})(t5e,t)})(gb)),gb.exports}var yb={exports:{}},n5e=yb.exports,cz;function i5e(){return cz||(cz=1,(function(t){(function(e,r,n){function i(s){var l=this,u="";l.next=function(){var d=l.b,p=l.c,m=l.d,y=l.a;return d=d<<25^d>>>7^p,p=p-m|0,m=m<<24^m>>>8^y,y=y-d|0,l.b=d=d<<20^d>>>12^p,l.c=p=p-m|0,l.d=m<<16^p>>>16^y,l.a=y-d|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):u+=s;for(var f=0;f<u.length+20;f++)l.b^=u.charCodeAt(f)|0,l.next()}function a(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function o(s,l){var u=new i(s),f=l&&l.state,d=function(){return(u.next()>>>0)/4294967296};return d.double=function(){do var p=u.next()>>>11,m=(u.next()>>>0)/4294967296,y=(p+m)/(1<<21);while(y===0);return y},d.int32=u.next,d.quick=d,f&&(typeof f=="object"&&a(f,u),d.state=function(){return a(u,{})}),d}r&&r.exports?r.exports=o:this.tychei=o})(n5e,t)})(yb)),yb.exports}var bb={exports:{}};const a5e={},o5e=Object.freeze(Object.defineProperty({__proto__:null,default:a5e},Symbol.toStringTag,{value:"Module"})),s5e=EJ(o5e);var u5e=bb.exports,fz;function l5e(){return fz||(fz=1,(function(t){(function(e,r,n){var i=256,a=6,o=52,s="random",l=n.pow(i,a),u=n.pow(2,o),f=u*2,d=i-1,p;function m(S,x,_){var T=[];x=x==!0?{entropy:!0}:x||{};var N=E(b(x.entropy?[S,A(r)]:S??O(),3),T),C=new y(T),R=function(){for(var I=C.g(a),P=l,k=0;I<u;)I=(I+k)*i,P*=i,k=C.g(1);for(;I>=f;)I/=2,P/=2,k>>>=1;return(I+k)/P};return R.int32=function(){return C.g(4)|0},R.quick=function(){return C.g(4)/4294967296},R.double=R,E(A(C.S),r),(x.pass||_||function(I,P,k,q){return q&&(q.S&&g(q,C),I.state=function(){return g(C,{})}),k?(n[s]=I,P):I})(R,N,"global"in x?x.global:this==n,x.state)}function y(S){var x,_=S.length,T=this,N=0,C=T.i=T.j=0,R=T.S=[];for(_||(S=[_++]);N<i;)R[N]=N++;for(N=0;N<i;N++)R[N]=R[C=d&C+S[N%_]+(x=R[N])],R[C]=x;(T.g=function(I){for(var P,k=0,q=T.i,U=T.j,F=T.S;I--;)P=F[q=d&q+1],k=k*i+F[d&(F[q]=F[U=d&U+P])+(F[U]=P)];return T.i=q,T.j=U,k})(i)}function g(S,x){return x.i=S.i,x.j=S.j,x.S=S.S.slice(),x}function b(S,x){var _=[],T=typeof S,N;if(x&&T=="object")for(N in S)try{_.push(b(S[N],x-1))}catch{}return _.length?_:T=="string"?S:S+"\0"}function E(S,x){for(var _=S+"",T,N=0;N<_.length;)x[d&N]=d&(T^=x[d&N]*19)+_.charCodeAt(N++);return A(x)}function O(){try{var S;return p&&(S=p.randomBytes)?S=S(i):(S=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(S)),A(S)}catch{var x=e.navigator,_=x&&x.plugins;return[+new Date,e,_,e.screen,A(r)]}}function A(S){return String.fromCharCode.apply(0,S)}if(E(n.random(),r),t.exports){t.exports=m;try{p=s5e}catch{}}else n["seed"+s]=m})(typeof self<"u"?self:u5e,[],Math)})(bb)),bb.exports}var S2,hz;function c5e(){if(hz)return S2;hz=1;var t=X6e(),e=Y6e(),r=Z6e(),n=e5e(),i=r5e(),a=i5e(),o=l5e();return o.alea=t,o.xor128=e,o.xorwow=r,o.xorshift7=n,o.xor4096=i,o.tychei=a,S2=o,S2}var f5e=c5e();const iQ=pr(f5e);var h5e=iQ(Date.now());function ep(t){var e;function r(i){e=i===null?h5e:iQ(String(i))}r(t);function n(){return e()}return n}var dz="pickRandom",d5e=["typed","config","?on"],p5e=ne(dz,d5e,t=>{var{typed:e,config:r,on:n}=t,i=ep(r.randomSeed);return n&&n("config",function(o,s){o.randomSeed!==s.randomSeed&&(i=ep(o.randomSeed))}),e(dz,{"Array | Matrix":function(s){return a(s,{})},"Array | Matrix, Object":function(s,l){return a(s,l)},"Array | Matrix, number":function(s,l){return a(s,{number:l})},"Array | Matrix, Array | Matrix":function(s,l){return a(s,{weights:l})},"Array | Matrix, Array | Matrix, number":function(s,l,u){return a(s,{number:u,weights:l})},"Array | Matrix, number, Array | Matrix":function(s,l,u){return a(s,{number:l,weights:u})}});function a(o,s){var{number:l,weights:u,elementWise:f=!0}=s,d=typeof l>"u";d&&(l=1);var p=gt(o)?o.create:gt(u)?u.create:null;o=o.valueOf(),u&&(u=u.valueOf()),f===!0&&(o=or(o),u=or(u));var m=0;if(typeof u<"u"){if(u.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var y=0,g=u.length;y<g;y++){if(!Bt(u[y])||u[y]<0)throw new Error("Weights must be an array of positive numbers");m+=u[y]}}for(var b=o.length,E=[],O;E.length<l;){if(typeof u>"u")O=o[Math.floor(i()*b)];else for(var A=i()*m,S=0,x=o.length;S<x;S++)if(A-=u[S],A<0){O=o[S];break}E.push(O)}return d?E[0]:p?p(E):E}});function wI(t,e){var r=[];if(t=t.slice(0),t.length>1)for(var n=0,i=t.shift();n<i;n++)r.push(wI(t,e));else for(var a=0,o=t.shift();a<o;a++)r.push(e());return r}var pz="random",m5e=["typed","config","?on"],v5e=ne(pz,m5e,t=>{var{typed:e,config:r,on:n}=t,i=ep(r.randomSeed);return n&&n("config",function(s,l){s.randomSeed!==l.randomSeed&&(i=ep(s.randomSeed))}),e(pz,{"":()=>o(0,1),number:s=>o(0,s),"number, number":(s,l)=>o(s,l),"Array | Matrix":s=>a(s,0,1),"Array | Matrix, number":(s,l)=>a(s,0,l),"Array | Matrix, number, number":(s,l,u)=>a(s,l,u)});function a(s,l,u){var f=wI(s.valueOf(),()=>o(l,u));return gt(s)?s.create(f,"number"):f}function o(s,l){return s+i()*(l-s)}}),mz="randomInt",g5e=["typed","config","log2","?on"],y5e=ne(mz,g5e,t=>{var{typed:e,config:r,log2:n,on:i}=t,a=ep(r.randomSeed);return i&&i("config",function(u,f){u.randomSeed!==f.randomSeed&&(a=ep(u.randomSeed))}),e(mz,{"":()=>s(0,2),number:u=>s(0,u),"number, number":(u,f)=>s(u,f),bigint:u=>l(0n,u),"bigint, bigint":l,"Array | Matrix":u=>o(u,0,1),"Array | Matrix, number":(u,f)=>o(u,0,f),"Array | Matrix, number, number":(u,f,d)=>o(u,f,d)});function o(u,f,d){var p=wI(u.valueOf(),()=>s(f,d));return gt(u)?u.create(p,"number"):p}function s(u,f){return Math.floor(u+a()*(f-u))}function l(u,f){var d=2n**30n,p=f-u;if(p<=d)return u+BigInt(s(0,Number(p)));for(var m=n(p),y=p;y>=p;){y=0n;for(var g=0;g<m;++g)y=2n*y+(a()<.5?0n:1n)}return u+y}}),vz="stirlingS2",b5e=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],w5e=ne(vz,b5e,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:s,combinations:l,isNegative:u,isInteger:f,number:d,bignumber:p,larger:m}=t,y=[],g=[];return e(vz,{"number | BigNumber, number | BigNumber":function(E,O){if(!f(E)||u(E)||!f(O)||u(O))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(O,E))throw new TypeError("k must be less than or equal to n in function stirlingS2");var A=!(Bt(E)&&Bt(O)),S=A?g:y,x=A?p:d,_=d(E),T=d(O);if(S[_]&&S[_].length>T)return S[_][T];for(var N=0;N<=_;++N)if(S[N]||(S[N]=[x(N===0?1:0)]),N!==0)for(var C=S[N],R=S[N-1],I=C.length;I<=N&&I<=T;++I)I===N?C[I]=1:C[I]=r(i(x(I),R[I]),R[I-1]);return S[_][T]}})}),gz="bellNumbers",x5e=["typed","addScalar","isNegative","isInteger","stirlingS2"],_5e=ne(gz,x5e,t=>{var{typed:e,addScalar:r,isNegative:n,isInteger:i,stirlingS2:a}=t;return e(gz,{"number | BigNumber":function(s){if(!i(s)||n(s))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,u=0;u<=s;u++)l=r(l,a(s,u));return l}})}),yz="catalan",A5e=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],E5e=ne(yz,A5e,t=>{var{typed:e,addScalar:r,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:s}=t;return e(yz,{"number | BigNumber":function(u){if(!s(u)||o(u))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(u,2),u),r(u,1))}})}),bz="composition",S5e=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],T5e=ne(bz,S5e,t=>{var{typed:e,addScalar:r,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:s}=t;return e(bz,{"number | BigNumber, number | BigNumber":function(u,f){if(!o(u)||!i(u)||!o(f)||!i(f))throw new TypeError("Positive integer value expected in function composition");if(s(f,u))throw new TypeError("k must be less than or equal to n in function composition");return n(r(u,-1),r(f,-1))}})}),wz="leafCount",D5e=["parse","typed"],N5e=ne(wz,D5e,t=>{var{parse:e,typed:r}=t;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return r(wz,{Node:function(a){return n(a)}})});function xz(t){return er(t)||dn(t)&&t.isUnary()&&er(t.args[0])}function uw(t){return!!(er(t)||(ql(t)||dn(t))&&t.args.every(uw)||Ru(t)&&uw(t.content))}function _z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(r),!0).forEach(function(n){Sn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var C5e="simplifyUtil",O5e=["FunctionNode","OperatorNode","SymbolNode"],xI=ne(C5e,O5e,t=>{var{FunctionNode:e,OperatorNode:r,SymbolNode:n}=t,i=!0,a=!1,o="defaultF",s={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},l={divide:{total:a},log:{total:a}},u={subtract:{total:a},abs:{trivial:i},log:{total:i}};function f(A,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,_=o;if(typeof A=="string"?_=A:dn(A)?_=A.fn.toString():ql(A)?_=A.name:Ru(A)&&(_="paren"),ut(x,_)){var T=x[_];if(ut(T,S))return T[S];if(ut(s,_))return s[_][S]}if(ut(x,o)){var N=x[o];return ut(N,S)?N[S]:s[o][S]}if(ut(s,_)){var C=s[_];if(ut(C,S))return C[S]}return s[o][S]}function d(A){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return f(A,"commutative",S)}function p(A){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return f(A,"associative",S)}function m(A,S){var x=T2({},A);for(var _ in S)ut(A,_)?x[_]=T2(T2({},S[_]),A[_]):x[_]=S[_];return x}function y(A,S){if(!A.args||A.args.length===0)return A;A.args=g(A,S);for(var x=0;x<A.args.length;x++)y(A.args[x],S)}function g(A,S){var x,_=[],T=function(C){for(var R=0;R<C.args.length;R++){var I=C.args[R];dn(I)&&x===I.op?T(I):_.push(I)}};return p(A,S)?(x=A.op,T(A),_):A.args}function b(A,S){if(!(!A.args||A.args.length===0)){for(var x=O(A),_=A.args.length,T=0;T<_;T++)b(A.args[T],S);if(_>2&&p(A,S)){for(var N=A.args.pop();A.args.length>0;)N=x([A.args.pop(),N]);A.args=N.args}}}function E(A,S){if(!(!A.args||A.args.length===0)){for(var x=O(A),_=A.args.length,T=0;T<_;T++)E(A.args[T],S);if(_>2&&p(A,S)){for(var N=A.args.shift();A.args.length>0;)N=x([N,A.args.shift()]);A.args=N.args}}}function O(A){return dn(A)?function(S){try{return new r(A.op,A.fn,S,A.implicit)}catch(x){return console.error(x),[]}}:function(S){return new e(new n(A.name),S)}}return{createMakeNodeFunction:O,hasProperty:f,isCommutative:d,isAssociative:p,mergeContext:m,flatten:y,allChildren:g,unflattenr:b,unflattenl:E,defaultContext:s,realContext:l,positiveContext:u}}),M5e="simplify",I5e=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],R5e=ne(M5e,I5e,t=>{var{typed:e,parse:r,equal:n,resolve:i,simplifyConstant:a,simplifyCore:o,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:f,IndexNode:d,ObjectNode:p,OperatorNode:m,ParenthesisNode:y,SymbolNode:g,replacer:b}=t,{hasProperty:E,isCommutative:O,isAssociative:A,mergeContext:S,flatten:x,unflattenr:_,unflattenl:T,createMakeNodeFunction:N,defaultContext:C,realContext:R,positiveContext:I}=xI({FunctionNode:f,OperatorNode:m,SymbolNode:g});e.addConversion({from:"Object",to:"Map",convert:hd});var P=e("simplify",{Node:H,"Node, Map":(te,ee)=>H(te,!1,ee),"Node, Map, Object":(te,ee,ue)=>H(te,!1,ee,ue),"Node, Array":H,"Node, Array, Map":H,"Node, Array, Map, Object":H});e.removeConversion({from:"Object",to:"Map",convert:hd}),P.defaultContext=C,P.realContext=R,P.positiveContext=I;function k(te){return te.transform(function(ee){return Ru(ee)?k(ee.content):ee})}var q={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};P.rules=[o,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},a,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},a,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function U(te,ee){var ue={};if(te.s){var ce=te.s.split("->");if(ce.length===2)ue.l=ce[0],ue.r=ce[1];else throw SyntaxError("Could not parse rule: "+te.s)}else ue.l=te.l,ue.r=te.r;ue.l=k(r(ue.l)),ue.r=k(r(ue.r));for(var se of["imposeContext","repeat","assuming"])se in te&&(ue[se]=te[se]);if(te.evaluate&&(ue.evaluate=r(te.evaluate)),A(ue.l,ee)){var Te=!O(ue.l,ee),pe;Te&&(pe=Z());var Ne=N(ue.l),je=Z();ue.expanded={},ue.expanded.l=Ne([ue.l,je]),x(ue.expanded.l,ee),_(ue.expanded.l,ee),ue.expanded.r=Ne([ue.r,je]),Te&&(ue.expandedNC1={},ue.expandedNC1.l=Ne([pe,ue.l]),ue.expandedNC1.r=Ne([pe,ue.r]),ue.expandedNC2={},ue.expandedNC2.l=Ne([pe,ue.expanded.l]),ue.expandedNC2.r=Ne([pe,ue.expanded.r]))}return ue}function F(te,ee){for(var ue=[],ce=0;ce<te.length;ce++){var se=te[ce],Te=void 0,pe=typeof se;switch(pe){case"string":se={s:se};case"object":Te=U(se,ee);break;case"function":Te=se;break;default:throw TypeError("Unsupported type of rule: "+pe)}ue.push(Te)}return ue}var V=0;function Z(){return new g("_p"+V++)}function H(te,ee){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ag(),ce=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},se=ce.consoleDebug;ee=F(ee||P.rules,ce.context);var Te=i(te,ue);Te=k(Te);for(var pe={},Ne=Te.toString({parenthesis:"all"});!pe[Ne];){pe[Ne]=!0,V=0;var je=Ne;se&&console.log("Working on: ",Ne);for(var Ke=0;Ke<ee.length;Ke++){var Ue="";if(typeof ee[Ke]=="function"?(Te=ee[Ke](Te,ce),se&&(Ue=ee[Ke].name)):(x(Te,ce.context),Te=J(Te,ee[Ke],ce.context),se&&(Ue="".concat(ee[Ke].l.toString()," -> ").concat(ee[Ke].r.toString()))),se){var nt=Te.toString({parenthesis:"all"});nt!==je&&(console.log("Applying",Ue,"produced",nt),je=nt)}T(Te,ce.context)}Ne=Te.toString({parenthesis:"all"})}return Te}function z(te,ee,ue){var ce=te;if(te)for(var se=0;se<te.length;++se){var Te=J(te[se],ee,ue);Te!==te[se]&&(ce===te&&(ce=te.slice()),ce[se]=Te)}return ce}function J(te,ee,ue){if(ee.assuming){for(var ce in ee.assuming)for(var se in ee.assuming[ce])if(E(ce,se,ue)!==ee.assuming[ce][se])return te}var Te=S(ee.imposeContext,ue),pe=te;if(pe instanceof m||pe instanceof f){var Ne=z(pe.args,ee,ue);Ne!==pe.args&&(pe=pe.clone(),pe.args=Ne)}else if(pe instanceof y){if(pe.content){var je=J(pe.content,ee,ue);je!==pe.content&&(pe=new y(je))}}else if(pe instanceof l){var Ke=z(pe.items,ee,ue);Ke!==pe.items&&(pe=new l(Ke))}else if(pe instanceof s){var Ue=pe.object;pe.object&&(Ue=J(pe.object,ee,ue));var nt=pe.index;pe.index&&(nt=J(pe.index,ee,ue)),(Ue!==pe.object||nt!==pe.index)&&(pe=new s(Ue,nt))}else if(pe instanceof d){var ae=z(pe.dimensions,ee,ue);ae!==pe.dimensions&&(pe=new d(ae))}else if(pe instanceof p){var he=!1,le={};for(var Y in pe.properties)le[Y]=J(pe.properties[Y],ee,ue),le[Y]!==pe.properties[Y]&&(he=!0);he&&(pe=new p(le))}var ie=ee.r,fe=ge(ee.l,pe,Te)[0];if(!fe&&ee.expanded&&(ie=ee.expanded.r,fe=ge(ee.expanded.l,pe,Te)[0]),!fe&&ee.expandedNC1&&(ie=ee.expandedNC1.r,fe=ge(ee.expandedNC1.l,pe,Te)[0],fe||(ie=ee.expandedNC2.r,fe=ge(ee.expandedNC2.l,pe,Te)[0])),fe){var ye=pe.implicit;pe=ie.clone(),ye&&"implicit"in ie&&(pe.implicit=!0),pe=pe.transform(function(me){return me.isSymbolNode&&ut(fe.placeholders,me.name)?fe.placeholders[me.name].clone():me})}return ee.repeat&&pe!==te&&(pe=J(pe,ee,ue)),pe}function $(te,ee){var ue=[],ce,se,Te=N(te);if(O(te,ee))for(var pe=0;pe<te.args.length;pe++)se=te.args.slice(0),se.splice(pe,1),ce=se.length===1?se[0]:Te(se),ue.push(Te([te.args[pe],ce]));else for(var Ne=1;Ne<te.args.length;Ne++){var je=te.args[0];Ne>1&&(je=Te(te.args.slice(0,Ne))),se=te.args.slice(Ne),ce=se.length===1?se[0]:Te(se),ue.push(Te([je,ce]))}return ue}function Q(te,ee){var ue={placeholders:{}};if(!te.placeholders&&!ee.placeholders)return ue;if(te.placeholders){if(!ee.placeholders)return te}else return ee;for(var ce in te.placeholders)if(ut(te.placeholders,ce)&&(ue.placeholders[ce]=te.placeholders[ce],ut(ee.placeholders,ce)&&!Ae(te.placeholders[ce],ee.placeholders[ce])))return null;for(var se in ee.placeholders)ut(ee.placeholders,se)&&(ue.placeholders[se]=ee.placeholders[se]);return ue}function K(te,ee){var ue=[];if(te.length===0||ee.length===0)return ue;for(var ce,se=0;se<te.length;se++)for(var Te=0;Te<ee.length;Te++)ce=Q(te[se],ee[Te]),ce&&ue.push(ce);return ue}function we(te){if(te.length===0)return te;for(var ee=te.reduce(K),ue=[],ce={},se=0;se<ee.length;se++){var Te=JSON.stringify(ee[se],b);ce[Te]||(ce[Te]=!0,ue.push(ee[se]))}return ue}function ge(te,ee,ue,ce){var se=[{placeholders:{}}];if(te instanceof m&&ee instanceof m||te instanceof f&&ee instanceof f){if(te instanceof m){if(te.op!==ee.op||te.fn!==ee.fn)return[]}else if(te instanceof f&&te.name!==ee.name)return[];if(ee.args.length===1&&te.args.length===1||!A(ee,ue)&&ee.args.length===te.args.length||ce){for(var Te=[],pe=0;pe<te.args.length;pe++){var Ne=ge(te.args[pe],ee.args[pe],ue);if(Ne.length===0)break;Te.push(Ne)}if(Te.length!==te.args.length){if(!O(ee,ue)||te.args.length===1)return[];if(te.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var je=ge(te.args[0],ee.args[1],ue);if(je.length===0)return[];var Ke=ge(te.args[1],ee.args[0],ue);if(Ke.length===0)return[];Te=[je,Ke]}se=we(Te)}else if(ee.args.length>=2&&te.args.length===2){for(var Ue=$(ee,ue),nt=[],ae=0;ae<Ue.length;ae++){var he=ge(te,Ue[ae],ue,!0);nt=nt.concat(he)}return nt}else{if(te.args.length>2)throw Error("Unexpected non-binary associative function: "+te.toString());return[]}}else if(te instanceof g){if(te.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(q[te.name]){if(te.name!==ee.name)return[]}else switch(te.name[1]>="a"&&te.name[1]<="z"?te.name.substring(0,2):te.name[0]){case"n":case"_p":se[0].placeholders[te.name]=ee;break;case"c":case"cl":if(er(ee))se[0].placeholders[te.name]=ee;else return[];break;case"v":if(!er(ee))se[0].placeholders[te.name]=ee;else return[];break;case"vl":if(ri(ee))se[0].placeholders[te.name]=ee;else return[];break;case"cd":if(xz(ee))se[0].placeholders[te.name]=ee;else return[];break;case"vd":if(!xz(ee))se[0].placeholders[te.name]=ee;else return[];break;case"ce":if(uw(ee))se[0].placeholders[te.name]=ee;else return[];break;case"ve":if(!uw(ee))se[0].placeholders[te.name]=ee;else return[];break;default:throw new Error("Invalid symbol in rule: "+te.name)}}else if(te instanceof u){if(!n(te.value,ee.value))return[]}else return[];return se}function Ae(te,ee){if(te instanceof u&&ee instanceof u){if(!n(te.value,ee.value))return!1}else if(te instanceof g&&ee instanceof g){if(te.name!==ee.name)return!1}else if(te instanceof m&&ee instanceof m||te instanceof f&&ee instanceof f){if(te instanceof m){if(te.op!==ee.op||te.fn!==ee.fn)return!1}else if(te instanceof f&&te.name!==ee.name)return!1;if(te.args.length!==ee.args.length)return!1;for(var ue=0;ue<te.args.length;ue++)if(!Ae(te.args[ue],ee.args[ue]))return!1}else return!1;return!0}return P}),P5e="simplifyConstant",B5e=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],k5e=ne(P5e,B5e,t=>{var{typed:e,config:r,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:f,IndexNode:d,ObjectNode:p,OperatorNode:m,SymbolNode:y}=t,{isCommutative:g,isAssociative:b,allChildren:E,createMakeNodeFunction:O}=xI({FunctionNode:f,OperatorNode:m,SymbolNode:y}),A=e("simplifyConstant",{Node:U=>T(q(U,{})),"Node, Object":function(F,V){return T(q(F,V))}});function S(U){return Mg(U)?U.valueOf():U instanceof Array?U.map(S):gt(U)?i(S(U.valueOf())):U}function x(U,F,V){try{return n[U].apply(null,F)}catch{return F=F.map(S),C(n[U].apply(null,F),V)}}var _=e({Fraction:I,number:function(F){return F<0?R(new u(-F)):new u(F)},BigNumber:function(F){return F<0?R(new u(-F)):new u(F)},bigint:function(F){return F<0n?R(new u(-F)):new u(F)},Complex:function(F){throw new Error("Cannot convert Complex number to Node")},string:function(F){return new u(F)},Matrix:function(F){return new l(F.valueOf().map(V=>_(V)))}});function T(U){return wr(U)?U:_(U)}function N(U,F){var V=F&&F.exactFractions!==!1;if(V&&isFinite(U)&&a){var Z=a(U),H=F&&typeof F.fractionsLimit=="number"?F.fractionsLimit:1/0;if(Z.valueOf()===U&&Z.n<H&&Z.d<H)return Z}return U}var C=e({"string, Object":function(F,V){var Z=Ql(F,r);if(Z==="BigNumber")return o===void 0&&vI(),o(F);if(Z==="bigint")return BigInt(F);if(Z==="Fraction")return a===void 0&&FY(),a(F);var H=parseFloat(F);return N(H,V)},"Fraction, Object":function(F,V){return F},"BigNumber, Object":function(F,V){return F},"number, Object":function(F,V){return N(F,V)},"bigint, Object":function(F,V){return F},"Complex, Object":function(F,V){return F.im!==0?F:N(F.re,V)},"Matrix, Object":function(F,V){return i(N(F.valueOf()))},"Array, Object":function(F,V){return F.map(N)}});function R(U){return new m("-","unaryMinus",[U])}function I(U){var F=H=>r.number==="BigNumber"&&o?o(H):Number(H),V=U.s*U.n,Z=V<0n?new m("-","unaryMinus",[new u(-F(V))]):new u(F(V));return U.d===1n?Z:new m("/","divide",[Z,new u(F(U.d))])}function P(U,F,V){if(!vp(F))return new s(T(U),T(F));if(ro(U)||gt(U)){for(var Z=Array.from(F.dimensions);Z.length>0;)if(er(Z[0])&&typeof Z[0].value!="string"){var H=C(Z.shift().value,V);ro(U)?U=U.items[H-1]:(U=U.valueOf()[H-1],U instanceof Array&&(U=i(U)))}else if(Z.length>1&&er(Z[1])&&typeof Z[1].value!="string"){var z=C(Z[1].value,V),J=[],$=ro(U)?U.items:U.valueOf();for(var Q of $)if(ro(Q))J.push(Q.items[z-1]);else if(gt(U))J.push(Q[z-1]);else break;if(J.length===$.length)ro(U)?U=new l(J):U=i(J),Z.splice(1,1);else break}else break;return Z.length===F.dimensions.length?new s(T(U),F):Z.length>0?(F=new d(Z),new s(T(U),F)):U}if(Tx(U)&&F.dimensions.length===1&&er(F.dimensions[0])){var K=F.dimensions[0].value;return K in U.properties?U.properties[K]:new u}return new s(T(U),F)}function k(U,F,V,Z){var H=F.shift(),z=F.reduce((J,$)=>{if(!wr($)){var Q=J.pop();if(wr(Q))return[Q,$];try{return J.push(x(U,[Q,$],Z)),J}catch{J.push(Q)}}J.push(T(J.pop()));var K=J.length===1?J[0]:V(J);return[V([K,T($)])]},[H]);return z.length===1?z[0]:V([z[0],_(z[1])])}function q(U,F){switch(U.type){case"SymbolNode":return U;case"ConstantNode":switch(typeof U.value){case"number":return C(U.value,F);case"bigint":return C(U.value,F);case"string":return U.value;default:if(!isNaN(U.value))return C(U.value,F)}return U;case"FunctionNode":if(n[U.name]&&n[U.name].rawArgs)return U;{var V=["add","multiply"];if(!V.includes(U.name)){var Z=U.args.map(ce=>q(ce,F));if(!Z.some(wr))try{return x(U.name,Z,F)}catch{}if(U.name==="size"&&Z.length===1&&ro(Z[0])){for(var H=[],z=Z[0];ro(z);)H.push(z.items.length),z=z.items[0];return i(H)}return new f(U.name,Z.map(T))}}case"OperatorNode":{var J=U.fn.toString(),$,Q,K=O(U);if(dn(U)&&U.isUnary())$=[q(U.args[0],F)],wr($[0])?Q=K($):Q=x(J,$,F);else if(b(U,F.context))if($=E(U,F.context),$=$.map(ce=>q(ce,F)),g(J,F.context)){for(var we=[],ge=[],Ae=0;Ae<$.length;Ae++)wr($[Ae])?ge.push($[Ae]):we.push($[Ae]);we.length>1?(Q=k(J,we,K,F),ge.unshift(Q),Q=k(J,ge,K,F)):Q=k(J,$,K,F)}else Q=k(J,$,K,F);else $=U.args.map(ce=>q(ce,F)),Q=k(J,$,K,F);return Q}case"ParenthesisNode":return q(U.content,F);case"AccessorNode":return P(q(U.object,F),q(U.index,F),F);case"ArrayNode":{var te=U.items.map(ce=>q(ce,F));return te.some(wr)?new l(te.map(T)):i(te)}case"IndexNode":return new d(U.dimensions.map(ce=>A(ce,F)));case"ObjectNode":{var ee={};for(var ue in U.properties)ee[ue]=A(U.properties[ue],F);return new p(ee)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(U.type))}}return A}),Az="simplifyCore",F5e=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],$5e=ne(Az,F5e,t=>{var{typed:e,parse:r,equal:n,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,AccessorNode:f,ArrayNode:d,ConstantNode:p,FunctionNode:m,IndexNode:y,ObjectNode:g,OperatorNode:b,ParenthesisNode:E,SymbolNode:O}=t,A=new p(0),S=new p(1),x=new p(!0),_=new p(!1);function T(I){return dn(I)&&["and","not","or"].includes(I.op)}var{hasProperty:N,isCommutative:C}=xI({FunctionNode:m,OperatorNode:b,SymbolNode:O});function R(I){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=P?P.context:void 0;if(N(I,"trivial",k)){if(ql(I)&&I.args.length===1)return R(I.args[0],P);var q=!1,U=0;if(I.forEach(ge=>{++U,U===1&&(q=R(ge,P))}),U===1)return q}var F=I;if(ql(F)){var V=PPe(F.name);if(V){if(F.args.length>2&&N(F,"associative",k))for(;F.args.length>2;){var Z=F.args.pop(),H=F.args.pop();F.args.push(new b(V,F.name,[Z,H]))}F=new b(V,F.name,F.args)}else return new m(R(F.fn),F.args.map(ge=>R(ge,P)))}if(dn(F)&&F.isUnary()){var z=R(F.args[0],P);if(F.op==="~"&&dn(z)&&z.isUnary()&&z.op==="~"||F.op==="not"&&dn(z)&&z.isUnary()&&z.op==="not"&&T(z.args[0]))return z.args[0];var J=!0;if(F.op==="-"&&dn(z)&&(z.isBinary()&&z.fn==="subtract"&&(F=new b("-","subtract",[z.args[1],z.args[0]]),J=!1),z.isUnary()&&z.op==="-"))return z.args[0];if(J)return new b(F.op,F.fn,[z])}if(dn(F)&&F.isBinary()){var $=R(F.args[0],P),Q=R(F.args[1],P);if(F.op==="+"){if(er($)&&i($.value))return Q;if(er(Q)&&i(Q.value))return $;dn(Q)&&Q.isUnary()&&Q.op==="-"&&(Q=Q.args[0],F=new b("-","subtract",[$,Q]))}if(F.op==="-")return dn(Q)&&Q.isUnary()&&Q.op==="-"?R(new b("+","add",[$,Q.args[0]]),P):er($)&&i($.value)?R(new b("-","unaryMinus",[Q])):er(Q)&&i(Q.value)?$:new b(F.op,F.fn,[$,Q]);if(F.op==="*"){if(er($)){if(i($.value))return A;if(n($.value,1))return Q}if(er(Q)){if(i(Q.value))return A;if(n(Q.value,1))return $;if(C(F,k))return new b(F.op,F.fn,[Q,$],F.implicit)}return new b(F.op,F.fn,[$,Q],F.implicit)}if(F.op==="/")return er($)&&i($.value)?A:er(Q)&&n(Q.value,1)?$:new b(F.op,F.fn,[$,Q]);if(F.op==="^"&&er(Q)){if(i(Q.value))return S;if(n(Q.value,1))return $}if(F.op==="and"){if(er($))if($.value){if(T(Q))return Q;if(er(Q))return Q.value?x:_}else return _;if(er(Q))if(Q.value){if(T($))return $}else return _}if(F.op==="or"){if(er($)){if($.value)return x;if(T(Q))return Q}if(er(Q)){if(Q.value)return x;if(T($))return $}}return new b(F.op,F.fn,[$,Q])}if(dn(F))return new b(F.op,F.fn,F.args.map(ge=>R(ge,P)));if(ro(F))return new d(F.items.map(ge=>R(ge,P)));if(xf(F))return new f(R(F.object,P),R(F.index,P));if(vp(F))return new y(F.dimensions.map(ge=>R(ge,P)));if(Tx(F)){var K={};for(var we in F.properties)K[we]=R(F.properties[we],P);return new g(K)}return F}return e(Az,{Node:R,"Node,Object":R})}),L5e="resolve",j5e=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],q5e=ne(L5e,j5e,t=>{var{typed:e,parse:r,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=t;function s(l,u){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return l;if(ri(l)){if(f.has(l.name)){var d=Array.from(f).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(d,"}"))}var p=u.get(l.name);if(wr(p)){var m=new Set(f);return m.add(l.name),s(p,u,m)}else return typeof p=="number"?r(String(p)):p!==void 0?new n(p):l}else if(dn(l)){var y=l.args.map(function(b){return s(b,u,f)});return new a(l.op,l.fn,y,l.implicit)}else{if(Ru(l))return new o(s(l.content,u,f));if(ql(l)){var g=l.args.map(function(b){return s(b,u,f)});return new i(l.name,g)}}return l.map(b=>s(b,u,f))}return e("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(l,u)=>s(l,hd(u)),"Array | Matrix":e.referToSelf(l=>u=>u.map(f=>l(f))),"Array | Matrix, null | undefined":e.referToSelf(l=>u=>u.map(f=>l(f))),"Array, Object":e.referTo("Array,Map",l=>(u,f)=>l(u,hd(f))),"Matrix, Object":e.referTo("Matrix,Map",l=>(u,f)=>l(u,hd(f))),"Array | Matrix, Map":e.referToSelf(l=>(u,f)=>u.map(d=>l(d,f)))})}),Ez="symbolicEqual",U5e=["parse","simplify","typed","OperatorNode"],z5e=ne(Ez,U5e,t=>{var{parse:e,simplify:r,typed:n,OperatorNode:i}=t;function a(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new i("-","subtract",[o,s]),f=r(u,{},l);return er(f)&&!f.value}return n(Ez,{"Node, Node":a,"Node, Node, Object":a})}),Sz="derivative",V5e=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],H5e=ne(Sz,V5e,t=>{var{typed:e,config:r,parse:n,simplify:i,equal:a,isZero:o,numeric:s,ConstantNode:l,FunctionNode:u,OperatorNode:f,ParenthesisNode:d,SymbolNode:p}=t;function m(S,x){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},T=new Map,N=x.name;function C(I){var P=T.get(I);if(P!==void 0)return P;var k=E(C,I,N);return T.set(I,k),k}var R=O(S,C);return _.simplify?i(R):R}function y(S){var x=n(S);if(!x.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(S)," into a variable in function derivative"));return x}var g=e(Sz,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m,"Node, string":(S,x)=>m(S,y(x)),"Node, string, Object":(S,x,_)=>m(S,y(x),_)});g._simplify=!0,g.toTex=function(S){return b.apply(null,S.args)};var b=e("_derivTex",{"Node, SymbolNode":function(x,_){return er(x)&&Dr(x.value)==="string"?b(n(x.value).toString(),_.toString(),1):b(x.toTex(),_.toString(),1)},"Node, ConstantNode":function(x,_){if(Dr(_.value)==="string")return b(x,n(_.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(x,_,T){return b(x.toString(),_.name,T.value)},"string, string, number":function(x,_,T){var N;return T===1?N="{d\\over d"+_+"}":N="{d^{"+T+"}\\over d"+_+"^{"+T+"}}",N+"\\left[".concat(x,"\\right]")}}),E=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(x,_,T){return _.name!==T},"function, ParenthesisNode, string":function(x,_,T){return x(_.content,T)},"function, FunctionAssignmentNode, string":function(x,_,T){return _.params.includes(T)?x(_.expr,T):!0},"function, FunctionNode | OperatorNode, string":function(x,_,T){return _.args.every(N=>x(N,T))}}),O=e("_derivative",{"ConstantNode, function":function(){return A(0)},"SymbolNode, function":function(x,_){return _(x)?A(0):A(1)},"ParenthesisNode, function":function(x,_){return new d(O(x.content,_))},"FunctionAssignmentNode, function":function(x,_){return _(x)?A(0):O(x.expr,_)},"FunctionNode, function":function(x,_){if(_(x))return A(0);var T=x.args[0],N,C=!1,R=!1,I;switch(x.name){case"cbrt":C=!0,I=new f("*","multiply",[A(3),new f("^","pow",[T,new f("/","divide",[A(2),A(3)])])]);break;case"sqrt":case"nthRoot":if(x.args.length===1)C=!0,I=new f("*","multiply",[A(2),new u("sqrt",[T])]);else if(x.args.length===2)return N=new f("/","divide",[A(1),x.args[1]]),O(new f("^","pow",[T,N]),_);break;case"log10":N=A(10);case"log":if(!N&&x.args.length===1)I=T.clone(),C=!0;else if(x.args.length===1&&N||x.args.length===2&&_(x.args[1]))I=new f("*","multiply",[T.clone(),new u("log",[N||x.args[1]])]),C=!0;else if(x.args.length===2)return O(new f("/","divide",[new u("log",[T]),new u("log",[x.args[1]])]),_);break;case"pow":if(x.args.length===2)return O(new f("^","pow",[T,x.args[1]]),_);break;case"exp":I=new u("exp",[T.clone()]);break;case"sin":I=new u("cos",[T.clone()]);break;case"cos":I=new f("-","unaryMinus",[new u("sin",[T.clone()])]);break;case"tan":I=new f("^","pow",[new u("sec",[T.clone()]),A(2)]);break;case"sec":I=new f("*","multiply",[x,new u("tan",[T.clone()])]);break;case"csc":R=!0,I=new f("*","multiply",[x,new u("cot",[T.clone()])]);break;case"cot":R=!0,I=new f("^","pow",[new u("csc",[T.clone()]),A(2)]);break;case"asin":C=!0,I=new u("sqrt",[new f("-","subtract",[A(1),new f("^","pow",[T.clone(),A(2)])])]);break;case"acos":C=!0,R=!0,I=new u("sqrt",[new f("-","subtract",[A(1),new f("^","pow",[T.clone(),A(2)])])]);break;case"atan":C=!0,I=new f("+","add",[new f("^","pow",[T.clone(),A(2)]),A(1)]);break;case"asec":C=!0,I=new f("*","multiply",[new u("abs",[T.clone()]),new u("sqrt",[new f("-","subtract",[new f("^","pow",[T.clone(),A(2)]),A(1)])])]);break;case"acsc":C=!0,R=!0,I=new f("*","multiply",[new u("abs",[T.clone()]),new u("sqrt",[new f("-","subtract",[new f("^","pow",[T.clone(),A(2)]),A(1)])])]);break;case"acot":C=!0,R=!0,I=new f("+","add",[new f("^","pow",[T.clone(),A(2)]),A(1)]);break;case"sinh":I=new u("cosh",[T.clone()]);break;case"cosh":I=new u("sinh",[T.clone()]);break;case"tanh":I=new f("^","pow",[new u("sech",[T.clone()]),A(2)]);break;case"sech":R=!0,I=new f("*","multiply",[x,new u("tanh",[T.clone()])]);break;case"csch":R=!0,I=new f("*","multiply",[x,new u("coth",[T.clone()])]);break;case"coth":R=!0,I=new f("^","pow",[new u("csch",[T.clone()]),A(2)]);break;case"asinh":C=!0,I=new u("sqrt",[new f("+","add",[new f("^","pow",[T.clone(),A(2)]),A(1)])]);break;case"acosh":C=!0,I=new u("sqrt",[new f("-","subtract",[new f("^","pow",[T.clone(),A(2)]),A(1)])]);break;case"atanh":C=!0,I=new f("-","subtract",[A(1),new f("^","pow",[T.clone(),A(2)])]);break;case"asech":C=!0,R=!0,I=new f("*","multiply",[T.clone(),new u("sqrt",[new f("-","subtract",[A(1),new f("^","pow",[T.clone(),A(2)])])])]);break;case"acsch":C=!0,R=!0,I=new f("*","multiply",[new u("abs",[T.clone()]),new u("sqrt",[new f("+","add",[new f("^","pow",[T.clone(),A(2)]),A(1)])])]);break;case"acoth":C=!0,R=!0,I=new f("-","subtract",[A(1),new f("^","pow",[T.clone(),A(2)])]);break;case"abs":I=new f("/","divide",[new u(new p("abs"),[T.clone()]),T.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+x.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var P,k;C?(P="/",k="divide"):(P="*",k="multiply");var q=O(T,_);return R&&(q=new f("-","unaryMinus",[q])),new f(P,k,[q,I])},"OperatorNode, function":function(x,_){if(_(x))return A(0);if(x.op==="+")return new f(x.op,x.fn,x.args.map(function(F){return O(F,_)}));if(x.op==="-"){if(x.isUnary())return new f(x.op,x.fn,[O(x.args[0],_)]);if(x.isBinary())return new f(x.op,x.fn,[O(x.args[0],_),O(x.args[1],_)])}if(x.op==="*"){var T=x.args.filter(function(F){return _(F)});if(T.length>0){var N=x.args.filter(function(F){return!_(F)}),C=N.length===1?N[0]:new f("*","multiply",N),R=T.concat(O(C,_));return new f("*","multiply",R)}return new f("+","add",x.args.map(function(F){return new f("*","multiply",x.args.map(function(V){return V===F?O(V,_):V.clone()}))}))}if(x.op==="/"&&x.isBinary()){var I=x.args[0],P=x.args[1];return _(P)?new f("/","divide",[O(I,_),P]):_(I)?new f("*","multiply",[new f("-","unaryMinus",[I]),new f("/","divide",[O(P,_),new f("^","pow",[P.clone(),A(2)])])]):new f("/","divide",[new f("-","subtract",[new f("*","multiply",[O(I,_),P.clone()]),new f("*","multiply",[I.clone(),O(P,_)])]),new f("^","pow",[P.clone(),A(2)])])}if(x.op==="^"&&x.isBinary()){var k=x.args[0],q=x.args[1];if(_(k))return er(k)&&(o(k.value)||a(k.value,1))?A(0):new f("*","multiply",[x,new f("*","multiply",[new u("log",[k.clone()]),O(q.clone(),_)])]);if(_(q)){if(er(q)){if(o(q.value))return A(0);if(a(q.value,1))return O(k,_)}var U=new f("^","pow",[k.clone(),new f("-","subtract",[q,A(1)])]);return new f("*","multiply",[q.clone(),new f("*","multiply",[O(k,_),U])])}return new f("*","multiply",[new f("^","pow",[k.clone(),q.clone()]),new f("+","add",[new f("*","multiply",[O(k,_),new f("/","divide",[q.clone(),k.clone()])]),new f("*","multiply",[O(q,_),new u("log",[k.clone()])])])])}throw new Error('Cannot process operator "'+x.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function A(S,x){return new l(s(S,Ql(String(S),r)))}return g}),Tz="rationalize",G5e=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],K5e=ne(Tz,G5e,t=>{var{config:e,typed:r,equal:n,isZero:i,add:a,subtract:o,multiply:s,divide:l,pow:u,parse:f,simplifyConstant:d,simplifyCore:p,simplify:m,fraction:y,bignumber:g,mathWithTransform:b,matrix:E,AccessorNode:O,ArrayNode:A,ConstantNode:S,FunctionNode:x,IndexNode:_,ObjectNode:T,OperatorNode:N,SymbolNode:C,ParenthesisNode:R}=t;function I(F){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,H=k(),z=P(F,V,!0,H.firstRules),J=z.variables.length,$={exactFractions:!1},Q={exactFractions:!0};if(F=z.expression,J>=1){F=q(F);var K,we,ge=!0,Ae=!1;F=m(F,H.firstRules,{},$);for(var te;we=ge?H.distrDivRules:H.sucDivRules,F=m(F,we,{},Q),ge=!ge,te=F.toString(),te!==K;)Ae=!0,K=te;Ae&&(F=m(F,H.firstRulesAgain,{},$)),F=m(F,H.finalRules,{},$)}var ee=[],ue={};return F.type==="OperatorNode"&&F.isBinary()&&F.op==="/"?(J===1&&(F.args[0]=U(F.args[0],ee),F.args[1]=U(F.args[1])),Z&&(ue.numerator=F.args[0],ue.denominator=F.args[1])):(J===1&&(F=U(F,ee)),Z&&(ue.numerator=F,ue.denominator=null)),Z?(ue.coefficients=ee,ue.variables=z.variables,ue.expression=F,ue):F}return r(Tz,{Node:I,"Node, boolean":(F,V)=>I(F,{},V),"Node, Object":I,"Node, Object, boolean":I});function P(F,V,Z,H){var z=[],J=m(F,H,V,{exactFractions:!1});Z=!!Z;var $="+-*"+(Z?"/":"");K(J);var Q={};return Q.expression=J,Q.variables=z,Q;function K(we){var ge=we.type;if(ge==="FunctionNode")throw new Error("There is an unsolved function call");if(ge==="OperatorNode")if(we.op==="^"){if(we.args[1].type!=="ConstantNode"||!ft(parseFloat(we.args[1].value)))throw new Error("There is a non-integer exponent");K(we.args[0])}else{if(!$.includes(we.op))throw new Error("Operator "+we.op+" invalid in polynomial expression");for(var Ae=0;Ae<we.args.length;Ae++)K(we.args[Ae])}else if(ge==="SymbolNode"){var te=we.name,ee=z.indexOf(te);ee===-1&&z.push(te)}else if(ge==="ParenthesisNode")K(we.content);else if(ge!=="ConstantNode")throw new Error("type "+ge+" is not allowed in polynomial expression")}}function k(){var F=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},d,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],V=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],Z=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],H=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],z={};return z.firstRules=F.concat(V,H),z.distrDivRules=Z,z.sucDivRules=H,z.firstRulesAgain=F.concat(V),z.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},d,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],z}function q(F,V,Z){var H=F.type,z=arguments.length>1;if(H==="OperatorNode"&&F.isBinary()){var J=!1,$;if(F.op==="^"&&(F.args[0].type==="ParenthesisNode"||F.args[0].type==="OperatorNode")&&F.args[1].type==="ConstantNode"&&($=parseFloat(F.args[1].value),J=$>=2&&ft($)),J){if($>2){var Q=F.args[0],K=new N("^","pow",[F.args[0].cloneDeep(),new S($-1)]);F=new N("*","multiply",[Q,K])}else F=new N("*","multiply",[F.args[0],F.args[0].cloneDeep()]);z&&(Z==="content"?V.content=F:V.args[Z]=F)}}if(H==="ParenthesisNode")q(F.content,F,"content");else if(H!=="ConstantNode"&&H!=="SymbolNode")for(var we=0;we<F.args.length;we++)q(F.args[we],F,we);if(!z)return F}function U(F,V){V===void 0&&(V=[]),V[0]=0;var Z={};Z.cte=1,Z.oper="+",Z.fire="";var H=0,z="";te(F,null,Z),H=V.length-1;for(var J=!0,$,Q=H;Q>=0;Q--)if(V[Q]!==0){var K=new S(J?V[Q]:Math.abs(V[Q])),we=V[Q]<0?"-":"+";if(Q>0){var ge=new C(z);if(Q>1){var Ae=new S(Q);ge=new N("^","pow",[ge,Ae])}V[Q]===-1&&J?K=new N("-","unaryMinus",[ge]):Math.abs(V[Q])===1?K=ge:K=new N("*","multiply",[K,ge])}J?$=K:we==="+"?$=new N("+","add",[$,K]):$=new N("-","subtract",[$,K]),J=!1}if(J)return new S(0);return $;function te(ee,ue,ce){var se=ee.type;if(se==="FunctionNode")throw new Error("There is an unsolved function call");if(se==="OperatorNode"){if(!"+-*^".includes(ee.op))throw new Error("Operator "+ee.op+" invalid");if(ue!==null){if((ee.fn==="unaryMinus"||ee.fn==="pow")&&ue.fn!=="add"&&ue.fn!=="subtract"&&ue.fn!=="multiply")throw new Error("Invalid "+ee.op+" placing");if((ee.fn==="subtract"||ee.fn==="add"||ee.fn==="multiply")&&ue.fn!=="add"&&ue.fn!=="subtract")throw new Error("Invalid "+ee.op+" placing");if((ee.fn==="subtract"||ee.fn==="add"||ee.fn==="unaryMinus")&&ce.noFil!==0)throw new Error("Invalid "+ee.op+" placing")}(ee.op==="^"||ee.op==="*")&&(ce.fire=ee.op);for(var Te=0;Te<ee.args.length;Te++)ee.fn==="unaryMinus"&&(ce.oper="-"),(ee.op==="+"||ee.fn==="subtract")&&(ce.fire="",ce.cte=1,ce.oper=Te===0?"+":ee.op),ce.noFil=Te,te(ee.args[Te],ee,ce)}else if(se==="SymbolNode"){if(ee.name!==z&&z!=="")throw new Error("There is more than one variable");if(z=ee.name,ue===null){V[1]=1;return}if(ue.op==="^"&&ce.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ue.op==="*"&&ce.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(ce.fire===""||ce.fire==="*")&&(H<1&&(V[1]=0),V[1]+=ce.cte*(ce.oper==="+"?1:-1),H=Math.max(1,H))}else if(se==="ConstantNode"){var pe=parseFloat(ee.value);if(ue===null){V[0]=pe;return}if(ue.op==="^"){if(ce.noFil!==1)throw new Error("Constant cannot be powered");if(!ft(pe)||pe<=0)throw new Error("Non-integer exponent is not allowed");for(var Ne=H+1;Ne<pe;Ne++)V[Ne]=0;pe>H&&(V[pe]=0),V[pe]+=ce.cte*(ce.oper==="+"?1:-1),H=Math.max(pe,H);return}ce.cte=pe,ce.fire===""&&(V[0]+=ce.cte*(ce.oper==="+"?1:-1))}else throw new Error("Type "+se+" is not allowed")}}}),Dz="zpk2tf",X5e=["typed","add","multiply","Complex","number"],W5e=ne(Dz,X5e,t=>{var{typed:e,add:r,multiply:n,Complex:i,number:a}=t;return e(Dz,{"Array,Array,number":function(u,f,d){return o(u,f,d)},"Array,Array":function(u,f){return o(u,f,1)},"Matrix,Matrix,number":function(u,f,d){return o(u.valueOf(),f.valueOf(),d)},"Matrix,Matrix":function(u,f){return o(u.valueOf(),f.valueOf(),1)}});function o(l,u,f){l.some(O=>O.type==="BigNumber")&&(l=l.map(O=>a(O))),u.some(O=>O.type==="BigNumber")&&(u=u.map(O=>a(O)));for(var d=[i(1,0)],p=[i(1,0)],m=0;m<l.length;m++){var y=l[m];typeof y=="number"&&(y=i(y,0)),d=s(d,[i(1,0),i(-y.re,-y.im)])}for(var g=0;g<u.length;g++){var b=u[g];typeof b=="number"&&(b=i(b,0)),p=s(p,[i(1,0),i(-b.re,-b.im)])}for(var E=0;E<d.length;E++)d[E]=n(d[E],f);return[d,p]}function s(l,u){for(var f=[],d=0;d<l.length+u.length-1;d++){f[d]=i(0,0);for(var p=0;p<l.length;p++)d-p>=0&&d-p<u.length&&(f[d]=r(f[d],n(l[p],u[d-p])))}return f}}),Nz="freqz",Y5e=["typed","add","multiply","Complex","divide","matrix"],Q5e=ne(Nz,Y5e,t=>{var{typed:e,add:r,multiply:n,Complex:i,divide:a,matrix:o}=t;return e(Nz,{"Array, Array":function(f,d){var p=l(512);return s(f,d,p)},"Array, Array, Array":function(f,d,p){return s(f,d,p)},"Array, Array, number":function(f,d,p){if(p<0)throw new Error("w must be a positive number");var m=l(p);return s(f,d,m)},"Matrix, Matrix":function(f,d){var p=l(512),{w:m,h:y}=s(f.valueOf(),d.valueOf(),p);return{w:o(m),h:o(y)}},"Matrix, Matrix, Matrix":function(f,d,p){var{h:m}=s(f.valueOf(),d.valueOf(),p.valueOf());return{h:o(m),w:o(p)}},"Matrix, Matrix, number":function(f,d,p){if(p<0)throw new Error("w must be a positive number");var m=l(p),{h:y}=s(f.valueOf(),d.valueOf(),m);return{h:o(y),w:o(m)}}});function s(u,f,d){for(var p=[],m=[],y=0;y<d.length;y++){for(var g=i(0,0),b=i(0,0),E=0;E<u.length;E++)g=r(g,n(u[E],i(Math.cos(-E*d[y]),Math.sin(-E*d[y]))));for(var O=0;O<f.length;O++)b=r(b,n(f[O],i(Math.cos(-O*d[y]),Math.sin(-O*d[y]))));p.push(g),m.push(b)}for(var A=[],S=0;S<p.length;S++)A.push(a(p[S],m[S]));return{h:A,w:d}}function l(u){for(var f=[],d=0;d<u;d++)f.push(d/u*Math.PI);return f}}),Z5e="reviver",J5e=["classes"],eLe=ne(Z5e,J5e,t=>{var{classes:e}=t;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}}),tLe="replacer",rLe=[],nLe=ne(tLe,rLe,()=>function(e,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:typeof r=="bigint"?{mathjs:"bigint",value:String(r)}:r}),iLe="14.7.0",aLe=ne("true",[],()=>!0),oLe=ne("false",[],()=>!1),sLe=ne("null",[],()=>null),uLe=Ra("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1/0):1/0}),lLe=Ra("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(NaN):NaN}),cLe=Ra("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?bI(r):cDe}),fLe=Ra("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?$Ie(r):fDe}),hLe=Ra("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?kIe(r):hDe}),dLe=Ra("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?FIe(r):dDe}),pLe=Ra("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).ln():Math.LN2}),mLe=Ra("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(10).ln():Math.LN10}),vLe=Ra("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),gLe=Ra("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),yLe=Ra("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),bLe=Ra("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),wLe=Ra("i",["Complex"],t=>{var{Complex:e}=t;return e.I}),xLe=ne("version",[],()=>iLe);function Ra(t,e,r){return ne(t,e,r,{recreateOnConfigChange:!0})}var _Le=Mt("speedOfLight","299792458","m s^-1"),ALe=Mt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),ELe=Mt("planckConstant","6.62607015e-34","J s"),SLe=Mt("reducedPlanckConstant","1.0545718176461565e-34","J s"),TLe=Mt("magneticConstant","1.25663706212e-6","N A^-2"),DLe=Mt("electricConstant","8.8541878128e-12","F m^-1"),NLe=Mt("vacuumImpedance","376.730313667","ohm"),CLe=Mt("coulomb","8.987551792261171e9","N m^2 C^-2"),OLe=Mt("coulombConstant","8.987551792261171e9","N m^2 C^-2"),MLe=Mt("elementaryCharge","1.602176634e-19","C"),ILe=Mt("bohrMagneton","9.2740100783e-24","J T^-1"),RLe=Mt("conductanceQuantum","7.748091729863649e-5","S"),PLe=Mt("inverseConductanceQuantum","12906.403729652257","ohm"),BLe=Mt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),kLe=Mt("nuclearMagneton","5.0507837461e-27","J T^-1"),FLe=Mt("klitzing","25812.807459304513","ohm"),$Le=Mt("bohrRadius","5.29177210903e-11","m"),LLe=Mt("classicalElectronRadius","2.8179403262e-15","m"),jLe=Mt("electronMass","9.1093837015e-31","kg"),qLe=Mt("fermiCoupling","1.1663787e-5","GeV^-2"),ULe=kx("fineStructure",.0072973525693),zLe=Mt("hartreeEnergy","4.3597447222071e-18","J"),VLe=Mt("protonMass","1.67262192369e-27","kg"),HLe=Mt("deuteronMass","3.3435830926e-27","kg"),GLe=Mt("neutronMass","1.6749271613e-27","kg"),KLe=Mt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),XLe=Mt("rydberg","10973731.568160","m^-1"),WLe=Mt("thomsonCrossSection","6.6524587321e-29","m^2"),YLe=kx("weakMixingAngle",.2229),QLe=kx("efimovFactor",22.7),ZLe=Mt("atomicMass","1.66053906660e-27","kg"),JLe=Mt("avogadro","6.02214076e23","mol^-1"),e8e=Mt("boltzmann","1.380649e-23","J K^-1"),t8e=Mt("faraday","96485.33212331001","C mol^-1"),r8e=Mt("firstRadiation","3.7417718521927573e-16","W m^2"),n8e=Mt("loschmidt","2.686780111798444e25","m^-3"),i8e=Mt("gasConstant","8.31446261815324","J K^-1 mol^-1"),a8e=Mt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),o8e=Mt("molarVolume","0.022413969545014137","m^3 mol^-1"),s8e=kx("sackurTetrode",-1.16487052358),u8e=Mt("secondRadiation","0.014387768775039337","m K"),l8e=Mt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),c8e=Mt("wienDisplacement","2.897771955e-3","m K"),f8e=Mt("molarMass","0.99999999965e-3","kg mol^-1"),h8e=Mt("molarMassC12","11.9999999958e-3","kg mol^-1"),d8e=Mt("gravity","9.80665","m s^-2"),p8e=Mt("planckLength","1.616255e-35","m"),m8e=Mt("planckMass","2.176435e-8","kg"),v8e=Mt("planckTime","5.391245e-44","s"),g8e=Mt("planckCharge","1.87554603778e-18","C"),y8e=Mt("planckTemperature","1.416785e+32","K");function Mt(t,e,r){var n=["config","Unit","BigNumber"];return ne(t,n,i=>{var{config:a,Unit:o,BigNumber:s}=i,l=a.number==="BigNumber"?new s(e):parseFloat(e),u=new o(l,r);return u.fixPrefix=!0,u})}function kx(t,e){var r=["config","BigNumber"];return ne(t,r,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}function Cz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b8e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cz(Object(r),!0).forEach(function(n){Sn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var w8e="mapSlices",x8e=["typed","isInteger"],_8e=ne(w8e,x8e,t=>{var{typed:e,isInteger:r}=t,n=FC({typed:e,isInteger:r});return e("mapSlices",{"...any":function(a){var o=a[1];Bt(o)?a[1]=o-1:kt(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(s){throw Gi(s)}}})},b8e({isTransformFunction:!0},FC.meta)),A8e="column",E8e=["typed","Index","matrix","range"],S8e=ne(A8e,E8e,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=IY({typed:e,Index:r,matrix:n,range:i});return e("column",{"...any":function(s){var l=s.length-1,u=s[l];Bt(u)&&(s[l]=u-1);try{return a.apply(null,s)}catch(f){throw Gi(f)}}})},{isTransformFunction:!0});function _I(t,e,r){var n=t.filter(function(l){return ri(l)&&!(l.name in e)&&!r.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=n.name,a=new Map,o=new tW(r,a,new Set([i])),s=t.compile();return function(u){return a.set(i,u),s.evaluate(o)}}var T8e="transformCallback",D8e=["typed"],AI=ne(T8e,D8e,t=>{var{typed:e}=t;return function(n,i){return e.isTypedFunction(n)?r(n,i):Oz(n,n.length,i)};function r(n,i){var a=Object.fromEntries(Object.entries(n.signatures).map(o=>{var[s,l]=o,u=s.split(",").length;return e.isTypedFunction(l)?[s,r(l,i)]:[s,Oz(l,u,i)]}));return typeof n.name=="string"?e(n.name,a):e(a)}});function Oz(t,e,r){return e===r?t:e===r+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.slice(0,r),s=Mz(i[r]);return t(...o,s)}:e>r+1?function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.slice(0,r),s=Mz(i[r]),l=i.slice(r+1);return t(...o,s,...l)}:t}function Mz(t){return t.map(e=>e+1)}var N8e="filter",C8e=["typed"],O8e=ne(N8e,C8e,t=>{var{typed:e}=t;function r(i,a,o){var s=RY({typed:e}),l=AI({typed:e});if(i.length===0)return s();var u=i[0];if(i.length===1)return s(u);var f=i.length-1,d=i[f];return u&&(u=n(u,o)),d&&(ri(d)||Ig(d)?d=n(d,o):d=_I(d,a,o)),s(u,l(d,f))}r.rawArgs=!0;function n(i,a){return i.compile().evaluate(a)}return r},{isTransformFunction:!0}),M8e="forEach",I8e=["typed"],R8e=ne(M8e,I8e,t=>{var{typed:e}=t,r=PY({typed:e}),n=AI({typed:e});function i(o,s,l){if(o.length===0)return r();var u=o[0];if(o.length===1)return r(u);var f=o.length-1,d=o[f];return u&&(u=a(u,l)),d&&(ri(d)||Ig(d)?d=a(d,l):d=_I(d,s,l)),r(u,n(d,f))}i.rawArgs=!0;function a(o,s){return o.compile().evaluate(s)}return i},{isTransformFunction:!0}),P8e="index",B8e=["Index","getMatrixDataType"],k8e=ne(P8e,B8e,t=>{var{Index:e,getMatrixDataType:r}=t;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var s=arguments[a];if(iI(s))s.start--,s.end-=s.step>0?0:2;else if(s&&s.isSet===!0)s=s.map(function(u){return u-1});else if(Sr(s)||gt(s))r(s)!=="boolean"&&(s=s.map(function(u){return u-1}));else if(Bt(s)||fv(s))s--;else if(kt(s))s=s.toNumber()-1;else if(typeof s!="string")throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");i[a]=s}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0}),F8e="map",$8e=["typed"],L8e=ne(F8e,$8e,t=>{var{typed:e}=t,r=BY({typed:e}),n=AI({typed:e});function i(a,o,s){if(a.length===0)return r();if(a.length===1)return r(a[0]);var l=a.length-1,u=a.slice(0,l),f=a[l];return u=u.map(p=>d(p,s)),f&&(ri(f)||Ig(f)?f=d(f,s):f=_I(f,o,s)),r(...u,n(f,l));function d(p,m){return p.compile().evaluate(m)}}return i.rawArgs=!0,i},{isTransformFunction:!0});function j8e(t){return Bt(t)?t-1:kt(t)?t.minus(1):t}function q8e(t){return Bt(t)||kt(t)}function ec(t){if(t.length===2&&fo(t[0])){t=t.slice();var e=t[1];q8e(e)&&(t[1]=j8e(e))}return t}var U8e="max",z8e=["typed","config","numeric","larger","isNaN"],V8e=ne(U8e,z8e,t=>{var{typed:e,config:r,numeric:n,larger:i,isNaN:a}=t,o=HY({typed:e,config:r,numeric:n,larger:i,isNaN:a});return e("max",{"...any":function(l){l=ec(l);try{return o.apply(null,l)}catch(u){throw Gi(u)}}})},{isTransformFunction:!0}),H8e="mean",G8e=["typed","add","divide"],K8e=ne(H8e,G8e,t=>{var{typed:e,add:r,divide:n}=t,i=eQ({typed:e,add:r,divide:n});return e("mean",{"...any":function(o){o=ec(o);try{return i.apply(null,o)}catch(s){throw Gi(s)}}})},{isTransformFunction:!0}),X8e="min",W8e=["typed","config","numeric","smaller","isNaN"],Y8e=ne(X8e,W8e,t=>{var{typed:e,config:r,numeric:n,smaller:i,isNaN:a}=t,o=GY({typed:e,config:r,numeric:n,smaller:i,isNaN:a});return e("min",{"...any":function(l){l=ec(l);try{return o.apply(null,l)}catch(u){throw Gi(u)}}})},{isTransformFunction:!0}),Q8e="range",Z8e=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],J8e=ne(Q8e,Z8e,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:f}=t,d=LY({typed:e,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:l,add:u,isPositive:f});return e("range",{"...any":function(m){var y=m.length-1,g=m[y];return typeof g!="boolean"&&m.push(!0),d.apply(null,m)}})},{isTransformFunction:!0}),e9e="row",t9e=["typed","Index","matrix","range"],r9e=ne(e9e,t9e,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,a=jY({typed:e,Index:r,matrix:n,range:i});return e("row",{"...any":function(s){var l=s.length-1,u=s[l];Bt(u)&&(s[l]=u-1);try{return a.apply(null,s)}catch(f){throw Gi(f)}}})},{isTransformFunction:!0}),n9e="subset",i9e=["typed","matrix","zeros","add"],a9e=ne(n9e,i9e,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=qY({typed:e,matrix:r,zeros:n,add:i});return e("subset",{"...any":function(s){try{return a.apply(null,s)}catch(l){throw Gi(l)}}})},{isTransformFunction:!0}),o9e="concat",s9e=["typed","matrix","isInteger"],u9e=ne(o9e,s9e,t=>{var{typed:e,matrix:r,isInteger:n}=t,i=MY({typed:e,matrix:r,isInteger:n});return e("concat",{"...any":function(o){var s=o.length-1,l=o[s];Bt(l)?o[s]=l-1:kt(l)&&(o[s]=l.minus(1));try{return i.apply(null,o)}catch(u){throw Gi(u)}}})},{isTransformFunction:!0}),Iz="diff",l9e=["typed","matrix","subtract","number","bignumber"],c9e=ne(Iz,l9e,t=>{var{typed:e,matrix:r,subtract:n,number:i,bignumber:a}=t,o=kY({typed:e,matrix:r,subtract:n,number:i,bignumber:a});return e(Iz,{"...any":function(l){l=ec(l);try{return o.apply(null,l)}catch(u){throw Gi(u)}}})},{isTransformFunction:!0}),f9e="std",h9e=["typed","map","sqrt","variance"],d9e=ne(f9e,h9e,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t,a=nQ({typed:e,map:r,sqrt:n,variance:i});return e("std",{"...any":function(s){s=ec(s);try{return a.apply(null,s)}catch(l){throw Gi(l)}}})},{isTransformFunction:!0}),Rz="sum",p9e=["typed","config","add","numeric"],m9e=ne(Rz,p9e,t=>{var{typed:e,config:r,add:n,numeric:i}=t,a=ZY({typed:e,config:r,add:n,numeric:i});return e(Rz,{"...any":function(s){s=ec(s);try{return a.apply(null,s)}catch(l){throw Gi(l)}}})},{isTransformFunction:!0}),v9e="quantileSeq",g9e=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],y9e=ne(v9e,g9e,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:f,smallerEq:d,larger:p,mapSlices:m}=t,y=rQ({typed:e,bignumber:r,add:n,subtract:i,divide:a,multiply:o,partitionSelect:s,compare:l,isInteger:u,smaller:f,smallerEq:d,larger:p,mapSlices:m});return e("quantileSeq",{"Array | Matrix, number | BigNumber":y,"Array | Matrix, number | BigNumber, number":(b,E,O)=>y(b,E,g(O)),"Array | Matrix, number | BigNumber, boolean":y,"Array | Matrix, number | BigNumber, boolean, number":(b,E,O,A)=>y(b,E,O,g(A)),"Array | Matrix, Array | Matrix":y,"Array | Matrix, Array | Matrix, number":(b,E,O)=>y(b,E,g(O)),"Array | Matrix, Array | Matrix, boolean":y,"Array | Matrix, Array | Matrix, boolean, number":(b,E,O,A)=>y(b,E,O,g(A))});function g(b){return ec([[],b])[1]}},{isTransformFunction:!0}),Pz="cumsum",b9e=["typed","add","unaryPlus"],w9e=ne(Pz,b9e,t=>{var{typed:e,add:r,unaryPlus:n}=t,i=JY({typed:e,add:r,unaryPlus:n});return e(Pz,{"...any":function(o){if(o.length===2&&fo(o[0])){var s=o[1];Bt(s)?o[1]=s-1:kt(s)&&(o[1]=s.minus(1))}try{return i.apply(null,o)}catch(l){throw Gi(l)}}})},{isTransformFunction:!0}),Bz="variance",x9e=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],_9e=ne(Bz,x9e,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:a,mapSlices:o,isNaN:s}=t,l=tQ({typed:e,add:r,subtract:n,multiply:i,divide:a,mapSlices:o,isNaN:s});return e(Bz,{"...any":function(f){f=ec(f);try{return l.apply(null,f)}catch(d){throw Gi(d)}}})},{isTransformFunction:!0}),kz="print",A9e=["typed","matrix","zeros","add"],E9e=ne(kz,A9e,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,a=zY({typed:e,matrix:r,zeros:n,add:i});return e(kz,{"string, Object | Array":function(l,u){return a(o(l),u)},"string, Object | Array, number | Object":function(l,u,f){return a(o(l),u,f)}});function o(s){return s.replace(UY,l=>{var u=l.slice(1).split("."),f=u.map(function(d){return!isNaN(d)&&d.length>0?parseInt(d)-1:d});return"$"+f.join(".")})}},{isTransformFunction:!0}),S9e="and",T9e=["typed","matrix","zeros","add","equalScalar","not","concat"],D9e=ne(S9e,T9e,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,s=VY({typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o});function l(u,f,d){var p=u[0].compile().evaluate(d);if(!fo(p)&&!s(p,!0))return!1;var m=u[1].compile().evaluate(d);return s(p,m)}return l.rawArgs=!0,l},{isTransformFunction:!0}),N9e="or",C9e=["typed","matrix","equalScalar","DenseMatrix","concat"],O9e=ne(N9e,C9e,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=OY({typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function s(l,u,f){var d=l[0].compile().evaluate(f);if(!fo(d)&&o(d,!1))return!0;var p=l[1].compile().evaluate(f);return o(d,p)}return s.rawArgs=!0,s},{isTransformFunction:!0}),M9e="bitAnd",I9e=["typed","matrix","zeros","add","equalScalar","not","concat"],R9e=ne(M9e,I9e,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o}=t,s=NY({typed:e,matrix:r,equalScalar:n,zeros:i,not:a,concat:o});function l(u,f,d){var p=u[0].compile().evaluate(d);if(!fo(p)){if(isNaN(p))return NaN;if(p===0||p===!1)return 0}var m=u[1].compile().evaluate(d);return s(p,m)}return l.rawArgs=!0,l},{isTransformFunction:!0}),P9e="bitOr",B9e=["typed","matrix","equalScalar","DenseMatrix","concat"],k9e=ne(P9e,B9e,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a}=t,o=CY({typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:a});function s(l,u,f){var d=l[0].compile().evaluate(f);if(!fo(d)){if(isNaN(d))return NaN;if(d===-1)return-1;if(d===!0)return 1}var p=l[1].compile().evaluate(f);return o(d,p)}return s.rawArgs=!0,s},{isTransformFunction:!0}),et=ATe({config:$e}),Nr=NTe({}),Fz=hLe({BigNumber:et,config:$e}),F9e=oLe({}),$9e=ULe({BigNumber:et,config:$e}),kf=kTe({}),aQ=wLe({Complex:Nr}),L9e=uLe({BigNumber:et,config:$e}),j9e=mLe({BigNumber:et,config:$e}),q9e=gLe({BigNumber:et,config:$e}),Fx=UTe({}),U9e=lLe({BigNumber:et,config:$e}),z9e=sLe({}),V9e=dLe({BigNumber:et,config:$e}),H9e=LTe({}),oQ=DSe({}),G9e=yLe({BigNumber:et,config:$e}),K9e=s8e({BigNumber:et,config:$e}),sQ=fLe({BigNumber:et,config:$e}),X9e=aLe({}),W9e=xLe({}),jt=iDe({Matrix:Fx}),Y9e=QLe({BigNumber:et,config:$e}),Q9e=pLe({BigNumber:et,config:$e}),HC=cLe({BigNumber:et,config:$e}),uQ=nLe({}),Z9e=bLe({BigNumber:et,config:$e}),de=ASe({BigNumber:et,Complex:Nr,DenseMatrix:jt,Fraction:kf}),J9e=YLe({BigNumber:et,config:$e}),Ki=b2e({typed:de}),eje=WIe({Complex:Nr,config:$e,typed:de}),tje=JIe({BigNumber:et,typed:de}),rje=nRe({BigNumber:et,Complex:Nr,config:$e,typed:de}),zn=A2e({typed:de}),nje=fCe({typed:de}),ije=lRe({BigNumber:et,Complex:Nr,config:$e,typed:de}),aje=pRe({typed:de}),lQ=gRe({typed:de}),oje=xRe({Complex:Nr,config:$e,typed:de}),sje=VDe({typed:de}),uje=iCe({typed:de}),lje=XDe({typed:de}),cje=oDe({typed:de}),$x=I6e({typed:de}),Lx=e2e({Complex:Nr,typed:de}),Ff=dCe({typed:de}),EI=ARe({typed:de}),fje=DRe({BigNumber:et,typed:de}),hje=MRe({BigNumber:et,typed:de}),dje=L2e({typed:de}),zt=RDe({config:$e,typed:de}),pje=MOe({typed:de}),cQ=q2e({typed:de}),mje=z2e({Complex:Nr,typed:de}),vje=RY({typed:de}),kg=PCe({typed:de}),gje=PY({typed:de}),Fg=UOe({typed:de}),SI=$Ce({typed:de}),yje=XOe({format:Fg,typed:de}),TI=mCe({typed:de}),oa=uDe({typed:de}),tc=yDe({config:$e,typed:de}),$f=EDe({config:$e,typed:de}),Rs=TDe({equalScalar:zt,typed:de}),bje=vLe({BigNumber:et,config:$e}),wje=$6e({Complex:Nr,typed:de}),xje=ENe({Complex:Nr,config:$e,typed:de}),DI=TNe({Complex:Nr,config:$e,typed:de}),Lf=BY({typed:de}),ln=CNe({typed:de}),lw=bCe({typed:de}),$u=qDe({typed:de}),_je=GOe({format:Fg,typed:de}),Aje=p5e({config:$e,typed:de}),Eje=zY({typed:de}),Sje=v5e({config:$e,typed:de}),NI=gCe({typed:de}),Tje=BRe({BigNumber:et,typed:de}),fQ=BNe({BigNumber:et,Fraction:kf,complex:Lx,typed:de}),jx=LRe({typed:de}),Vn=kDe({Matrix:Fx,equalScalar:zt,typed:de}),Dje=d2e({typed:de}),Nje=jNe({typed:de}),Cje=GDe({typed:de}),mo=S2e({typed:de}),Oje=zRe({typed:de}),hQ=JOe({typed:de}),CI=ODe({typed:de}),Mje=QIe({Complex:Nr,config:$e,typed:de}),Ije=aRe({BigNumber:et,typed:de}),Rje=sRe({BigNumber:et,Complex:Nr,config:$e,typed:de}),sa=QDe({BigNumber:et,typed:de}),Pje=P6e({typed:de}),Bje=SRe({typed:de}),kje=RRe({BigNumber:et,typed:de}),Eu=NDe({typed:de}),Fje=tMe({typed:de}),lg=FC({isInteger:oa,typed:de}),Je=a2e({DenseMatrix:jt,Matrix:Fx,SparseMatrix:Vn,typed:de}),$je=s2e({isZero:Rs,matrix:Je,typed:de}),Lje=KCe({BigNumber:et,config:$e,matrix:Je,typed:de}),jje=y5e({config:$e,log2:DI,typed:de}),dQ=YCe({isInteger:oa,matrix:Je,typed:de}),qje=FRe({BigNumber:et,typed:de}),Uje=qRe({typed:de}),zje=HIe({SparseMatrix:Vn,typed:de}),Uo=$Ne({Complex:Nr,config:$e,typed:de}),Vje=uOe({typed:de}),Hje=GRe({typed:de}),$g=pOe({matrix:Je,typed:de}),pQ=VNe({BigNumber:et,config:$e,matrix:Je,typed:de}),di=yOe({BigNumber:et,config:$e,matrix:Je,typed:de}),Gje=tRe({BigNumber:et,Complex:Nr,config:$e,typed:de}),Kje=fRe({Complex:Nr,config:$e,typed:de}),Xje=VOe({format:Fg,typed:de}),ir=MY({isInteger:oa,matrix:Je,typed:de}),Wje=CRe({BigNumber:et,typed:de}),OI=vOe({conj:Ff,transpose:$g,typed:de}),mQ=OCe({DenseMatrix:jt,SparseMatrix:Vn,matrix:Je,typed:de}),Yje=YNe({concat:ir,equalScalar:zt,matrix:Je,multiplyScalar:ln,typed:de}),vo=YMe({DenseMatrix:jt,SparseMatrix:Vn,concat:ir,equalScalar:zt,matrix:Je,typed:de}),Lg=n2e({Fraction:kf,typed:de}),rc=jCe({BigNumber:et,DenseMatrix:jt,SparseMatrix:Vn,config:$e,matrix:Je,typed:de}),jf=wDe({typed:de}),Qje=UCe({matrix:Je,multiplyScalar:ln,typed:de}),qx=cIe({DenseMatrix:jt,SparseMatrix:Vn,concat:ir,config:$e,matrix:Je,typed:de}),Zje=RMe({DenseMatrix:jt,concat:ir,equalScalar:zt,matrix:Je,typed:de,zeros:di}),Jje=$Oe({isNaN:Eu,isNumeric:jf,typed:de}),eqe=RNe({BigNumber:et,concat:ir,equalScalar:zt,matrix:Je,typed:de}),lo=iMe({bignumber:sa,fraction:Lg,number:$u}),vQ=jOe({config:$e,multiplyScalar:ln,numeric:lo,typed:de}),tqe=JCe({config:$e,matrix:Je}),rqe=BMe({DenseMatrix:jt,concat:ir,equalScalar:zt,matrix:Je,typed:de,zeros:di}),_p=cMe({BigNumber:et,DenseMatrix:jt,config:$e,equalScalar:zt,matrix:Je,typed:de,zeros:di}),yi=oOe({matrix:Je,config:$e,typed:de}),Ui=tIe({DenseMatrix:jt,SparseMatrix:Vn,bignumber:sa,concat:ir,config:$e,matrix:Je,typed:de}),nqe=QOe({concat:ir,matrix:Je,typed:de}),Ps=m2e({typed:de}),iqe=mIe({DenseMatrix:jt,SparseMatrix:Vn,concat:ir,config:$e,equalScalar:zt,matrix:Je,typed:de}),aqe=_Ce({DenseMatrix:jt,SparseMatrix:Vn,concat:ir,matrix:Je,typed:de}),Yt=pPe({DenseMatrix:jt,SparseMatrix:Vn,addScalar:zn,concat:ir,equalScalar:zt,matrix:Je,typed:de}),oqe=bRe({BigNumber:et,DenseMatrix:jt,concat:ir,equalScalar:zt,matrix:Je,typed:de}),sqe=NY({concat:ir,equalScalar:zt,matrix:Je,typed:de}),uqe=CY({DenseMatrix:jt,concat:ir,equalScalar:zt,matrix:Je,typed:de}),lqe=lCe({DenseMatrix:jt,SparseMatrix:Vn,concat:ir,matrix:Je,typed:de}),gQ=D2e({BigNumber:et,Complex:Nr,Fraction:kf,config:$e,isNegative:tc,matrix:Je,typed:de,unaryMinus:Ps}),qf=jMe({BigNumber:et,DenseMatrix:jt,Fraction:kf,concat:ir,config:$e,equalScalar:zt,matrix:Je,typed:de}),yQ=XMe({concat:ir,matrix:Je,typed:de}),cqe=TCe({prod:vQ,size:yi,typed:de}),MI=dIe({equal:vo,typed:de}),Zr=oMe({numeric:lo,typed:de}),jg=xMe({DenseMatrix:jt,SparseMatrix:Vn,concat:ir,divideScalar:Zr,equalScalar:zt,matrix:Je,typed:de}),fqe=JMe({compareText:yQ,isZero:Rs,typed:de}),bQ=SY({DenseMatrix:jt,config:$e,equalScalar:zt,matrix:Je,round:_p,typed:de,zeros:di}),hqe=gNe({BigNumber:et,DenseMatrix:jt,concat:ir,config:$e,equalScalar:zt,matrix:Je,round:_p,typed:de,zeros:di}),dqe=_De({isNumeric:jf,typed:de}),pqe=vPe({abs:Ki,addScalar:zn,divideScalar:Zr,isPositive:$f,multiplyScalar:ln,smaller:Ui,sqrt:Uo,typed:de}),wQ=SIe({DenseMatrix:jt,smaller:Ui}),Ni=NIe({ImmutableDenseMatrix:wQ,getMatrixDataType:SI}),zi=sIe({DenseMatrix:jt,SparseMatrix:Vn,bignumber:sa,concat:ir,config:$e,matrix:Je,typed:de}),II=dMe({Complex:Nr,config:$e,divideScalar:Zr,typeOf:CI,typed:de}),xQ=AMe({DenseMatrix:jt,divideScalar:Zr,equalScalar:zt,matrix:Je,multiplyScalar:ln,subtractScalar:mo,typed:de}),RI=f2e({flatten:kg,matrix:Je,size:yi,typed:de}),PI=HY({config:$e,isNaN:Eu,larger:zi,numeric:lo,typed:de}),mqe=GY({config:$e,isNaN:Eu,numeric:lo,smaller:Ui,typed:de}),_Q=TY({DenseMatrix:jt,concat:ir,config:$e,equalScalar:zt,matrix:Je,round:_p,typed:de,zeros:di}),vqe=gMe({Complex:Nr,config:$e,divideScalar:Zr,typed:de}),gqe=OY({DenseMatrix:jt,concat:ir,equalScalar:zt,matrix:Je,typed:de}),Ux=yIe({compare:qf,isNaN:Eu,isNumeric:jf,typed:de}),BI=D3e({addScalar:zn,complex:Lx,conj:Ff,divideScalar:Zr,equal:vo,identity:rc,isZero:Rs,matrix:Je,multiplyScalar:ln,sign:fQ,sqrt:Uo,subtractScalar:mo,typed:de,unaryMinus:Ps,zeros:di}),yqe=FMe({DenseMatrix:jt,concat:ir,equalScalar:zt,matrix:Je,typed:de,zeros:di}),tp=iIe({DenseMatrix:jt,SparseMatrix:Vn,concat:ir,config:$e,matrix:Je,typed:de}),Pa=qY({add:Yt,matrix:Je,typed:de,zeros:di}),mn=UNe({DenseMatrix:jt,concat:ir,equalScalar:zt,matrix:Je,subtractScalar:mo,typed:de,unaryMinus:Ps}),bqe=APe({add:Yt,matrix:Je,typed:de}),kI=SMe({DenseMatrix:jt,divideScalar:Zr,equalScalar:zt,matrix:Je,multiplyScalar:ln,subtractScalar:mo,typed:de}),wqe=E5e({addScalar:zn,combinations:$x,divideScalar:Zr,isInteger:oa,isNegative:tc,multiplyScalar:ln,typed:de}),Bs=HMe({compare:qf,typed:de}),xqe=T5e({addScalar:zn,combinations:$x,isInteger:oa,isNegative:tc,isPositive:$f,larger:zi,typed:de}),_qe=kY({matrix:Je,number:$u,subtract:mn,typed:de}),Aqe=m6e({abs:Ki,addScalar:zn,deepEqual:MI,divideScalar:Zr,multiplyScalar:ln,sqrt:Uo,subtractScalar:mo,typed:de}),zx=wPe({addScalar:zn,conj:Ff,multiplyScalar:ln,size:yi,typed:de}),AQ=MIe({larger:zi,smaller:Ui}),EQ=SPe({Index:Ni,typed:de}),Eqe=GNe({BigNumber:et,add:Yt,config:$e,equal:vo,isInteger:oa,mod:_Q,smaller:Ui,typed:de,xgcd:pQ}),Sqe=xNe({concat:ir,equalScalar:zt,matrix:Je,typed:de}),Tqe=mMe({Complex:Nr,config:$e,divideScalar:Zr,log:II,typed:de}),Dqe=DMe({DenseMatrix:jt,divideScalar:Zr,equalScalar:zt,matrix:Je,multiplyScalar:ln,subtractScalar:mo,typed:de}),Nqe=l2e({flatten:kg,matrix:Je,size:yi,typed:de}),vr=MNe({addScalar:zn,dot:zx,equalScalar:zt,matrix:Je,multiplyScalar:ln,typed:de}),rp=LY({bignumber:sa,matrix:Je,add:Yt,config:$e,isPositive:$f,larger:zi,largerEq:qx,smaller:Ui,smallerEq:tp,typed:de}),Cqe=jY({Index:Ni,matrix:Je,range:rp,typed:de}),Oqe=XRe({DenseMatrix:jt,Index:Ni,compareNatural:Bs,size:yi,subset:Pa,typed:de}),Mqe=ZRe({DenseMatrix:jt,Index:Ni,compareNatural:Bs,size:yi,subset:Pa,typed:de}),Iqe=rPe({Index:Ni,compareNatural:Bs,size:yi,subset:Pa,typed:de}),Rqe=oPe({Index:Ni,compareNatural:Bs,size:yi,subset:Pa,typed:de}),SQ=Q3e({SparseMatrix:Vn,abs:Ki,add:Yt,divideScalar:Zr,larger:zi,largerEq:qx,multiply:vr,subtract:mn,transpose:$g,typed:de}),Pqe=wIe({compare:qf,compareNatural:Bs,matrix:Je,typed:de}),FI=g2e({config:$e,numeric:lo,typed:de}),TQ=CMe({DenseMatrix:jt,divideScalar:Zr,equalScalar:zt,matrix:Je,multiplyScalar:ln,subtractScalar:mo,typed:de}),Bqe=W5e({Complex:Nr,add:Yt,multiply:vr,number:$u,typed:de}),kqe=VY({concat:ir,equalScalar:zt,matrix:Je,not:lw,typed:de,zeros:di}),$I=F2e({DenseMatrix:jt,config:$e,equalScalar:zt,matrix:Je,round:_p,typed:de,zeros:di}),DQ=IY({Index:Ni,matrix:Je,range:rp,typed:de}),Fqe=NCe({matrix:Je,multiply:vr,subtract:mn,typed:de}),NQ=H$e({divideScalar:Zr,isZero:Rs,matrix:Je,multiply:vr,subtractScalar:mo,typed:de,unaryMinus:Ps}),CQ=G2e({Complex:Nr,DenseMatrix:jt,ceil:$I,equalScalar:zt,floor:bQ,matrix:Je,typed:de,zeros:di}),Uf=K$e({abs:Ki,addScalar:zn,det:NQ,divideScalar:Zr,identity:rc,matrix:Je,multiply:vr,typed:de,unaryMinus:Ps}),$qe=W$e({Complex:Nr,add:Yt,ctranspose:OI,deepEqual:MI,divideScalar:Zr,dot:zx,dotDivide:jg,equal:vo,inv:Uf,matrix:Je,multiply:vr,typed:de}),zo=uMe({Complex:Nr,config:$e,fraction:Lg,identity:rc,inv:Uf,matrix:Je,multiply:vr,number:$u,typed:de}),OQ=YRe({DenseMatrix:jt,Index:Ni,compareNatural:Bs,size:yi,subset:Pa,typed:de}),Lqe=iPe({Index:Ni,compareNatural:Bs,size:yi,subset:Pa,typed:de}),MQ=cPe({Index:Ni,concat:ir,setDifference:OQ,size:yi,subset:Pa,typed:de}),IQ=PIe({FibonacciHeap:AQ,addScalar:zn,equalScalar:zt}),jqe=i6e({abs:Ki,add:Yt,identity:rc,inv:Uf,map:Lf,max:PI,multiply:vr,size:yi,sqrt:Uo,subtract:mn,typed:de}),LI=ZY({add:Yt,config:$e,numeric:lo,typed:de}),_t=qIe({BigNumber:et,Complex:Nr,Fraction:kf,abs:Ki,addScalar:zn,config:$e,divideScalar:Zr,equal:vo,fix:CQ,format:Fg,isNumeric:jf,multiplyScalar:ln,number:$u,pow:zo,round:_p,subtractScalar:mo,toBest:hQ}),qqe=NLe({BigNumber:et,Unit:_t,config:$e}),Uqe=c8e({BigNumber:et,Unit:_t,config:$e}),zqe=ZLe({BigNumber:et,Unit:_t,config:$e}),Vqe=ILe({BigNumber:et,Unit:_t,config:$e}),Hqe=e8e({BigNumber:et,Unit:_t,config:$e}),Gqe=RLe({BigNumber:et,Unit:_t,config:$e}),Kqe=CLe({BigNumber:et,Unit:_t,config:$e}),Xqe=KIe({Unit:_t,typed:de}),Wqe=HLe({BigNumber:et,Unit:_t,config:$e}),Yqe=bMe({DenseMatrix:jt,SparseMatrix:Vn,concat:ir,equalScalar:zt,matrix:Je,pow:zo,typed:de}),Qqe=DLe({BigNumber:et,Unit:_t,config:$e}),Zqe=MLe({BigNumber:et,Unit:_t,config:$e}),Jqe=r6e({abs:Ki,add:Yt,identity:rc,inv:Uf,multiply:vr,typed:de}),eUe=t8e({BigNumber:et,Unit:_t,config:$e}),RQ=wOe({addScalar:zn,ceil:$I,conj:Ff,divideScalar:Zr,dotDivide:jg,exp:cQ,i:aQ,log2:DI,matrix:Je,multiplyScalar:ln,pow:zo,tau:sQ,typed:de}),jI=k6e({BigNumber:et,Complex:Nr,config:$e,multiplyScalar:ln,pow:zo,typed:de}),tUe=ALe({BigNumber:et,Unit:_t,config:$e}),rUe=zLe({BigNumber:et,Unit:_t,config:$e}),nUe=_Oe({conj:Ff,dotDivide:jg,fft:RQ,typed:de}),iUe=PLe({BigNumber:et,Unit:_t,config:$e}),aUe=FLe({BigNumber:et,Unit:_t,config:$e}),oUe=n8e({BigNumber:et,Unit:_t,config:$e}),sUe=TLe({BigNumber:et,Unit:_t,config:$e}),uUe=f8e({BigNumber:et,Unit:_t,config:$e}),lUe=a8e({BigNumber:et,Unit:_t,config:$e}),cUe=GLe({BigNumber:et,Unit:_t,config:$e}),fUe=kLe({BigNumber:et,Unit:_t,config:$e}),hUe=g8e({BigNumber:et,Unit:_t,config:$e}),dUe=p8e({BigNumber:et,Unit:_t,config:$e}),pUe=y8e({BigNumber:et,Unit:_t,config:$e}),mUe=VLe({BigNumber:et,Unit:_t,config:$e}),vUe=KLe({BigNumber:et,Unit:_t,config:$e}),gUe=SLe({BigNumber:et,Unit:_t,config:$e}),yUe=XLe({BigNumber:et,Unit:_t,config:$e}),bUe=u8e({BigNumber:et,Unit:_t,config:$e}),wUe=uPe({compareNatural:Bs,typed:de}),xUe=_Le({BigNumber:et,Unit:_t,config:$e}),_Ue=l8e({BigNumber:et,Unit:_t,config:$e}),AUe=WLe({BigNumber:et,Unit:_t,config:$e}),EUe=JLe({BigNumber:et,Unit:_t,config:$e}),SUe=$Le({BigNumber:et,Unit:_t,config:$e}),TUe=OLe({BigNumber:et,Unit:_t,config:$e}),pi=d6e({divideScalar:Zr,equalScalar:zt,inv:Uf,matrix:Je,multiply:vr,typed:de}),DUe=jLe({BigNumber:et,Unit:_t,config:$e}),qg=j6e({gamma:jI,typed:de}),NUe=r8e({BigNumber:et,Unit:_t,config:$e}),CUe=d8e({BigNumber:et,Unit:_t,config:$e}),OUe=y6e({abs:Ki,add:Yt,addScalar:zn,config:$e,divideScalar:Zr,equalScalar:zt,flatten:kg,isNumeric:jf,isZero:Rs,matrix:Je,multiply:vr,multiplyScalar:ln,smaller:Ui,subtract:mn,typed:de}),PQ=S3e({DenseMatrix:jt,Spa:IQ,SparseMatrix:Vn,abs:Ki,addScalar:zn,divideScalar:Zr,equalScalar:zt,larger:zi,matrix:Je,multiplyScalar:ln,subtractScalar:mo,typed:de,unaryMinus:Ps}),MUe=BLe({BigNumber:et,Unit:_t,config:$e}),IUe=h8e({BigNumber:et,Unit:_t,config:$e}),RUe=V6e({add:Yt,divide:pi,factorial:qg,isInteger:oa,isPositive:$f,multiply:vr,typed:de}),PUe=G6e({factorial:qg,typed:de}),BUe=m8e({BigNumber:et,Unit:_t,config:$e}),kUe=t4e({add:Yt,cbrt:gQ,divide:pi,equalScalar:zt,im:TI,isZero:Rs,multiply:vr,re:NI,sqrt:Uo,subtract:mn,typeOf:CI,typed:de,unaryMinus:Ps}),BQ=ePe({DenseMatrix:jt,Index:Ni,compareNatural:Bs,size:yi,subset:Pa,typed:de}),FUe=NOe({abs:Ki,add:Yt,bignumber:sa,divide:pi,isNegative:tc,isPositive:$f,larger:zi,map:Lf,matrix:Je,max:PI,multiply:vr,smaller:Ui,subtract:mn,typed:de,unaryMinus:Ps}),kQ=w5e({bignumber:sa,addScalar:zn,combinations:$x,divideScalar:Zr,factorial:qg,isInteger:oa,isNegative:tc,larger:zi,multiplyScalar:ln,number:$u,pow:zo,subtractScalar:mo,typed:de}),$Ue=zIe({Unit:_t,typed:de}),LUe=_5e({addScalar:zn,isInteger:oa,isNegative:tc,stirlingS2:kQ,typed:de}),jUe=JY({add:Yt,typed:de,unaryPlus:FI}),FQ=e6e({abs:Ki,add:Yt,addScalar:zn,atan:lQ,bignumber:sa,column:DQ,complex:Lx,config:$e,cos:EI,diag:mQ,divideScalar:Zr,dot:zx,equal:vo,flatten:kg,im:TI,inv:Uf,larger:zi,matrix:Je,matrixFromColumns:RI,multiply:vr,multiplyScalar:ln,number:$u,qr:BI,re:NI,reshape:dQ,sin:jx,size:yi,smaller:Ui,sqrt:Uo,subtract:mn,typed:de,usolve:kI,usolveAll:TQ}),qUe=qLe({BigNumber:et,Unit:_t,config:$e}),UUe=i8e({BigNumber:et,Unit:_t,config:$e}),zUe=U6e({divide:pi,dotDivide:jg,isNumeric:jf,log:II,map:Lf,matrix:Je,multiply:vr,sum:LI,typed:de}),$Q=J3e({DenseMatrix:jt,lsolve:xQ,lup:PQ,matrix:Je,slu:SQ,typed:de,usolve:kI}),LQ=eQ({add:Yt,divide:pi,typed:de}),VUe=o8e({BigNumber:et,Unit:_t,config:$e}),HUe=ELe({BigNumber:et,Unit:_t,config:$e}),GUe=rQ({bignumber:sa,add:Yt,compare:qf,divide:pi,isInteger:oa,larger:zi,mapSlices:lg,multiply:vr,partitionSelect:Ux,smaller:Ui,smallerEq:tp,subtract:mn,typed:de}),KUe=hPe({Index:Ni,concat:ir,setIntersect:BQ,setSymDifference:MQ,size:yi,subset:Pa,typed:de}),qI=tQ({add:Yt,divide:pi,isNaN:Eu,mapSlices:lg,multiply:vr,subtract:mn,typed:de}),XUe=LLe({BigNumber:et,Unit:_t,config:$e}),jQ=A6e({add:Yt,compare:qf,divide:pi,partitionSelect:Ux,typed:de}),WUe=O6e({add:Yt,divide:pi,matrix:Je,mean:LQ,multiply:vr,pow:zo,sqrt:Uo,subtract:mn,sum:LI,typed:de}),YUe=Q5e({Complex:Nr,add:Yt,divide:pi,matrix:Je,multiply:vr,typed:de}),QUe=S6e({abs:Ki,map:Lf,median:jQ,subtract:mn,typed:de}),ZUe=nQ({map:Lf,sqrt:Uo,typed:de,variance:qI}),JUe=kOe({BigNumber:et,Complex:Nr,add:Yt,config:$e,divide:pi,equal:vo,factorial:qg,gamma:jI,isNegative:tc,multiply:vr,pi:HC,pow:zo,sin:jx,smallerEq:tp,subtract:mn,typed:de}),UI=yPe({abs:Ki,add:Yt,conj:Ff,ctranspose:OI,eigs:FQ,equalScalar:zt,larger:zi,matrix:Je,multiply:vr,pow:zo,smaller:Ui,sqrt:Uo,typed:de}),qQ=nOe({BigNumber:et,DenseMatrix:jt,SparseMatrix:Vn,addScalar:zn,config:$e,cos:EI,matrix:Je,multiplyScalar:ln,norm:UI,sin:jx,typed:de,unaryMinus:Ps}),eze=v8e({BigNumber:et,Unit:_t,config:$e}),UQ=u6e({identity:rc,matrix:Je,multiply:vr,norm:UI,qr:BI,subtract:mn,typed:de}),tze=tOe({multiply:vr,rotationMatrix:qQ,typed:de}),zQ=o6e({abs:Ki,add:Yt,concat:ir,identity:rc,index:EQ,lusolve:$Q,matrix:Je,matrixFromColumns:RI,multiply:vr,range:rp,schur:UQ,subset:Pa,subtract:mn,transpose:$g,typed:de}),rze=c6e({matrix:Je,multiply:vr,sylvester:zQ,transpose:$g,typed:de}),Ap={},Ug={},VQ={},Ii=NPe({mathWithTransform:Ug}),Ep=ZPe({Node:Ii}),Lu=e3e({Node:Ii}),zf=r3e({Node:Ii}),HQ=o3e({Node:Ii}),Sp=IPe({Node:Ii}),GQ=$Pe({Node:Ii,ResultSet:oQ}),KQ=jPe({Node:Ii}),nc=GPe({Node:Ii}),XQ=i3e({Node:Ii}),nze=eLe({classes:VQ}),zI=s4e({math:Ap,typed:de}),WQ=XPe({Node:Ii,typed:de}),ize=z$e({Chain:zI,typed:de}),Tp=OPe({Node:Ii,subset:Pa}),YQ=kPe({matrix:Je,Node:Ii,subset:Pa}),Dp=YPe({Node:Ii,size:yi}),ic=l3e({Unit:_t,Node:Ii,math:Ap}),ac=f3e({Node:Ii,SymbolNode:ic,math:Ap}),Vo=d3e({AccessorNode:Tp,ArrayNode:Sp,AssignmentNode:YQ,BlockNode:GQ,ConditionalNode:KQ,ConstantNode:nc,FunctionAssignmentNode:WQ,FunctionNode:ac,IndexNode:Dp,ObjectNode:Ep,OperatorNode:Lu,ParenthesisNode:zf,RangeNode:XQ,RelationalNode:HQ,SymbolNode:ic,config:$e,numeric:lo,typed:de}),QQ=q5e({ConstantNode:nc,FunctionNode:ac,OperatorNode:Lu,ParenthesisNode:zf,parse:Vo,typed:de}),VI=k5e({bignumber:sa,fraction:Lg,AccessorNode:Tp,ArrayNode:Sp,ConstantNode:nc,FunctionNode:ac,IndexNode:Dp,ObjectNode:Ep,OperatorNode:Lu,SymbolNode:ic,config:$e,mathWithTransform:Ug,matrix:Je,typed:de}),aze=m3e({parse:Vo,typed:de}),HI=$5e({AccessorNode:Tp,ArrayNode:Sp,ConstantNode:nc,FunctionNode:ac,IndexNode:Dp,ObjectNode:Ep,OperatorNode:Lu,ParenthesisNode:zf,SymbolNode:ic,add:Yt,divide:pi,equal:vo,isZero:Rs,multiply:vr,parse:Vo,pow:zo,subtract:mn,typed:de}),Vx=g3e({parse:Vo,typed:de}),ZQ=i4e({evaluate:Vx}),JQ=w3e({evaluate:Vx,parse:Vo}),Hx=R5e({AccessorNode:Tp,ArrayNode:Sp,ConstantNode:nc,FunctionNode:ac,IndexNode:Dp,ObjectNode:Ep,OperatorNode:Lu,ParenthesisNode:zf,SymbolNode:ic,equal:vo,parse:Vo,replacer:uQ,resolve:QQ,simplifyConstant:VI,simplifyCore:HI,typed:de}),oze=z5e({OperatorNode:Lu,parse:Vo,simplify:Hx,typed:de}),sze=N5e({parse:Vo,typed:de}),uze=A3e({Parser:JQ,typed:de}),lze=K5e({bignumber:sa,fraction:Lg,AccessorNode:Tp,ArrayNode:Sp,ConstantNode:nc,FunctionNode:ac,IndexNode:Dp,ObjectNode:Ep,OperatorNode:Lu,ParenthesisNode:zf,SymbolNode:ic,add:Yt,config:$e,divide:pi,equal:vo,isZero:Rs,mathWithTransform:Ug,matrix:Je,multiply:vr,parse:Vo,pow:zo,simplify:Hx,simplifyConstant:VI,simplifyCore:HI,subtract:mn,typed:de}),cze=H5e({ConstantNode:nc,FunctionNode:ac,OperatorNode:Lu,ParenthesisNode:zf,SymbolNode:ic,config:$e,equal:vo,isZero:Rs,numeric:lo,parse:Vo,simplify:Hx,typed:de}),fze=q$e({Help:ZQ,mathWithTransform:Ug,typed:de});kn(Ap,{e:Fz,false:F9e,fineStructure:$9e,i:aQ,Infinity:L9e,LN10:j9e,LOG10E:q9e,NaN:U9e,null:z9e,phi:V9e,SQRT1_2:G9e,sackurTetrode:K9e,tau:sQ,true:X9e,E:Fz,version:W9e,efimovFactor:Y9e,LN2:Q9e,pi:HC,replacer:uQ,reviver:nze,SQRT2:Z9e,typed:de,PI:HC,weakMixingAngle:J9e,abs:Ki,acos:eje,acot:tje,acsc:rje,addScalar:zn,arg:nje,asech:ije,asinh:aje,atan:lQ,atanh:oje,bigint:sje,bitNot:uje,boolean:lje,clone:cje,combinations:$x,complex:Lx,conj:Ff,cos:EI,cot:fje,csc:hje,cube:dje,equalScalar:zt,erf:pje,exp:cQ,expm1:mje,filter:vje,flatten:kg,forEach:gje,format:Fg,getMatrixDataType:SI,hex:yje,im:TI,isInteger:oa,isNegative:tc,isPositive:$f,isZero:Rs,LOG2E:bje,lgamma:wje,log10:xje,log2:DI,map:Lf,multiplyScalar:ln,not:lw,number:$u,oct:_je,pickRandom:Aje,print:Eje,random:Sje,re:NI,sec:Tje,sign:fQ,sin:jx,splitUnit:Dje,square:Nje,string:Cje,subtractScalar:mo,tan:Oje,toBest:hQ,typeOf:CI,acosh:Mje,acsch:Ije,asec:Rje,bignumber:sa,chain:ize,combinationsWithRep:Pje,cosh:Bje,csch:kje,isNaN:Eu,isPrime:Fje,mapSlices:lg,matrix:Je,matrixFromFunction:$je,ones:Lje,randomInt:jje,reshape:dQ,sech:qje,sinh:Uje,sparse:zje,sqrt:Uo,squeeze:Vje,tanh:Hje,transpose:$g,xgcd:pQ,zeros:di,acoth:Gje,asin:Kje,bin:Xje,concat:ir,coth:Wje,ctranspose:OI,diag:mQ,dotMultiply:Yje,equal:vo,fraction:Lg,identity:rc,isNumeric:jf,kron:Qje,largerEq:qx,leftShift:Zje,mode:Jje,nthRoot:eqe,numeric:lo,prod:vQ,resize:tqe,rightArithShift:rqe,round:_p,size:yi,smaller:Ui,to:nqe,unaryMinus:Ps,unequal:iqe,xor:aqe,add:Yt,atan2:oqe,bitAnd:sqe,bitOr:uqe,bitXor:lqe,cbrt:gQ,compare:qf,compareText:yQ,count:cqe,deepEqual:MI,divideScalar:Zr,dotDivide:jg,equalText:fqe,floor:bQ,gcd:hqe,hasNumericValue:dqe,hypot:pqe,larger:zi,log:II,lsolve:xQ,matrixFromColumns:RI,max:PI,min:mqe,mod:_Q,nthRoots:vqe,or:gqe,partitionSelect:Ux,qr:BI,rightLogShift:yqe,smallerEq:tp,subset:Pa,subtract:mn,trace:bqe,usolve:kI,catalan:wqe,compareNatural:Bs,composition:xqe,diff:_qe,distance:Aqe,dot:zx,index:EQ,invmod:Eqe,lcm:Sqe,log1p:Tqe,lsolveAll:Dqe,matrixFromRows:Nqe,multiply:vr,range:rp,row:Cqe,setCartesian:Oqe,setDistinct:Mqe,setIsSubset:Iqe,setPowerset:Rqe,slu:SQ,sort:Pqe,unaryPlus:FI,usolveAll:TQ,zpk2tf:Bqe,and:kqe,ceil:$I,column:DQ,cross:Fqe,det:NQ,fix:CQ,inv:Uf,pinv:$qe,pow:zo,setDifference:OQ,setMultiplicity:Lqe,setSymDifference:MQ,sqrtm:jqe,sum:LI,vacuumImpedance:qqe,wienDisplacement:Uqe,atomicMass:zqe,bohrMagneton:Vqe,boltzmann:Hqe,conductanceQuantum:Gqe,coulomb:Kqe,createUnit:Xqe,deuteronMass:Wqe,dotPow:Yqe,electricConstant:Qqe,elementaryCharge:Zqe,expm:Jqe,faraday:eUe,fft:RQ,gamma:jI,gravitationConstant:tUe,hartreeEnergy:rUe,ifft:nUe,inverseConductanceQuantum:iUe,klitzing:aUe,loschmidt:oUe,magneticConstant:sUe,molarMass:uUe,molarPlanckConstant:lUe,neutronMass:cUe,nuclearMagneton:fUe,planckCharge:hUe,planckLength:dUe,planckTemperature:pUe,protonMass:mUe,quantumOfCirculation:vUe,reducedPlanckConstant:gUe,rydberg:yUe,secondRadiation:bUe,setSize:wUe,speedOfLight:xUe,stefanBoltzmann:_Ue,thomsonCrossSection:AUe,avogadro:EUe,bohrRadius:SUe,coulombConstant:TUe,divide:pi,electronMass:DUe,factorial:qg,firstRadiation:NUe,gravity:CUe,intersect:OUe,lup:PQ,magneticFluxQuantum:MUe,molarMassC12:IUe,multinomial:RUe,parse:Vo,permutations:PUe,planckMass:BUe,polynomialRoot:kUe,resolve:QQ,setIntersect:BQ,simplifyConstant:VI,solveODE:FUe,stirlingS2:kQ,unit:$Ue,bellNumbers:LUe,compile:aze,cumsum:jUe,eigs:FQ,fermiCoupling:qUe,gasConstant:UUe,kldivergence:zUe,lusolve:$Q,mean:LQ,molarVolume:VUe,planckConstant:HUe,quantileSeq:GUe,setUnion:KUe,simplifyCore:HI,variance:qI,classicalElectronRadius:XUe,evaluate:Vx,median:jQ,simplify:Hx,symbolicEqual:oze,corr:WUe,freqz:YUe,leafCount:sze,mad:QUe,parser:uze,rationalize:lze,std:ZUe,zeta:JUe,derivative:cze,norm:UI,rotationMatrix:qQ,help:fze,planckTime:eze,schur:UQ,rotate:tze,sylvester:zQ,lyap:rze,config:$e});kn(Ug,Ap,{mapSlices:_8e({isInteger:oa,typed:de}),filter:O8e({typed:de}),forEach:R8e({typed:de}),map:L8e({typed:de}),or:O9e({DenseMatrix:jt,concat:ir,equalScalar:zt,matrix:Je,typed:de}),and:D9e({add:Yt,concat:ir,equalScalar:zt,matrix:Je,not:lw,typed:de,zeros:di}),concat:u9e({isInteger:oa,matrix:Je,typed:de}),index:k8e({Index:Ni,getMatrixDataType:SI}),print:E9e({add:Yt,matrix:Je,typed:de,zeros:di}),sum:m9e({add:Yt,config:$e,numeric:lo,typed:de}),bitAnd:R9e({add:Yt,concat:ir,equalScalar:zt,matrix:Je,not:lw,typed:de,zeros:di}),min:Y8e({config:$e,isNaN:Eu,numeric:lo,smaller:Ui,typed:de}),subset:a9e({add:Yt,matrix:Je,typed:de,zeros:di}),bitOr:k9e({DenseMatrix:jt,concat:ir,equalScalar:zt,matrix:Je,typed:de}),cumsum:w9e({add:Yt,typed:de,unaryPlus:FI}),diff:c9e({bignumber:sa,matrix:Je,number:$u,subtract:mn,typed:de}),max:V8e({config:$e,isNaN:Eu,larger:zi,numeric:lo,typed:de}),range:J8e({bignumber:sa,matrix:Je,add:Yt,config:$e,isPositive:$f,larger:zi,largerEq:qx,smaller:Ui,smallerEq:tp,typed:de}),row:r9e({Index:Ni,matrix:Je,range:rp,typed:de}),column:S8e({Index:Ni,matrix:Je,range:rp,typed:de}),mean:K8e({add:Yt,divide:pi,typed:de}),quantileSeq:y9e({add:Yt,bignumber:sa,compare:qf,divide:pi,isInteger:oa,larger:zi,mapSlices:lg,multiply:vr,partitionSelect:Ux,smaller:Ui,smallerEq:tp,subtract:mn,typed:de}),variance:_9e({add:Yt,divide:pi,isNaN:Eu,mapSlices:lg,multiply:vr,subtract:mn,typed:de}),std:d9e({map:Lf,sqrt:Uo,typed:de,variance:qI})});kn(VQ,{BigNumber:et,Complex:Nr,Fraction:kf,Matrix:Fx,Node:Ii,ObjectNode:Ep,OperatorNode:Lu,ParenthesisNode:zf,Range:H9e,RelationalNode:HQ,ResultSet:oQ,ArrayNode:Sp,BlockNode:GQ,ConditionalNode:KQ,ConstantNode:nc,DenseMatrix:jt,RangeNode:XQ,Chain:zI,FunctionAssignmentNode:WQ,SparseMatrix:Vn,ImmutableDenseMatrix:wQ,Index:Ni,AccessorNode:Tp,AssignmentNode:YQ,FibonacciHeap:AQ,IndexNode:Dp,Spa:IQ,Unit:_t,SymbolNode:ic,FunctionNode:ac,Help:ZQ,Parser:JQ});zI.createProxy(Ap);const hze=()=>{const[t,e]=Ee.useState(window.innerWidth);return Ee.useEffect(()=>{const r=()=>{e(window.innerWidth)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t},bn=["#6a99e5","#66bb6a","#ffb74d","#ba68c8","#4dd0e1","#f06292"],Y0="#FFEB3B",Q0="#EF5350",Z0=({keys:t,visibleKeys:e,onFilterChange:r})=>X.jsx("div",{className:"chart-filters",children:t.map(n=>X.jsxs("label",{children:[X.jsx("input",{type:"checkbox",checked:e.includes(n.dataKey),onChange:()=>r(n.dataKey)}),n.name]},n.dataKey))}),hl=({title:t,children:e,isVisible:r,onToggle:n,filterComponent:i,level:a=0})=>X.jsxs("div",{className:`chart-section level-${a}`,children:[X.jsxs("div",{className:"chart-header",children:[X.jsxs("h4",{onClick:n,style:{cursor:"pointer",flexGrow:1,fontSize:a>0?"1em":"1.17em"},children:[t," ",r?"":""]}),r&&i]}),r&&e]}),$z=({rate:t,title:e})=>{const r=[{name:"Rate",value:t},{name:"Remainder",value:100-t}];return X.jsxs("div",{style:{width:"45%",textAlign:"center"},children:[X.jsx("h5",{style:{marginBottom:"10px"},children:e}),X.jsx(Xh,{width:"100%",height:150,children:X.jsxs(JX,{children:[X.jsxs(Ms,{data:r,cx:"50%",cy:"50%",innerRadius:40,outerRadius:55,dataKey:"value",startAngle:90,endAngle:-270,children:[X.jsx(Do,{fill:bn[0]}),X.jsx(Do,{fill:"#eee"})]}),X.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",fontSize:"24px",fontWeight:"bold",fill:"var(--text-color)",children:`${t.toFixed(1)}%`})]})})]})},dze=xe.memo(()=>{const{allArticles:t,setActiveModal:e,dashboardArticles:r,classifications:n,secondaryClassifications:i,kpis:a,startDate:o,endDate:s,lineChartData:l,categoryTotalData:u,secondaryCategoryArticleCountData:f,secondaryCategoryLikeRateData:d,pipelineData:p,pipelineRates:m,selectedClassificationIds:y,selectedSecondaryIds:g,handlePrimaryFilterChange:b,handleSecondaryFilterChange:E}=MH(),A=hze()<768,S=A?{top:20,right:80,bottom:20,left:20}:{top:20,right:150,bottom:20,left:60},x=A?60:80,[_,T]=Ee.useState(!0),[N,C]=Ee.useState(!0),[R,I]=Ee.useState(!0),[P,k]=Ee.useState(!0),[q,U]=Ee.useState(!0),[F,V]=Ee.useState(!0),[Z,H]=Ee.useState(!0),[z,J]=Ee.useState(!0),$=[{dataKey:"note",name:"note"},{dataKey:"note",name:"note"},{dataKey:"X",name:"X"},{dataKey:"X",name:"X"}],Q=[{dataKey:"noteViews",name:"note"},{dataKey:"noteLikes",name:"note"},{dataKey:"xImpressions",name:"X"},{dataKey:"xLikes",name:"X"}],[K,we]=Ee.useState($.map(le=>le.dataKey)),[ge,Ae]=Ee.useState(Q.map(le=>le.dataKey)),[te,ee]=Ee.useState([]),[ue,ce]=Ee.useState([]);Ee.useEffect(()=>{ee(i.map(le=>le.name)),ce(i.map(le=>le.name))},[i]);const se=(le,Y)=>{le(ie=>ie.includes(Y)?ie.filter(fe=>fe!==Y):[...ie,Y])},Te=Ee.useMemo(()=>f.filter(le=>te.includes(le.name)),[f,te]),pe=Ee.useMemo(()=>d.filter(le=>ue.includes(le.name)),[d,ue]),Ne={backgroundColor:"var(--card-background)",border:"1px solid var(--border-color)",color:"var(--text-color)"},je=Math.PI/180,Ke=({cx:le,cy:Y,midAngle:ie,innerRadius:fe,outerRadius:ye,percent:me})=>{if(me<.05)return null;const Se=fe+(ye-fe)*.5,Be=le+Se*Math.cos(-ie*je),ze=Y+Se*Math.sin(-ie*je);return X.jsx("text",{x:Be,y:ze,fill:"white",textAnchor:"middle",dominantBaseline:"central",fontSize:"12px",fontWeight:"bold",children:`${(me*100).toFixed(0)}%`})},Ue=le=>`${le.toFixed(1)}%`,nt=le=>Math.log10(le)%1===0?le>=1e6?`${le/1e6}M`:le>=1e3?`${le/1e3}k`:le.toString():"";if(t.length===0)return X.jsxs("div",{className:"card",style:{textAlign:"center",padding:"40px"},children:[X.jsx("h2",{children:"note analyzer"}),X.jsx("p",{style:{margin:"20px 0"},children:"note"}),X.jsx("button",{onClick:()=>e("dataImport"),children:""})]});const ae=X.jsx("div",{className:"table-container",children:X.jsx("div",{style:{overflowX:"auto"},children:X.jsxs("table",{style:{fontSize:"12px"},children:[X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{children:"KPI"}),X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:""})]})}),X.jsx("tbody",{children:a.map(le=>{const Y=r.reduce((Se,Be)=>(Se.note_data.views+=Be.note_views_change??0,Se.note_data.likes+=Be.note_likes_change??0,Se.note_data.comments+=Be.note_comments_change??0,Se),{note_data:{views:0,likes:0,comments:0},x_preliminary_data:{impressions:0,likes:0,replies:0,retweets:0,quotes:0},x_confirmed_data:{impressions:0,likes:0,engagements:0}});let ie="N/A";try{const Se=Vx(le.expression,Y);(typeof Se=="number"||typeof Se=="boolean")&&(ie=Se)}catch{ie=""}const fe=typeof ie=="number"&&typeof le.targetValue=="number"&&ie>=le.targetValue,ye=fe?"var(--plus-color)":"var(--minus-color)";let me=ie;return typeof ie=="boolean"?me=ie?"":"":typeof ie=="number"&&(me=ie.toLocaleString()),X.jsxs("tr",{children:[X.jsx("td",{children:le.kpiName}),X.jsx("td",{children:le.expression}),X.jsx("td",{children:le.targetValue?.toLocaleString()??"N/A"}),X.jsxs("td",{style:{color:ye},children:[me,typeof ie=="number"&&typeof le.targetValue=="number"&&` (${fe?"":""})`]})]},le.id)})})]})})}),he=X.jsx("div",{className:"table-container",children:X.jsx("div",{style:{overflowX:"auto"},children:X.jsxs("table",{style:{fontSize:"12px",tableLayout:"fixed",width:"100%"},children:[X.jsxs("colgroup",{children:[X.jsx("col",{style:{width:"60%"}}),X.jsx("col",{style:{width:"20%"}}),X.jsx("col",{style:{width:"20%"}})]}),X.jsx("thead",{children:X.jsxs("tr",{children:[X.jsx("th",{children:""}),X.jsx("th",{children:""}),X.jsx("th",{children:"/"})]})}),X.jsx("tbody",{children:r.map(le=>{const Y=le.note_views_change??0,ie=le.note_likes_change??0;return X.jsxs("tr",{className:le.isTopPerformer?"top-performer-row":"",children:[X.jsx("td",{className:"truncate-text",children:le.title}),X.jsx("td",{style:{color:Y>=0?"var(--plus-color)":"var(--minus-color)"},children:Y>=0?`+${Y}`:Y}),X.jsx("td",{style:{color:ie>=0?"var(--plus-color)":"var(--minus-color)"},children:ie>=0?`+${ie}`:ie})]},le.id)})})]})})});return X.jsxs("div",{className:"card",style:{textAlign:"left"},children:[X.jsxs("h2",{style:{fontSize:"20px",marginBottom:"10px"},children:[" (",o,"  ",s,")"]}),X.jsx(hl,{title:"KPI",isVisible:N,onToggle:()=>C(!N),children:ae}),X.jsx(hl,{title:"",isVisible:z,onToggle:()=>J(!z),children:X.jsxs("div",{className:"chart-wrapper",style:{height:"auto"},children:[X.jsx(Xh,{width:"100%",height:250,children:X.jsxs(d2,{layout:"vertical",data:p,margin:S,children:[X.jsx(Xm,{strokeDasharray:"3 3"}),X.jsx(Tl,{type:"number",scale:"log",domain:[1,"dataMax"],tickFormatter:nt,allowDataOverflow:!0}),X.jsx(hu,{type:"category",dataKey:"name",width:x,tick:{fontSize:A?10:12}}),X.jsx(Ji,{wrapperStyle:Ne,formatter:le=>le.toLocaleString()}),X.jsxs(no,{dataKey:"value",isAnimationActive:!0,children:[X.jsx(ws,{dataKey:"value",position:"right",formatter:le=>le.toLocaleString()}),p.map((le,Y)=>X.jsx(Do,{fill:bn[Y%bn.length]},`cell-${Y}`))]})]})}),m&&X.jsxs(X.Fragment,{children:[X.jsxs("p",{style:{textAlign:"center",fontSize:"16px",fontWeight:"bold",margin:"20px 0"},children:["noteX",m.attractionRate>50?"note":"X"]}),X.jsxs("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"10px"},children:[X.jsx($z,{rate:m.inducementRate,title:""}),X.jsx($z,{rate:m.salesRate,title:""})]})]})]})}),X.jsx(hl,{title:"",isVisible:R,onToggle:()=>I(!R),children:he}),X.jsx(hl,{title:"",isVisible:_,onToggle:()=>T(!_),children:X.jsxs("div",{style:{paddingLeft:"20px",borderLeft:"2px solid var(--border-color)"},children:[X.jsxs("div",{className:"chart-section",style:{padding:"10px 0",border:"none"},children:[X.jsx("h4",{style:{cursor:"default"},children:""}),X.jsxs("div",{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap",padding:"10px 0"},children:[X.jsxs("div",{style:{width:"45%",minWidth:"280px"},children:[X.jsx("h5",{children:"1"}),X.jsx("div",{children:n.map(le=>X.jsxs("label",{style:{marginRight:"15px",display:"inline-block",marginBottom:"5px",fontSize:"12px"},children:[X.jsx("input",{type:"checkbox",checked:y.includes(le.id),onChange:()=>b(le.id)}),le.name]},le.id))})]}),X.jsxs("div",{style:{width:"45%",minWidth:"280px"},children:[X.jsx("h5",{children:"2"}),X.jsx("div",{children:i.map(le=>X.jsxs("label",{style:{marginRight:"15px",fontWeight:"normal",display:"inline-block",marginBottom:"5px",fontSize:"12px"},children:[X.jsx("input",{type:"checkbox",checked:g.includes(le.id),onChange:()=>E(le.id)}),le.name]},le.id))})]})]})]}),X.jsx(hl,{title:"",isVisible:P,onToggle:()=>k(!P),filterComponent:X.jsx(Z0,{keys:$,visibleKeys:K,onFilterChange:le=>se(we,le)}),level:1,children:X.jsx("div",{className:"chart-wrapper",children:X.jsx(Xh,{width:"100%",height:"100%",children:X.jsxs(kEe,{data:l,children:[X.jsx(Xm,{strokeDasharray:"3 3"}),X.jsx(Tl,{dataKey:"date",stroke:"var(--text-color)",tick:{fontSize:12}}),X.jsx(hu,{yAxisId:"left",stroke:bn[0],tick:{fontSize:12}}),X.jsx(hu,{yAxisId:"right",orientation:"right",stroke:bn[1],tick:{fontSize:12}}),X.jsx(Ji,{wrapperStyle:Ne}),X.jsx(fs,{wrapperStyle:{fontSize:"12px"}}),K.includes("note")&&X.jsx(Sl,{yAxisId:"left",type:"monotone",dataKey:"note",stroke:bn[0],dot:le=>{const{cx:Y,cy:ie,payload:fe,index:ye}=le;return fe.noteIsSpike?X.jsx("circle",{cx:Y,cy:ie,r:5,fill:Q0},`spike-${ye}`):X.jsx("circle",{cx:Y,cy:ie,r:3,fill:"transparent",stroke:"transparent"},`dot-${ye}`)}}),K.includes("note")&&X.jsx(Sl,{yAxisId:"right",type:"monotone",dataKey:"note",stroke:bn[1],dot:le=>{const{cx:Y,cy:ie,payload:fe,index:ye}=le;return fe.noteIsSpike?X.jsx("circle",{cx:Y,cy:ie,r:5,fill:Q0},`spike-${ye}`):X.jsx("circle",{cx:Y,cy:ie,r:3,fill:"transparent",stroke:"transparent"},`dot-${ye}`)}}),K.includes("X")&&X.jsx(Sl,{yAxisId:"left",type:"monotone",dataKey:"X",stroke:bn[2],dot:le=>{const{cx:Y,cy:ie,payload:fe,index:ye}=le;return fe.XIsSpike?X.jsx("circle",{cx:Y,cy:ie,r:5,fill:Q0},`spike-${ye}`):X.jsx("circle",{cx:Y,cy:ie,r:3,fill:"transparent",stroke:"transparent"},`dot-${ye}`)}}),K.includes("X")&&X.jsx(Sl,{yAxisId:"right",type:"monotone",dataKey:"X",stroke:bn[3],dot:le=>{const{cx:Y,cy:ie,payload:fe,index:ye}=le;return fe.XIsSpike?X.jsx("circle",{cx:Y,cy:ie,r:5,fill:Q0},`spike-${ye}`):X.jsx("circle",{cx:Y,cy:ie,r:3,fill:"transparent",stroke:"transparent"},`dot-${ye}`)}})]})})})}),X.jsx(hl,{title:"",isVisible:q,onToggle:()=>U(!q),filterComponent:X.jsx(Z0,{keys:Q,visibleKeys:ge,onFilterChange:le=>se(Ae,le)}),level:1,children:X.jsx("div",{className:"chart-wrapper",children:X.jsx(Xh,{width:"100%",height:"100%",children:X.jsxs(d2,{data:u,children:[X.jsx(Xm,{strokeDasharray:"3 3"}),X.jsx(Tl,{dataKey:"name",stroke:"var(--text-color)",tick:{fontSize:12}}),X.jsx(hu,{stroke:"var(--text-color)",tick:{fontSize:12}}),X.jsx(Ji,{wrapperStyle:Ne}),X.jsx(fs,{wrapperStyle:{fontSize:"12px"}}),ge.includes("noteViews")&&X.jsx(no,{dataKey:"noteViews",name:"note",fill:bn[0],children:u.map((le,Y)=>X.jsx(Do,{fill:bn[0],stroke:le.noteViewsIsAboveAverage?Y0:"none",strokeWidth:le.noteViewsIsAboveAverage?2:0},`cell-noteViews-${Y}`))}),ge.includes("noteLikes")&&X.jsx(no,{dataKey:"noteLikes",name:"note",fill:bn[1],children:u.map((le,Y)=>X.jsx(Do,{fill:bn[1],stroke:le.noteLikesIsAboveAverage?Y0:"none",strokeWidth:le.noteLikesIsAboveAverage?2:0},`cell-noteLikes-${Y}`))}),ge.includes("xImpressions")&&X.jsx(no,{dataKey:"xImpressions",name:"X",fill:bn[2],children:u.map((le,Y)=>X.jsx(Do,{fill:bn[2],stroke:le.xImpressionsIsAboveAverage?Y0:"none",strokeWidth:le.xImpressionsIsAboveAverage?2:0},`cell-xImpressions-${Y}`))}),ge.includes("xLikes")&&X.jsx(no,{dataKey:"xLikes",name:"X",fill:bn[3],children:u.map((le,Y)=>X.jsx(Do,{fill:bn[3],stroke:le.xLikesIsAboveAverage?Y0:"none",strokeWidth:le.xLikesIsAboveAverage?2:0},`cell-xLikes-${Y}`))})]})})})}),X.jsx(hl,{title:"",isVisible:F,onToggle:()=>V(!F),filterComponent:X.jsx(Z0,{keys:i.map(le=>({dataKey:le.name,name:le.name})),visibleKeys:te,onFilterChange:le=>se(ee,le)}),level:1,children:X.jsx("div",{className:"chart-wrapper",children:X.jsx(Xh,{width:"100%",height:"100%",children:X.jsxs(JX,{children:[X.jsx(Ms,{data:Te,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,fill:"#8884d8",labelLine:!1,label:Ke,children:Te.map((le,Y)=>X.jsx(Do,{fill:bn[Y%bn.length]},`cell-${Y}`))}),X.jsx(Ji,{wrapperStyle:Ne}),X.jsx(fs,{verticalAlign:"bottom",iconSize:10,wrapperStyle:{fontSize:"12px"}})]})})})}),X.jsx(hl,{title:"",isVisible:Z,onToggle:()=>H(!Z),filterComponent:X.jsx(Z0,{keys:i.map(le=>({dataKey:le.name,name:le.name})),visibleKeys:ue,onFilterChange:le=>se(ce,le)}),level:1,children:X.jsx("div",{className:"chart-wrapper",children:X.jsx(Xh,{width:"100%",height:"100%",children:X.jsxs(d2,{data:pe,children:[X.jsx(Xm,{strokeDasharray:"3 3"}),X.jsx(Tl,{dataKey:"name",stroke:"var(--text-color)",tick:{fontSize:12}}),X.jsx(hu,{stroke:"var(--text-color)",tick:{fontSize:12},tickFormatter:Ue}),X.jsx(Ji,{wrapperStyle:Ne,formatter:Ue}),X.jsx(fs,{wrapperStyle:{fontSize:"12px"}}),X.jsx(no,{dataKey:"",fill:bn[0]})]})})})})]})})]})}),pze=xe.memo(function({notePastedText:e,setNotePastedText:r,handleExtractAndAddArticles:n}){return X.jsxs(X.Fragment,{children:[X.jsx("textarea",{placeholder:"note > ",value:e,onChange:i=>r(i.target.value),style:{width:"100%",minHeight:"150px"}}),X.jsx("button",{onClick:n,style:{marginTop:"10px"},className:"button-secondary",children:""})]})}),ba=(t,e)=>{const r=t.daily_snapshots.length>0?t.daily_snapshots[t.daily_snapshots.length-1]:null;switch(e){case"note_views":return r?.note_data?.views??0;case"note_comments":return r?.note_data?.comments??0;case"note_likes":return r?.note_data?.likes??0;case"note_sales":return r?.note_data?.sales??0;case"x_total_impressions":return t.totalXImpressions??0;case"x_total_likes":return t.totalXLikes??0;case"x_total_replies":return t.totalXReplies??0;case"x_total_retweets":return t.totalXRetweets??0;case"x_total_quotes":return t.totalXQuotes??0;case"x_total_engagements":return t.totalXEngagements??0;default:return t[e]??0}},mze=xe.memo(function({articles:e,classifications:r,secondaryClassifications:n,handleUpdateArticle:i,handleUpdateLatestSnapshot:a,onReturnToDashboard:o}){const[s,l]=Ee.useState({}),[u,f]=Ee.useState({}),[d,p]=Ee.useState({key:"publicationDate",direction:"descending"}),m=Ee.useMemo(()=>{let x=[...e];return d!==null&&x.sort((_,T)=>{const N=ba(_,d.key),C=ba(T,d.key);return N<C?d.direction==="ascending"?-1:1:N>C?d.direction==="ascending"?1:-1:0}),x},[e,d]),y=x=>{let _="ascending";d&&d.key===x&&d.direction==="ascending"&&(_="descending"),p({key:x,direction:_})},g=x=>!d||d.key!==x?"":d.direction==="ascending"?" ":" ",b=(x,_,T)=>{l(N=>({...N,[x]:{...N[x],[_]:T}}))},E=(x,_,T)=>{f(N=>({...N,[x]:{...N[x],[_]:T}}))},O=x=>{const _=s[x],T=u[x];if(_&&i(x,_),T){const N=T.sales!==void 0?parseInt(T.sales,10):void 0,C={};N!==void 0&&!isNaN(N)&&(C.sales=N),Object.keys(C).length>0&&a(x,C)}l(N=>{const C={...N};return delete C[x],C}),f(N=>{const C={...N};return delete C[x],C})},A=(x,_)=>{const T=_===!1?"":"";window.confirm(T)&&i(x,{isActive:!_})},S=(x,_,T,N)=>X.jsxs("th",{style:{width:T},onClick:()=>y(_),className:`sortable-header ${N||""}`,children:[x," ",g(_)]});return X.jsxs("div",{className:"data-management-page",children:[X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[X.jsx("h2",{children:""}),X.jsx("button",{onClick:o,className:"button-secondary",children:""})]}),X.jsx("div",{className:"table-container",children:X.jsxs("table",{style:{fontSize:"12px",tableLayout:"fixed"},children:[X.jsxs("colgroup",{children:[X.jsx("col",{style:{width:"400px"}}),X.jsx("col",{style:{width:"180px"}}),X.jsx("col",{style:{width:"90px"},span:12})," ",X.jsx("col",{style:{width:"400px"}}),X.jsx("col",{style:{width:"180px"}}),X.jsx("col",{style:{width:"100px"}})]}),X.jsxs("thead",{children:[X.jsxs("tr",{children:[X.jsx("th",{colSpan:2}),X.jsx("th",{colSpan:4,className:"group-header note-group-header",style:{backgroundColor:"#e0f7fa"},children:"note"}),X.jsx("th",{colSpan:5,className:"group-header x-api-group-header",style:{backgroundColor:"#fff3e0"},children:"X (API)"}),X.jsx("th",{colSpan:3,className:"group-header x-csv-group-header",style:{backgroundColor:"#e8f5e9"},children:"X (CSV)"}),X.jsx("th",{colSpan:3})]}),X.jsxs("tr",{children:[S("","title","400px"),S("","publicationDate","180px"),S("","note_views","90px","note-group-header"),S("","note_comments","90px","note-group-header"),S("","note_likes","90px","note-group-header"),S("","note_sales","90px","note-group-header"),S("Imps","x_total_impressions","90px","x-api-group-header"),S("Likes","x_total_likes","90px","x-api-group-header"),S("","x_total_replies","90px","x-api-group-header"),S("RT","x_total_retweets","90px","x-api-group-header"),S("","x_total_quotes","90px","x-api-group-header"),S("Imps (C)","x_total_impressions","90px","x-csv-group-header"),S("Likes (C)","x_total_likes","90px","x-csv-group-header"),S(" (C)","x_total_engagements","90px","x-csv-group-header"),"                            ",X.jsx("th",{style:{width:"400px"},children:"URL"}),X.jsx("th",{style:{width:"180px"},children:""}),X.jsx("th",{style:{width:"100px"},children:""})]})]}),X.jsx("tbody",{children:m.map(x=>{const _=s[x.id]||{},T=u[x.id]||{},N=_.publicationDate??x.publicationDate??"",C=_.url??x.url??"",R=_.classificationId??x.classificationId??"",I=_.secondaryClassificationId??x.secondaryClassificationId??"",P=x.daily_snapshots.length>0?x.daily_snapshots[x.daily_snapshots.length-1]:null,k=T.sales??P?.note_data?.sales?.toString()??"0";return X.jsxs("tr",{className:x.isActive===!1?"inactive-article":"",children:[X.jsx("td",{children:X.jsx("div",{title:x.title,className:"truncate-text",children:x.title})}),X.jsx("td",{children:X.jsx("input",{type:"datetime-local",value:N,onChange:q=>b(x.id,"publicationDate",q.target.value),style:{width:"100%"}})}),X.jsx("td",{className:"note-group-cell",children:ba(x,"note_views")}),X.jsx("td",{className:"note-group-cell",children:ba(x,"note_comments")}),X.jsx("td",{className:"note-group-cell",children:ba(x,"note_likes")}),X.jsx("td",{className:"note-group-cell",children:X.jsx("input",{type:"number",value:k,onChange:q=>E(x.id,"sales",q.target.value),style:{width:"100%"}})}),X.jsx("td",{className:"x-api-group-cell",children:ba(x,"x_total_impressions")}),X.jsx("td",{className:"x-api-group-cell",children:ba(x,"x_total_likes")}),X.jsx("td",{className:"x-api-group-cell",children:ba(x,"x_total_replies")}),X.jsx("td",{className:"x-api-group-cell",children:ba(x,"x_total_retweets")}),X.jsx("td",{className:"x-api-group-cell",children:ba(x,"x_total_quotes")}),X.jsx("td",{className:"x-csv-group-cell",children:ba(x,"x_total_impressions")}),X.jsx("td",{className:"x-csv-group-cell",children:ba(x,"x_total_likes")}),X.jsx("td",{className:"x-csv-group-cell",children:ba(x,"x_total_engagements")}),X.jsx("td",{children:X.jsx("input",{type:"url",value:C,onChange:q=>b(x.id,"url",q.target.value),style:{width:"100%"}})}),X.jsx("td",{children:X.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"5px"},children:[X.jsxs("select",{value:R,onChange:q=>b(x.id,"classificationId",q.target.value),children:[X.jsx("option",{value:"",children:"1..."}),r.map(q=>X.jsx("option",{value:q.id,children:q.name},q.id))]}),X.jsxs("select",{value:I,onChange:q=>b(x.id,"secondaryClassificationId",q.target.value),children:[X.jsx("option",{value:"",children:"2..."}),n.map(q=>X.jsx("option",{value:q.id,children:q.name},q.id))]})]})}),X.jsxs("td",{className:"action-cell",children:[X.jsx("button",{onClick:()=>O(x.id),disabled:!s[x.id]&&!u[x.id],children:""}),X.jsx("div",{style:{marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:X.jsxs("label",{className:"toggle-switch",style:{margin:"0"},children:[X.jsx("input",{type:"checkbox",checked:x.isActive!==!1,onChange:()=>A(x.id,x.isActive)}),X.jsx("span",{className:"slider round"})]})})]})]},x.id)})})]})})]})}),vze=["note (note_data.views)","note (note_data.comments)","note (note_data.likes)","X (x_confirmed_data.impressions)","X (x_confirmed_data.engagements)","X (x_confirmed_data.likes)","X() (x_preliminary_data.impressions)","X() (x_preliminary_data.likes)","+","-","*","/",">=","<=","==",">","<","!=","(",")","&&","||","note_data.views >= 1000","(note_data.likes / note_data.views) * 100"],gze=({kpis:t,onAddKpi:e,onDeleteKpi:r})=>{const[n,i]=Ee.useState(""),[a,o]=Ee.useState(""),[s,l]=Ee.useState(0),u=f=>{if(f.preventDefault(),!n||!a){alert("KPI");return}e({kpiName:n,expression:a,targetValue:s}),i(""),o(""),l(0)};return X.jsxs(X.Fragment,{children:[X.jsx("h3",{children:"KPI"}),X.jsxs("form",{onSubmit:u,style:{marginBottom:"20px"},children:[X.jsx("input",{type:"text",placeholder:"KPI (: PV)",value:n,onChange:f=>i(f.target.value)}),X.jsx("input",{type:"text",placeholder:" (: note_data.views >= 1000)",value:a,onChange:f=>o(f.target.value),style:{width:"300px"},list:"formula-hints"}),X.jsx("datalist",{id:"formula-hints",children:vze.map(f=>X.jsx("option",{value:f.match(/\(([^)]+)\)/)?.[1]||f,children:f},f))}),X.jsx("input",{type:"number",placeholder:"",value:s,onChange:f=>l(Number(f.target.value))}),X.jsx("button",{type:"submit",className:"button-secondary",children:"KPI"})]}),X.jsxs("div",{children:[X.jsx("h4",{children:"KPI"}),X.jsx("ul",{style:{listStyle:"none",padding:0},children:t.map(f=>X.jsxs("li",{style:{marginBottom:"10px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[X.jsxs("span",{children:[f.kpiName," (: ",f.expression,") : ",f.targetValue.toLocaleString()]}),X.jsx("button",{onClick:()=>r(f.id),className:"delete-button",style:{margin:0},children:""})]},f.id))})]})]})},yze=xe.memo(function({classifications:e,secondaryClassifications:r,tagName:n,setTagName:i,secondaryTagName:a,setSecondaryTagName:o,handleAddClassification:s,handleAddSecondaryClassification:l,handleDeleteClassification:u,handleDeleteSecondaryClassification:f}){return X.jsxs(X.Fragment,{children:[X.jsx("h3",{children:""}),X.jsxs("div",{style:{display:"flex",justifyContent:"space-around",flexWrap:"wrap"},children:[X.jsxs("div",{style:{width:"45%",minWidth:"280px",marginBottom:"20px"},children:[X.jsx("h4",{children:"1"}),X.jsxs("form",{onSubmit:s,style:{display:"flex",flexDirection:"column",gap:"10px"},children:[X.jsx("input",{type:"text",placeholder:"1",value:n,onChange:d=>i(d.target.value)}),X.jsx("button",{type:"submit",className:"button-secondary",children:"1"})]}),X.jsx("h5",{children:""}),X.jsx("ul",{children:e.map(d=>X.jsxs("li",{children:[d.name,X.jsx("button",{onClick:()=>u(d.id),className:"delete-button",children:""})]},d.id))})]}),X.jsxs("div",{style:{width:"45%",minWidth:"280px",marginBottom:"20px"},children:[X.jsx("h4",{children:"2"}),X.jsxs("form",{onSubmit:l,style:{display:"flex",flexDirection:"column",gap:"10px"},children:[X.jsx("input",{type:"text",placeholder:"2",value:a,onChange:d=>o(d.target.value)}),X.jsx("button",{type:"submit",className:"button-secondary",children:"2"})]}),X.jsx("h5",{children:""}),X.jsx("ul",{children:r.map(d=>X.jsxs("li",{children:[d.name,X.jsx("button",{onClick:()=>f(d.id),className:"delete-button",children:""})]},d.id))})]})]})]})}),dv=({title:t,onClose:e,children:r,isOpen:n})=>X.jsx("div",{className:`modal-overlay ${n?"open":""}`,onClick:e,children:X.jsxs("div",{className:`modal-content ${n?"open":""}`,onClick:i=>i.stopPropagation(),children:[X.jsxs("div",{className:"modal-header",children:[X.jsx("h2",{children:t}),X.jsx("button",{onClick:e,className:"modal-close-button",children:""})]}),r]})}),bze=({unreadCount:t,onClick:e})=>X.jsxs("div",{className:"announcement-icon",onClick:e,role:"button","aria-label":"",children:[X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",style:{width:"32px",height:"32px"},children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})}),t>0&&X.jsx("div",{className:"announcement-badge",children:t})]}),wze=({isOpen:t,onClose:e,announcements:r,readIds:n,onMarkAsRead:i})=>{const[a,o]=Ee.useState(null);Ee.useEffect(()=>{if(t&&r.length>0){const u=r.find(f=>!n.includes(f.id))||r[0];o(u),n.includes(u.id)||i(u.id)}},[t,r]);const s=l=>{o(l),n.includes(l.id)||i(l.id)};return X.jsx("div",{className:`announcements-modal-overlay ${t?"open":""}`,onClick:e,children:X.jsxs("div",{className:`announcements-modal-content ${t?"open":""}`,onClick:l=>l.stopPropagation(),children:[X.jsxs("div",{className:"announcements-modal-header",children:[X.jsx("h3",{children:""}),X.jsx("button",{onClick:e,className:"announcements-modal-close-button",children:""})]}),X.jsxs("div",{className:"announcements-modal-body",children:[X.jsx("ul",{className:"announcements-list",children:r.map(l=>X.jsxs("li",{className:`announcement-list-item ${a?.id===l.id?"selected":""}`,onClick:()=>s(l),children:[!n.includes(l.id)&&X.jsx("div",{className:"unread-dot"}),X.jsx("h5",{children:l.title}),X.jsxs("p",{children:[l.date," (",l.version,")"]})]},l.id))}),X.jsx("div",{className:"announcement-detail",children:a?X.jsxs(X.Fragment,{children:[X.jsx("h4",{children:a.title}),X.jsxs("p",{className:"announcement-detail-meta",children:[a.date," | Version: ",a.version]}),X.jsx("div",{className:"announcement-detail-content",children:a.content})]}):X.jsx("p",{children:""})})]})]})})},xze=[{id:"v2.2-update",version:"v2.2",date:"2025-09-25",title:"v2.2: UI",content:X.jsxs(X.Fragment,{children:[X.jsx("h4",{children:""}),X.jsxs("ul",{children:[X.jsxs("li",{children:[X.jsx("strong",{children:":"})," "]}),X.jsxs("li",{children:[X.jsx("strong",{children:":"})," Firestore"]}),X.jsxs("li",{children:[X.jsx("strong",{children:":"})," KPI"]}),X.jsxs("li",{children:[X.jsx("strong",{children:"UI:"}),X.jsxs("ul",{children:[X.jsx("li",{children:""}),X.jsx("li",{children:""}),X.jsx("li",{children:""}),X.jsx("li",{children:"/"})]})]})]}),X.jsx("p",{children:"N+ analyzer"})]})},{id:"v2.1-update",version:"v2.1",date:"2025-09-24",title:"v2.1: UI",content:X.jsxs(X.Fragment,{children:[X.jsx("h4",{children:""}),X.jsxs("ul",{children:[X.jsxs("li",{children:[X.jsx("strong",{children:":"})," "]}),X.jsxs("li",{children:[X.jsx("strong",{children:":"})," "]}),X.jsxs("li",{children:[X.jsx("strong",{children:":"})," "]})]}),X.jsx("h4",{children:"UI/UX"}),X.jsxs("ul",{children:[X.jsx("li",{children:""}),X.jsx("li",{children:""})]})]})},{id:"v2.0-update",version:"v2.0",date:"2025-09-15",title:"v2.0: UI/UX",content:X.jsxs(X.Fragment,{children:[X.jsx("h4",{children:"UI/UX"}),X.jsx("p",{children:""}),X.jsxs("ul",{children:[X.jsx("li",{children:""}),X.jsx("li",{children:""}),X.jsx("li",{children:""})]})]})},{id:"welcome",version:"v1.0",date:"2025-09-01",title:"N+ analyzer",content:X.jsxs(X.Fragment,{children:[X.jsx("p",{children:"N+ analyzer"}),X.jsx("p",{children:"noteX"}),X.jsx("p",{children:"note"})]})}],_ze=({onClose:t})=>{const{user:e}=jw(),[r,n]=Ee.useState(""),[i,a]=Ee.useState(""),[o,s]=Ee.useState(!1),[l,u]=Ee.useState(""),[f,d]=Ee.useState(!1),p=async m=>{if(m.preventDefault(),u(""),d(!1),!r.trim()||!i.trim()){d(!0),u("");return}if(!e){d(!0),u("");return}s(!0);try{await Xc(_a(qr,"feedback"),{userId:e.uid,userName:e.displayName||"",userEmail:e.email||"",subject:r,message:i,timestamp:cu()}),u(""),n(""),a(""),d(!1)}catch(y){console.error("Error sending feedback:",y),d(!0),u("")}finally{s(!1)}};return X.jsx("div",{className:"feedback-form-container",children:X.jsxs("form",{onSubmit:p,children:[X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"userName",children:":"}),X.jsx("input",{type:"text",id:"userName",value:e?.displayName||"",disabled:!0})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"userEmail",children:":"}),X.jsx("input",{type:"email",id:"userEmail",value:e?.email||"",disabled:!0})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"subject",children:":"}),X.jsx("input",{type:"text",id:"subject",value:r,onChange:m=>n(m.target.value),disabled:o,required:!0})]}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"message",children:":"}),X.jsx("textarea",{id:"message",value:i,onChange:m=>a(m.target.value),disabled:o,rows:5,required:!0})]}),l&&X.jsx("p",{className:`feedback-message ${f?"error":"success"}`,children:l}),X.jsxs("div",{className:"form-actions",children:[X.jsx("button",{type:"submit",disabled:o,children:o?"...":""}),X.jsx("button",{type:"button",onClick:t,className:"button-secondary",disabled:o,children:""})]})]})})},Aze=({isOpen:t,onClose:e,currentDisplayName:r,onSave:n})=>{const[i,a]=Ee.useState(r),[o,s]=Ee.useState(!1),[l,u]=Ee.useState(""),[f,d]=Ee.useState(!1),p=async()=>{if(!i.trim()){d(!0),u("");return}s(!0),u(""),d(!1);try{await n(i),u(""),d(!1),window.location.reload()}catch(m){console.error("Error updating display name:",m),d(!0),u("")}finally{s(!1)}};return X.jsx(dv,{title:"",onClose:e,isOpen:t,children:X.jsxs("div",{className:"modal-section",children:[X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"displayName",children:":"}),X.jsx("input",{type:"text",id:"displayName",value:i,onChange:m=>a(m.target.value),disabled:o,required:!0})]}),l&&X.jsx("p",{className:`feedback-message ${f?"error":"success"}`,children:l}),X.jsxs("div",{className:"form-actions",children:[X.jsx("button",{onClick:p,disabled:o,children:o?"...":""}),X.jsx("button",{type:"button",onClick:e,className:"button-secondary",disabled:o,children:""})]})]})})},Eze=({onReturnToDashboard:t,onNavigateToDataManagement:e,isDarkMode:r,toggleDarkMode:n,openModal:i})=>{const{user:a}=jw(),[o,s]=Ee.useState(!1);if(!a)return X.jsx("div",{className:"user-page-container",children:""});const l=async u=>{a&&a.displayName!==u&&(af.currentUser?(await v7(af.currentUser,{displayName:u}),window.location.reload()):console.error("Auth user not available for updateProfile."))};return X.jsxs("div",{className:"user-page-container",children:[X.jsx("div",{className:"user-page-header",children:X.jsx("h2",{children:""})}),X.jsxs("section",{className:"user-profile-section",children:[X.jsx("h3",{children:""}),X.jsxs("div",{className:"profile-info",children:[X.jsxs("p",{children:[X.jsx("strong",{children:":"})," ",a.displayName||""]}),X.jsxs("p",{children:[X.jsx("strong",{children:":"})," ",a.email]}),X.jsxs("p",{children:[X.jsx("strong",{children:":"})," ",a.metadata.creationTime?new Date(a.metadata.creationTime).toLocaleDateString():""]}),X.jsxs("p",{children:[X.jsx("strong",{children:":"})," ",a.metadata.lastSignInTime?new Date(a.metadata.lastSignInTime).toLocaleDateString():""]})]}),X.jsxs("div",{style:{textAlign:"right",marginTop:"15px"},children:[" ",X.jsx("button",{onClick:()=>s(!0),className:"button-primary",children:""})]})]}),X.jsxs("section",{className:"user-settings-section",children:[X.jsx("h3",{children:""}),X.jsxs("div",{className:"setting-item",children:[X.jsx("span",{children:""})," ",X.jsxs("label",{className:"toggle-switch",children:[X.jsx("input",{type:"checkbox",checked:r,onChange:n}),X.jsx("span",{className:"slider round"})]})]}),X.jsxs("div",{className:"setting-item",style:{marginTop:"20px"},children:[X.jsx("span",{children:"KPI"})," ",X.jsx("button",{onClick:()=>i("classificationKpi"),className:"button-primary",children:""})]})]}),X.jsxs("section",{className:"user-account-management-section",children:[X.jsx("h3",{children:""}),X.jsx("p",{children:"X"}),X.jsx("button",{className:"button-secondary",children:"X"})," ",X.jsx("button",{className:"delete-button",children:""})," "]}),X.jsxs("section",{className:"user-data-access-section",children:[X.jsx("h3",{children:""}),X.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[X.jsx("span",{children:""})," ",X.jsx("button",{onClick:e,className:"icon-link-button","aria-label":"",children:X.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",style:{width:"24px",height:"24px"},children:X.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})})]})]}),X.jsx("div",{className:"user-page-footer",children:X.jsx("button",{onClick:t,className:"button-secondary",children:""})}),X.jsx(Aze,{isOpen:o,onClose:()=>s(!1),currentDisplayName:a.displayName||"",onSave:l})]})},Sze=({isOpen:t,onClose:e,onSave:r})=>{const[n,i]=Ee.useState(""),[a,o]=Ee.useState(!1),[s,l]=Ee.useState(""),[u,f]=Ee.useState(!1),d=async()=>{if(!n.trim()){f(!0),l("");return}o(!0),l(""),f(!1);try{await r(n),l(""),f(!1),window.location.reload()}catch(p){console.error("Error setting initial display name:",p),f(!0),l("")}finally{o(!1)}};return X.jsx(dv,{title:"",onClose:e,isOpen:t,children:X.jsxs("div",{className:"modal-section",children:[X.jsx("p",{children:""}),X.jsxs("div",{className:"form-group",children:[X.jsx("label",{htmlFor:"displayName",children:":"}),X.jsx("input",{type:"text",id:"displayName",value:n,onChange:p=>i(p.target.value),disabled:a,required:!0})]}),s&&X.jsx("p",{className:`feedback-message ${u?"error":"success"}`,children:s}),X.jsx("div",{className:"form-actions",children:X.jsx("button",{onClick:d,disabled:a,children:a?"...":""})})]})})};function Tze(){const{user:t,loading:e,login:r,logout:n}=jw(),{allArticles:i,classifications:a,secondaryClassifications:o,kpis:s,startDate:l,endDate:u,setStartDate:f,setEndDate:d,handleExtractAndAddArticles:p,handleUpdateArticle:m,handleUpdateLatestSnapshot:y,handleAddClassification:g,handleAddSecondaryClassification:b,handleDeleteClassification:E,handleDeleteSecondaryClassification:O,handleAddKpi:A,handleDeleteKpi:S,handleFileUpload:x,handleFetchXData:_,isFetchingXData:T,isXConnected:N,activeModal:C,setActiveModal:R}=MH(),[I,P]=Ee.useState("dashboard"),[k,q]=Ee.useState(!1),[U,F]=Ee.useState(""),[V,Z]=Ee.useState(""),[H,z]=Ee.useState(""),[J,$]=Ee.useState(null),[Q,K]=Ee.useState(()=>localStorage.getItem("theme")==="dark"),[we,ge]=Ee.useState(xze),[Ae,te]=Ee.useState(!1),[ee,ue]=Ee.useState([]),[ce,se]=Ee.useState(!1),[Te,pe]=Ee.useState(!0),Ne=Ee.useRef(null),je=Ee.useRef(null);Ee.useEffect(()=>{document.documentElement.setAttribute("data-theme",Q?"dark":"light"),localStorage.setItem("theme",Q?"dark":"light")},[Q]),Ee.useEffect(()=>{(async()=>{if(t&&!e){const Se=to(qr,"users",t.uid),Be=await jB(Se);if(Be.exists()){const ze=Be.data();ze&&ze.readAnnouncementIds&&ue(ze.readAnnouncementIds)}else await Wh(Se,{readAnnouncementIds:[]},{merge:!0})}})()},[t,e,qr]),Ee.useEffect(()=>{(async()=>{if(t&&!e){const Se=to(qr,"users",t.uid),Be=await jB(Se);if(Be.exists()){const ze=Be.data();ze&&ze.isDisplayNameSet===!0?pe(!0):(pe(!1),se(!0))}else pe(!1),se(!0),await Wh(Se,{isDisplayNameSet:!1},{merge:!0})}})()},[t,e,qr]),Ee.useEffect(()=>{const me=Se=>{je.current&&!je.current.contains(Se.target)&&Ne.current&&!Ne.current.contains(Se.target)&&q(!1)};return document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[]);const Ke=()=>K(me=>!me),Ue=()=>p(U).then(()=>F("")),nt=me=>{me.preventDefault(),g(V).then(()=>Z(""))},ae=me=>{me.preventDefault(),b(H).then(()=>z(""))},he=me=>{me.target.files&&$(me.target.files[0])},le=()=>{J&&x(J).then(()=>{$(null),document.getElementById("csv-upload-input").value=""})},Y=me=>{q(!1),R(me)},ie=async me=>{if(t&&!ee.includes(me)){const Se=[...ee,me];ue(Se);const Be=to(qr,"users",t.uid);await Wh(Be,{readAnnouncementIds:Se},{merge:!0})}},fe=we.filter(me=>!ee.includes(me.id)).length,ye=async me=>{if(t&&t.displayName!==me)if(af.currentUser){await v7(af.currentUser,{displayName:me});const Se=to(qr,"users",t.uid);await Wh(Se,{isDisplayNameSet:!0},{merge:!0}),window.location.reload()}else console.error("Auth user not available for updateProfile.")};return e?X.jsx("div",{className:"loading-container",children:"..."}):X.jsx("div",{className:"App",children:X.jsx("div",{className:"App-container",children:t?X.jsxs(X.Fragment,{children:[X.jsxs("header",{className:"main-header",children:[X.jsx("h1",{children:"N+ analyzer"}),X.jsxs("div",{className:"header-controls",children:[X.jsx("button",{ref:Ne,onClick:()=>q(me=>!me),className:"button-secondary icon-button","aria-label":"",children:""}),k&&X.jsx("div",{className:"settings-dropdown-menu",ref:je,children:X.jsxs("div",{className:"settings-menu-list",children:[X.jsx("div",{className:"settings-menu-item",onClick:()=>P("dashboard"),children:X.jsx("span",{children:""})}),X.jsx("div",{className:"settings-menu-item",onClick:()=>P("userPage"),children:X.jsx("span",{children:""})}),X.jsx("div",{className:"settings-menu-item",onClick:()=>Y("feedback"),children:X.jsx("span",{children:""})}),X.jsx("div",{className:"settings-menu-item",onClick:n,children:X.jsx("span",{children:""})})]})})]})]}),X.jsx("div",{className:"user-info-header",children:X.jsxs("p",{children:[", ",t.displayName," "]})}),I==="dashboard"&&X.jsxs("div",{className:"top-controls-container",children:[X.jsxs("div",{className:"analysis-period-container",children:[X.jsx("label",{children:""}),X.jsxs("div",{className:"date-range-picker",children:[X.jsx("input",{type:"date",value:l,onChange:me=>f(me.target.value)}),X.jsx("span",{children:""}),X.jsx("input",{type:"date",value:u,onChange:me=>d(me.target.value)})]})]}),X.jsx("button",{onClick:()=>Y("dataImport"),className:"button-primary",children:""})]}),X.jsx("main",{children:I==="dataManagement"?X.jsx(mze,{articles:i,classifications:a,secondaryClassifications:o,handleUpdateArticle:m,handleUpdateLatestSnapshot:y,onReturnToDashboard:()=>P("dashboard")}):I==="userPage"?X.jsx(Eze,{onReturnToDashboard:()=>P("dashboard"),onNavigateToDataManagement:()=>P("dataManagement"),isDarkMode:Q,toggleDarkMode:Ke,openModal:Y}):X.jsx(dze,{})}),X.jsx(bze,{unreadCount:fe,onClick:()=>te(!0)}),X.jsx(wze,{isOpen:Ae,onClose:()=>te(!1),announcements:we,readIds:ee,onMarkAsRead:ie}),X.jsxs(dv,{title:"",onClose:()=>R(null),isOpen:C==="dataImport",children:[X.jsxs("div",{className:"modal-section",children:[X.jsx("h3",{children:"note"}),X.jsx(pze,{notePastedText:U,setNotePastedText:F,handleExtractAndAddArticles:Ue})]}),X.jsxs("div",{className:"modal-section",children:[X.jsx("h3",{children:"X(Twitter)"}),X.jsx("p",{children:"Xnote"}),N?X.jsx("p",{children:" X"}):X.jsx("button",{className:"button-secondary",children:"X"}),X.jsx("button",{onClick:_,disabled:T,className:"button-secondary",children:T?"...":""})]}),X.jsxs("div",{className:"modal-section",children:[X.jsx("h3",{children:"XCSV"}),X.jsx("p",{children:"XCSV"}),X.jsx("input",{type:"file",id:"csv-upload-input",accept:".csv",onChange:he,style:{marginTop:"10px"}}),X.jsx("button",{onClick:le,disabled:!J,className:"button-secondary",children:"CSV"})]})]}),X.jsxs(dv,{title:"KPI",onClose:()=>R(null),isOpen:C==="classificationKpi",children:[X.jsx("div",{className:"modal-section",children:X.jsx(yze,{classifications:a,secondaryClassifications:o,tagName:V,setTagName:Z,secondaryTagName:H,setSecondaryTagName:z,handleAddClassification:nt,handleAddSecondaryClassification:ae,handleDeleteClassification:E,handleDeleteSecondaryClassification:O})}),X.jsx("div",{className:"modal-section",children:X.jsx(gze,{kpis:s,onAddKpi:A,onDeleteKpi:S})})]}),X.jsx(dv,{title:"",onClose:()=>R(null),isOpen:C==="feedback",children:X.jsx(_ze,{onClose:()=>R(null)})}),X.jsx(Sze,{isOpen:ce,onClose:()=>se(!1),onSave:ye})]}):X.jsxs("div",{className:"login-container",children:[X.jsx("h1",{children:"N+ analyzer"}),X.jsx("button",{onClick:r,children:"Google"})]})})})}PJ.createRoot(document.getElementById("root")).render(X.jsx(Ee.StrictMode,{children:X.jsx(jse,{children:X.jsx(ile,{children:X.jsx(Tze,{})})})}));
